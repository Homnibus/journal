(self.webpackChunkrs_front_end=self.webpackChunkrs_front_end||[]).push([[179],{442:(Et,Ot)=>{var A;(A=window.CKEDITOR_TRANSLATIONS||(window.CKEDITOR_TRANSLATIONS={})).en=Object.assign(A.en||{},{a:"Image toolbar",b:"Table toolbar",c:"Block quote",d:"Insert image",e:"Upload failed",f:"image widget",g:"Full size image",h:"Side image",i:"Left aligned image",j:"Centered image",k:"Right aligned image",l:"Insert image or file",m:"Bold",n:"Choose heading",o:"Heading",p:"Italic",q:"Underline",r:"Strikethrough",s:"Increase indent",t:"Decrease indent",u:"Numbered List",v:"Bulleted List",w:"Link",x:"Insert table",y:"Header column",z:"Insert column left",aa:"Insert column right",ab:"Delete column",ac:"Column",ad:"Header row",ae:"Insert row below",af:"Insert row above",ag:"Delete row",ah:"Row",ai:"Merge cell up",aj:"Merge cell right",ak:"Merge cell down",al:"Merge cell left",am:"Split cell vertically",an:"Split cell horizontally",ao:"Merge cells",ap:"Align left",aq:"Align right",ar:"Align center",as:"Justify",at:"Text alignment",au:"Text alignment toolbar",av:"Table properties",aw:"Font Color",ax:"Font Family",ay:"Default",az:"Widget toolbar",ba:"Cannot upload file:",bb:"Font Size",bc:"Tiny",bd:"Small",be:"Big",bf:"Huge",bg:"Upload in progress",bh:"Change image text alternative",bi:"Could not obtain resized image URL.",bj:"Selecting resized image failed",bk:"Could not insert image at the current position.",bl:"Inserting image failed",bm:"Open in a new tab",bn:"Downloadable",bo:"Unlink",bp:"Edit link",bq:"Open link in new tab",br:"This link has no URL",bs:"Save",bt:"Cancel",bu:"Link URL",bv:"Remove color",bw:"Document colors",bx:"Editor toolbar",by:"Show more items",bz:"Rich Text Editor",ca:"Rich Text Editor, %0",cb:"Dropdown toolbar",cc:"%0 of %1",cd:"Previous",ce:"Next",cf:"Text alternative",cg:"Black",ch:"Dim grey",ci:"Grey",cj:"Light grey",ck:"White",cl:"Red",cm:"Orange",cn:"Yellow",co:"Light green",cp:"Green",cq:"Aquamarine",cr:"Turquoise",cs:"Light blue",ct:"Blue",cu:"Purple",cv:"Undo",cw:"Redo",cx:"None",cy:"Solid",cz:"Dotted",da:"Dashed",db:"Double",dc:"Groove",dd:"Ridge",de:"Inset",df:"Outset",dg:'The color is invalid. Try "#FF0000" or "rgb(255,0,0)" or "red".',dh:'The value is invalid. Try "10px" or "2em" or simply "2".',di:"Border",dj:"Style",dk:"Width",dl:"Color",dm:"Background",dn:"Dimensions",do:"Height",dp:"Alignment",dq:"Table alignment toolbar",dr:"Align table to the left",ds:"Center table",dt:"Align table to the right",du:"Paragraph",dv:"Heading 1",dw:"Heading 2",dx:"Heading 3",dy:"Heading 4",dz:"Heading 5",ea:"Heading 6"}),window,Et.exports=function(A){var j={};function P(O){if(j[O])return j[O].exports;var C=j[O]={i:O,l:!1,exports:{}};return A[O].call(C.exports,C,C.exports,P),C.l=!0,C.exports}return P.m=A,P.c=j,P.d=function(O,C,U){P.o(O,C)||Object.defineProperty(O,C,{enumerable:!0,get:U})},P.r=function(O){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(O,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(O,"__esModule",{value:!0})},P.t=function(O,C){if(1&C&&(O=P(O)),8&C||4&C&&"object"==typeof O&&O&&O.__esModule)return O;var U=Object.create(null);if(P.r(U),Object.defineProperty(U,"default",{enumerable:!0,value:O}),2&C&&"string"!=typeof O)for(var q in O)P.d(U,q,function(Re){return O[Re]}.bind(null,q));return U},P.n=function(O){var C=O&&O.__esModule?function(){return O.default}:function(){return O};return P.d(C,"a",C),C},P.o=function(O,C){return Object.prototype.hasOwnProperty.call(O,C)},P.p="",P(P.s=110)}([function(A,j,P){"use strict";P.d(j,"b",function(){return O}),P.d(j,"a",function(){return C});class O extends Error{constructor(q,Re,de){q=C(q),de&&(q+=" "+JSON.stringify(de)),super(q),this.name="CKEditorError",this.context=Re,this.data=de}is(q){return"CKEditorError"===q}static rethrowUnexpectedError(q,Re){if(q.is&&q.is("CKEditorError"))throw q;const de=new O(q.message,Re);throw de.stack=q.stack,de}}function C(U){const q=U.match(/^([^:]+):/);return q?U+` Read more: https://ckeditor.com/docs/ckeditor5/latest/framework/guides/support/error-codes.html#error-${q[1]}\n`:U}},function(A,j,P){"use strict";var O,Pe,U=(Pe={},function(Ne){if(void 0===Pe[Ne]){var Xe=document.querySelector(Ne);if(window.HTMLIFrameElement&&Xe instanceof window.HTMLIFrameElement)try{Xe=Xe.contentDocument.head}catch(yt){Xe=null}Pe[Ne]=Xe}return Pe[Ne]}),q=[];function Re(Pe){for(var Ne=-1,Xe=0;Xe<q.length;Xe++)if(q[Xe].identifier===Pe){Ne=Xe;break}return Ne}function de(Pe,Ne){for(var Xe={},yt=[],Le=0;Le<Pe.length;Le++){var Ae=Pe[Le],pt=Ne.base?Ae[0]+Ne.base:Ae[0],St=Xe[pt]||0,wt="".concat(pt," ").concat(St);Xe[pt]=St+1;var Qn=Re(wt),Yn={css:Ae[1],media:Ae[2],sourceMap:Ae[3]};-1!==Qn?(q[Qn].references++,q[Qn].updater(Yn)):q.push({identifier:wt,updater:Ht(Yn,Ne),references:1}),yt.push(wt)}return yt}function W(Pe){var Ne=document.createElement("style"),Xe=Pe.attributes||{};if(void 0===Xe.nonce){var yt=P.nc;yt&&(Xe.nonce=yt)}if(Object.keys(Xe).forEach(function(Ae){Ne.setAttribute(Ae,Xe[Ae])}),"function"==typeof Pe.insert)Pe.insert(Ne);else{var Le=U(Pe.insert||"head");if(!Le)throw new Error("Couldn't find a style target. This probably means that the value for the 'insert' parameter is invalid.");Le.appendChild(Ne)}return Ne}var ie,me=(ie=[],function(Pe,Ne){return ie[Pe]=Ne,ie.filter(Boolean).join("\n")});function X(Pe,Ne,Xe,yt){var Le=Xe?"":yt.media?"@media ".concat(yt.media," {").concat(yt.css,"}"):yt.css;if(Pe.styleSheet)Pe.styleSheet.cssText=me(Ne,Le);else{var Ae=document.createTextNode(Le),pt=Pe.childNodes;pt[Ne]&&Pe.removeChild(pt[Ne]),pt.length?Pe.insertBefore(Ae,pt[Ne]):Pe.appendChild(Ae)}}function ne(Pe,Ne,Xe){var yt=Xe.css,Le=Xe.media,Ae=Xe.sourceMap;if(Le?Pe.setAttribute("media",Le):Pe.removeAttribute("media"),Ae&&btoa&&(yt+="\n/*# sourceMappingURL=data:application/json;base64,".concat(btoa(unescape(encodeURIComponent(JSON.stringify(Ae))))," */")),Pe.styleSheet)Pe.styleSheet.cssText=yt;else{for(;Pe.firstChild;)Pe.removeChild(Pe.firstChild);Pe.appendChild(document.createTextNode(yt))}}var ke=null,De=0;function Ht(Pe,Ne){var Xe,yt,Le;if(Ne.singleton){var Ae=De++;Xe=ke||(ke=W(Ne)),yt=X.bind(null,Xe,Ae,!1),Le=X.bind(null,Xe,Ae,!0)}else Xe=W(Ne),yt=ne.bind(null,Xe,Ne),Le=function(){!function(pt){if(null===pt.parentNode)return!1;pt.parentNode.removeChild(pt)}(Xe)};return yt(Pe),function(pt){if(pt){if(pt.css===Pe.css&&pt.media===Pe.media&&pt.sourceMap===Pe.sourceMap)return;yt(Pe=pt)}else Le()}}A.exports=function(Pe,Ne){(Ne=Ne||{}).singleton||"boolean"==typeof Ne.singleton||(Ne.singleton=(void 0===O&&(O=Boolean(window&&document&&document.all&&!window.atob)),O));var Xe=de(Pe=Pe||[],Ne);return function(yt){if(yt=yt||[],"[object Array]"===Object.prototype.toString.call(yt)){for(var Le=0;Le<Xe.length;Le++){var Ae=Re(Xe[Le]);q[Ae].references--}for(var pt=de(yt,Ne),St=0;St<Xe.length;St++){var wt=Re(Xe[St]);0===q[wt].references&&(q[wt].updater(),q.splice(wt,1))}Xe=pt}}}},,function(A,j,P){"use strict";var O=P(7),C="object"==typeof self&&self&&self.Object===Object&&self,U=O.a||C||Function("return this")();j.a=U},function(A,j,P){"use strict";(function(O){var C=P(3),U=P(12),q=Ot&&!Ot.nodeType&&Ot,Re=q&&"object"==typeof O&&O&&!O.nodeType&&O,de=Re&&Re.exports===q?C.a.Buffer:void 0;j.a=(de?de.isBuffer:void 0)||U.a}).call(this,P(9)(A))},function(A,j,P){"use strict";(function(O){var C=P(7),U=Ot&&!Ot.nodeType&&Ot,q=U&&"object"==typeof O&&O&&!O.nodeType&&O,Re=q&&q.exports===U&&C.a.process,de=function(){try{return q&&q.require&&q.require("util").types||Re&&Re.binding&&Re.binding("util")}catch(ie){}}();j.a=de}).call(this,P(9)(A))},function(A,j,P){"use strict";(function(O){var C=P(0);const U="object"==typeof window?window:O;if(U.CKEDITOR_VERSION)throw new C.b("ckeditor-duplicated-modules: Some CKEditor 5 modules are duplicated.",null);U.CKEDITOR_VERSION="17.0.0"}).call(this,P(10))},function(A,j,P){"use strict";(function(O){j.a="object"==typeof O&&O&&O.Object===Object&&O}).call(this,P(10))},function(A,j,P){"use strict";(function(O){var C=P(3),U=Ot&&!Ot.nodeType&&Ot,q=U&&"object"==typeof O&&O&&!O.nodeType&&O,Re=q&&q.exports===U?C.a.Buffer:void 0,de=Re?Re.allocUnsafe:void 0;j.a=function(W,ie){if(ie)return W.slice();var me=W.length,X=de?de(me):new W.constructor(me);return W.copy(X),X}}).call(this,P(9)(A))},function(A,j){A.exports=function(P){if(!P.webpackPolyfill){var O=Object.create(P);O.children||(O.children=[]),Object.defineProperty(O,"loaded",{enumerable:!0,get:function(){return O.l}}),Object.defineProperty(O,"id",{enumerable:!0,get:function(){return O.i}}),Object.defineProperty(O,"exports",{enumerable:!0}),O.webpackPolyfill=1}return O}},function(A,j){var P;P=function(){return this}();try{P=P||new Function("return this")()}catch(O){"object"==typeof window&&(P=window)}A.exports=P},function(A,j,P){var O=P(1),C=P(47);"string"==typeof(C=C.__esModule?C.default:C)&&(C=[[A.i,C,""]]);var q=(O(C,{injectType:"singletonStyleTag",insert:"head",singleton:!0}),C.locals?C.locals:{});A.exports=q},function(A,j,P){"use strict";j.a=function(){return!1}},function(A,j,P){var O=P(1),C=P(14);"string"==typeof(C=C.__esModule?C.default:C)&&(C=[[A.i,C,""]]);var q=(O(C,{injectType:"singletonStyleTag",insert:"head",singleton:!0}),C.locals?C.locals:{});A.exports=q},function(A,j){A.exports=".ck.ck-placeholder:before,.ck .ck-placeholder:before{content:attr(data-placeholder);pointer-events:none}.ck.ck-read-only .ck-placeholder:before{display:none}.ck.ck-placeholder:before,.ck .ck-placeholder:before{cursor:text;color:var(--ck-color-engine-placeholder-text)}"},function(A,j,P){var O=P(1),C=P(16);"string"==typeof(C=C.__esModule?C.default:C)&&(C=[[A.i,C,""]]);var q=(O(C,{injectType:"singletonStyleTag",insert:"head",singleton:!0}),C.locals?C.locals:{});A.exports=q},function(A,j){A.exports=".ck-hidden{display:none!important}.ck.ck-reset,.ck.ck-reset_all,.ck.ck-reset_all *{box-sizing:border-box;width:auto;height:auto;position:static}:root{--ck-z-default:1;--ck-z-modal:calc(var(--ck-z-default) + 999);--ck-color-base-foreground:#fafafa;--ck-color-base-background:#fff;--ck-color-base-border:#c4c4c4;--ck-color-base-action:#61b045;--ck-color-base-focus:#6cb5f9;--ck-color-base-text:#333;--ck-color-base-active:#198cf0;--ck-color-base-active-focus:#0e7fe1;--ck-color-base-error:#db3700;--ck-color-focus-border:#1f89e5;--ck-color-focus-outer-shadow:#bcdefb;--ck-color-focus-disabled-shadow:rgba(119,186,248,0.3);--ck-color-focus-error-shadow:rgba(255,64,31,0.3);--ck-color-text:var(--ck-color-base-text);--ck-color-shadow-drop:rgba(0,0,0,0.15);--ck-color-shadow-drop-active:rgba(0,0,0,0.2);--ck-color-shadow-inner:rgba(0,0,0,0.1);--ck-color-button-default-background:transparent;--ck-color-button-default-hover-background:#e6e6e6;--ck-color-button-default-active-background:#d9d9d9;--ck-color-button-default-active-shadow:#bfbfbf;--ck-color-button-default-disabled-background:transparent;--ck-color-button-on-background:#dedede;--ck-color-button-on-hover-background:#c4c4c4;--ck-color-button-on-active-background:#bababa;--ck-color-button-on-active-shadow:#a1a1a1;--ck-color-button-on-disabled-background:#dedede;--ck-color-button-action-background:var(--ck-color-base-action);--ck-color-button-action-hover-background:#579e3d;--ck-color-button-action-active-background:#53973b;--ck-color-button-action-active-shadow:#498433;--ck-color-button-action-disabled-background:#7ec365;--ck-color-button-action-text:var(--ck-color-base-background);--ck-color-button-save:#008a00;--ck-color-button-cancel:#db3700;--ck-color-switch-button-off-background:#b0b0b0;--ck-color-switch-button-off-hover-background:#a3a3a3;--ck-color-switch-button-on-background:var(--ck-color-button-action-background);--ck-color-switch-button-on-hover-background:#579e3d;--ck-color-switch-button-inner-background:var(--ck-color-base-background);--ck-color-switch-button-inner-shadow:rgba(0,0,0,0.1);--ck-color-dropdown-panel-background:var(--ck-color-base-background);--ck-color-dropdown-panel-border:var(--ck-color-base-border);--ck-color-input-background:var(--ck-color-base-background);--ck-color-input-border:#c7c7c7;--ck-color-input-error-border:var(--ck-color-base-error);--ck-color-input-text:var(--ck-color-base-text);--ck-color-input-disabled-background:#f2f2f2;--ck-color-input-disabled-border:#c7c7c7;--ck-color-input-disabled-text:#5c5c5c;--ck-color-list-background:var(--ck-color-base-background);--ck-color-list-button-hover-background:var(--ck-color-button-default-hover-background);--ck-color-list-button-on-background:var(--ck-color-base-active);--ck-color-list-button-on-background-focus:var(--ck-color-base-active-focus);--ck-color-list-button-on-text:var(--ck-color-base-background);--ck-color-panel-background:var(--ck-color-base-background);--ck-color-panel-border:var(--ck-color-base-border);--ck-color-toolbar-background:var(--ck-color-base-foreground);--ck-color-toolbar-border:var(--ck-color-base-border);--ck-color-tooltip-background:var(--ck-color-base-text);--ck-color-tooltip-text:var(--ck-color-base-background);--ck-color-engine-placeholder-text:#707070;--ck-color-upload-bar-background:#6cb5f9;--ck-color-link-default:#0000f0;--ck-color-link-selected-background:rgba(31,177,255,0.1);--ck-disabled-opacity:.5;--ck-focus-outer-shadow-geometry:0 0 0 3px;--ck-focus-outer-shadow:var(--ck-focus-outer-shadow-geometry) var(--ck-color-focus-outer-shadow);--ck-focus-disabled-outer-shadow:var(--ck-focus-outer-shadow-geometry) var(--ck-color-focus-disabled-shadow);--ck-focus-error-outer-shadow:var(--ck-focus-outer-shadow-geometry) var(--ck-color-focus-error-shadow);--ck-focus-ring:1px solid var(--ck-color-focus-border);--ck-font-size-base:13px;--ck-line-height-base:1.84615;--ck-font-face:Helvetica,Arial,Tahoma,Verdana,Sans-Serif;--ck-font-size-tiny:0.7em;--ck-font-size-small:0.75em;--ck-font-size-normal:1em;--ck-font-size-big:1.4em;--ck-font-size-large:1.8em;--ck-ui-component-min-height:2.3em}.ck.ck-reset,.ck.ck-reset_all,.ck.ck-reset_all *{margin:0;padding:0;border:0;background:transparent;text-decoration:none;vertical-align:middle;transition:none;word-wrap:break-word}.ck.ck-reset_all,.ck.ck-reset_all *{border-collapse:collapse;font:normal normal normal var(--ck-font-size-base)/var(--ck-line-height-base) var(--ck-font-face);color:var(--ck-color-text);text-align:left;white-space:nowrap;cursor:auto;float:none}.ck.ck-reset_all .ck-rtl *{text-align:right}.ck.ck-reset_all iframe{vertical-align:inherit}.ck.ck-reset_all textarea{white-space:pre-wrap}.ck.ck-reset_all input[type=password],.ck.ck-reset_all input[type=text],.ck.ck-reset_all textarea{cursor:text}.ck.ck-reset_all input[type=password][disabled],.ck.ck-reset_all input[type=text][disabled],.ck.ck-reset_all textarea[disabled]{cursor:default}.ck.ck-reset_all fieldset{padding:10px;border:2px groove #dfdee3}.ck.ck-reset_all button::-moz-focus-inner{padding:0;border:0}.ck[dir=rtl],.ck[dir=rtl] .ck{text-align:right}:root{--ck-border-radius:2px;--ck-inner-shadow:2px 2px 3px var(--ck-color-shadow-inner) inset;--ck-drop-shadow:0 1px 2px 1px var(--ck-color-shadow-drop);--ck-drop-shadow-active:0 3px 6px 1px var(--ck-color-shadow-drop-active);--ck-spacing-unit:0.6em;--ck-spacing-large:calc(var(--ck-spacing-unit)*1.5);--ck-spacing-standard:var(--ck-spacing-unit);--ck-spacing-medium:calc(var(--ck-spacing-unit)*0.8);--ck-spacing-small:calc(var(--ck-spacing-unit)*0.5);--ck-spacing-tiny:calc(var(--ck-spacing-unit)*0.3);--ck-spacing-extra-tiny:calc(var(--ck-spacing-unit)*0.16)}"},function(A,j,P){var O=P(1),C=P(18);"string"==typeof(C=C.__esModule?C.default:C)&&(C=[[A.i,C,""]]);var q=(O(C,{injectType:"singletonStyleTag",insert:"head",singleton:!0}),C.locals?C.locals:{});A.exports=q},function(A,j){A.exports=".ck.ck-editor__editable:not(.ck-editor__nested-editable){border-radius:0}.ck-rounded-corners .ck.ck-editor__editable:not(.ck-editor__nested-editable),.ck.ck-editor__editable:not(.ck-editor__nested-editable).ck-rounded-corners{border-radius:var(--ck-border-radius)}.ck.ck-editor__editable:not(.ck-editor__nested-editable).ck-focused{outline:none;border:var(--ck-focus-ring);box-shadow:var(--ck-inner-shadow),0 0}.ck.ck-editor__editable_inline{overflow:auto;padding:0 var(--ck-spacing-standard);border:1px solid transparent}.ck.ck-editor__editable_inline[dir=ltr]{text-align:left}.ck.ck-editor__editable_inline[dir=rtl]{text-align:right}.ck.ck-editor__editable_inline>:first-child{margin-top:var(--ck-spacing-large)}.ck.ck-editor__editable_inline>:last-child{margin-bottom:var(--ck-spacing-large)}.ck.ck-balloon-panel.ck-toolbar-container[class*=arrow_n]:after{border-bottom-color:var(--ck-color-base-foreground)}.ck.ck-balloon-panel.ck-toolbar-container[class*=arrow_s]:after{border-top-color:var(--ck-color-base-foreground)}"},function(A,j,P){var O=P(1),C=P(20);"string"==typeof(C=C.__esModule?C.default:C)&&(C=[[A.i,C,""]]);var q=(O(C,{injectType:"singletonStyleTag",insert:"head",singleton:!0}),C.locals?C.locals:{});A.exports=q},function(A,j){A.exports=".ck.ck-label{display:block}.ck.ck-voice-label{display:none}.ck.ck-label{font-weight:700}"},function(A,j,P){var O=P(1),C=P(22);"string"==typeof(C=C.__esModule?C.default:C)&&(C=[[A.i,C,""]]);var q=(O(C,{injectType:"singletonStyleTag",insert:"head",singleton:!0}),C.locals?C.locals:{});A.exports=q},function(A,j){A.exports=".ck.ck-sticky-panel .ck-sticky-panel__content_sticky{z-index:var(--ck-z-modal);position:fixed;top:0}.ck.ck-sticky-panel .ck-sticky-panel__content_sticky_bottom-limit{top:auto;position:absolute}.ck.ck-sticky-panel .ck-sticky-panel__content_sticky{box-shadow:var(--ck-drop-shadow),0 0;border-width:0 1px 1px;border-top-left-radius:0;border-top-right-radius:0}"},function(A,j,P){var O=P(1),C=P(24);"string"==typeof(C=C.__esModule?C.default:C)&&(C=[[A.i,C,""]]);var q=(O(C,{injectType:"singletonStyleTag",insert:"head",singleton:!0}),C.locals?C.locals:{});A.exports=q},function(A,j){A.exports=".ck.ck-dropdown{display:inline-block;position:relative}.ck.ck-dropdown .ck-dropdown__arrow{pointer-events:none;z-index:var(--ck-z-default)}.ck.ck-dropdown .ck-button.ck-dropdown__button{width:100%}.ck.ck-dropdown .ck-button.ck-dropdown__button.ck-on .ck-tooltip{display:none}.ck.ck-dropdown .ck-dropdown__panel{-webkit-backface-visibility:hidden;display:none;z-index:var(--ck-z-modal);position:absolute}.ck.ck-dropdown .ck-dropdown__panel.ck-dropdown__panel-visible{display:inline-block}.ck.ck-dropdown .ck-dropdown__panel.ck-dropdown__panel_ne,.ck.ck-dropdown .ck-dropdown__panel.ck-dropdown__panel_nw{bottom:100%}.ck.ck-dropdown .ck-dropdown__panel.ck-dropdown__panel_se,.ck.ck-dropdown .ck-dropdown__panel.ck-dropdown__panel_sw{top:100%;bottom:auto}.ck.ck-dropdown .ck-dropdown__panel.ck-dropdown__panel_ne,.ck.ck-dropdown .ck-dropdown__panel.ck-dropdown__panel_se{left:0}.ck.ck-dropdown .ck-dropdown__panel.ck-dropdown__panel_nw,.ck.ck-dropdown .ck-dropdown__panel.ck-dropdown__panel_sw{right:0}:root{--ck-dropdown-arrow-size:calc(0.5*var(--ck-icon-size))}.ck.ck-dropdown{font-size:inherit}.ck.ck-dropdown .ck-dropdown__arrow{width:var(--ck-dropdown-arrow-size)}[dir=ltr] .ck.ck-dropdown .ck-dropdown__arrow{right:var(--ck-spacing-standard);margin-left:var(--ck-spacing-small)}[dir=rtl] .ck.ck-dropdown .ck-dropdown__arrow{left:var(--ck-spacing-standard);margin-right:var(--ck-spacing-small)}.ck.ck-dropdown.ck-disabled .ck-dropdown__arrow{opacity:var(--ck-disabled-opacity)}[dir=ltr] .ck.ck-dropdown .ck-button.ck-dropdown__button:not(.ck-button_with-text){padding-left:var(--ck-spacing-small)}[dir=rtl] .ck.ck-dropdown .ck-button.ck-dropdown__button:not(.ck-button_with-text){padding-right:var(--ck-spacing-small)}.ck.ck-dropdown .ck-button.ck-dropdown__button .ck-button__label{width:7em;overflow:hidden;text-overflow:ellipsis}.ck.ck-dropdown .ck-button.ck-dropdown__button.ck-disabled .ck-button__label{opacity:var(--ck-disabled-opacity)}.ck.ck-dropdown .ck-button.ck-dropdown__button.ck-on{border-bottom-left-radius:0;border-bottom-right-radius:0}.ck.ck-dropdown__panel{box-shadow:var(--ck-drop-shadow),0 0;border-radius:0}.ck-rounded-corners .ck.ck-dropdown__panel,.ck.ck-dropdown__panel.ck-rounded-corners{border-radius:var(--ck-border-radius);border-top-left-radius:0}.ck.ck-dropdown__panel{background:var(--ck-color-dropdown-panel-background);border:1px solid var(--ck-color-dropdown-panel-border);bottom:0;min-width:100%}"},function(A,j,P){var O=P(1),C=P(26);"string"==typeof(C=C.__esModule?C.default:C)&&(C=[[A.i,C,""]]);var q=(O(C,{injectType:"singletonStyleTag",insert:"head",singleton:!0}),C.locals?C.locals:{});A.exports=q},function(A,j){A.exports=".ck.ck-icon{vertical-align:middle}:root{--ck-icon-size:calc(var(--ck-line-height-base)*var(--ck-font-size-normal))}.ck.ck-icon{width:var(--ck-icon-size);height:var(--ck-icon-size);font-size:.8333350694em;will-change:transform}.ck.ck-icon,.ck.ck-icon *{color:inherit;cursor:inherit}.ck.ck-icon :not([fill]){fill:currentColor}"},function(A,j,P){var O=P(1),C=P(28);"string"==typeof(C=C.__esModule?C.default:C)&&(C=[[A.i,C,""]]);var q=(O(C,{injectType:"singletonStyleTag",insert:"head",singleton:!0}),C.locals?C.locals:{});A.exports=q},function(A,j){A.exports='.ck.ck-tooltip,.ck.ck-tooltip .ck-tooltip__text:after{position:absolute;pointer-events:none;-webkit-backface-visibility:hidden}.ck.ck-tooltip{visibility:hidden;opacity:0;display:none;z-index:var(--ck-z-modal)}.ck.ck-tooltip .ck-tooltip__text{display:inline-block}.ck.ck-tooltip .ck-tooltip__text:after{content:"";width:0;height:0}:root{--ck-tooltip-arrow-size:5px}.ck.ck-tooltip{left:50%;top:0;transition:opacity .2s ease-in-out .2s}.ck.ck-tooltip .ck-tooltip__text{border-radius:0}.ck-rounded-corners .ck.ck-tooltip .ck-tooltip__text,.ck.ck-tooltip .ck-tooltip__text.ck-rounded-corners{border-radius:var(--ck-border-radius)}.ck.ck-tooltip .ck-tooltip__text{font-size:.9em;line-height:1.5;color:var(--ck-color-tooltip-text);padding:var(--ck-spacing-small) var(--ck-spacing-medium);background:var(--ck-color-tooltip-background);position:relative;left:-50%}.ck.ck-tooltip .ck-tooltip__text:after{transition:opacity .2s ease-in-out .2s;border-style:solid;left:50%}.ck.ck-tooltip.ck-tooltip_s{bottom:calc(-1*var(--ck-tooltip-arrow-size));transform:translateY(100%)}.ck.ck-tooltip.ck-tooltip_s .ck-tooltip__text:after{top:calc(-1*var(--ck-tooltip-arrow-size));transform:translateX(-50%);border-left-color:transparent;border-bottom-color:var(--ck-color-tooltip-background);border-right-color:transparent;border-top-color:transparent;border-left-width:var(--ck-tooltip-arrow-size);border-bottom-width:var(--ck-tooltip-arrow-size);border-right-width:var(--ck-tooltip-arrow-size);border-top-width:0}.ck.ck-tooltip.ck-tooltip_n{top:calc(-1*var(--ck-tooltip-arrow-size));transform:translateY(-100%)}.ck.ck-tooltip.ck-tooltip_n .ck-tooltip__text:after{bottom:calc(-1*var(--ck-tooltip-arrow-size));transform:translateX(-50%);border-left-color:transparent;border-bottom-color:transparent;border-right-color:transparent;border-top-color:var(--ck-color-tooltip-background);border-left-width:var(--ck-tooltip-arrow-size);border-bottom-width:0;border-right-width:var(--ck-tooltip-arrow-size);border-top-width:var(--ck-tooltip-arrow-size)}'},function(A,j,P){var O=P(1),C=P(30);"string"==typeof(C=C.__esModule?C.default:C)&&(C=[[A.i,C,""]]);var q=(O(C,{injectType:"singletonStyleTag",insert:"head",singleton:!0}),C.locals?C.locals:{});A.exports=q},function(A,j){A.exports=".ck.ck-button,a.ck.ck-button{-moz-user-select:none;-webkit-user-select:none;-ms-user-select:none;user-select:none}.ck.ck-button .ck-tooltip,a.ck.ck-button .ck-tooltip{display:block}@media (hover:none){.ck.ck-button .ck-tooltip,a.ck.ck-button .ck-tooltip{display:none}}.ck.ck-button,a.ck.ck-button{position:relative;display:inline-flex;align-items:center;justify-content:left}.ck.ck-button .ck-button__label,a.ck.ck-button .ck-button__label{display:none}.ck.ck-button.ck-button_with-text .ck-button__label,a.ck.ck-button.ck-button_with-text .ck-button__label{display:inline-block}.ck.ck-button:not(.ck-button_with-text),a.ck.ck-button:not(.ck-button_with-text){justify-content:center}.ck.ck-button:hover .ck-tooltip,a.ck.ck-button:hover .ck-tooltip{visibility:visible;opacity:1}.ck.ck-button:focus:not(:hover) .ck-tooltip,a.ck.ck-button:focus:not(:hover) .ck-tooltip{display:none}.ck.ck-button,a.ck.ck-button{background:var(--ck-color-button-default-background)}.ck.ck-button:not(.ck-disabled):hover,a.ck.ck-button:not(.ck-disabled):hover{background:var(--ck-color-button-default-hover-background)}.ck.ck-button:not(.ck-disabled):active,a.ck.ck-button:not(.ck-disabled):active{background:var(--ck-color-button-default-active-background);box-shadow:inset 0 2px 2px var(--ck-color-button-default-active-shadow)}.ck.ck-button.ck-disabled,a.ck.ck-button.ck-disabled{background:var(--ck-color-button-default-disabled-background)}.ck.ck-button,a.ck.ck-button{border-radius:0}.ck-rounded-corners .ck.ck-button,.ck-rounded-corners a.ck.ck-button,.ck.ck-button.ck-rounded-corners,a.ck.ck-button.ck-rounded-corners{border-radius:var(--ck-border-radius)}.ck.ck-button,a.ck.ck-button{white-space:nowrap;cursor:default;vertical-align:middle;padding:var(--ck-spacing-tiny);text-align:center;min-width:var(--ck-ui-component-min-height);min-height:var(--ck-ui-component-min-height);line-height:1;font-size:inherit;border:1px solid transparent;transition:box-shadow .2s ease-in-out,border .2s ease-in-out;-webkit-appearance:none}.ck.ck-button:active,.ck.ck-button:focus,a.ck.ck-button:active,a.ck.ck-button:focus{outline:none;border:var(--ck-focus-ring);box-shadow:var(--ck-focus-outer-shadow),0 0}.ck.ck-button .ck-button__icon use,.ck.ck-button .ck-button__icon use *,a.ck.ck-button .ck-button__icon use,a.ck.ck-button .ck-button__icon use *{color:inherit}.ck.ck-button .ck-button__label,a.ck.ck-button .ck-button__label{font-size:inherit;font-weight:inherit;color:inherit;cursor:inherit;vertical-align:middle}[dir=ltr] .ck.ck-button .ck-button__label,[dir=ltr] a.ck.ck-button .ck-button__label{text-align:left}[dir=rtl] .ck.ck-button .ck-button__label,[dir=rtl] a.ck.ck-button .ck-button__label{text-align:right}.ck.ck-button .ck-button__keystroke,a.ck.ck-button .ck-button__keystroke{color:inherit}[dir=ltr] .ck.ck-button .ck-button__keystroke,[dir=ltr] a.ck.ck-button .ck-button__keystroke{margin-left:var(--ck-spacing-large)}[dir=rtl] .ck.ck-button .ck-button__keystroke,[dir=rtl] a.ck.ck-button .ck-button__keystroke{margin-right:var(--ck-spacing-large)}.ck.ck-button .ck-button__keystroke,a.ck.ck-button .ck-button__keystroke{font-weight:700;opacity:.7}.ck.ck-button.ck-disabled:active,.ck.ck-button.ck-disabled:focus,a.ck.ck-button.ck-disabled:active,a.ck.ck-button.ck-disabled:focus{box-shadow:var(--ck-focus-disabled-outer-shadow),0 0}.ck.ck-button.ck-disabled .ck-button__icon,a.ck.ck-button.ck-disabled .ck-button__icon{opacity:var(--ck-disabled-opacity)}.ck.ck-button.ck-disabled .ck-button__label,a.ck.ck-button.ck-disabled .ck-button__label{opacity:var(--ck-disabled-opacity)}.ck.ck-button.ck-disabled .ck-button__keystroke,a.ck.ck-button.ck-disabled .ck-button__keystroke{opacity:.3}.ck.ck-button.ck-button_with-text,a.ck.ck-button.ck-button_with-text{padding:var(--ck-spacing-tiny) var(--ck-spacing-standard)}[dir=ltr] .ck.ck-button.ck-button_with-text .ck-button__icon,[dir=ltr] a.ck.ck-button.ck-button_with-text .ck-button__icon{margin-left:calc(-1*var(--ck-spacing-small));margin-right:var(--ck-spacing-small)}[dir=rtl] .ck.ck-button.ck-button_with-text .ck-button__icon,[dir=rtl] a.ck.ck-button.ck-button_with-text .ck-button__icon{margin-right:calc(-1*var(--ck-spacing-small));margin-left:var(--ck-spacing-small)}.ck.ck-button.ck-button_with-keystroke .ck-button__label,a.ck.ck-button.ck-button_with-keystroke .ck-button__label{flex-grow:1}.ck.ck-button.ck-on,a.ck.ck-button.ck-on{background:var(--ck-color-button-on-background)}.ck.ck-button.ck-on:not(.ck-disabled):hover,a.ck.ck-button.ck-on:not(.ck-disabled):hover{background:var(--ck-color-button-on-hover-background)}.ck.ck-button.ck-on:not(.ck-disabled):active,a.ck.ck-button.ck-on:not(.ck-disabled):active{background:var(--ck-color-button-on-active-background);box-shadow:inset 0 2px 2px var(--ck-color-button-on-active-shadow)}.ck.ck-button.ck-on.ck-disabled,a.ck.ck-button.ck-on.ck-disabled{background:var(--ck-color-button-on-disabled-background)}.ck.ck-button.ck-button-save,a.ck.ck-button.ck-button-save{color:var(--ck-color-button-save)}.ck.ck-button.ck-button-cancel,a.ck.ck-button.ck-button-cancel{color:var(--ck-color-button-cancel)}.ck.ck-button-action,a.ck.ck-button-action{background:var(--ck-color-button-action-background)}.ck.ck-button-action:not(.ck-disabled):hover,a.ck.ck-button-action:not(.ck-disabled):hover{background:var(--ck-color-button-action-hover-background)}.ck.ck-button-action:not(.ck-disabled):active,a.ck.ck-button-action:not(.ck-disabled):active{background:var(--ck-color-button-action-active-background);box-shadow:inset 0 2px 2px var(--ck-color-button-action-active-shadow)}.ck.ck-button-action.ck-disabled,a.ck.ck-button-action.ck-disabled{background:var(--ck-color-button-action-disabled-background)}.ck.ck-button-action,a.ck.ck-button-action{color:var(--ck-color-button-action-text)}.ck.ck-button-bold,a.ck.ck-button-bold{font-weight:700}"},function(A,j,P){var O=P(1),C=P(32);"string"==typeof(C=C.__esModule?C.default:C)&&(C=[[A.i,C,""]]);var q=(O(C,{injectType:"singletonStyleTag",insert:"head",singleton:!0}),C.locals?C.locals:{});A.exports=q},function(A,j){A.exports=".ck.ck-list{-moz-user-select:none;-webkit-user-select:none;-ms-user-select:none;user-select:none;display:flex;flex-direction:column}.ck.ck-list .ck-list__item,.ck.ck-list .ck-list__separator{display:block}.ck.ck-list .ck-list__item>:focus{position:relative;z-index:var(--ck-z-default)}.ck.ck-list{border-radius:0}.ck-rounded-corners .ck.ck-list,.ck.ck-list.ck-rounded-corners{border-radius:var(--ck-border-radius)}.ck.ck-list{list-style-type:none;background:var(--ck-color-list-background)}.ck.ck-list__item{cursor:default;min-width:12em}.ck.ck-list__item .ck-button{min-height:unset;width:100%;text-align:left;border-radius:0;padding:calc(0.2*var(--ck-line-height-base)*var(--ck-font-size-base)) calc(0.4*var(--ck-line-height-base)*var(--ck-font-size-base))}.ck.ck-list__item .ck-button .ck-button__label{line-height:calc(1.2*var(--ck-line-height-base)*var(--ck-font-size-base))}.ck.ck-list__item .ck-button:active{box-shadow:none}.ck.ck-list__item .ck-button.ck-on{background:var(--ck-color-list-button-on-background);color:var(--ck-color-list-button-on-text)}.ck.ck-list__item .ck-button.ck-on:active{box-shadow:none}.ck.ck-list__item .ck-button.ck-on:hover:not(.ck-disabled){background:var(--ck-color-list-button-on-background-focus)}.ck.ck-list__item .ck-button.ck-on:focus:not(.ck-disabled){border-color:var(--ck-color-base-background)}.ck.ck-list__item .ck-button:hover:not(.ck-disabled){background:var(--ck-color-list-button-hover-background)}.ck.ck-list__item .ck-switchbutton.ck-on{background:var(--ck-color-list-background);color:inherit}.ck.ck-list__item .ck-switchbutton.ck-on:hover:not(.ck-disabled){background:var(--ck-color-list-button-hover-background);color:inherit}.ck.ck-list__separator{height:1px;width:100%;background:var(--ck-color-base-border)}"},function(A,j,P){var O=P(1),C=P(34);"string"==typeof(C=C.__esModule?C.default:C)&&(C=[[A.i,C,""]]);var q=(O(C,{injectType:"singletonStyleTag",insert:"head",singleton:!0}),C.locals?C.locals:{});A.exports=q},function(A,j){A.exports=".ck.ck-button.ck-switchbutton .ck-button__toggle,.ck.ck-button.ck-switchbutton .ck-button__toggle .ck-button__toggle__inner{display:block}:root{--ck-switch-button-toggle-width:2.6153846154em;--ck-switch-button-toggle-inner-size:1.0769230769em;--ck-switch-button-toggle-spacing:1px;--ck-switch-button-translation:1.3846153847em}[dir=ltr] .ck.ck-button.ck-switchbutton .ck-button__label{margin-right:calc(2*var(--ck-spacing-large))}[dir=rtl] .ck.ck-button.ck-switchbutton .ck-button__label{margin-left:calc(2*var(--ck-spacing-large))}.ck.ck-button.ck-switchbutton .ck-button__toggle{border-radius:0}.ck-rounded-corners .ck.ck-button.ck-switchbutton .ck-button__toggle,.ck.ck-button.ck-switchbutton .ck-button__toggle.ck-rounded-corners{border-radius:var(--ck-border-radius)}[dir=ltr] .ck.ck-button.ck-switchbutton .ck-button__toggle{margin-left:auto}[dir=rtl] .ck.ck-button.ck-switchbutton .ck-button__toggle{margin-right:auto}.ck.ck-button.ck-switchbutton .ck-button__toggle{transition:background .4s ease;width:var(--ck-switch-button-toggle-width);background:var(--ck-color-switch-button-off-background)}.ck.ck-button.ck-switchbutton .ck-button__toggle .ck-button__toggle__inner{border-radius:0}.ck-rounded-corners .ck.ck-button.ck-switchbutton .ck-button__toggle .ck-button__toggle__inner,.ck.ck-button.ck-switchbutton .ck-button__toggle .ck-button__toggle__inner.ck-rounded-corners{border-radius:var(--ck-border-radius);border-radius:calc(0.5*var(--ck-border-radius))}.ck.ck-button.ck-switchbutton .ck-button__toggle .ck-button__toggle__inner{margin:var(--ck-switch-button-toggle-spacing);width:var(--ck-switch-button-toggle-inner-size);height:var(--ck-switch-button-toggle-inner-size);background:var(--ck-color-switch-button-inner-background);transition:all .3s ease}.ck.ck-button.ck-switchbutton .ck-button__toggle:hover{background:var(--ck-color-switch-button-off-hover-background)}.ck.ck-button.ck-switchbutton .ck-button__toggle:hover .ck-button__toggle__inner{box-shadow:0 0 0 5px var(--ck-color-switch-button-inner-shadow)}.ck.ck-button.ck-switchbutton.ck-disabled .ck-button__toggle{opacity:var(--ck-disabled-opacity)}.ck.ck-button.ck-switchbutton.ck-on .ck-button__toggle{background:var(--ck-color-switch-button-on-background)}.ck.ck-button.ck-switchbutton.ck-on .ck-button__toggle:hover{background:var(--ck-color-switch-button-on-hover-background)}[dir=ltr] .ck.ck-button.ck-switchbutton.ck-on .ck-button__toggle .ck-button__toggle__inner{transform:translateX(var(--ck-switch-button-translation))}[dir=rtl] .ck.ck-button.ck-switchbutton.ck-on .ck-button__toggle .ck-button__toggle__inner{transform:translateX(calc(-1*var(--ck-switch-button-translation)))}"},function(A,j,P){var O=P(1),C=P(36);"string"==typeof(C=C.__esModule?C.default:C)&&(C=[[A.i,C,""]]);var q=(O(C,{injectType:"singletonStyleTag",insert:"head",singleton:!0}),C.locals?C.locals:{});A.exports=q},function(A,j){A.exports=".ck.ck-toolbar-dropdown .ck.ck-toolbar .ck.ck-toolbar__items{flex-wrap:nowrap}.ck.ck-toolbar-dropdown .ck-dropdown__panel .ck-button:focus{z-index:calc(var(--ck-z-default) + 1)}.ck.ck-toolbar-dropdown .ck-toolbar{border:0}"},function(A,j,P){var O=P(1),C=P(38);"string"==typeof(C=C.__esModule?C.default:C)&&(C=[[A.i,C,""]]);var q=(O(C,{injectType:"singletonStyleTag",insert:"head",singleton:!0}),C.locals?C.locals:{});A.exports=q},function(A,j){A.exports=".ck.ck-dropdown .ck-dropdown__panel .ck-list{border-radius:0}.ck-rounded-corners .ck.ck-dropdown .ck-dropdown__panel .ck-list,.ck.ck-dropdown .ck-dropdown__panel .ck-list.ck-rounded-corners{border-radius:var(--ck-border-radius);border-top-left-radius:0}.ck.ck-dropdown .ck-dropdown__panel .ck-list .ck-list__item:first-child .ck-button{border-radius:0}.ck-rounded-corners .ck.ck-dropdown .ck-dropdown__panel .ck-list .ck-list__item:first-child .ck-button,.ck.ck-dropdown .ck-dropdown__panel .ck-list .ck-list__item:first-child .ck-button.ck-rounded-corners{border-radius:var(--ck-border-radius);border-top-left-radius:0;border-bottom-left-radius:0;border-bottom-right-radius:0}.ck.ck-dropdown .ck-dropdown__panel .ck-list .ck-list__item:last-child .ck-button{border-radius:0}.ck-rounded-corners .ck.ck-dropdown .ck-dropdown__panel .ck-list .ck-list__item:last-child .ck-button,.ck.ck-dropdown .ck-dropdown__panel .ck-list .ck-list__item:last-child .ck-button.ck-rounded-corners{border-radius:var(--ck-border-radius);border-top-left-radius:0;border-top-right-radius:0}"},function(A,j,P){var O=P(1),C=P(40);"string"==typeof(C=C.__esModule?C.default:C)&&(C=[[A.i,C,""]]);var q=(O(C,{injectType:"singletonStyleTag",insert:"head",singleton:!0}),C.locals?C.locals:{});A.exports=q},function(A,j){A.exports=".ck.ck-toolbar{-moz-user-select:none;-webkit-user-select:none;-ms-user-select:none;user-select:none;display:flex;flex-flow:row nowrap;align-items:center}.ck.ck-toolbar>.ck-toolbar__items{display:flex;flex-flow:row wrap;align-items:center;flex-grow:1}.ck.ck-toolbar .ck.ck-toolbar__separator{display:inline-block}.ck.ck-toolbar .ck.ck-toolbar__separator:first-child,.ck.ck-toolbar .ck.ck-toolbar__separator:last-child{display:none}.ck.ck-toolbar.ck-toolbar_grouping>.ck-toolbar__items{flex-wrap:nowrap}.ck.ck-toolbar.ck-toolbar_vertical>.ck-toolbar__items{flex-direction:column}.ck.ck-toolbar.ck-toolbar_floating>.ck-toolbar__items{flex-wrap:nowrap}.ck.ck-toolbar>.ck.ck-toolbar__grouped-dropdown>.ck-dropdown__button .ck-dropdown__arrow{display:none}.ck.ck-toolbar{border-radius:0}.ck-rounded-corners .ck.ck-toolbar,.ck.ck-toolbar.ck-rounded-corners{border-radius:var(--ck-border-radius)}.ck.ck-toolbar{background:var(--ck-color-toolbar-background);padding:0 var(--ck-spacing-small);border:1px solid var(--ck-color-toolbar-border)}.ck.ck-toolbar>.ck-toolbar__items>*{margin-top:var(--ck-spacing-small);margin-bottom:var(--ck-spacing-small);margin-right:var(--ck-spacing-small)}.ck.ck-toolbar.ck-toolbar_vertical{padding:0}.ck.ck-toolbar.ck-toolbar_vertical>.ck-toolbar__items>.ck{width:100%;margin:0;border-radius:0;border:0}.ck.ck-toolbar.ck-toolbar_compact{padding:0}.ck.ck-toolbar.ck-toolbar_compact .ck-toolbar__items>.ck{margin:0}.ck.ck-toolbar.ck-toolbar_compact .ck-toolbar__items>.ck:first-child{border-top-right-radius:0;border-bottom-right-radius:0}.ck.ck-toolbar.ck-toolbar_compact .ck-toolbar__items>.ck:last-child{border-top-left-radius:0;border-bottom-left-radius:0}.ck.ck-toolbar.ck-toolbar_compact .ck-toolbar__items>.ck:not(:first-child):not(:last-child){border-radius:0}.ck.ck-toolbar>.ck-toolbar__items>*,.ck.ck-toolbar>.ck.ck-toolbar__grouped-dropdown{margin-top:var(--ck-spacing-small);margin-bottom:var(--ck-spacing-small)}.ck.ck-toolbar>.ck.ck-toolbar__grouped-dropdown>.ck.ck-button.ck-dropdown__button{padding-left:var(--ck-spacing-tiny)}.ck.ck-toolbar .ck.ck-toolbar__separator{align-self:stretch;width:1px;min-width:1px;margin-top:0;margin-bottom:0;background:var(--ck-color-toolbar-border)}.ck-toolbar-container .ck.ck-toolbar{border:0}.ck.ck-toolbar[dir=rtl]>.ck.ck-toolbar__grouped-dropdown,[dir=rtl] .ck.ck-toolbar>.ck.ck-toolbar__grouped-dropdown{padding-right:var(--ck-spacing-small)}.ck.ck-toolbar[dir=rtl]>.ck.ck-toolbar__items>*,[dir=rtl] .ck.ck-toolbar>.ck.ck-toolbar__items>*{margin-left:var(--ck-spacing-small);margin-right:0}.ck.ck-toolbar[dir=rtl]>.ck.ck-toolbar__items>:last-child,[dir=rtl] .ck.ck-toolbar>.ck.ck-toolbar__items>:last-child{margin-left:0}.ck.ck-toolbar[dir=rtl].ck-toolbar_grouping>.ck-toolbar__items,[dir=rtl] .ck.ck-toolbar.ck-toolbar_grouping>.ck-toolbar__items{margin-left:var(--ck-spacing-small)}.ck.ck-toolbar[dir=ltr]>.ck.ck-toolbar__grouped-dropdown,[dir=ltr] .ck.ck-toolbar>.ck.ck-toolbar__grouped-dropdown{padding-left:var(--ck-spacing-small)}.ck.ck-toolbar[dir=ltr]>.ck.ck-toolbar__items>:last-child,[dir=ltr] .ck.ck-toolbar>.ck.ck-toolbar__items>:last-child{margin-right:0}.ck.ck-toolbar[dir=ltr].ck-toolbar_grouping>.ck-toolbar__items,[dir=ltr] .ck.ck-toolbar.ck-toolbar_grouping>.ck-toolbar__items{margin-right:var(--ck-spacing-small)}"},function(A,j,P){var O=P(1),C=P(42);"string"==typeof(C=C.__esModule?C.default:C)&&(C=[[A.i,C,""]]);var q=(O(C,{injectType:"singletonStyleTag",insert:"head",singleton:!0}),C.locals?C.locals:{});A.exports=q},function(A,j){A.exports=".ck.ck-editor{position:relative}.ck.ck-editor .ck-editor__top .ck-sticky-panel .ck-toolbar{z-index:var(--ck-z-modal)}.ck.ck-editor__top .ck-sticky-panel .ck-toolbar{border-radius:0}.ck-rounded-corners .ck.ck-editor__top .ck-sticky-panel .ck-toolbar,.ck.ck-editor__top .ck-sticky-panel .ck-toolbar.ck-rounded-corners{border-radius:var(--ck-border-radius);border-bottom-left-radius:0;border-bottom-right-radius:0}.ck.ck-editor__top .ck-sticky-panel .ck-toolbar{border-bottom-width:0}.ck.ck-editor__top .ck-sticky-panel .ck-sticky-panel__content_sticky .ck-toolbar{border-bottom-width:1px;border-radius:0}.ck-rounded-corners .ck.ck-editor__top .ck-sticky-panel .ck-sticky-panel__content_sticky .ck-toolbar,.ck.ck-editor__top .ck-sticky-panel .ck-sticky-panel__content_sticky .ck-toolbar.ck-rounded-corners{border-radius:var(--ck-border-radius);border-radius:0}.ck.ck-editor__main>.ck-editor__editable{background:var(--ck-color-base-background);border-radius:0}.ck-rounded-corners .ck.ck-editor__main>.ck-editor__editable,.ck.ck-editor__main>.ck-editor__editable.ck-rounded-corners{border-radius:var(--ck-border-radius);border-top-left-radius:0;border-top-right-radius:0}.ck.ck-editor__main>.ck-editor__editable:not(.ck-focused){border-color:var(--ck-color-base-border)}"},function(A,j,P){var O=P(1),C=P(44);"string"==typeof(C=C.__esModule?C.default:C)&&(C=[[A.i,C,""]]);var q=(O(C,{injectType:"singletonStyleTag",insert:"head",singleton:!0}),C.locals?C.locals:{});A.exports=q},function(A,j){A.exports=".ck-content blockquote{overflow:hidden;padding-right:1.5em;padding-left:1.5em;margin-left:0;margin-right:0;font-style:italic;border-left:5px solid #ccc}.ck-content[dir=rtl] blockquote{border-left:0;border-right:5px solid #ccc}"},function(A,j,P){var O=P(1),C=P(46);"string"==typeof(C=C.__esModule?C.default:C)&&(C=[[A.i,C,""]]);var q=(O(C,{injectType:"singletonStyleTag",insert:"head",singleton:!0}),C.locals?C.locals:{});A.exports=q},function(A,j){A.exports=".ck .ck-link_selected{background:var(--ck-color-link-selected-background)}"},function(A,j){A.exports=".ck.ck-heading_heading1{font-size:20px}.ck.ck-heading_heading2{font-size:17px}.ck.ck-heading_heading3{font-size:14px}.ck[class*=ck-heading_heading]{font-weight:700}.ck.ck-dropdown.ck-heading-dropdown .ck-dropdown__button .ck-button__label{width:8em}.ck.ck-dropdown.ck-heading-dropdown .ck-dropdown__panel .ck-list__item{min-width:18em}"},function(A,j,P){var O=P(1),C=P(49);"string"==typeof(C=C.__esModule?C.default:C)&&(C=[[A.i,C,""]]);var q=(O(C,{injectType:"singletonStyleTag",insert:"head",singleton:!0}),C.locals?C.locals:{});A.exports=q},function(A,j){A.exports=":root{--ck-color-resizer:var(--ck-color-focus-border);--ck-resizer-size:10px;--ck-resizer-border-width:1px;--ck-resizer-border-radius:2px;--ck-resizer-offset:calc(var(--ck-resizer-size)/-2 - 2px);--ck-resizer-tooltip-offset:10px;--ck-color-resizer-tooltip-background:#262626;--ck-color-resizer-tooltip-text:#f2f2f2}.ck .ck-widget.ck-widget_with-selection-handle{position:relative}.ck .ck-widget.ck-widget_with-selection-handle .ck-widget__selection-handle{position:absolute}.ck .ck-widget.ck-widget_with-selection-handle .ck-widget__selection-handle .ck-icon{display:block}.ck .ck-widget.ck-widget_with-selection-handle.ck-widget_selected .ck-widget__selection-handle,.ck .ck-widget.ck-widget_with-selection-handle:hover .ck-widget__selection-handle{visibility:visible}.ck .ck-size-view{background:var(--ck-color-resizer-tooltip-background);color:var(--ck-color-resizer-tooltip-text);border:1px solid var(--ck-color-resizer-tooltip-text);border-radius:var(--ck-resizer-border-radius);font-size:var(--ck-font-size-tiny);display:block;padding:var(--ck-spacing-small)}.ck .ck-size-view.ck-orientation-bottom-left,.ck .ck-size-view.ck-orientation-bottom-right,.ck .ck-size-view.ck-orientation-top-left,.ck .ck-size-view.ck-orientation-top-right{position:absolute}.ck .ck-size-view.ck-orientation-top-left{top:var(--ck-resizer-tooltip-offset);left:var(--ck-resizer-tooltip-offset)}.ck .ck-size-view.ck-orientation-top-right{top:var(--ck-resizer-tooltip-offset);right:var(--ck-resizer-tooltip-offset)}.ck .ck-size-view.ck-orientation-bottom-right{bottom:var(--ck-resizer-tooltip-offset);right:var(--ck-resizer-tooltip-offset)}.ck .ck-size-view.ck-orientation-bottom-left{bottom:var(--ck-resizer-tooltip-offset);left:var(--ck-resizer-tooltip-offset)}:root{--ck-widget-outline-thickness:3px;--ck-widget-handler-icon-size:16px;--ck-widget-handler-animation-duration:200ms;--ck-widget-handler-animation-curve:ease;--ck-color-widget-blurred-border:#dedede;--ck-color-widget-hover-border:#ffc83d;--ck-color-widget-editable-focus-background:var(--ck-color-base-background);--ck-color-widget-drag-handler-icon-color:var(--ck-color-base-background)}.ck .ck-widget{outline-width:var(--ck-widget-outline-thickness);outline-style:solid;outline-color:transparent;transition:outline-color var(--ck-widget-handler-animation-duration) var(--ck-widget-handler-animation-curve)}.ck .ck-widget.ck-widget_selected,.ck .ck-widget.ck-widget_selected:hover{outline:var(--ck-widget-outline-thickness) solid var(--ck-color-focus-border)}.ck .ck-widget:hover{outline-color:var(--ck-color-widget-hover-border)}.ck .ck-editor__nested-editable{border:1px solid transparent}.ck .ck-editor__nested-editable.ck-editor__nested-editable_focused,.ck .ck-editor__nested-editable:focus{outline:none;border:var(--ck-focus-ring);box-shadow:var(--ck-inner-shadow),0 0;background-color:var(--ck-color-widget-editable-focus-background)}.ck .ck-widget.ck-widget_with-selection-handle .ck-widget__selection-handle{padding:4px;box-sizing:border-box;background-color:transparent;opacity:0;transition:background-color var(--ck-widget-handler-animation-duration) var(--ck-widget-handler-animation-curve),visibility var(--ck-widget-handler-animation-duration) var(--ck-widget-handler-animation-curve),opacity var(--ck-widget-handler-animation-duration) var(--ck-widget-handler-animation-curve);border-radius:var(--ck-border-radius) var(--ck-border-radius) 0 0;transform:translateY(-100%);left:calc(0px - var(--ck-widget-outline-thickness))}.ck .ck-widget.ck-widget_with-selection-handle .ck-widget__selection-handle .ck-icon{width:var(--ck-widget-handler-icon-size);height:var(--ck-widget-handler-icon-size);color:var(--ck-color-widget-drag-handler-icon-color)}.ck .ck-widget.ck-widget_with-selection-handle .ck-widget__selection-handle .ck-icon .ck-icon__selected-indicator{opacity:0;transition:opacity .3s var(--ck-widget-handler-animation-curve)}.ck .ck-widget.ck-widget_with-selection-handle .ck-widget__selection-handle:hover .ck-icon .ck-icon__selected-indicator{opacity:1}.ck .ck-widget.ck-widget_with-selection-handle:hover .ck-widget__selection-handle{opacity:1;background-color:var(--ck-color-widget-hover-border)}.ck .ck-widget.ck-widget_with-selection-handle.ck-widget_selected .ck-widget__selection-handle,.ck .ck-widget.ck-widget_with-selection-handle.ck-widget_selected:hover .ck-widget__selection-handle{opacity:1;background-color:var(--ck-color-focus-border)}.ck .ck-widget.ck-widget_with-selection-handle.ck-widget_selected .ck-widget__selection-handle .ck-icon .ck-icon__selected-indicator,.ck .ck-widget.ck-widget_with-selection-handle.ck-widget_selected:hover .ck-widget__selection-handle .ck-icon .ck-icon__selected-indicator{opacity:1}.ck-editor__editable>.ck-widget.ck-widget_with-selection-handle:first-child,.ck-editor__editable blockquote>.ck-widget.ck-widget_with-selection-handle:first-child{margin-top:calc(1em + var(--ck-widget-handler-icon-size))}.ck[dir=rtl] .ck-widget.ck-widget_with-selection-handle .ck-widget__selection-handle{left:auto;right:calc(0px - var(--ck-widget-outline-thickness))}.ck-editor__editable.ck-blurred .ck-widget.ck-widget_selected,.ck-editor__editable.ck-blurred .ck-widget.ck-widget_selected:hover{outline-color:var(--ck-color-widget-blurred-border)}.ck-editor__editable.ck-blurred .ck-widget.ck-widget_selected.ck-widget_with-selection-handle .ck-widget__selection-handle,.ck-editor__editable.ck-blurred .ck-widget.ck-widget_selected.ck-widget_with-selection-handle .ck-widget__selection-handle:hover,.ck-editor__editable.ck-blurred .ck-widget.ck-widget_selected:hover.ck-widget_with-selection-handle .ck-widget__selection-handle,.ck-editor__editable.ck-blurred .ck-widget.ck-widget_selected:hover.ck-widget_with-selection-handle .ck-widget__selection-handle:hover{background:var(--ck-color-widget-blurred-border)}.ck-editor__editable.ck-read-only .ck-widget{--ck-widget-outline-thickness:0}"},function(A,j,P){var O=P(1),C=P(51);"string"==typeof(C=C.__esModule?C.default:C)&&(C=[[A.i,C,""]]);var q=(O(C,{injectType:"singletonStyleTag",insert:"head",singleton:!0}),C.locals?C.locals:{});A.exports=q},function(A,j){A.exports=".ck.ck-labeled-input .ck-labeled-input__status{font-size:var(--ck-font-size-small);margin-top:var(--ck-spacing-small);white-space:normal}.ck.ck-labeled-input .ck-labeled-input__status_error{color:var(--ck-color-base-error)}"},function(A,j,P){var O=P(1),C=P(53);"string"==typeof(C=C.__esModule?C.default:C)&&(C=[[A.i,C,""]]);var q=(O(C,{injectType:"singletonStyleTag",insert:"head",singleton:!0}),C.locals?C.locals:{});A.exports=q},function(A,j){A.exports=":root{--ck-input-text-width:18em}.ck.ck-input-text{border-radius:0}.ck-rounded-corners .ck.ck-input-text,.ck.ck-input-text.ck-rounded-corners{border-radius:var(--ck-border-radius)}.ck.ck-input-text{box-shadow:var(--ck-inner-shadow),0 0;background:var(--ck-color-input-background);border:1px solid var(--ck-color-input-border);padding:var(--ck-spacing-extra-tiny) var(--ck-spacing-medium);min-width:var(--ck-input-text-width);min-height:var(--ck-ui-component-min-height);transition:box-shadow .2s ease-in-out,border .2s ease-in-out}.ck.ck-input-text:focus{outline:none;border:var(--ck-focus-ring);box-shadow:var(--ck-focus-outer-shadow),var(--ck-inner-shadow)}.ck.ck-input-text[readonly]{border:1px solid var(--ck-color-input-disabled-border);background:var(--ck-color-input-disabled-background);color:var(--ck-color-input-disabled-text)}.ck.ck-input-text[readonly]:focus{box-shadow:var(--ck-focus-disabled-outer-shadow),var(--ck-inner-shadow)}.ck.ck-input-text.ck-error{border-color:var(--ck-color-input-error-border);animation:ck-text-input-shake .3s ease both}.ck.ck-input-text.ck-error:focus{box-shadow:var(--ck-focus-error-outer-shadow),var(--ck-inner-shadow)}@keyframes ck-text-input-shake{20%{transform:translateX(-2px)}40%{transform:translateX(2px)}60%{transform:translateX(-1px)}80%{transform:translateX(1px)}}"},function(A,j,P){var O=P(1),C=P(55);"string"==typeof(C=C.__esModule?C.default:C)&&(C=[[A.i,C,""]]);var q=(O(C,{injectType:"singletonStyleTag",insert:"head",singleton:!0}),C.locals?C.locals:{});A.exports=q},function(A,j){A.exports=".ck.ck-text-alternative-form{display:flex;flex-direction:row;flex-wrap:nowrap}.ck.ck-text-alternative-form .ck-labeled-input{display:inline-block}.ck.ck-text-alternative-form .ck-label{display:none}@media screen and (max-width:600px){.ck.ck-text-alternative-form{flex-wrap:wrap}.ck.ck-text-alternative-form .ck-labeled-input{flex-basis:100%}.ck.ck-text-alternative-form .ck-button{flex-basis:50%}}.ck.ck-text-alternative-form{padding:var(--ck-spacing-standard)}.ck.ck-text-alternative-form:focus{outline:none}[dir=ltr] .ck.ck-text-alternative-form>:not(:first-child),[dir=rtl] .ck.ck-text-alternative-form>:not(:last-child){margin-left:var(--ck-spacing-standard)}@media screen and (max-width:600px){.ck.ck-text-alternative-form{padding:0;width:calc(0.8*var(--ck-input-text-width))}.ck.ck-text-alternative-form .ck-labeled-input{margin:var(--ck-spacing-standard) var(--ck-spacing-standard) 0}.ck.ck-text-alternative-form .ck-labeled-input .ck-input-text{min-width:0;width:100%}.ck.ck-text-alternative-form .ck-button{padding:var(--ck-spacing-standard);margin-top:var(--ck-spacing-standard);border-radius:0;border:0;border-top:1px solid var(--ck-color-base-border)}[dir=ltr] .ck.ck-text-alternative-form .ck-button{margin-left:0}[dir=ltr] .ck.ck-text-alternative-form .ck-button:first-of-type{border-right:1px solid var(--ck-color-base-border)}[dir=rtl] .ck.ck-text-alternative-form .ck-button{margin-left:0}[dir=rtl] .ck.ck-text-alternative-form .ck-button:last-of-type{border-right:1px solid var(--ck-color-base-border)}}"},function(A,j,P){var O=P(1),C=P(57);"string"==typeof(C=C.__esModule?C.default:C)&&(C=[[A.i,C,""]]);var q=(O(C,{injectType:"singletonStyleTag",insert:"head",singleton:!0}),C.locals?C.locals:{});A.exports=q},function(A,j){A.exports=':root{--ck-balloon-panel-arrow-z-index:calc(var(--ck-z-default) - 3)}.ck.ck-balloon-panel{display:none;position:absolute;z-index:var(--ck-z-modal)}.ck.ck-balloon-panel.ck-balloon-panel_with-arrow:after,.ck.ck-balloon-panel.ck-balloon-panel_with-arrow:before{content:"";position:absolute}.ck.ck-balloon-panel.ck-balloon-panel_with-arrow:before{z-index:var(--ck-balloon-panel-arrow-z-index)}.ck.ck-balloon-panel.ck-balloon-panel_with-arrow:after{z-index:calc(var(--ck-balloon-panel-arrow-z-index) + 1)}.ck.ck-balloon-panel[class*=arrow_n]:before{z-index:var(--ck-balloon-panel-arrow-z-index)}.ck.ck-balloon-panel[class*=arrow_n]:after{z-index:calc(var(--ck-balloon-panel-arrow-z-index) + 1)}.ck.ck-balloon-panel[class*=arrow_s]:before{z-index:var(--ck-balloon-panel-arrow-z-index)}.ck.ck-balloon-panel[class*=arrow_s]:after{z-index:calc(var(--ck-balloon-panel-arrow-z-index) + 1)}.ck.ck-balloon-panel.ck-balloon-panel_visible{display:block}:root{--ck-balloon-arrow-offset:2px;--ck-balloon-arrow-height:10px;--ck-balloon-arrow-half-width:8px}.ck.ck-balloon-panel{border-radius:0}.ck-rounded-corners .ck.ck-balloon-panel,.ck.ck-balloon-panel.ck-rounded-corners{border-radius:var(--ck-border-radius)}.ck.ck-balloon-panel{box-shadow:var(--ck-drop-shadow),0 0;min-height:15px;background:var(--ck-color-panel-background);border:1px solid var(--ck-color-panel-border)}.ck.ck-balloon-panel.ck-balloon-panel_with-arrow:after,.ck.ck-balloon-panel.ck-balloon-panel_with-arrow:before{width:0;height:0;border-style:solid}.ck.ck-balloon-panel[class*=arrow_n]:after,.ck.ck-balloon-panel[class*=arrow_n]:before{border-left-width:var(--ck-balloon-arrow-half-width);border-bottom-width:var(--ck-balloon-arrow-height);border-right-width:var(--ck-balloon-arrow-half-width);border-top-width:0}.ck.ck-balloon-panel[class*=arrow_n]:before{border-bottom-color:var(--ck-color-panel-border)}.ck.ck-balloon-panel[class*=arrow_n]:after,.ck.ck-balloon-panel[class*=arrow_n]:before{border-left-color:transparent;border-right-color:transparent;border-top-color:transparent}.ck.ck-balloon-panel[class*=arrow_n]:after{border-bottom-color:var(--ck-color-panel-background);margin-top:var(--ck-balloon-arrow-offset)}.ck.ck-balloon-panel[class*=arrow_s]:after,.ck.ck-balloon-panel[class*=arrow_s]:before{border-left-width:var(--ck-balloon-arrow-half-width);border-bottom-width:0;border-right-width:var(--ck-balloon-arrow-half-width);border-top-width:var(--ck-balloon-arrow-height)}.ck.ck-balloon-panel[class*=arrow_s]:before{border-top-color:var(--ck-color-panel-border)}.ck.ck-balloon-panel[class*=arrow_s]:after,.ck.ck-balloon-panel[class*=arrow_s]:before{border-left-color:transparent;border-bottom-color:transparent;border-right-color:transparent}.ck.ck-balloon-panel[class*=arrow_s]:after{border-top-color:var(--ck-color-panel-background);margin-bottom:var(--ck-balloon-arrow-offset)}.ck.ck-balloon-panel.ck-balloon-panel_arrow_n:after,.ck.ck-balloon-panel.ck-balloon-panel_arrow_n:before{left:50%;margin-left:calc(-1*var(--ck-balloon-arrow-half-width));top:calc(-1*var(--ck-balloon-arrow-height))}.ck.ck-balloon-panel.ck-balloon-panel_arrow_nw:after,.ck.ck-balloon-panel.ck-balloon-panel_arrow_nw:before{left:calc(2*var(--ck-balloon-arrow-half-width));top:calc(-1*var(--ck-balloon-arrow-height))}.ck.ck-balloon-panel.ck-balloon-panel_arrow_ne:after,.ck.ck-balloon-panel.ck-balloon-panel_arrow_ne:before{right:calc(2*var(--ck-balloon-arrow-half-width));top:calc(-1*var(--ck-balloon-arrow-height))}.ck.ck-balloon-panel.ck-balloon-panel_arrow_s:after,.ck.ck-balloon-panel.ck-balloon-panel_arrow_s:before{left:50%;margin-left:calc(-1*var(--ck-balloon-arrow-half-width));bottom:calc(-1*var(--ck-balloon-arrow-height))}.ck.ck-balloon-panel.ck-balloon-panel_arrow_sw:after,.ck.ck-balloon-panel.ck-balloon-panel_arrow_sw:before{left:calc(2*var(--ck-balloon-arrow-half-width));bottom:calc(-1*var(--ck-balloon-arrow-height))}.ck.ck-balloon-panel.ck-balloon-panel_arrow_se:after,.ck.ck-balloon-panel.ck-balloon-panel_arrow_se:before{right:calc(2*var(--ck-balloon-arrow-half-width));bottom:calc(-1*var(--ck-balloon-arrow-height))}'},function(A,j,P){var O=P(1),C=P(59);"string"==typeof(C=C.__esModule?C.default:C)&&(C=[[A.i,C,""]]);var q=(O(C,{injectType:"singletonStyleTag",insert:"head",singleton:!0}),C.locals?C.locals:{});A.exports=q},function(A,j){A.exports=".ck .ck-balloon-rotator__navigation{display:flex;align-items:center;justify-content:center}.ck .ck-balloon-rotator__content .ck-toolbar{justify-content:center}.ck .ck-balloon-rotator__navigation{background:var(--ck-color-toolbar-background);border-bottom:1px solid var(--ck-color-toolbar-border);padding:0 var(--ck-spacing-small)}.ck .ck-balloon-rotator__navigation>*{margin-right:var(--ck-spacing-small);margin-top:var(--ck-spacing-small);margin-bottom:var(--ck-spacing-small)}.ck .ck-balloon-rotator__navigation .ck-balloon-rotator__counter{margin-right:var(--ck-spacing-standard);margin-left:var(--ck-spacing-small)}.ck .ck-balloon-rotator__content .ck.ck-annotation-wrapper{box-shadow:none}"},function(A,j,P){var O=P(1),C=P(61);"string"==typeof(C=C.__esModule?C.default:C)&&(C=[[A.i,C,""]]);var q=(O(C,{injectType:"singletonStyleTag",insert:"head",singleton:!0}),C.locals?C.locals:{});A.exports=q},function(A,j){A.exports=".ck .ck-fake-panel{position:absolute;z-index:calc(var(--ck-z-modal) - 1)}.ck .ck-fake-panel div{position:absolute}.ck .ck-fake-panel div:first-child{z-index:2}.ck .ck-fake-panel div:nth-child(2){z-index:1}:root{--ck-balloon-fake-panel-offset-horizontal:6px;--ck-balloon-fake-panel-offset-vertical:6px}.ck .ck-fake-panel div{box-shadow:var(--ck-drop-shadow),0 0;min-height:15px;background:var(--ck-color-panel-background);border:1px solid var(--ck-color-panel-border);border-radius:var(--ck-border-radius);width:100%;height:100%}.ck .ck-fake-panel div:first-child{margin-left:var(--ck-balloon-fake-panel-offset-horizontal);margin-top:var(--ck-balloon-fake-panel-offset-vertical)}.ck .ck-fake-panel div:nth-child(2){margin-left:calc(var(--ck-balloon-fake-panel-offset-horizontal)*2);margin-top:calc(var(--ck-balloon-fake-panel-offset-vertical)*2)}.ck .ck-fake-panel div:nth-child(3){margin-left:calc(var(--ck-balloon-fake-panel-offset-horizontal)*3);margin-top:calc(var(--ck-balloon-fake-panel-offset-vertical)*3)}.ck .ck-balloon-panel_arrow_s+.ck-fake-panel,.ck .ck-balloon-panel_arrow_se+.ck-fake-panel,.ck .ck-balloon-panel_arrow_sw+.ck-fake-panel{--ck-balloon-fake-panel-offset-vertical:-6px}"},function(A,j,P){var O=P(1),C=P(63);"string"==typeof(C=C.__esModule?C.default:C)&&(C=[[A.i,C,""]]);var q=(O(C,{injectType:"singletonStyleTag",insert:"head",singleton:!0}),C.locals?C.locals:{});A.exports=q},function(A,j){A.exports=".ck-content .image{display:table;clear:both;text-align:center;margin:1em auto}.ck-content .image>img{display:block;margin:0 auto;max-width:100%;min-width:50px}"},function(A,j,P){var O=P(1),C=P(65);"string"==typeof(C=C.__esModule?C.default:C)&&(C=[[A.i,C,""]]);var q=(O(C,{injectType:"singletonStyleTag",insert:"head",singleton:!0}),C.locals?C.locals:{});A.exports=q},function(A,j){A.exports=".ck.ck-editor__editable .image{position:relative}.ck.ck-editor__editable .image .ck-progress-bar{position:absolute;top:0;left:0}.ck.ck-editor__editable .image.ck-appear{animation:fadeIn .7s}.ck.ck-editor__editable .image .ck-progress-bar{height:2px;width:0;background:var(--ck-color-upload-bar-background);transition:width .1s}@keyframes fadeIn{0%{opacity:0}to{opacity:1}}"},function(A,j,P){var O=P(1),C=P(67);"string"==typeof(C=C.__esModule?C.default:C)&&(C=[[A.i,C,""]]);var q=(O(C,{injectType:"singletonStyleTag",insert:"head",singleton:!0}),C.locals?C.locals:{});A.exports=q},function(A,j){A.exports='.ck-image-upload-complete-icon{display:block;position:absolute;top:10px;right:10px;border-radius:50%}.ck-image-upload-complete-icon:after{content:"";position:absolute}:root{--ck-color-image-upload-icon:#fff;--ck-color-image-upload-icon-background:#008a00;--ck-image-upload-icon-size:20px;--ck-image-upload-icon-width:2px}.ck-image-upload-complete-icon{width:var(--ck-image-upload-icon-size);height:var(--ck-image-upload-icon-size);opacity:0;background:var(--ck-color-image-upload-icon-background);animation-name:ck-upload-complete-icon-show,ck-upload-complete-icon-hide;animation-fill-mode:forwards,forwards;animation-duration:.5s,.5s;font-size:var(--ck-image-upload-icon-size);animation-delay:0ms,3s}.ck-image-upload-complete-icon:after{left:25%;top:50%;opacity:0;height:0;width:0;transform:scaleX(-1) rotate(135deg);transform-origin:left top;border-top:var(--ck-image-upload-icon-width) solid var(--ck-color-image-upload-icon);border-right:var(--ck-image-upload-icon-width) solid var(--ck-color-image-upload-icon);animation-name:ck-upload-complete-icon-check;animation-duration:.5s;animation-delay:.5s;animation-fill-mode:forwards;box-sizing:border-box}@keyframes ck-upload-complete-icon-show{0%{opacity:0}to{opacity:1}}@keyframes ck-upload-complete-icon-hide{0%{opacity:1}to{opacity:0}}@keyframes ck-upload-complete-icon-check{0%{opacity:1;width:0;height:0}33%{width:.3em;height:0}to{opacity:1;width:.3em;height:.45em}}'},function(A,j,P){var O=P(1),C=P(69);"string"==typeof(C=C.__esModule?C.default:C)&&(C=[[A.i,C,""]]);var q=(O(C,{injectType:"singletonStyleTag",insert:"head",singleton:!0}),C.locals?C.locals:{});A.exports=q},function(A,j){A.exports='.ck .ck-upload-placeholder-loader{position:absolute;display:flex;align-items:center;justify-content:center;top:0;left:0}.ck .ck-upload-placeholder-loader:before{content:"";position:relative}:root{--ck-color-upload-placeholder-loader:#b3b3b3;--ck-upload-placeholder-loader-size:32px}.ck .ck-image-upload-placeholder{width:100%;margin:0}.ck .ck-upload-placeholder-loader{width:100%;height:100%}.ck .ck-upload-placeholder-loader:before{width:var(--ck-upload-placeholder-loader-size);height:var(--ck-upload-placeholder-loader-size);border-radius:50%;border-top:3px solid var(--ck-color-upload-placeholder-loader);border-right:2px solid transparent;animation:ck-upload-placeholder-loader 1s linear infinite}@keyframes ck-upload-placeholder-loader{to{transform:rotate(1turn)}}'},function(A,j,P){var O=P(1),C=P(71);"string"==typeof(C=C.__esModule?C.default:C)&&(C=[[A.i,C,""]]);var q=(O(C,{injectType:"singletonStyleTag",insert:"head",singleton:!0}),C.locals?C.locals:{});A.exports=q},function(A,j){A.exports=".ck.ck-link-form{display:flex}.ck.ck-link-form .ck-label{display:none}@media screen and (max-width:600px){.ck.ck-link-form{flex-wrap:wrap}.ck.ck-link-form .ck-labeled-input{flex-basis:100%}.ck.ck-link-form .ck-button{flex-basis:50%}}.ck.ck-link-form_layout-vertical{display:block}.ck.ck-link-form{padding:var(--ck-spacing-standard)}.ck.ck-link-form:focus{outline:none}[dir=ltr] .ck.ck-link-form>:not(:first-child),[dir=rtl] .ck.ck-link-form>:not(:last-child){margin-left:var(--ck-spacing-standard)}@media screen and (max-width:600px){.ck.ck-link-form{padding:0;width:calc(0.8*var(--ck-input-text-width))}.ck.ck-link-form .ck-labeled-input{margin:var(--ck-spacing-standard) var(--ck-spacing-standard) 0}.ck.ck-link-form .ck-labeled-input .ck-input-text{min-width:0;width:100%}.ck.ck-link-form .ck-button{padding:var(--ck-spacing-standard);margin-top:var(--ck-spacing-standard);border-radius:0;border:0;border-top:1px solid var(--ck-color-base-border)}[dir=ltr] .ck.ck-link-form .ck-button{margin-left:0}[dir=ltr] .ck.ck-link-form .ck-button:first-of-type{border-right:1px solid var(--ck-color-base-border)}[dir=rtl] .ck.ck-link-form .ck-button{margin-left:0}[dir=rtl] .ck.ck-link-form .ck-button:last-of-type{border-right:1px solid var(--ck-color-base-border)}}.ck.ck-link-form_layout-vertical{padding:0;min-width:var(--ck-input-text-width)}.ck.ck-link-form_layout-vertical .ck-labeled-input{margin:var(--ck-spacing-standard) var(--ck-spacing-standard) var(--ck-spacing-small)}.ck.ck-link-form_layout-vertical .ck-labeled-input .ck-input-text{min-width:0;width:100%}.ck.ck-link-form_layout-vertical .ck-button{padding:var(--ck-spacing-standard);margin:0;border-radius:0;border:0;border-top:1px solid var(--ck-color-base-border);width:50%}[dir=ltr] .ck.ck-link-form_layout-vertical .ck-button{margin-left:0}[dir=ltr] .ck.ck-link-form_layout-vertical .ck-button:first-of-type{border-right:1px solid var(--ck-color-base-border)}[dir=rtl] .ck.ck-link-form_layout-vertical .ck-button{margin-left:0}[dir=rtl] .ck.ck-link-form_layout-vertical .ck-button:last-of-type{border-right:1px solid var(--ck-color-base-border)}.ck.ck-link-form_layout-vertical .ck.ck-list{margin-left:0}.ck.ck-link-form_layout-vertical .ck.ck-list .ck-button.ck-switchbutton{border:0;width:100%}.ck.ck-link-form_layout-vertical .ck.ck-list .ck-button.ck-switchbutton:hover{background:none}"},function(A,j,P){var O=P(1),C=P(73);"string"==typeof(C=C.__esModule?C.default:C)&&(C=[[A.i,C,""]]);var q=(O(C,{injectType:"singletonStyleTag",insert:"head",singleton:!0}),C.locals?C.locals:{});A.exports=q},function(A,j){A.exports=".ck.ck-link-actions{display:flex;flex-direction:row;flex-wrap:nowrap}.ck.ck-link-actions .ck-link-actions__preview{display:inline-block}.ck.ck-link-actions .ck-link-actions__preview .ck-button__label{overflow:hidden}@media screen and (max-width:600px){.ck.ck-link-actions{flex-wrap:wrap}.ck.ck-link-actions .ck-link-actions__preview{flex-basis:100%}.ck.ck-link-actions .ck-button:not(.ck-link-actions__preview){flex-basis:50%}}.ck.ck-link-actions{padding:var(--ck-spacing-standard)}.ck.ck-link-actions .ck-button.ck-link-actions__preview{padding-left:0;padding-right:0}.ck.ck-link-actions .ck-button.ck-link-actions__preview .ck-button__label{padding:0 var(--ck-spacing-medium);color:var(--ck-color-link-default);text-overflow:ellipsis;cursor:pointer;max-width:var(--ck-input-text-width);min-width:3em;text-align:center}.ck.ck-link-actions .ck-button.ck-link-actions__preview .ck-button__label:hover{text-decoration:underline}.ck.ck-link-actions .ck-button.ck-link-actions__preview,.ck.ck-link-actions .ck-button.ck-link-actions__preview:active,.ck.ck-link-actions .ck-button.ck-link-actions__preview:focus,.ck.ck-link-actions .ck-button.ck-link-actions__preview:hover{background:none}.ck.ck-link-actions .ck-button.ck-link-actions__preview:active{box-shadow:none}.ck.ck-link-actions .ck-button.ck-link-actions__preview:focus .ck-button__label{text-decoration:underline}.ck.ck-link-actions:focus{outline:none}[dir=ltr] .ck.ck-link-actions .ck-button:not(:first-child),[dir=rtl] .ck.ck-link-actions .ck-button:not(:last-child){margin-left:var(--ck-spacing-standard)}@media screen and (max-width:600px){.ck.ck-link-actions{padding:0;width:calc(0.8*var(--ck-input-text-width))}.ck.ck-link-actions .ck-button.ck-link-actions__preview{margin:var(--ck-spacing-standard) var(--ck-spacing-standard) 0}.ck.ck-link-actions .ck-button.ck-link-actions__preview .ck-button__label{min-width:0;max-width:100%}.ck.ck-link-actions .ck-button:not(.ck-link-actions__preview){padding:var(--ck-spacing-standard);margin-top:var(--ck-spacing-standard);border-radius:0;border:0;border-top:1px solid var(--ck-color-base-border)}[dir=ltr] .ck.ck-link-actions .ck-button:not(.ck-link-actions__preview){margin-left:0}[dir=ltr] .ck.ck-link-actions .ck-button:not(.ck-link-actions__preview):first-of-type{border-right:1px solid var(--ck-color-base-border)}[dir=rtl] .ck.ck-link-actions .ck-button:not(.ck-link-actions__preview){margin-left:0}[dir=rtl] .ck.ck-link-actions .ck-button:not(.ck-link-actions__preview):last-of-type{border-right:1px solid var(--ck-color-base-border)}}"},function(A,j,P){var O=P(1),C=P(75);"string"==typeof(C=C.__esModule?C.default:C)&&(C=[[A.i,C,""]]);var q=(O(C,{injectType:"singletonStyleTag",insert:"head",singleton:!0}),C.locals?C.locals:{});A.exports=q},function(A,j){A.exports=":root{--ck-color-table-focused-cell-background:#f5fafe}.ck-widget.table td.ck-editor__nested-editable.ck-editor__nested-editable_focused,.ck-widget.table th.ck-editor__nested-editable.ck-editor__nested-editable_focused{background:var(--ck-color-table-focused-cell-background);border-style:none;outline:1px solid var(--ck-color-focus-border);outline-offset:-1px}"},function(A,j,P){var O=P(1),C=P(77);"string"==typeof(C=C.__esModule?C.default:C)&&(C=[[A.i,C,""]]);var q=(O(C,{injectType:"singletonStyleTag",insert:"head",singleton:!0}),C.locals?C.locals:{});A.exports=q},function(A,j){A.exports=".ck .ck-insert-table-dropdown__grid{display:flex;flex-direction:row;flex-wrap:wrap}:root{--ck-insert-table-dropdown-padding:10px;--ck-insert-table-dropdown-box-height:11px;--ck-insert-table-dropdown-box-width:12px;--ck-insert-table-dropdown-box-margin:1px}.ck .ck-insert-table-dropdown__grid{width:calc(var(--ck-insert-table-dropdown-box-width)*10 + var(--ck-insert-table-dropdown-box-margin)*20 + var(--ck-insert-table-dropdown-padding)*2);padding:var(--ck-insert-table-dropdown-padding) var(--ck-insert-table-dropdown-padding) 0}.ck .ck-insert-table-dropdown__label{text-align:center}.ck .ck-insert-table-dropdown-grid-box{width:var(--ck-insert-table-dropdown-box-width);height:var(--ck-insert-table-dropdown-box-height);margin:var(--ck-insert-table-dropdown-box-margin);border:1px solid var(--ck-color-base-border);border-radius:1px}.ck .ck-insert-table-dropdown-grid-box.ck-on{border-color:var(--ck-color-focus-border);background:var(--ck-color-focus-outer-shadow)}"},function(A,j,P){var O=P(1),C=P(79);"string"==typeof(C=C.__esModule?C.default:C)&&(C=[[A.i,C,""]]);var q=(O(C,{injectType:"singletonStyleTag",insert:"head",singleton:!0}),C.locals?C.locals:{});A.exports=q},function(A,j){A.exports=".ck-content .table{margin:1em auto;display:table}.ck-content .table table{border-collapse:collapse;border-spacing:0;width:100%;height:100%;border:1px double #b3b3b3}.ck-content .table table td,.ck-content .table table th{min-width:2em;padding:.4em;border-color:#d9d9d9}.ck-content .table table th{font-weight:700;background:#fafafa}"},function(A,j,P){var O=P(1),C=P(81);"string"==typeof(C=C.__esModule?C.default:C)&&(C=[[A.i,C,""]]);var q=(O(C,{injectType:"singletonStyleTag",insert:"head",singleton:!0}),C.locals?C.locals:{});A.exports=q},function(A,j){A.exports=".ck.ck-labeled-view .ck-labeled-view__status{font-size:var(--ck-font-size-small);margin-top:var(--ck-spacing-small);white-space:normal}.ck.ck-labeled-view .ck-labeled-view__status_error{color:var(--ck-color-base-error)}.ck.ck-labeled-view>.ck.ck-label{width:100%;text-overflow:ellipsis;overflow:hidden}"},function(A,j,P){var O=P(1),C=P(83);"string"==typeof(C=C.__esModule?C.default:C)&&(C=[[A.i,C,""]]);var q=(O(C,{injectType:"singletonStyleTag",insert:"head",singleton:!0}),C.locals?C.locals:{});A.exports=q},function(A,j){A.exports=".ck.ck-color-grid{display:grid}:root{--ck-color-grid-tile-size:24px;--ck-color-color-grid-check-icon:#000}.ck.ck-color-grid{grid-gap:5px;padding:8px}.ck.ck-color-grid__tile{width:var(--ck-color-grid-tile-size);height:var(--ck-color-grid-tile-size);min-width:var(--ck-color-grid-tile-size);min-height:var(--ck-color-grid-tile-size);padding:0;transition:box-shadow .2s ease;border:0}.ck.ck-color-grid__tile.ck-disabled{cursor:unset;transition:unset}.ck.ck-color-grid__tile.ck-color-table__color-tile_bordered{box-shadow:0 0 0 1px var(--ck-color-base-border)}.ck.ck-color-grid__tile .ck.ck-icon{display:none;color:var(--ck-color-color-grid-check-icon)}.ck.ck-color-grid__tile.ck-on{box-shadow:inset 0 0 0 1px var(--ck-color-base-background),0 0 0 2px var(--ck-color-base-text)}.ck.ck-color-grid__tile.ck-on .ck.ck-icon{display:block}.ck.ck-color-grid__tile.ck-on,.ck.ck-color-grid__tile:focus:not(.ck-disabled),.ck.ck-color-grid__tile:hover:not(.ck-disabled){border:0}.ck.ck-color-grid__tile:focus:not(.ck-disabled),.ck.ck-color-grid__tile:hover:not(.ck-disabled){box-shadow:inset 0 0 0 1px var(--ck-color-base-background),0 0 0 2px var(--ck-color-focus-border)}.ck.ck-color-grid__label{padding:0 var(--ck-spacing-standard)}"},function(A,j,P){var O=P(1),C=P(85);"string"==typeof(C=C.__esModule?C.default:C)&&(C=[[A.i,C,""]]);var q=(O(C,{injectType:"singletonStyleTag",insert:"head",singleton:!0}),C.locals?C.locals:{});A.exports=q},function(A,j){A.exports=".ck.ck-input-color{width:100%;display:flex}.ck.ck-input-color>input.ck.ck-input-text{min-width:auto;flex-grow:1}.ck.ck-input-color>input.ck.ck-input-text:active,.ck.ck-input-color>input.ck.ck-input-text:focus{z-index:var(--ck-z-default)}.ck.ck-input-color>div.ck.ck-dropdown{min-width:auto}.ck.ck-input-color>div.ck.ck-dropdown>.ck-input-color__button .ck-dropdown__arrow{display:none}.ck.ck-input-color .ck.ck-input-color__button .ck.ck-input-color__button__preview{position:relative;overflow:hidden}.ck.ck-input-color .ck.ck-input-color__button .ck.ck-input-color__button__preview>.ck.ck-input-color__button__preview__no-color-indicator{position:absolute;display:block}.ck.ck-input-color>.ck.ck-input-text{border-top-right-radius:0;border-bottom-right-radius:0}.ck.ck-input-color>.ck.ck-dropdown>.ck.ck-input-color__button{border-top-left-radius:0;border-bottom-left-radius:0;margin-left:-1px;padding:0}.ck.ck-input-color>.ck.ck-dropdown>.ck.ck-input-color__button.ck-disabled{background:var(--ck-color-input-disabled-background)}.ck.ck-input-color>.ck.ck-dropdown>.ck.ck-input-color__button>.ck.ck-input-color__button__preview{border-radius:0}.ck-rounded-corners .ck.ck-input-color>.ck.ck-dropdown>.ck.ck-input-color__button>.ck.ck-input-color__button__preview,.ck.ck-input-color>.ck.ck-dropdown>.ck.ck-input-color__button>.ck.ck-input-color__button__preview.ck-rounded-corners{border-radius:var(--ck-border-radius)}.ck.ck-input-color>.ck.ck-dropdown>.ck.ck-input-color__button>.ck.ck-input-color__button__preview{width:20px;height:20px;border:1px solid var(--ck-color-input-border)}.ck.ck-input-color>.ck.ck-dropdown>.ck.ck-input-color__button>.ck.ck-input-color__button__preview>.ck.ck-input-color__button__preview__no-color-indicator{top:-30%;left:50%;height:150%;width:8%;background:red;border-radius:2px;transform:rotate(45deg);transform-origin:50%}.ck.ck-input-color .ck.ck-input-color__remove-color{width:100%;border-bottom:1px solid var(--ck-color-input-border);padding:calc(var(--ck-spacing-standard)/2) var(--ck-spacing-standard)}.ck.ck-input-color .ck.ck-input-color__remove-color .ck.ck-icon{margin-right:var(--ck-spacing-standard)}"},function(A,j,P){var O=P(1),C=P(87);"string"==typeof(C=C.__esModule?C.default:C)&&(C=[[A.i,C,""]]);var q=(O(C,{injectType:"singletonStyleTag",insert:"head",singleton:!0}),C.locals?C.locals:{});A.exports=q},function(A,j){A.exports=".ck.ck-form__row{display:flex;flex-direction:row;flex-wrap:nowrap;justify-content:space-between}.ck.ck-form__row>:not(.ck-label){flex-grow:1}.ck.ck-form__row.ck-table-form__action-row .ck-button-cancel,.ck.ck-form__row.ck-table-form__action-row .ck-button-save{justify-content:center}.ck.ck-form__row{padding:var(--ck-spacing-standard) var(--ck-spacing-large) 0}.ck.ck-form__row>:not(.ck-label)+*{margin-left:var(--ck-spacing-large)}.ck.ck-form__row>.ck-label{width:100%;min-width:100%}.ck.ck-form__row.ck-table-form__action-row{margin-top:var(--ck-spacing-large)}.ck.ck-form__row.ck-table-form__action-row .ck-button .ck-button__label{color:var(--ck-color-text)}"},function(A,j,P){var O=P(1),C=P(89);"string"==typeof(C=C.__esModule?C.default:C)&&(C=[[A.i,C,""]]);var q=(O(C,{injectType:"singletonStyleTag",insert:"head",singleton:!0}),C.locals?C.locals:{});A.exports=q},function(A,j){A.exports=":root{--ck-table-form-header-height:38px}.ck.ck-form__header{padding:0 var(--ck-spacing-large);height:var(--ck-table-form-header-height);line-height:var(--ck-table-form-header-height);border-bottom:1px solid var(--ck-color-base-border)}.ck.ck-form__header .ck-form__header__label{font-weight:700}"},function(A,j,P){var O=P(1),C=P(91);"string"==typeof(C=C.__esModule?C.default:C)&&(C=[[A.i,C,""]]);var q=(O(C,{injectType:"singletonStyleTag",insert:"head",singleton:!0}),C.locals?C.locals:{});A.exports=q},function(A,j){A.exports=".ck.ck-form{padding:0 0 var(--ck-spacing-large)}.ck.ck-form:focus{outline:none}.ck.ck-form .ck.ck-input-text{min-width:100%;width:0}.ck.ck-form .ck.ck-dropdown{min-width:100%}.ck.ck-form .ck.ck-dropdown .ck-dropdown__button:not(:focus){border:1px solid var(--ck-color-base-border)}.ck.ck-form .ck.ck-dropdown .ck-dropdown__button .ck-button__label{width:100%}"},function(A,j,P){var O=P(1),C=P(93);"string"==typeof(C=C.__esModule?C.default:C)&&(C=[[A.i,C,""]]);var q=(O(C,{injectType:"singletonStyleTag",insert:"head",singleton:!0}),C.locals?C.locals:{});A.exports=q},function(A,j){A.exports='.ck.ck-table-form .ck-form__row.ck-table-form__border-row{flex-wrap:wrap}.ck.ck-table-form .ck-form__row.ck-table-form__border-row .ck-labeled-view{display:flex;flex-direction:column-reverse}.ck.ck-table-form .ck-form__row.ck-table-form__border-row .ck-labeled-view .ck.ck-dropdown,.ck.ck-table-form .ck-form__row.ck-table-form__border-row .ck-table-form__border-style,.ck.ck-table-form .ck-form__row.ck-table-form__border-row .ck-table-form__border-width{flex-grow:0}.ck.ck-table-form .ck-form__row.ck-table-form__dimensions-row{flex-wrap:wrap;align-items:center}.ck.ck-table-form .ck-form__row.ck-table-form__dimensions-row .ck-labeled-view{display:flex;flex-direction:column-reverse;align-items:center}.ck.ck-table-form .ck-form__row.ck-table-form__dimensions-row .ck-labeled-view .ck.ck-dropdown,.ck.ck-table-form .ck-form__row.ck-table-form__dimensions-row .ck-table-form__dimension-operator{flex-grow:0}.ck.ck-table-form .ck.ck-labeled-view{position:relative}.ck.ck-table-form .ck.ck-labeled-view .ck.ck-labeled-view__status{position:absolute;left:50%;bottom:calc(-1*var(--ck-table-properties-error-arrow-size));transform:translate(-50%,100%);z-index:1}.ck.ck-table-form .ck.ck-labeled-view .ck.ck-labeled-view__status:after{content:"";position:absolute;top:calc(-1*var(--ck-table-properties-error-arrow-size));left:50%;transform:translateX(-50%)}:root{--ck-table-properties-error-arrow-size:6px;--ck-table-properties-min-error-width:150px}.ck.ck-table-form .ck-form__row.ck-table-form__border-row .ck-labeled-view>.ck-label{font-size:var(--ck-font-size-tiny);text-align:center}.ck.ck-table-form .ck-form__row.ck-table-form__border-row .ck-table-form__border-style{width:80px;min-width:80px}.ck.ck-table-form .ck-form__row.ck-table-form__border-row .ck-table-form__border-width{width:50px;min-width:50px}.ck.ck-table-form .ck-form__row.ck-table-form__dimensions-row{padding:0}.ck.ck-table-form .ck-form__row.ck-table-form__dimensions-row .ck-labeled-view>.ck-label{font-size:10px;text-align:center}.ck.ck-table-form .ck-form__row.ck-table-form__dimensions-row .ck-table-form__dimensions-row__width{margin-right:var(--ck-spacing-small)}.ck.ck-table-form .ck-form__row.ck-table-form__dimensions-row .ck-table-form__dimensions-row__height{margin-left:var(--ck-spacing-small)}.ck.ck-table-form .ck-form__row.ck-table-form__dimensions-row .ck-table-form__dimension-operator{margin:0;align-self:start;display:inline-block;height:var(--ck-ui-component-min-height);line-height:var(--ck-ui-component-min-height)}.ck.ck-table-form .ck.ck-labeled-view .ck.ck-labeled-view__status{border-radius:0}.ck-rounded-corners .ck.ck-table-form .ck.ck-labeled-view .ck.ck-labeled-view__status,.ck.ck-table-form .ck.ck-labeled-view .ck.ck-labeled-view__status.ck-rounded-corners{border-radius:var(--ck-border-radius)}.ck.ck-table-form .ck.ck-labeled-view .ck.ck-labeled-view__status{background:var(--ck-color-base-error);color:var(--ck-color-base-background);padding:var(--ck-spacing-small) var(--ck-spacing-medium);min-width:var(--ck-table-properties-min-error-width);text-align:center}.ck.ck-table-form .ck.ck-labeled-view .ck.ck-labeled-view__status:after{border-left:var(--ck-table-properties-error-arrow-size) solid transparent;border-bottom:var(--ck-table-properties-error-arrow-size) solid var(--ck-color-base-error);border-right:var(--ck-table-properties-error-arrow-size) solid transparent;border-top:0 solid transparent}.ck.ck-table-form .ck.ck-labeled-view .ck.ck-labeled-view__status{animation:ck-table-form-labeled-view-status-appear .15s ease both}.ck.ck-table-form .ck.ck-labeled-view .ck-input.ck-error:not(:focus)+.ck.ck-labeled-view__status{display:none}@keyframes ck-table-form-labeled-view-status-appear{0%{opacity:0}to{opacity:1}}'},function(A,j,P){var O=P(1),C=P(95);"string"==typeof(C=C.__esModule?C.default:C)&&(C=[[A.i,C,""]]);var q=(O(C,{injectType:"singletonStyleTag",insert:"head",singleton:!0}),C.locals?C.locals:{});A.exports=q},function(A,j){A.exports=".ck.ck-table-properties-form .ck-form__row.ck-table-properties-form__alignment-row{flex-wrap:wrap;flex-basis:0;align-content:baseline}.ck.ck-table-properties-form .ck-form__row.ck-table-properties-form__alignment-row .ck.ck-toolbar .ck-toolbar__items{flex-wrap:nowrap}.ck.ck-table-properties-form{width:320px}.ck.ck-table-properties-form .ck-form__row.ck-table-properties-form__alignment-row{padding:0}.ck.ck-table-properties-form .ck-form__row.ck-table-properties-form__alignment-row .ck.ck-toolbar{background:none}.ck.ck-table-properties-form .ck-form__row.ck-table-properties-form__alignment-row .ck.ck-toolbar .ck-toolbar__items>*{width:40px}"},function(A,j,P){var O=P(1),C=P(97);"string"==typeof(C=C.__esModule?C.default:C)&&(C=[[A.i,C,""]]);var q=(O(C,{injectType:"singletonStyleTag",insert:"head",singleton:!0}),C.locals?C.locals:{});A.exports=q},function(A,j){A.exports=".ck .ck-widget_with-resizer{position:relative}.ck .ck-widget__resizer{display:none;position:absolute;pointer-events:none;left:0;top:0;outline:1px solid var(--ck-color-resizer)}.ck-focused .ck-widget_with-resizer.ck-widget_selected>.ck-widget__resizer{display:block}.ck .ck-widget__resizer__handle{position:absolute;pointer-events:all;width:var(--ck-resizer-size);height:var(--ck-resizer-size);background:var(--ck-color-focus-border);border:var(--ck-resizer-border-width) solid #fff;border-radius:var(--ck-resizer-border-radius)}.ck .ck-widget__resizer__handle.ck-widget__resizer__handle-top-left{top:var(--ck-resizer-offset);left:var(--ck-resizer-offset);cursor:nwse-resize}.ck .ck-widget__resizer__handle.ck-widget__resizer__handle-top-right{top:var(--ck-resizer-offset);right:var(--ck-resizer-offset);cursor:nesw-resize}.ck .ck-widget__resizer__handle.ck-widget__resizer__handle-bottom-right{bottom:var(--ck-resizer-offset);right:var(--ck-resizer-offset);cursor:nwse-resize}.ck .ck-widget__resizer__handle.ck-widget__resizer__handle-bottom-left{bottom:var(--ck-resizer-offset);left:var(--ck-resizer-offset);cursor:nesw-resize}"},function(A,j,P){var O=P(1),C=P(99);"string"==typeof(C=C.__esModule?C.default:C)&&(C=[[A.i,C,""]]);var q=(O(C,{injectType:"singletonStyleTag",insert:"head",singleton:!0}),C.locals?C.locals:{});A.exports=q},function(A,j){A.exports=".ck-content .image.image_resized{max-width:100%;display:block;box-sizing:border-box}.ck-content .image.image_resized img{width:100%}.ck-content .image.image_resized>figcaption{display:block}"},function(A,j,P){var O=P(1),C=P(101);"string"==typeof(C=C.__esModule?C.default:C)&&(C=[[A.i,C,""]]);var q=(O(C,{injectType:"singletonStyleTag",insert:"head",singleton:!0}),C.locals?C.locals:{});A.exports=q},function(A,j){A.exports=".ck .ck-button.ck-color-table__remove-color{display:flex;align-items:center;width:100%}label.ck.ck-color-grid__label{font-weight:unset}.ck .ck-button.ck-color-table__remove-color{padding:calc(var(--ck-spacing-standard)/2) var(--ck-spacing-standard);border-bottom-left-radius:0;border-bottom-right-radius:0}.ck .ck-button.ck-color-table__remove-color:not(:focus){border-bottom:1px solid var(--ck-color-base-border)}[dir=ltr] .ck .ck-button.ck-color-table__remove-color .ck.ck-icon{margin-right:var(--ck-spacing-standard)}[dir=rtl] .ck .ck-button.ck-color-table__remove-color .ck.ck-icon{margin-left:var(--ck-spacing-standard)}"},function(A,j,P){var O=P(1),C=P(103);"string"==typeof(C=C.__esModule?C.default:C)&&(C=[[A.i,C,""]]);var q=(O(C,{injectType:"singletonStyleTag",insert:"head",singleton:!0}),C.locals?C.locals:{});A.exports=q},function(A,j){A.exports=".text-tiny{font-size:.7em}.text-small{font-size:.85em}.text-big{font-size:1.4em}.text-huge{font-size:1.8em}"},function(A,j,P){var O=P(1),C=P(105);"string"==typeof(C=C.__esModule?C.default:C)&&(C=[[A.i,C,""]]);var q=(O(C,{injectType:"singletonStyleTag",insert:"head",singleton:!0}),C.locals?C.locals:{});A.exports=q},function(A,j){A.exports=":root{--ck-mention-list-max-height:300px}.ck.ck-mentions{max-height:var(--ck-mention-list-max-height);overflow-y:auto;overflow-x:hidden;overscroll-behavior:contain}.ck.ck-mentions>.ck-list__item{overflow:hidden;flex-shrink:0}"},function(A,j,P){var O=P(1),C=P(107);"string"==typeof(C=C.__esModule?C.default:C)&&(C=[[A.i,C,""]]);var q=(O(C,{injectType:"singletonStyleTag",insert:"head",singleton:!0}),C.locals?C.locals:{});A.exports=q},function(A,j){A.exports=":root{--ck-color-mention-background:rgba(153,0,48,0.1);--ck-color-mention-text:#990030}.ck-content .mention{background:var(--ck-color-mention-background);color:var(--ck-color-mention-text)}"},function(A,j,P){var O=P(1),C=P(109);"string"==typeof(C=C.__esModule?C.default:C)&&(C=[[A.i,C,""]]);var q=(O(C,{injectType:"singletonStyleTag",insert:"head",singleton:!0}),C.locals?C.locals:{});A.exports=q},function(A,j){A.exports=":root{--ck-image-style-spacing:1.5em}.ck-content .image-style-align-center,.ck-content .image-style-align-left,.ck-content .image-style-align-right,.ck-content .image-style-side{max-width:50%}.ck-content .image-style-side{float:right;margin-left:var(--ck-image-style-spacing)}.ck-content .image-style-align-left{float:left;margin-right:var(--ck-image-style-spacing)}.ck-content .image-style-align-center{margin-left:auto;margin-right:auto}.ck-content .image-style-align-right{float:right;margin-left:var(--ck-image-style-spacing)}"},function(A,j,P){"use strict";P.r(j),P.d(j,"default",function(){return zm});var O=P(3),C=O.a.Symbol,U=Object.prototype,q=U.hasOwnProperty,Re=U.toString,de=C?C.toStringTag:void 0,ie=Object.prototype.toString,X=C?C.toStringTag:void 0,ne=function(c){return null==c?void 0===c?"[object Undefined]":"[object Null]":X&&X in Object(c)?function(c){var i=q.call(c,de),o=c[de];try{c[de]=void 0;var a=!0}catch(h){}var d=Re.call(c);return a&&(i?c[de]=o:delete c[de]),d}(c):function(c){return ie.call(c)}(c)},ke=function(c,i){return function(o){return c(i(o))}},De=ke(Object.getPrototypeOf,Object),Ht=function(c){return null!=c&&"object"==typeof c},Xe=Function.prototype.toString,yt=Object.prototype.hasOwnProperty,Le=Xe.call(Object),Ae=function(c){if(!Ht(c)||"[object Object]"!=ne(c))return!1;var i=De(c);if(null===i)return!0;var o=yt.call(i,"constructor")&&i.constructor;return"function"==typeof o&&o instanceof o&&Xe.call(o)==Le},St=function(c,i){return c===i||c!=c&&i!=i},wt=function(c,i){for(var o=c.length;o--;)if(St(c[o][0],i))return o;return-1},Qn=Array.prototype.splice;function ji(c){var i=-1,o=null==c?0:c.length;for(this.clear();++i<o;){var a=c[i];this.set(a[0],a[1])}}ji.prototype.clear=function(){this.__data__=[],this.size=0},ji.prototype.delete=function(c){var i=this.__data__,o=wt(i,c);return!(o<0||(o==i.length-1?i.pop():Qn.call(i,o,1),--this.size,0))},ji.prototype.get=function(c){var i=this.__data__,o=wt(i,c);return o<0?void 0:i[o][1]},ji.prototype.has=function(c){return wt(this.__data__,c)>-1},ji.prototype.set=function(c,i){var o=this.__data__,a=wt(o,c);return a<0?(++this.size,o.push([c,i])):o[a][1]=i,this};var Oe,ao=ji,An=function(c){var i=typeof c;return null!=c&&("object"==i||"function"==i)},ts=function(c){if(!An(c))return!1;var i=ne(c);return"[object Function]"==i||"[object GeneratorFunction]"==i||"[object AsyncFunction]"==i||"[object Proxy]"==i},ru=O.a["__core-js_shared__"],mn=(Oe=/[^.]+$/.exec(ru&&ru.keys&&ru.keys.IE_PROTO||""))?"Symbol(src)_1."+Oe:"",$0=Function.prototype.toString,Te=function(c){if(null!=c){try{return $0.call(c)}catch(i){}try{return c+""}catch(i){}}return""},sf=/^\[object .+?Constructor\]$/,LS=RegExp("^"+Function.prototype.toString.call(Object.prototype.hasOwnProperty).replace(/[\\^$.*+?()[\]{}|]/g,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),BS=function(c){return!(!An(c)||function(c){return!!mn&&mn in c}(c))&&(ts(c)?LS:sf).test(Te(c))},Qa=function(c,i){var o=function(c,i){return null==c?void 0:c[i]}(c,i);return BS(o)?o:void 0},Ya=Qa(O.a,"Map"),ou=Qa(Object,"create"),VS=Object.prototype.hasOwnProperty,zS=Object.prototype.hasOwnProperty;function cc(c){var i=-1,o=null==c?0:c.length;for(this.clear();++i<o;){var a=c[i];this.set(a[0],a[1])}}cc.prototype.clear=function(){this.__data__=ou?ou(null):{},this.size=0},cc.prototype.delete=function(c){var i=this.has(c)&&delete this.__data__[c];return this.size-=i?1:0,i},cc.prototype.get=function(c){var i=this.__data__;if(ou){var o=i[c];return"__lodash_hash_undefined__"===o?void 0:o}return VS.call(i,c)?i[c]:void 0},cc.prototype.has=function(c){var i=this.__data__;return ou?void 0!==i[c]:zS.call(i,c)},cc.prototype.set=function(c,i){var o=this.__data__;return this.size+=this.has(c)?0:1,o[c]=ou&&void 0===i?"__lodash_hash_undefined__":i,this};var Jg=cc,af=function(c,i){var o=c.__data__;return function(c){var i=typeof c;return"string"==i||"number"==i||"symbol"==i||"boolean"==i?"__proto__"!==c:null===c}(i)?o["string"==typeof i?"string":"hash"]:o.map};function qs(c){var i=-1,o=null==c?0:c.length;for(this.clear();++i<o;){var a=c[i];this.set(a[0],a[1])}}qs.prototype.clear=function(){this.size=0,this.__data__={hash:new Jg,map:new(Ya||ao),string:new Jg}},qs.prototype.delete=function(c){var i=af(this,c).delete(c);return this.size-=i?1:0,i},qs.prototype.get=function(c){return af(this,c).get(c)},qs.prototype.has=function(c){return af(this,c).has(c)},qs.prototype.set=function(c,i){var o=af(this,c),a=o.size;return o.set(c,i),this.size+=o.size==a?0:1,this};var dc=qs;function Gs(c){var i=this.__data__=new ao(c);this.size=i.size}Gs.prototype.clear=function(){this.__data__=new ao,this.size=0},Gs.prototype.delete=function(c){var i=this.__data__,o=i.delete(c);return this.size=i.size,o},Gs.prototype.get=function(c){return this.__data__.get(c)},Gs.prototype.has=function(c){return this.__data__.has(c)},Gs.prototype.set=function(c,i){var o=this.__data__;if(o instanceof ao){var a=o.__data__;if(!Ya||a.length<199)return a.push([c,i]),this.size=++o.size,this;o=this.__data__=new dc(a)}return o.set(c,i),this.size=o.size,this};var uc=Gs,hc=function(){try{var c=Qa(Object,"defineProperty");return c({},"",{}),c}catch(i){}}(),su=function(c,i,o){"__proto__"==i&&hc?hc(c,i,{configurable:!0,enumerable:!0,value:o,writable:!0}):c[i]=o},n_=Object.prototype.hasOwnProperty,gi=function(c,i,o){var a=c[i];n_.call(c,i)&&St(a,o)&&(void 0!==o||i in c)||su(c,i,o)},Za=function(c,i,o,a){var d=!o;o||(o={});for(var h=-1,p=i.length;++h<p;){var g=i[h],_=a?a(o[g],c[g],g,o,c):void 0;void 0===_&&(_=c[g]),d?su(o,g,_):gi(o,g,_)}return o},i_=function(c){return Ht(c)&&"[object Arguments]"==ne(c)},r_=Object.prototype,o_=r_.hasOwnProperty,Q0=r_.propertyIsEnumerable,cf=i_(function(){return arguments}())?i_:function(c){return Ht(c)&&o_.call(c,"callee")&&!Q0.call(c,"callee")},gn=Array.isArray,fc=P(4),Ln=/^(?:0|[1-9]\d*)$/,Ks=function(c,i){var o=typeof c;return!!(i=null==i?9007199254740991:i)&&("number"==o||"symbol"!=o&&Ln.test(c))&&c>-1&&c%1==0&&c<i},Fr=function(c){return"number"==typeof c&&c>-1&&c%1==0&&c<=9007199254740991},dn={};dn["[object Float32Array]"]=dn["[object Float64Array]"]=dn["[object Int8Array]"]=dn["[object Int16Array]"]=dn["[object Int32Array]"]=dn["[object Uint8Array]"]=dn["[object Uint8ClampedArray]"]=dn["[object Uint16Array]"]=dn["[object Uint32Array]"]=!0,dn["[object Arguments]"]=dn["[object Array]"]=dn["[object ArrayBuffer]"]=dn["[object Boolean]"]=dn["[object DataView]"]=dn["[object Date]"]=dn["[object Error]"]=dn["[object Function]"]=dn["[object Map]"]=dn["[object Number]"]=dn["[object Object]"]=dn["[object RegExp]"]=dn["[object Set]"]=dn["[object String]"]=dn["[object WeakMap]"]=!1;var au=function(c){return function(i){return c(i)}},ns=P(5),df=ns.a&&ns.a.isTypedArray,Qs=df?au(df):function(c){return Ht(c)&&Fr(c.length)&&!!dn[ne(c)]},Z0=Object.prototype.hasOwnProperty,uf=function(c,i){var o=gn(c),a=!o&&cf(c),d=!o&&!a&&Object(fc.a)(c),h=!o&&!a&&!d&&Qs(c),p=o||a||d||h,g=p?function(c,i){for(var o=-1,a=Array(c);++o<c;)a[o]=i(o);return a}(c.length,String):[],_=g.length;for(var v in c)!i&&!Z0.call(c,v)||p&&("length"==v||d&&("offset"==v||"parent"==v)||h&&("buffer"==v||"byteLength"==v||"byteOffset"==v)||Ks(v,_))||g.push(v);return g},s_=Object.prototype,hf=function(c){var i=c&&c.constructor;return c===("function"==typeof i&&i.prototype||s_)},X0=ke(Object.keys,Object),J0=Object.prototype.hasOwnProperty,pc=function(c){return null!=c&&Fr(c.length)&&!ts(c)},ff=function(c){return pc(c)?uf(c):function(c){if(!hf(c))return X0(c);var i=[];for(var o in Object(c))J0.call(c,o)&&"constructor"!=o&&i.push(o);return i}(c)},lo=Object.prototype.hasOwnProperty,si=function(c){if(!An(c))return function(c){var i=[];if(null!=c)for(var o in Object(c))i.push(o);return i}(c);var i=hf(c),o=[];for(var a in c)("constructor"!=a||!i&&lo.call(c,a))&&o.push(a);return o},Xa=function(c){return pc(c)?uf(c,!0):si(c)},Yt=P(8),lu=function(c,i){var o=-1,a=c.length;for(i||(i=Array(a));++o<a;)i[o]=c[o];return i},cu=function(){return[]},nk=Object.prototype.propertyIsEnumerable,Nt=Object.getOwnPropertySymbols,rt=Nt?function(c){return null==c?[]:(c=Object(c),function(c,i){for(var o=-1,a=null==c?0:c.length,d=0,h=[];++o<a;){var p=c[o];i(p,o,c)&&(h[d++]=p)}return h}(Nt(c),function(i){return nk.call(c,i)}))}:cu,ik=function(c,i){for(var o=-1,a=i.length,d=c.length;++o<a;)c[d+o]=i[o];return c},ye=Object.getOwnPropertySymbols?function(c){for(var i=[];c;)ik(i,rt(c)),c=De(c);return i}:cu,et=function(c,i,o){var a=i(c);return gn(c)?a:ik(a,o(c))},ai=function(c){return et(c,ff,rt)},rk=function(c){return et(c,Xa,ye)},l_=Qa(O.a,"DataView"),c_=Qa(O.a,"Promise"),Ja=Qa(O.a,"Set"),Di=Qa(O.a,"WeakMap"),qS=Te(l_),ok=Te(Ya),GS=Te(c_),Io=Te(Ja),KS=Te(Di),el=ne;(l_&&"[object DataView]"!=el(new l_(new ArrayBuffer(1)))||Ya&&"[object Map]"!=el(new Ya)||c_&&"[object Promise]"!=el(c_.resolve())||Ja&&"[object Set]"!=el(new Ja)||Di&&"[object WeakMap]"!=el(new Di))&&(el=function(c){var i=ne(c),o="[object Object]"==i?c.constructor:void 0,a=o?Te(o):"";if(a)switch(a){case qS:return"[object DataView]";case ok:return"[object Map]";case GS:return"[object Promise]";case Io:return"[object Set]";case KS:return"[object WeakMap]"}return i});var du=el,QS=Object.prototype.hasOwnProperty,gf=O.a.Uint8Array,_f=function(c){var i=new c.constructor(c.byteLength);return new gf(i).set(new gf(c)),i},Ji=/\w*$/,ak=C?C.prototype:void 0,lk=ak?ak.valueOf:void 0,oe=function(c,i){var o=i?_f(c.buffer):c.buffer;return new c.constructor(o,c.byteOffset,c.length)},XS=function(c,i,o){var a=c.constructor;switch(i){case"[object ArrayBuffer]":return _f(c);case"[object Boolean]":case"[object Date]":return new a(+c);case"[object DataView]":return function(c,i){var o=i?_f(c.buffer):c.buffer;return new c.constructor(o,c.byteOffset,c.byteLength)}(c,o);case"[object Float32Array]":case"[object Float64Array]":case"[object Int8Array]":case"[object Int16Array]":case"[object Int32Array]":case"[object Uint8Array]":case"[object Uint8ClampedArray]":case"[object Uint16Array]":case"[object Uint32Array]":return oe(c,o);case"[object Map]":case"[object Set]":return new a;case"[object Number]":case"[object String]":return new a(c);case"[object RegExp]":return function(c){var i=new c.constructor(c.source,Ji.exec(c));return i.lastIndex=c.lastIndex,i}(c);case"[object Symbol]":return function(c){return lk?Object(lk.call(c)):{}}(c)}},Se=Object.create,bf=function(){function c(){}return function(i){if(!An(i))return{};if(Se)return Se(i);c.prototype=i;var o=new c;return c.prototype=void 0,o}}(),vf=function(c){return"function"!=typeof c.constructor||hf(c)?{}:bf(De(c))},d_=ns.a&&ns.a.isMap,u_=d_?au(d_):function(c){return Ht(c)&&"[object Map]"==du(c)},hu=ns.a&&ns.a.isSet,h_=hu?au(hu):function(c){return Ht(c)&&"[object Set]"==du(c)},en={};en["[object Arguments]"]=en["[object Array]"]=en["[object ArrayBuffer]"]=en["[object DataView]"]=en["[object Boolean]"]=en["[object Date]"]=en["[object Float32Array]"]=en["[object Float64Array]"]=en["[object Int8Array]"]=en["[object Int16Array]"]=en["[object Int32Array]"]=en["[object Map]"]=en["[object Number]"]=en["[object Object]"]=en["[object RegExp]"]=en["[object Set]"]=en["[object String]"]=en["[object Symbol]"]=en["[object Uint8Array]"]=en["[object Uint8ClampedArray]"]=en["[object Uint16Array]"]=en["[object Uint32Array]"]=!0,en["[object Error]"]=en["[object Function]"]=en["[object WeakMap]"]=!1;var Qe=function c(i,o,a,d,h,p){var g,_=1&o,v=2&o,y=4&o;if(a&&(g=h?a(i,d,h,p):a(i)),void 0!==g)return g;if(!An(i))return i;var k=gn(i);if(k){if(g=function(c){var i=c.length,o=new c.constructor(i);return i&&"string"==typeof c[0]&&QS.call(c,"index")&&(o.index=c.index,o.input=c.input),o}(i),!_)return lu(i,g)}else{var T=du(i),D="[object Function]"==T||"[object GeneratorFunction]"==T;if(Object(fc.a)(i))return Object(Yt.a)(i,_);if("[object Object]"==T||"[object Arguments]"==T||D&&!h){if(g=v||D?{}:vf(i),!_)return v?function(c,i){return Za(c,ye(c),i)}(i,function(c,i){return c&&Za(i,Xa(i),c)}(g,i)):function(c,i){return Za(c,rt(c),i)}(i,function(c,i){return c&&Za(i,ff(i),c)}(g,i))}else{if(!en[T])return h?i:{};g=XS(i,T,_)}}p||(p=new uc);var R=p.get(i);if(R)return R;p.set(i,g),h_(i)?i.forEach(function(J){g.add(c(J,o,a,J,i,p))}):u_(i)&&i.forEach(function(J,ae){g.set(ae,c(J,o,a,ae,i,p))});var F=y?v?rk:ai:v?keysIn:ff,$=k?void 0:F(i);return function(c,i){for(var o=-1,a=null==c?0:c.length;++o<a&&!1!==i(c[o],o,c););}($||i,function(J,ae){$&&(J=i[ae=J]),gi(g,ae,c(J,o,a,ae,i,p))}),g},fu=function(c,i){return Qe(c,5,i="function"==typeof i?i:void 0)},Po=function(c){return Ht(c)&&1===c.nodeType&&!Ae(c)};class Ro{constructor(i,o){this._config={},o&&this.define(yf(o)),i&&this._setObjectToTarget(this._config,i)}set(i,o){this._setToTarget(this._config,i,o)}define(i,o){this._setToTarget(this._config,i,o,!0)}get(i){return this._getFromSource(this._config,i)}*names(){for(const i of Object.keys(this._config))yield i}_setToTarget(i,o,a,d=!1){if(Ae(o))return void this._setObjectToTarget(i,o,d);const h=o.split(".");o=h.pop();for(const p of h)Ae(i[p])||(i[p]={}),i=i[p];if(Ae(a))return Ae(i[o])||(i[o]={}),void this._setObjectToTarget(i=i[o],a,d);d&&void 0!==i[o]||(i[o]=a)}_getFromSource(i,o){const a=o.split(".");o=a.pop();for(const d of a){if(!Ae(i[d])){i=null;break}i=i[d]}return i?yf(i[o]):void 0}_setObjectToTarget(i,o,a){Object.keys(o).forEach(d=>{this._setToTarget(i,d,o[d],a)})}}function yf(c){return fu(c,JS)}function JS(c){return Po(c)?c:void 0}class zi{constructor(i,o){this.source=i,this.name=o,this.path=[],this.stop=function c(){c.called=!0},this.off=function c(){c.called=!0}}}const Mi=new Array(256).fill().map((c,i)=>("0"+i.toString(16)).slice(-2));function Nr(){const c=4294967296*Math.random()>>>0,i=4294967296*Math.random()>>>0,o=4294967296*Math.random()>>>0,a=4294967296*Math.random()>>>0;return"e"+Mi[c>>0&255]+Mi[c>>8&255]+Mi[c>>16&255]+Mi[c>>24&255]+Mi[i>>0&255]+Mi[i>>8&255]+Mi[i>>16&255]+Mi[i>>24&255]+Mi[o>>0&255]+Mi[o>>8&255]+Mi[o>>16&255]+Mi[o>>24&255]+Mi[a>>0&255]+Mi[a>>8&255]+Mi[a>>16&255]+Mi[a>>24&255]}var er={get(c){return"number"!=typeof c?this[c]||this.normal:c},highest:1e5,high:1e3,normal:0,low:-1e3,lowest:-1e5},z=(P(6),P(0));const is=Symbol("listeningTo"),wf=Symbol("emitterId");var _n={on(c,i,o={}){this.listenTo(this,c,i,o)},once(c,i,o){let a=!1;this.listenTo(this,c,function(d,...h){a||(a=!0,d.off(),i.call(this,d,...h))},o)},off(c,i){this.stopListening(this,c,i)},listenTo(c,i,o,a={}){let d,h;this[is]||(this[is]={});const p=this[is];f_(c)||Wt(c);const g=f_(c);(d=p[g])||(d=p[g]={emitter:c,callbacks:{}}),(h=d.callbacks[i])||(h=d.callbacks[i]=[]),h.push(o),function(k,T){const D=dk(k);if(D[T])return;let R=T,F=null;const $=[];for(;""!==R&&!D[R];)D[R]={callbacks:[],childEvents:[]},$.push(D[R]),F&&D[R].childEvents.push(F),F=R,R=R.substr(0,R.lastIndexOf(":"));if(""!==R){for(const J of $)J.callbacks=D[R].callbacks.slice();D[R].childEvents.push(F)}}(c,i);const _=rs(c,i),v=er.get(a.priority),y={callback:o,priority:v};for(const k of _){let T=!1;for(let D=0;D<k.length;D++)if(k[D].priority<v){k.splice(D,0,y),T=!0;break}T||k.push(y)}},stopListening(c,i,o){const a=this[is];let d=c&&f_(c);const h=a&&d&&a[d],p=h&&i&&h.callbacks[i];if(!(!a||c&&!h||i&&!p))if(o)tl(c,i,o);else if(p){for(;o=p.pop();)tl(c,i,o);delete h.callbacks[i]}else if(h){for(i in h.callbacks)this.stopListening(c,i);delete a[d]}else{for(d in a)this.stopListening(a[d].emitter);delete this[is]}},fire(c,...i){try{const o=c instanceof zi?c:new zi(this,c),a=o.name;let d=function h(p,g){let _;return p._events&&(_=p._events[g])&&_.callbacks.length?_.callbacks:g.indexOf(":")>-1?h(p,g.substr(0,g.lastIndexOf(":"))):null}(this,a);if(o.path.push(this),d){const h=[o,...i];d=Array.from(d);for(let p=0;p<d.length&&(d[p].callback.apply(this,h),o.off.called&&(delete o.off.called,tl(this,a,d[p].callback)),!o.stop.called);p++);}if(this._delegations){const h=this._delegations.get(a),p=this._delegations.get("*");h&&Zt(h,o,i),p&&Zt(p,o,i)}return o.return}catch(o){z.b.rethrowUnexpectedError(o,this)}},delegate(...c){return{to:(i,o)=>{this._delegations||(this._delegations=new Map),c.forEach(a=>{const d=this._delegations.get(a);d?d.set(i,o):this._delegations.set(a,new Map([[i,o]]))})}}},stopDelegating(c,i){if(this._delegations)if(c)if(i){const o=this._delegations.get(c);o&&o.delete(i)}else this._delegations.delete(c);else this._delegations.clear()}};function Wt(c,i){c[wf]||(c[wf]=i||Nr())}function f_(c){return c[wf]}function dk(c){return c._events||Object.defineProperty(c,"_events",{value:{}}),c._events}function rs(c,i){const o=dk(c)[i];if(!o)return[];let a=[o.callbacks];for(let d=0;d<o.childEvents.length;d++){const h=rs(c,o.childEvents[d]);a=a.concat(h)}return a}function Zt(c,i,o){for(let[a,d]of c){d?"function"==typeof d&&(d=d(i.name)):d=i.name;const h=new zi(i.source,d);h.path=[...i.path],a.fire(h,...o)}}function tl(c,i,o){const a=rs(c,i);for(const d of a)for(let h=0;h<d.length;h++)d[h].callback==o&&(d.splice(h,1),h--)}function Be(c,...i){i.forEach(o=>{Object.getOwnPropertyNames(o).concat(Object.getOwnPropertySymbols(o)).forEach(a=>{if(a in c.prototype)return;const d=Object.getOwnPropertyDescriptor(o,a);d.enumerable=!1,Object.defineProperty(c.prototype,a,d)})})}class $n{constructor(i={}){this._items=[],this._itemMap=new Map,this._idProperty=i.idProperty||"id",this._bindToExternalToInternalMap=new WeakMap,this._bindToInternalToExternalMap=new WeakMap,this._skippedIndexesFromExternal=[]}get length(){return this._items.length}get first(){return this._items[0]||null}get last(){return this._items[this.length-1]||null}add(i,o){let a;const d=this._idProperty;if(d in i){if(a=i[d],"string"!=typeof a)throw new z.b("collection-add-invalid-id",this);if(this.get(a))throw new z.b("collection-add-item-already-exists",this)}else i[d]=a=Nr();if(void 0===o)o=this._items.length;else if(o>this._items.length||o<0)throw new z.b("collection-add-item-invalid-index",this);return this._items.splice(o,0,i),this._itemMap.set(a,i),this.fire("add",i,o),this}get(i){let o;if("string"==typeof i)o=this._itemMap.get(i);else{if("number"!=typeof i)throw new z.b("collection-get-invalid-arg: Index or id must be given.",this);o=this._items[i]}return o||null}has(i){return this._itemMap.has("string"==typeof i?i:i[this._idProperty])}getIndex(i){let o;return o="string"==typeof i?this._itemMap.get(i):i,this._items.indexOf(o)}remove(i){let o,a,d,h=!1;const p=this._idProperty;if("string"==typeof i?(a=i,d=this._itemMap.get(a),h=!d,d&&(o=this._items.indexOf(d))):"number"==typeof i?(o=i,d=this._items[o],h=!d,d&&(a=d[p])):(d=i,a=d[p],o=this._items.indexOf(d),h=-1==o||!this._itemMap.get(a)),h)throw new z.b("collection-remove-404: Item not found.",this);this._items.splice(o,1),this._itemMap.delete(a);const g=this._bindToInternalToExternalMap.get(d);return this._bindToInternalToExternalMap.delete(d),this._bindToExternalToInternalMap.delete(g),this.fire("remove",d,o),d}map(i,o){return this._items.map(i,o)}find(i,o){return this._items.find(i,o)}filter(i,o){return this._items.filter(i,o)}clear(){for(this._bindToCollection&&(this.stopListening(this._bindToCollection),this._bindToCollection=null);this.length;)this.remove(0)}bindTo(i){if(this._bindToCollection)throw new z.b("collection-bind-to-rebind: The collection cannot be bound more than once.",this);return this._bindToCollection=i,{as:o=>{this._setUpBindToBinding(a=>new o(a))},using:o=>{this._setUpBindToBinding("function"==typeof o?a=>o(a):a=>a[o])}}}_setUpBindToBinding(i){const o=this._bindToCollection,a=(d,h,p)=>{const g=o._bindToCollection==this,_=o._bindToInternalToExternalMap.get(h);if(g&&_)this._bindToExternalToInternalMap.set(h,_),this._bindToInternalToExternalMap.set(_,h);else{const v=i(h);if(!v)return void this._skippedIndexesFromExternal.push(p);let y=p;for(const k of this._skippedIndexesFromExternal)p>k&&y--;for(const k of o._skippedIndexesFromExternal)y>=k&&y++;this._bindToExternalToInternalMap.set(h,v),this._bindToInternalToExternalMap.set(v,h),this.add(v,y);for(let k=0;k<o._skippedIndexesFromExternal.length;k++)y<=o._skippedIndexesFromExternal[k]&&o._skippedIndexesFromExternal[k]++}};for(const d of o)a(0,d,o.getIndex(d));this.listenTo(o,"add",a),this.listenTo(o,"remove",(d,h,p)=>{const g=this._bindToExternalToInternalMap.get(h);g&&this.remove(g),this._skippedIndexesFromExternal=this._skippedIndexesFromExternal.reduce((_,v)=>(p<v&&_.push(v-1),p>v&&_.push(v),_),[])})}[Symbol.iterator](){return this._items[Symbol.iterator]()}}Be($n,_n);class pu{constructor(i,o=[],a=[]){this._context=i,this._plugins=new Map,this._availablePlugins=new Map;for(const d of o)d.pluginName&&this._availablePlugins.set(d.pluginName,d);this._contextPlugins=new Map;for(const[d,h]of a)this._contextPlugins.set(d,h),this._contextPlugins.set(h,d),d.pluginName&&this._availablePlugins.set(d.pluginName,d)}*[Symbol.iterator](){for(const i of this._plugins)"function"==typeof i[0]&&(yield i)}get(i){const o=this._plugins.get(i);if(!o){let d=i;throw"function"==typeof i&&(d=i.pluginName||i.name),new z.b("plugincollection-plugin-not-loaded: The requested plugin is not loaded.",this._context,{plugin:d})}return o}has(i){return this._plugins.has(i)}init(i,o=[]){const a=this,d=this._context,h=new Set,p=[],g=D(i),_=D(o),v=function(R){const F=[];for(const $ of R)T($)||F.push($);return F.length?F:null}(i);if(v){const R="plugincollection-plugin-not-found: Some plugins are not available and could not be loaded.";return console.error(Object(z.a)(R),{plugins:v}),Promise.reject(new z.b(R,d,{plugins:v}))}return Promise.all(g.map(function y(R){if(!_.includes(R)&&!a._plugins.has(R)&&!h.has(R))return(F=R,new Promise($=>{h.add(F),F.requires&&F.requires.forEach(ae=>{const _e=T(ae);if(F.isContextPlugin&&!_e.isContextPlugin)throw new z.b("plugincollection-context-required: Context plugin can not require plugin which is not a context plugin",null,{plugin:_e.name,requiredBy:F.name});if(o.includes(_e))throw new z.b("plugincollection-required: Cannot load a plugin because one of its dependencies is listed inthe `removePlugins` option.",d,{plugin:_e.name,requiredBy:F.name});y(_e)});const J=a._contextPlugins.get(F)||new F(d);a._add(F,J),p.push(J),$()})).catch(F=>{throw console.error(Object(z.a)("plugincollection-load: It was not possible to load the plugin."),{plugin:R}),F});var F})).then(()=>k(p,"init")).then(()=>k(p,"afterInit")).then(()=>p);function k(R,F){return R.reduce(($,J)=>J[F]?a._contextPlugins.has(J)?$:$.then(J[F].bind(J)):$,Promise.resolve())}function T(R){return"function"==typeof R?R:a._availablePlugins.get(R)}function D(R){return R.map(F=>T(F)).filter(F=>!!F)}}destroy(){const i=[];for(const[,o]of this)"function"!=typeof o.destroy||this._contextPlugins.has(o)||i.push(o.destroy());return Promise.all(i)}_add(i,o){this._plugins.set(i,o);const a=i.pluginName;if(a){if(this._plugins.has(a))throw new z.b("plugincollection-plugin-name-conflict: Two plugins with the same name were loaded.",null,{pluginName:a,plugin1:this._plugins.get(a).constructor,plugin2:i});this._plugins.set(a,o)}}}Be(pu,_n),window.CKEDITOR_TRANSLATIONS||(window.CKEDITOR_TRANSLATIONS={});const mc=["ar","fa","he","ku","ug"];class uk{constructor(i={}){this.uiLanguage=i.uiLanguage||"en",this.contentLanguage=i.contentLanguage||this.uiLanguage,this.uiLanguageDirection=Ie(this.uiLanguage),this.contentLanguageDirection=Ie(this.contentLanguage),this.t=(...o)=>this._t(...o)}get language(){return console.warn("locale-deprecated-language-property: The Locale#language property has been deprecated and will be removed in the near future. Please use #uiLanguage and #contentLanguage properties instead."),this.uiLanguage}_t(i,o){let a=function Fo(c,i){const o=Object.keys(window.CKEDITOR_TRANSLATIONS).length;return 1===o&&(c=Object.keys(window.CKEDITOR_TRANSLATIONS)[0]),0!==o&&(a=c)in window.CKEDITOR_TRANSLATIONS&&i in window.CKEDITOR_TRANSLATIONS[a]?window.CKEDITOR_TRANSLATIONS[c][i].replace(/ \[context: [^\]]+\]$/,""):i.replace(/ \[context: [^\]]+\]$/,"");var a}(this.uiLanguage,i);return o&&(a=a.replace(/%(\d+)/g,(d,h)=>h<o.length?o[h]:d)),a}}function Ie(c){return mc.includes(c)?"rtl":"ltr"}class hk{constructor(i){this.config=new Ro(i,this.constructor.defaultConfig);const o=this.constructor.builtinPlugins;this.config.define("plugins",o),this.plugins=new pu(this,o);const a=this.config.get("language")||{};this.locale=new uk({uiLanguage:"string"==typeof a?a:a.ui,contentLanguage:this.config.get("language.content")}),this.t=this.locale.t,this.editors=new $n,this._contextOwner=null}initPlugins(){const i=this.config.get("plugins")||[];for(const o of i){if("function"!=typeof o)throw new z.b("context-initplugins-constructor-only: Only a constructor function is allowed as a context plugin.",null,{Plugin:o});if(!0!==o.isContextPlugin)throw new z.b("context-initplugins-invalid-plugin: Only a plugin marked as a context plugin is allowed to be used with a context.",null,{Plugin:o})}return this.plugins.init(i)}destroy(){return Promise.all(Array.from(this.editors,i=>i.destroy())).then(()=>this.plugins.destroy())}_addEditor(i,o){if(this._contextOwner)throw new z.b("context-addEditor-private-context: Cannot add multiple editors to the context which is created by the editor.");this.editors.add(i),o&&(this._contextOwner=i)}_removeEditor(i){return this.editors.has(i)&&this.editors.remove(i),this._contextOwner===i?this.destroy():Promise.resolve()}_getEditorConfig(){const i={};for(const o of this.config.names())["plugins","removePlugins","extraPlugins"].includes(o)||(i[o]=this.config.get(o));return i}static create(i){return new Promise(o=>{const a=new this(i);o(a.initPlugins().then(()=>a))})}}function _i(c,i){const o=Math.min(c.length,i.length);for(let a=0;a<o;a++)if(c[a]!=i[a])return a;return c.length==i.length?"same":c.length<i.length?"prefix":"extension"}var kf=function(c){return Qe(c,4)};class No{constructor(){this.parent=null}get index(){let i;if(!this.parent)return null;if(-1==(i=this.parent.getChildIndex(this)))throw new z.b("view-node-not-found-in-parent: The node's parent does not contain this node.",this);return i}get nextSibling(){const i=this.index;return null!==i&&this.parent.getChild(i+1)||null}get previousSibling(){const i=this.index;return null!==i&&this.parent.getChild(i-1)||null}get root(){let i=this;for(;i.parent;)i=i.parent;return i}get document(){return this.parent instanceof No?this.parent.document:null}getPath(){const i=[];let o=this;for(;o.parent;)i.unshift(o.index),o=o.parent;return i}getAncestors(i={includeSelf:!1,parentFirst:!1}){const o=[];let a=i.includeSelf?this:this.parent;for(;a;)o[i.parentFirst?"push":"unshift"](a),a=a.parent;return o}getCommonAncestor(i,o={}){const a=this.getAncestors(o),d=i.getAncestors(o);let h=0;for(;a[h]==d[h]&&a[h];)h++;return 0===h?null:a[h-1]}isBefore(i){if(this==i||this.root!==i.root)return!1;const o=this.getPath(),a=i.getPath(),d=_i(o,a);switch(d){case"prefix":return!0;case"extension":return!1;default:return o[d]<a[d]}}isAfter(i){return this!=i&&this.root===i.root&&!this.isBefore(i)}_remove(){this.parent._removeChildren(this.index)}_fireChange(i,o){this.fire("change:"+i,o),this.parent&&this.parent._fireChange(i,o)}toJSON(){const i=kf(this);return delete i.parent,i}is(i){return"node"==i||"view:node"==i}}Be(No,_n);class ue extends No{constructor(i){super(),this._textData=i}is(i){return"text"==i||"view:text"==i||super.is(i)}get data(){return this._textData}get _data(){return this.data}set _data(i){this._fireChange("text",this),this._textData=i}isSimilar(i){return i instanceof ue&&(this===i||this.data===i.data)}_clone(){return new ue(this.data)}}class Lo{constructor(i,o,a){if(this.textNode=i,o<0||o>i.data.length)throw new z.b("view-textproxy-wrong-offsetintext: Given offsetInText value is incorrect.",this);if(a<0||o+a>i.data.length)throw new z.b("view-textproxy-wrong-length: Given length value is incorrect.",this);this.data=i.data.substring(o,o+a),this.offsetInText=o}get offsetSize(){return this.data.length}get isPartial(){return this.data.length!==this.textNode.data.length}get parent(){return this.textNode.parent}get root(){return this.textNode.root}get document(){return this.textNode.document}is(i){return"textProxy"==i||"view:textProxy"==i}getAncestors(i={includeSelf:!1,parentFirst:!1}){const o=[];let a=i.includeSelf?this.textNode:this.parent;for(;null!==a;)o[i.parentFirst?"push":"unshift"](a),a=a.parent;return o}}function _r(c){return!(!c||!c[Symbol.iterator])}function se(c){return _r(c)?new Map(c):function(i){const o=new Map;for(const a in i)o.set(a,i[a]);return o}(c)}class un{constructor(...i){this._patterns=[],this.add(...i)}add(...i){for(let o of i)("string"==typeof o||o instanceof RegExp)&&(o={name:o}),o.classes&&("string"==typeof o.classes||o.classes instanceof RegExp)&&(o.classes=[o.classes]),this._patterns.push(o)}match(...i){for(const o of i)for(const a of this._patterns){const d=li(o,a);if(d)return{element:o,pattern:a,match:d}}return null}matchAll(...i){const o=[];for(const a of i)for(const d of this._patterns){const h=li(a,d);h&&o.push({element:a,pattern:d,match:h})}return o.length>0?o:null}getElementName(){if(1!==this._patterns.length)return null;const i=this._patterns[0],o=i.name;return"function"==typeof i||!o||o instanceof RegExp?null:o}}function li(c,i){if("function"==typeof i)return i(c);const o={};return i.name&&(o.name=(d=c.name,(a=i.name)instanceof RegExp?a.test(d):a===d),!o.name)||i.attributes&&(o.attributes=function(a,d){const h=[];for(const p in a){const g=a[p];if(!d.hasAttribute(p))return null;{const _=d.getAttribute(p);if(!0===g)h.push(p);else if(g instanceof RegExp){if(!g.test(_))return null;h.push(p)}else{if(_!==g)return null;h.push(p)}}}return h}(i.attributes,c),!o.attributes)?null:!(i.classes&&(o.classes=function(a,d){const h=[];for(const p of a)if(p instanceof RegExp){const g=d.getClassNames();for(const _ of g)p.test(_)&&h.push(_);if(0===h.length)return null}else{if(!d.hasClass(p))return null;h.push(p)}return h}(i.classes,c),!o.classes))&&!(i.styles&&(o.styles=function(a,d){const h=[];for(const p in a){const g=a[p];if(!d.hasStyle(p))return null;{const _=d.getStyle(p);if(g instanceof RegExp){if(!g.test(_))return null;h.push(p)}else{if(_!==g)return null;h.push(p)}}}return h}(i.styles,c),!o.styles))&&o;var a,d}var Lr=function(c){return"symbol"==typeof c||Ht(c)&&"[object Symbol]"==ne(c)},Ys=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,br=/^\w*$/;function gc(c,i){if("function"!=typeof c||null!=i&&"function"!=typeof i)throw new TypeError("Expected a function");var o=function(){var a=arguments,d=i?i.apply(this,a):a[0],h=o.cache;if(h.has(d))return h.get(d);var p=c.apply(this,a);return o.cache=h.set(d,p)||h,p};return o.cache=new(gc.Cache||dc),o}gc.Cache=dc;var c,i,o,gu=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,Zs=/\\(\\)?/g,bi=(c=function(c){var i=[];return 46===c.charCodeAt(0)&&i.push(""),c.replace(gu,function(o,a,d,h){i.push(d?h.replace(Zs,"$1"):a||o)}),i},i=gc(c,function(a){return 500===o.size&&o.clear(),a}),o=i.cache,i),tr=C?C.prototype:void 0,ge=tr?tr.toString:void 0,ft=function c(i){if("string"==typeof i)return i;if(gn(i))return function(c,i){for(var o=-1,a=null==c?0:c.length,d=Array(a);++o<a;)d[o]=i(c[o],o,c);return d}(i,c)+"";if(Lr(i))return ge?ge.call(i):"";var o=i+"";return"0"==o&&1/i==-1/0?"-0":o},an=function(c){return null==c?"":ft(c)},Ai=function(c,i){return gn(c)?c:function(c,i){if(gn(c))return!1;var o=typeof c;return!("number"!=o&&"symbol"!=o&&"boolean"!=o&&null!=c&&!Lr(c))||br.test(c)||!Ys.test(c)||null!=i&&c in Object(i)}(c,i)?[c]:bi(an(c))},os=function(c){var i=null==c?0:c.length;return i?c[i-1]:void 0},Bn=function(c){if("string"==typeof c||Lr(c))return c;var i=c+"";return"0"==i&&1/c==-1/0?"-0":i},ss=function(c,i){for(var o=0,a=(i=Ai(i,c)).length;null!=c&&o<a;)c=c[Bn(i[o++])];return o&&o==a?c:void 0},Cn=function(c,i,o){var a=-1,d=c.length;i<0&&(i=-i>d?0:d+i),(o=o>d?d:o)<0&&(o+=d),d=i>o?0:o-i>>>0,i>>>=0;for(var h=Array(d);++a<d;)h[a]=c[a+i];return h},nl=function(c,i){return null==(c=function(c,i){return i.length<2?c:ss(c,Cn(i,0,-1))}(c,i=Ai(i,c)))||delete c[Bn(os(i))]},Xs=function(c,i,o){var a=null==c?void 0:ss(c,i);return void 0===a?o:a},as=function(c,i,o){(void 0===o||St(c[i],o))&&(void 0!==o||i in c)||su(c,i,o)},Cf=function(i,o,a){for(var d=-1,h=Object(i),p=a(i),g=p.length;g--;){var _=p[++d];if(!1===o(h[_],_,h))break}return i},vi=function(c,i){if(("constructor"!==i||"function"!=typeof c[i])&&"__proto__"!=i)return c[i]},rl=function(c,i,o,a,d,h,p){var g=vi(c,o),_=vi(i,o),v=p.get(_);if(v)as(c,o,v);else{var y=h?h(g,_,o+"",c,i,p):void 0,k=void 0===y;if(k){var T=gn(_),D=!T&&Object(fc.a)(_),R=!T&&!D&&Qs(_);y=_,T||D||R?gn(g)?y=g:function(c){return Ht(c)&&pc(c)}(g)?y=lu(g):D?(k=!1,y=Object(Yt.a)(_,!0)):R?(k=!1,y=oe(_,!0)):y=[]:Ae(_)||cf(_)?(y=g,cf(g)?y=function(c){return Za(c,Xa(c))}(g):An(g)&&!ts(g)||(y=vf(_))):k=!1}k&&(p.set(_,y),d(y,_,a,h,p),p.delete(_)),as(c,o,y)}},Br=function c(i,o,a,d,h){i!==o&&Cf(o,function(p,g){if(h||(h=new uc),An(p))rl(i,o,g,a,c,d,h);else{var _=d?d(vi(i,g),p,g+"",i,o,h):void 0;void 0===_&&(_=p),as(i,g,_)}},Xa)},Xt=function(c){return c},pk=function(c,i,o){switch(o.length){case 0:return c.call(i);case 1:return c.call(i,o[0]);case 2:return c.call(i,o[0],o[1]);case 3:return c.call(i,o[0],o[1],o[2])}return c.apply(i,o)},p_=Math.max,Vr=function(c){return function(){return c}},xf=hc?function(c,i){return hc(c,"toString",{configurable:!0,enumerable:!1,value:Vr(i),writable:!0})}:Xt,_u=Date.now,bu=function(c){var i=0,o=0;return function(){var a=_u(),d=16-(a-o);if(o=a,d>0){if(++i>=800)return arguments[0]}else i=0;return c.apply(void 0,arguments)}}(xf),jr=function(c,i){return bu(function(c,i,o){return i=p_(void 0===i?c.length-1:i,0),function(){for(var a=arguments,d=-1,h=p_(a.length-i,0),p=Array(h);++d<h;)p[d]=a[i+d];d=-1;for(var g=Array(i+1);++d<i;)g[d]=a[d];return g[i]=o(p),pk(c,this,g)}}(c,i,Xt),c+"")},gk=function(c){return jr(function(i,o){var a=-1,d=o.length,h=d>1?o[d-1]:void 0,p=d>2?o[2]:void 0;for(h=c.length>3&&"function"==typeof h?(d--,h):void 0,p&&function(c,i,o){if(!An(o))return!1;var a=typeof i;return!!("number"==a?pc(o)&&Ks(i,o.length):"string"==a&&i in o)&&St(o[i],c)}(o[0],o[1],p)&&(h=d<3?void 0:h,d=1),i=Object(i);++a<d;){var g=o[a];g&&c(i,g,a,h)}return i})},m_=gk(function(c,i,o){Br(c,i,o)}),eD=function(c,i,o){return null==c?c:function(c,i,o,a){if(!An(c))return c;for(var d=-1,h=(i=Ai(i,c)).length,p=h-1,g=c;null!=g&&++d<h;){var _=Bn(i[d]),v=o;if(d!=p){var y=g[_];void 0===(v=a?a(y,_,g):void 0)&&(v=An(y)?y:Ks(i[d+1])?[]:{})}gi(g,_,v),g=g[_]}return c}(c,i,o)};class yc{constructor(){this._styles={},Object.defineProperty(this,"_styleProcessor",{get:()=>yc._styleProcessor,enumerable:!1})}get isEmpty(){const i=Object.entries(this._styles);return!Array.from(i).length}get size(){return this.isEmpty?0:this.getStyleNames().length}setTo(i){this.clear();const o=Array.from(function(a){let d=null,h=0,p=0,g=null;const _=new Map;if(""===a)return _;";"!=a.charAt(a.length-1)&&(a+=";");for(let v=0;v<a.length;v++){const y=a.charAt(v);if(null===d)switch(y){case":":g||(g=a.substr(h,v-h),p=v+1);break;case'"':case"'":d=y;break;case";":{const k=a.substr(p,v-p);g&&_.set(g.trim(),k.trim()),g=null,h=v+1;break}}else y===d&&(d=null)}return _}(i).entries());for(const[a,d]of o)this._styleProcessor.toNormalizedForm(a,d,this._styles)}has(i){if(this.isEmpty)return!1;const o=this._styleProcessor.getReducedForm(i,this._styles).find(([a])=>a===i);return Array.isArray(o)}set(i,o){if(An(i))for(const[a,d]of Object.entries(i))this._styleProcessor.toNormalizedForm(a,d,this._styles);else this._styleProcessor.toNormalizedForm(i,o,this._styles)}remove(i){const o=g_(i);(function(c,i){null==c||nl(c,i)})(this._styles,o),delete this._styles[i],this._cleanEmptyObjectsOnPath(o)}getNormalized(i){return this._styleProcessor.getNormalized(i,this._styles)}toString(){return this.isEmpty?"":this._getStylesEntries().map(i=>i.join(":")).sort().join(";")+";"}getAsString(i){if(this.isEmpty)return;if(this._styles[i]&&!An(this._styles[i]))return this._styles[i];const o=this._styleProcessor.getReducedForm(i,this._styles).find(([a])=>a===i);return Array.isArray(o)?o[1]:void 0}getStyleNames(){return this.isEmpty?[]:this._getStylesEntries().map(([i])=>i)}clear(){this._styles={}}static getRelatedStyles(i){return this._styleProcessor.getRelatedStyles(i)}_getStylesEntries(){const i=[],o=Object.keys(this._styles);for(const a of o)i.push(...this._styleProcessor.getReducedForm(a,this._styles));return i}_cleanEmptyObjectsOnPath(i){const o=i.split(".");if(!(o.length>1))return;const a=o.splice(0,o.length-1).join("."),d=Xs(this._styles,a);d&&!Array.from(Object.keys(d)).length&&this.remove(a)}static get _styleProcessor(){return this._processor||(this._processor=new tD),this._processor}static _setProcessor(i){this._processor=i}}class tD{constructor(){this._normalizers=new Map,this._extractors=new Map,this._reducers=new Map,this._consumables=new Map}toNormalizedForm(i,o,a){if(An(o))__(a,g_(i),o);else if(this._normalizers.has(i)){const d=this._normalizers.get(i),{path:h,value:p}=d(o);__(a,h,p)}else __(a,i,o)}getNormalized(i,o){if(!i)return m_({},o);if(void 0!==o[i])return o[i];if(this._extractors.has(i)){const a=this._extractors.get(i);if("string"==typeof a)return Xs(o,a);const d=a(i,o);if(d)return d}return Xs(o,g_(i))}getReducedForm(i,o){const a=this.getNormalized(i,o);return void 0===a?[]:this._reducers.has(i)?this._reducers.get(i)(a):[[i,a]]}getRelatedStyles(i){return this._consumables.get(i)||[]}setNormalizer(i,o){this._normalizers.set(i,o)}setExtractor(i,o){this._extractors.set(i,o)}setReducer(i,o){this._reducers.set(i,o)}setStyleRelation(i,o){this._mapStyleNames(i,o);for(const a of o)this._mapStyleNames(a,[i])}_mapStyleNames(i,o){this._consumables.has(i)||this._consumables.set(i,[]),this._consumables.get(i).push(...o)}}function g_(c){return c.replace("-",".")}function __(c,i,o){let a=o;An(o)&&(a=m_({},Xs(c,i),o)),eD(c,i,a)}class vr extends No{constructor(i,o,a){if(super(),this.name=i,this._attrs=function(d){d=se(d);for(const[h,p]of d)null===p?d.delete(h):"string"!=typeof p&&d.set(h,String(p));return d}(o),this._children=[],a&&this._insertChild(0,a),this._classes=new Set,this._attrs.has("class")){const d=this._attrs.get("class");bk(this._classes,d),this._attrs.delete("class")}this._styles=new yc,this._attrs.has("style")&&(this._styles.setTo(this._attrs.get("style")),this._attrs.delete("style")),this._customProperties=new Map}get childCount(){return this._children.length}get isEmpty(){return 0===this._children.length}is(i,o=null){const a=i.replace(/^view:/,"");return o?"element"==a&&o==this.name:"element"==a||a==this.name||super.is(i)}getChild(i){return this._children[i]}getChildIndex(i){return this._children.indexOf(i)}getChildren(){return this._children[Symbol.iterator]()}*getAttributeKeys(){this._classes.size>0&&(yield"class"),this._styles.isEmpty||(yield"style"),yield*this._attrs.keys()}*getAttributes(){yield*this._attrs.entries(),this._classes.size>0&&(yield["class",this.getAttribute("class")]),this._styles.isEmpty||(yield["style",this.getAttribute("style")])}getAttribute(i){if("class"==i)return this._classes.size>0?[...this._classes].join(" "):void 0;if("style"==i){const o=this._styles.toString();return""==o?void 0:o}return this._attrs.get(i)}hasAttribute(i){return"class"==i?this._classes.size>0:"style"==i?!this._styles.isEmpty:this._attrs.has(i)}isSimilar(i){if(!(i instanceof vr))return!1;if(this===i)return!0;if(this.name!=i.name||this._attrs.size!==i._attrs.size||this._classes.size!==i._classes.size||this._styles.size!==i._styles.size)return!1;for(const[o,a]of this._attrs)if(!i._attrs.has(o)||i._attrs.get(o)!==a)return!1;for(const o of this._classes)if(!i._classes.has(o))return!1;for(const o of this._styles.getStyleNames())if(!i._styles.has(o)||i._styles.getAsString(o)!==this._styles.getAsString(o))return!1;return!0}hasClass(...i){for(const o of i)if(!this._classes.has(o))return!1;return!0}getClassNames(){return this._classes.keys()}getStyle(i){return this._styles.getAsString(i)}getNormalizedStyle(i){return this._styles.getNormalized(i)}getStyleNames(){return this._styles.getStyleNames()}hasStyle(...i){for(const o of i)if(!this._styles.has(o))return!1;return!0}findAncestor(...i){const o=new un(...i);let a=this.parent;for(;a;){if(o.match(a))return a;a=a.parent}return null}getCustomProperty(i){return this._customProperties.get(i)}*getCustomProperties(){yield*this._customProperties.entries()}getIdentity(){const i=Array.from(this._classes).sort().join(","),o=this._styles.toString(),a=Array.from(this._attrs).map(d=>`${d[0]}="${d[1]}"`).sort().join(" ");return this.name+(""==i?"":` class="${i}"`)+(o?` style="${o}"`:"")+(""==a?"":` ${a}`)}_clone(i=!1){const o=[];if(i)for(const d of this.getChildren())o.push(d._clone(i));const a=new this.constructor(this.name,this._attrs,o);return a._classes=new Set(this._classes),a._styles.set(this._styles.getNormalized()),a._customProperties=new Map(this._customProperties),a.getFillerOffset=this.getFillerOffset,a}_appendChild(i){return this._insertChild(this.childCount,i)}_insertChild(i,o){this._fireChange("children",this);let a=0;const d="string"==typeof(h=o)?[new ue(h)]:(_r(h)||(h=[h]),Array.from(h).map(p=>"string"==typeof p?new ue(p):p instanceof Lo?new ue(p.data):p));var h;for(const h of d)null!==h.parent&&h._remove(),h.parent=this,this._children.splice(i,0,h),i++,a++;return a}_removeChildren(i,o=1){this._fireChange("children",this);for(let a=i;a<i+o;a++)this._children[a].parent=null;return this._children.splice(i,o)}_setAttribute(i,o){o=String(o),this._fireChange("attributes",this),"class"==i?bk(this._classes,o):"style"==i?this._styles.setTo(o):this._attrs.set(i,o)}_removeAttribute(i){return this._fireChange("attributes",this),"class"==i?this._classes.size>0&&(this._classes.clear(),!0):"style"==i?!this._styles.isEmpty&&(this._styles.clear(),!0):this._attrs.delete(i)}_addClass(i){this._fireChange("attributes",this),(i=Array.isArray(i)?i:[i]).forEach(o=>this._classes.add(o))}_removeClass(i){this._fireChange("attributes",this),(i=Array.isArray(i)?i:[i]).forEach(o=>this._classes.delete(o))}_setStyle(i,o){this._fireChange("attributes",this),this._styles.set(i,o)}_removeStyle(i){this._fireChange("attributes",this),(i=Array.isArray(i)?i:[i]).forEach(o=>this._styles.remove(o))}_setCustomProperty(i,o){this._customProperties.set(i,o)}_removeCustomProperty(i){return this._customProperties.delete(i)}}function bk(c,i){const o=i.split(/\s+/);c.clear(),o.forEach(a=>c.add(a))}class Tf extends vr{constructor(i,o,a){super(i,o,a),this.getFillerOffset=vk}is(i,o=null){const a=i&&i.replace(/^view:/,"");return o?"containerElement"==a&&o==this.name||super.is(i,o):"containerElement"==a||super.is(i)}}function vk(){const c=[...this.getChildren()],i=c[this.childCount-1];if(i&&i.is("element","br"))return this.childCount;for(const o of c)if(!o.is("uiElement"))return null;return this.childCount}var wc=gk(function(c,i){Za(i,Xa(i),c)});const Ef=Symbol("observableProperties"),Sf=Symbol("boundObservables"),Df=Symbol("boundProperties"),yk={set(c,i){if(An(c))return void Object.keys(c).forEach(a=>{this.set(a,c[a])},this);vu(this);const o=this[Ef];if(c in this&&!o.has(c))throw new z.b("observable-set-cannot-override: Cannot override an existing property.",this);Object.defineProperty(this,c,{enumerable:!0,configurable:!0,get:()=>o.get(c),set(a){const d=o.get(c);let h=this.fire("set:"+c,c,a,d);void 0===h&&(h=a),d===h&&o.has(c)||(o.set(c,h),this.fire("change:"+c,c,h,d))}}),this[c]=i},bind(...c){if(!c.length||!wk(c))throw new z.b("observable-bind-wrong-properties: All properties must be strings.",this);if(new Set(c).size!==c.length)throw new z.b("observable-bind-duplicate-properties: Properties must be unique.",this);vu(this);const i=this[Df];c.forEach(a=>{if(i.has(a))throw new z.b("observable-bind-rebind: Cannot bind the same property more than once.",this)});const o=new Map;return c.forEach(a=>{const d={property:a,to:[]};i.set(a,d),o.set(a,d)}),{to:nD,toMany:iD,_observable:this,_bindProperties:c,_to:[],_bindings:o}},unbind(...c){if(!(Ef in this))return;const i=this[Df],o=this[Sf];if(c.length){if(!wk(c))throw new z.b("observable-unbind-wrong-properties: Properties must be strings.",this);c.forEach(a=>{const d=i.get(a);if(!d)return;let h,p,g,_;d.to.forEach(v=>{h=v[0],p=v[1],g=o.get(h),_=g[p],_.delete(d),_.size||delete g[p],Object.keys(g).length||(o.delete(h),this.stopListening(h,"change"))}),i.delete(a)})}else o.forEach((a,d)=>{this.stopListening(d,"change")}),o.clear(),i.clear()},decorate(c){const i=this[c];if(!i)throw new z.b("observablemixin-cannot-decorate-undefined: Cannot decorate an undefined method.",this,{object:this,methodName:c});this.on(c,(o,a)=>{o.return=i.apply(this,a)}),this[c]=function(...o){return this.fire(c,o)}}};wc(yk,_n);var tn=yk;function vu(c){Ef in c||(Object.defineProperty(c,Ef,{value:new Map}),Object.defineProperty(c,Sf,{value:new Map}),Object.defineProperty(c,Df,{value:new Map}))}function nD(...c){const i=function(...h){if(!h.length)throw new z.b("observable-bind-to-parse-error: Invalid argument syntax in `to()`.",null);const p={to:[]};let g;return"function"==typeof h[h.length-1]&&(p.callback=h.pop()),h.forEach(_=>{if("string"==typeof _)g.properties.push(_);else{if("object"!=typeof _)throw new z.b("observable-bind-to-parse-error: Invalid argument syntax in `to()`.",null);g={observable:_,properties:[]},p.to.push(g)}}),p}(...c),o=Array.from(this._bindings.keys()),a=o.length;if(!i.callback&&i.to.length>1)throw new z.b("observable-bind-to-no-callback: Binding multiple observables only possible with callback.",this);if(a>1&&i.callback)throw new z.b("observable-bind-to-extra-callback: Cannot bind multiple properties and use a callback in one binding.",this);var d;i.to.forEach(h=>{if(h.properties.length&&h.properties.length!==a)throw new z.b("observable-bind-to-properties-length: The number of properties must match.",this);h.properties.length||(h.properties=this._bindProperties)}),this._to=i.to,i.callback&&(this._bindings.get(o[0]).callback=i.callback),d=this._observable,this._to.forEach(h=>{const p=d[Sf];let g;p.get(h.observable)||d.listenTo(h.observable,"change",(_,v)=>{g=p.get(h.observable)[v],g&&g.forEach(y=>{ls(d,y.property)})})}),function(h){let p;h._bindings.forEach((g,_)=>{h._to.forEach(v=>{p=v.properties[g.callback?0:h._bindProperties.indexOf(_)],g.to.push([v.observable,p]),function(y,k,T,D){const R=y[Sf],F=R.get(T),$=F||{};$[D]||($[D]=new Set),$[D].add(k),F||R.set(T,$)}(h._observable,g,v.observable,p)})})}(this),this._bindProperties.forEach(h=>{ls(this._observable,h)})}function iD(c,i,o){if(this._bindings.size>1)throw new z.b("observable-bind-to-many-not-one-binding: Cannot bind multiple properties with toMany().",this);this.to(...function(a,d){const h=a.map(p=>[p,d]);return Array.prototype.concat.apply([],h)}(c,i),o)}function wk(c){return c.every(i=>"string"==typeof i)}function ls(c,i){const o=c[Df].get(i);let a;o.callback?a=o.callback.apply(c,o.to.map(d=>d[0][d[1]])):(a=o.to[0],a=a[0][a[1]]),c.hasOwnProperty(i)?c[i]=a:c.set(i,a)}const Mf=Symbol("document");class xn extends Tf{constructor(i,o,a){super(i,o,a),this.set("isReadOnly",!1),this.set("isFocused",!1)}is(i,o=null){const a=i&&i.replace(/^view:/,"");return o?"editableElement"==a&&o==this.name||super.is(i,o):"editableElement"==a||super.is(i)}destroy(){this.stopListening()}get document(){return this.getCustomProperty(Mf)}set _document(i){if(this.getCustomProperty(Mf))throw new z.b("view-editableelement-document-already-set: View document is already set.",this);this._setCustomProperty(Mf,i),this.bind("isReadOnly").to(i),this.bind("isFocused").to(i,"isFocused",o=>o&&i.selection.editableElement==this),this.listenTo(i.selection,"change",()=>{this.isFocused=i.isFocused&&i.selection.editableElement==this})}}Be(xn,tn);const Af=Symbol("rootName");class kk extends xn{constructor(i){super(i),this.rootName="main"}is(i,o=null){const a=i.replace(/^view:/,"");return o?"rootElement"==a&&o==this.name||super.is(i,o):"rootElement"==a||super.is(i)}get rootName(){return this.getCustomProperty(Af)}set rootName(i){this._setCustomProperty(Af,i)}set _name(i){this.name=i}}class Js{constructor(i={}){if(!i.boundaries&&!i.startPosition)throw new z.b("view-tree-walker-no-start-position: Neither boundaries nor starting position have been defined.",null);if(i.direction&&"forward"!=i.direction&&"backward"!=i.direction)throw new z.b("view-tree-walker-unknown-direction: Only `backward` and `forward` direction allowed.",i.startPosition,{direction:i.direction});this.boundaries=i.boundaries||null,this.position=he._createAt(i.startPosition?i.startPosition:i.boundaries["backward"==i.direction?"end":"start"]),this.direction=i.direction||"forward",this.singleCharacters=!!i.singleCharacters,this.shallow=!!i.shallow,this.ignoreElementEnd=!!i.ignoreElementEnd,this._boundaryStartParent=this.boundaries?this.boundaries.start.parent:null,this._boundaryEndParent=this.boundaries?this.boundaries.end.parent:null}[Symbol.iterator](){return this}skip(i){let o,a,d;do{d=this.position,({done:o,value:a}=this.next())}while(!o&&i(a));o||(this.position=d)}next(){return"forward"==this.direction?this._next():this._previous()}_next(){let i=this.position.clone();const o=this.position,a=i.parent;if(null===a.parent&&i.offset===a.childCount)return{done:!0};if(a===this._boundaryEndParent&&i.offset==this.boundaries.end.offset)return{done:!0};let d;if(a instanceof ue){if(i.isAtEnd)return this.position=he._createAfter(a),this._next();d=a.data[i.offset]}else d=a.getChild(i.offset);if(d instanceof vr)return this.shallow?i.offset++:i=new he(d,0),this.position=i,this._formatReturnValue("elementStart",d,o,i,1);if(d instanceof ue){if(this.singleCharacters)return i=new he(d,0),this.position=i,this._next();{let h,p=d.data.length;return d==this._boundaryEndParent?(p=this.boundaries.end.offset,h=new Lo(d,0,p),i=he._createAfter(h)):(h=new Lo(d,0,d.data.length),i.offset++),this.position=i,this._formatReturnValue("text",h,o,i,p)}}if("string"==typeof d){let h;h=this.singleCharacters?1:(a===this._boundaryEndParent?this.boundaries.end.offset:a.data.length)-i.offset;const p=new Lo(a,i.offset,h);return i.offset+=h,this.position=i,this._formatReturnValue("text",p,o,i,h)}return i=he._createAfter(a),this.position=i,this.ignoreElementEnd?this._next():this._formatReturnValue("elementEnd",a,o,i)}_previous(){let i=this.position.clone();const o=this.position,a=i.parent;if(null===a.parent&&0===i.offset)return{done:!0};if(a==this._boundaryStartParent&&i.offset==this.boundaries.start.offset)return{done:!0};let d;if(a instanceof ue){if(i.isAtStart)return this.position=he._createBefore(a),this._previous();d=a.data[i.offset-1]}else d=a.getChild(i.offset-1);if(d instanceof vr)return this.shallow?(i.offset--,this.position=i,this._formatReturnValue("elementStart",d,o,i,1)):(i=new he(d,d.childCount),this.position=i,this.ignoreElementEnd?this._previous():this._formatReturnValue("elementEnd",d,o,i));if(d instanceof ue){if(this.singleCharacters)return i=new he(d,d.data.length),this.position=i,this._previous();{let h,p=d.data.length;if(d==this._boundaryStartParent){const g=this.boundaries.start.offset;h=new Lo(d,g,d.data.length-g),p=h.data.length,i=he._createBefore(h)}else h=new Lo(d,0,d.data.length),i.offset--;return this.position=i,this._formatReturnValue("text",h,o,i,p)}}if("string"==typeof d){let h;h=this.singleCharacters?1:i.offset-(a===this._boundaryStartParent?this.boundaries.start.offset:0),i.offset-=h;const p=new Lo(a,i.offset,h);return this.position=i,this._formatReturnValue("text",p,o,i,h)}return i=he._createBefore(a),this.position=i,this._formatReturnValue("elementStart",a,o,i,1)}_formatReturnValue(i,o,a,d,h){return o instanceof Lo&&(o.offsetInText+o.data.length==o.textNode.data.length&&("forward"!=this.direction||this.boundaries&&this.boundaries.end.isEqual(this.position)?a=he._createAfter(o.textNode):(d=he._createAfter(o.textNode),this.position=d)),0===o.offsetInText&&("backward"!=this.direction||this.boundaries&&this.boundaries.start.isEqual(this.position)?a=he._createBefore(o.textNode):(d=he._createBefore(o.textNode),this.position=d))),{done:!1,value:{type:i,item:o,previousPosition:a,nextPosition:d,length:h}}}}class he{constructor(i,o){this.parent=i,this.offset=o}get nodeAfter(){return this.parent.is("text")?null:this.parent.getChild(this.offset)||null}get nodeBefore(){return this.parent.is("text")?null:this.parent.getChild(this.offset-1)||null}get isAtStart(){return 0===this.offset}get isAtEnd(){const i=this.parent.is("text")?this.parent.data.length:this.parent.childCount;return this.offset===i}get root(){return this.parent.root}get editableElement(){let i=this.parent;for(;!(i instanceof xn);){if(!i.parent)return null;i=i.parent}return i}getShiftedBy(i){const o=he._createAt(this),a=o.offset+i;return o.offset=a<0?0:a,o}getLastMatchingPosition(i,o={}){o.startPosition=this;const a=new Js(o);return a.skip(i),a.position}getAncestors(){return this.parent.is("documentFragment")?[this.parent]:this.parent.getAncestors({includeSelf:!0})}getCommonAncestor(i){const o=this.getAncestors(),a=i.getAncestors();let d=0;for(;o[d]==a[d]&&o[d];)d++;return 0===d?null:o[d-1]}is(i){return"position"==i||"view:position"==i}isEqual(i){return this.parent==i.parent&&this.offset==i.offset}isBefore(i){return"before"==this.compareWith(i)}isAfter(i){return"after"==this.compareWith(i)}compareWith(i){if(this.root!==i.root)return"different";if(this.isEqual(i))return"same";const o=this.parent.is("node")?this.parent.getPath():[],a=i.parent.is("node")?i.parent.getPath():[];o.push(this.offset),a.push(i.offset);const d=_i(o,a);switch(d){case"prefix":return"before";case"extension":return"after";default:return o[d]<a[d]?"before":"after"}}getWalker(i={}){return i.startPosition=this,new Js(i)}clone(){return new he(this.parent,this.offset)}static _createAt(i,o){if(i instanceof he)return new this(i.parent,i.offset);{const a=i;if("end"==o)o=a.is("text")?a.data.length:a.childCount;else{if("before"==o)return this._createBefore(a);if("after"==o)return this._createAfter(a);if(0!==o&&!o)throw new z.b("view-createPositionAt-offset-required: View#createPositionAt() requires the offset when the first parameter is a view item.",a)}return new he(a,o)}}static _createAfter(i){if(i.is("textProxy"))return new he(i.textNode,i.offsetInText+i.data.length);if(!i.parent)throw new z.b("view-position-after-root: You can not make position after root.",i,{root:i});return new he(i.parent,i.index+1)}static _createBefore(i){if(i.is("textProxy"))return new he(i.textNode,i.offsetInText);if(!i.parent)throw new z.b("view-position-before-root: You can not make position before root.",i,{root:i});return new he(i.parent,i.index)}}class Ye{constructor(i,o=null){this.start=i.clone(),this.end=o?o.clone():i.clone()}*[Symbol.iterator](){yield*new Js({boundaries:this,ignoreElementEnd:!0})}get isCollapsed(){return this.start.isEqual(this.end)}get isFlat(){return this.start.parent===this.end.parent}get root(){return this.start.root}getEnlarged(){let i=this.start.getLastMatchingPosition(yu,{direction:"backward"}),o=this.end.getLastMatchingPosition(yu);return i.parent.is("text")&&i.isAtStart&&(i=he._createBefore(i.parent)),o.parent.is("text")&&o.isAtEnd&&(o=he._createAfter(o.parent)),new Ye(i,o)}getTrimmed(){let i=this.start.getLastMatchingPosition(yu);if(i.isAfter(this.end)||i.isEqual(this.end))return new Ye(i,i);let o=this.end.getLastMatchingPosition(yu,{direction:"backward"});const a=i.nodeAfter,d=o.nodeBefore;return a&&a.is("text")&&(i=new he(a,0)),d&&d.is("text")&&(o=new he(d,d.data.length)),new Ye(i,o)}isEqual(i){return this==i||this.start.isEqual(i.start)&&this.end.isEqual(i.end)}containsPosition(i){return i.isAfter(this.start)&&i.isBefore(this.end)}containsRange(i,o=!1){i.isCollapsed&&(o=!1);const a=this.containsPosition(i.start)||o&&this.start.isEqual(i.start),d=this.containsPosition(i.end)||o&&this.end.isEqual(i.end);return a&&d}getDifference(i){const o=[];return this.isIntersecting(i)?(this.containsPosition(i.start)&&o.push(new Ye(this.start,i.start)),this.containsPosition(i.end)&&o.push(new Ye(i.end,this.end))):o.push(this.clone()),o}getIntersection(i){if(this.isIntersecting(i)){let o=this.start,a=this.end;return this.containsPosition(i.start)&&(o=i.start),this.containsPosition(i.end)&&(a=i.end),new Ye(o,a)}return null}getWalker(i={}){return i.boundaries=this,new Js(i)}getCommonAncestor(){return this.start.getCommonAncestor(this.end)}clone(){return new Ye(this.start,this.end)}*getItems(i={}){i.boundaries=this,i.ignoreElementEnd=!0;const o=new Js(i);for(const a of o)yield a.item}*getPositions(i={}){i.boundaries=this;const o=new Js(i);yield o.position;for(const a of o)yield a.nextPosition}is(i){return"range"==i||"view:range"==i}isIntersecting(i){return this.start.isBefore(i.end)&&this.end.isAfter(i.start)}static _createFromParentsAndOffsets(i,o,a,d){return new this(new he(i,o),new he(a,d))}static _createFromPositionAndShift(i,o){const a=i,d=i.getShiftedBy(o);return o>0?new this(a,d):new this(d,a)}static _createIn(i){return this._createFromParentsAndOffsets(i,0,i,i.childCount)}static _createOn(i){const o=i.is("textProxy")?i.offsetSize:1;return this._createFromPositionAndShift(he._createBefore(i),o)}}function yu(c){return!(!c.item.is("attributeElement")&&!c.item.is("uiElement"))}function kc(c){let i=0;for(const o of c)i++;return i}class zr{constructor(i=null,o,a){this._ranges=[],this._lastRangeBackward=!1,this._isFake=!1,this._fakeSelectionLabel="",this.setTo(i,o,a)}get isFake(){return this._isFake}get fakeSelectionLabel(){return this._fakeSelectionLabel}get anchor(){if(!this._ranges.length)return null;const i=this._ranges[this._ranges.length-1];return(this._lastRangeBackward?i.end:i.start).clone()}get focus(){if(!this._ranges.length)return null;const i=this._ranges[this._ranges.length-1];return(this._lastRangeBackward?i.start:i.end).clone()}get isCollapsed(){return 1===this.rangeCount&&this._ranges[0].isCollapsed}get rangeCount(){return this._ranges.length}get isBackward(){return!this.isCollapsed&&this._lastRangeBackward}get editableElement(){return this.anchor?this.anchor.editableElement:null}*getRanges(){for(const i of this._ranges)yield i.clone()}getFirstRange(){let i=null;for(const o of this._ranges)i&&!o.start.isBefore(i.start)||(i=o);return i?i.clone():null}getLastRange(){let i=null;for(const o of this._ranges)i&&!o.end.isAfter(i.end)||(i=o);return i?i.clone():null}getFirstPosition(){const i=this.getFirstRange();return i?i.start.clone():null}getLastPosition(){const i=this.getLastRange();return i?i.end.clone():null}isEqual(i){if(this.isFake!=i.isFake||this.isFake&&this.fakeSelectionLabel!=i.fakeSelectionLabel||this.rangeCount!=i.rangeCount)return!1;if(0===this.rangeCount)return!0;if(!this.anchor.isEqual(i.anchor)||!this.focus.isEqual(i.focus))return!1;for(const o of this._ranges){let a=!1;for(const d of i._ranges)if(o.isEqual(d)){a=!0;break}if(!a)return!1}return!0}isSimilar(i){if(this.isBackward!=i.isBackward)return!1;const o=kc(this.getRanges());if(o!=kc(i.getRanges()))return!1;if(0==o)return!0;for(let a of this.getRanges()){a=a.getTrimmed();let d=!1;for(let h of i.getRanges())if(h=h.getTrimmed(),a.start.isEqual(h.start)&&a.end.isEqual(h.end)){d=!0;break}if(!d)return!1}return!0}getSelectedElement(){if(1!==this.rangeCount)return null;const i=this.getFirstRange();let o=i.start.nodeAfter,a=i.end.nodeBefore;return i.start.parent.is("text")&&i.start.isAtEnd&&i.start.parent.nextSibling&&(o=i.start.parent.nextSibling),i.end.parent.is("text")&&i.end.isAtStart&&i.end.parent.previousSibling&&(a=i.end.parent.previousSibling),o instanceof vr&&o==a?o:null}setTo(i,o,a){if(null===i)this._setRanges([]),this._setFakeOptions(o);else if(i instanceof zr||i instanceof Hi)this._setRanges(i.getRanges(),i.isBackward),this._setFakeOptions({fake:i.isFake,label:i.fakeSelectionLabel});else if(i instanceof Ye)this._setRanges([i],o&&o.backward),this._setFakeOptions(o);else if(i instanceof he)this._setRanges([new Ye(i)]),this._setFakeOptions(o);else if(i instanceof No){const d=!!a&&!!a.backward;let h;if(void 0===o)throw new z.b("view-selection-setTo-required-second-parameter: selection.setTo requires the second parameter when the first parameter is a node.",this);h="in"==o?Ye._createIn(i):"on"==o?Ye._createOn(i):new Ye(he._createAt(i,o)),this._setRanges([h],d),this._setFakeOptions(a)}else{if(!_r(i))throw new z.b("view-selection-setTo-not-selectable: Cannot set selection to given place.",this);this._setRanges(i,o&&o.backward),this._setFakeOptions(o)}this.fire("change")}setFocus(i,o){if(null===this.anchor)throw new z.b("view-selection-setFocus-no-ranges: Cannot set selection focus if there are no ranges in selection.",this);const a=he._createAt(i,o);if("same"==a.compareWith(this.focus))return;const d=this.anchor;this._ranges.pop(),"before"==a.compareWith(d)?this._addRange(new Ye(a,d),!0):this._addRange(new Ye(d,a)),this.fire("change")}is(i){return"selection"==i||"view:selection"==i}_setRanges(i,o=!1){i=Array.from(i),this._ranges=[];for(const a of i)this._addRange(a);this._lastRangeBackward=!!o}_setFakeOptions(i={}){this._isFake=!!i.fake,this._fakeSelectionLabel=i.fake&&i.label||""}_addRange(i,o=!1){if(!(i instanceof Ye))throw new z.b("view-selection-add-range-not-range: Selection range set to an object that is not an instance of view.Range",this);this._pushRange(i),this._lastRangeBackward=!!o}_pushRange(i){for(const o of this._ranges)if(i.isIntersecting(o))throw new z.b("view-selection-range-intersects: Trying to add a range that intersects with another range from selection.",this,{addedRange:i,intersectingRange:o});this._ranges.push(new Ye(i.start,i.end))}}Be(zr,_n);class Hi{constructor(i=null,o,a){this._selection=new zr,this._selection.delegate("change").to(this),this._selection.setTo(i,o,a)}get isFake(){return this._selection.isFake}get fakeSelectionLabel(){return this._selection.fakeSelectionLabel}get anchor(){return this._selection.anchor}get focus(){return this._selection.focus}get isCollapsed(){return this._selection.isCollapsed}get rangeCount(){return this._selection.rangeCount}get isBackward(){return this._selection.isBackward}get editableElement(){return this._selection.editableElement}get _ranges(){return this._selection._ranges}*getRanges(){yield*this._selection.getRanges()}getFirstRange(){return this._selection.getFirstRange()}getLastRange(){return this._selection.getLastRange()}getFirstPosition(){return this._selection.getFirstPosition()}getLastPosition(){return this._selection.getLastPosition()}getSelectedElement(){return this._selection.getSelectedElement()}isEqual(i){return this._selection.isEqual(i)}isSimilar(i){return this._selection.isSimilar(i)}is(i){return"selection"==i||"documentSelection"==i||"view:selection"==i||"view:documentSelection"==i}_setTo(i,o,a){this._selection.setTo(i,o,a)}_setFocus(i,o){this._selection.setFocus(i,o)}}Be(Hi,_n);class Cc{constructor(){this.selection=new Hi,this.roots=new $n({idProperty:"rootName"}),this.set("isReadOnly",!1),this.set("isFocused",!1),this.set("isComposing",!1),this._postFixers=new Set}getRoot(i="main"){return this.roots.get(i)}registerPostFixer(i){this._postFixers.add(i)}destroy(){this.roots.map(i=>i.destroy()),this.stopListening()}addStyleProcessorRules(i){i(yc._styleProcessor)}_callPostFixers(i){let o=!1;do{for(const a of this._postFixers)if(o=a(i),o)break}while(o)}}Be(Cc,tn);class ea extends vr{constructor(i,o,a){super(i,o,a),this.getFillerOffset=If,this._priority=10,this._id=null,this._clonesGroup=null}get priority(){return this._priority}get id(){return this._id}getElementsWithSameId(){if(null===this.id)throw new z.b("attribute-element-get-elements-with-same-id-no-id: Cannot get elements with the same id for an attribute element without id.",this);return new Set(this._clonesGroup)}is(i,o=null){const a=i&&i.replace(/^view:/,"");return o?"attributeElement"==a&&o==this.name||super.is(i,o):"attributeElement"==a||super.is(i)}isSimilar(i){return null!==this.id||null!==i.id?this.id===i.id:super.isSimilar(i)&&this.priority==i.priority}_clone(i){const o=super._clone(i);return o._priority=this._priority,o._id=this._id,o}}function If(){if(Pf(this))return null;let c=this.parent;for(;c&&c.is("attributeElement");){if(Pf(c)>1)return null;c=c.parent}return!c||Pf(c)>1?null:this.childCount}function Pf(c){return Array.from(c.getChildren()).filter(i=>!i.is("uiElement")).length}ea.DEFAULT_PRIORITY=10;class b_ extends vr{constructor(i,o,a){super(i,o,a),this.getFillerOffset=Rf}is(i,o=null){const a=i.replace(/^view:/,"");return o?"emptyElement"==a&&o==this.name||super.is(i,o):"emptyElement"==a||super.is(i)}_insertChild(i,o){if(o&&(o instanceof No||Array.from(o).length>0))throw new z.b("view-emptyelement-cannot-add: Cannot add child nodes to EmptyElement instance.",[this,o])}}function Rf(){return null}const xc=navigator.userAgent.toLowerCase();var yi_isMac=function(c){return c.indexOf("macintosh")>-1}(xc),yi_isEdge=function(c){return!!c.match(/edge\/(\d+.?\d*)/)}(xc),yi_isGecko=function(c){return!!c.match(/gecko\/\d+/)}(xc),yi_isSafari=function(c){return c.indexOf(" applewebkit/")>-1&&-1===c.indexOf("chrome")}(xc),yi_isAndroid=function(c){return c.indexOf("android")>-1}(xc),yi_features={isRegExpUnicodePropertySupported:function(){let c=!1;try{c=0==="\u0107".search(new RegExp("[\\p{L}]","u"))}catch(i){}return c}()};const rD={"\u2318":"ctrl","\u21e7":"shift","\u2325":"alt"},Tn={ctrl:"\u2318",shift:"\u21e7",alt:"\u2325"},ct=function(){const c={arrowleft:37,arrowup:38,arrowright:39,arrowdown:40,backspace:8,delete:46,enter:13,space:32,esc:27,tab:9,ctrl:1114112,cmd:1114112,shift:2228224,alt:4456448};for(let i=65;i<=90;i++)c[String.fromCharCode(i).toLowerCase()]=i;for(let i=48;i<=57;i++)c[i-48]=i;for(let i=112;i<=123;i++)c["f"+(i-111)]=i;return c}();function Bo(c){let i;if("string"==typeof c){if(i=ct[c.toLowerCase()],!i)throw new z.b("keyboard-unknown-key: Unknown key name.",null,{key:c})}else i=c.keyCode+(c.altKey?ct.alt:0)+(c.ctrlKey?ct.ctrl:0)+(c.shiftKey?ct.shift:0);return i}function In(c){return"string"==typeof c&&(c=Ck(c)),c.map(i=>"string"==typeof i?Bo(i):i).reduce((i,o)=>o+i,0)}function v_(c){return yi_isMac?Ck(c).map(i=>Tn[i.toLowerCase()]||i).reduce((i,o)=>i.slice(-1)in rD?i+o:i+"+"+o):c}function Ck(c){return c.split(/\s*\+\s*/)}class Tc extends vr{constructor(i,o,a){super(i,o,a),this.getFillerOffset=xk}is(i,o=null){const a=i.replace(/^view:/,"");return o?"uiElement"==a&&o==this.name||super.is(i,o):"uiElement"==a||super.is(i)}_insertChild(i,o){if(o&&(o instanceof No||Array.from(o).length>0))throw new z.b("view-uielement-cannot-add: Cannot add child nodes to UIElement instance.",this)}render(i){return this.toDomElement(i)}toDomElement(i){const o=i.createElement(this.name);for(const a of this.getAttributeKeys())o.setAttribute(a,this.getAttribute(a));return o}}function xk(){return null}class cs{constructor(i){this._children=[],i&&this._insertChild(0,i)}[Symbol.iterator](){return this._children[Symbol.iterator]()}get childCount(){return this._children.length}get isEmpty(){return 0===this.childCount}get root(){return this}get parent(){return null}is(i){return"documentFragment"==i||"view:documentFragment"==i}_appendChild(i){return this._insertChild(this.childCount,i)}getChild(i){return this._children[i]}getChildIndex(i){return this._children.indexOf(i)}getChildren(){return this._children[Symbol.iterator]()}_insertChild(i,o){this._fireChange("children",this);let a=0;const d="string"==typeof(h=o)?[new ue(h)]:(_r(h)||(h=[h]),Array.from(h).map(p=>"string"==typeof p?new ue(p):p instanceof Lo?new ue(p.data):p));var h;for(const h of d)null!==h.parent&&h._remove(),h.parent=this,this._children.splice(i,0,h),i++,a++;return a}_removeChildren(i,o=1){this._fireChange("children",this);for(let a=i;a<i+o;a++)this._children[a].parent=null;return this._children.splice(i,o)}_fireChange(i,o){this.fire("change:"+i,o)}}Be(cs,_n);class ta{constructor(i){this.document=i,this._cloneGroups=new Map}setSelection(i,o,a){this.document.selection._setTo(i,o,a)}setSelectionFocus(i,o){this.document.selection._setFocus(i,o)}createText(i){return new ue(i)}createAttributeElement(i,o,a={}){const d=new ea(i,o);return a.priority&&(d._priority=a.priority),a.id&&(d._id=a.id),d}createContainerElement(i,o){return new Tf(i,o)}createEditableElement(i,o){const a=new xn(i,o);return a._document=this.document,a}createEmptyElement(i,o){return new b_(i,o)}createUIElement(i,o,a){const d=new Tc(i,o);return a&&(d.render=a),d}setAttribute(i,o,a){a._setAttribute(i,o)}removeAttribute(i,o){o._removeAttribute(i)}addClass(i,o){o._addClass(i)}removeClass(i,o){o._removeClass(i)}setStyle(i,o,a){Ae(i)&&void 0===a&&(a=o),a._setStyle(i,o)}removeStyle(i,o){o._removeStyle(i)}setCustomProperty(i,o,a){a._setCustomProperty(i,o)}removeCustomProperty(i,o){return o._removeCustomProperty(i)}breakAttributes(i){return i instanceof he?this._breakAttributes(i):this._breakAttributesRange(i)}breakContainer(i){const o=i.parent;if(!o.is("containerElement"))throw new z.b("view-writer-break-non-container-element: Trying to break an element which is not a container element.",this.document);if(!o.parent)throw new z.b("view-writer-break-root: Trying to break root element.",this.document);if(i.isAtStart)return he._createBefore(o);if(!i.isAtEnd){const a=o._clone(!1);this.insert(he._createAfter(o),a);const d=new Ye(i,he._createAt(o,"end")),h=new he(a,0);this.move(d,h)}return he._createAfter(o)}mergeAttributes(i){const o=i.offset,a=i.parent;if(a.is("text"))return i;if(a.is("attributeElement")&&0===a.childCount){const p=a.parent,g=a.index;return a._remove(),this._removeFromClonedElementsGroup(a),this.mergeAttributes(new he(p,g))}const d=a.getChild(o-1),h=a.getChild(o);if(!d||!h)return i;if(d.is("text")&&h.is("text"))return Vo(d,h);if(d.is("attributeElement")&&h.is("attributeElement")&&d.isSimilar(h)){const p=d.childCount;return d._appendChild(h.getChildren()),h._remove(),this._removeFromClonedElementsGroup(h),this.mergeAttributes(new he(d,p))}return i}mergeContainers(i){const o=i.nodeBefore,a=i.nodeAfter;if(!(o&&a&&o.is("containerElement")&&a.is("containerElement")))throw new z.b("view-writer-merge-containers-invalid-position: Element before and after given position cannot be merged.",this.document);const d=o.getChild(o.childCount-1),h=he._createAt(d instanceof ue?d:o,"end");return this.move(Ye._createIn(a),he._createAt(o,"end")),this.remove(Ye._createOn(a)),h}insert(i,o){!function _(v,y){for(const k of v){if(!k_.some(T=>k instanceof T))throw new z.b("view-writer-insert-invalid-node",y);k.is("text")||_(k.getChildren(),y)}}(o=_r(o)?[...o]:[o],this.document);const a=Ii(i);if(!a)throw new z.b("view-writer-invalid-position-container",this.document);const d=this._breakAttributes(i,!0),h=a._insertChild(d.offset,o);for(const _ of o)this._addToClonedElementsGroup(_);const p=d.getShiftedBy(h),g=this.mergeAttributes(d);if(0===h)return new Ye(g,g);{g.isEqual(d)||p.offset--;const _=this.mergeAttributes(p);return new Ye(g,_)}}remove(i){const o=i instanceof Ye?i:Ye._createOn(i);if(je(o,this.document),o.isCollapsed)return new cs;const{start:a,end:d}=this._breakAttributesRange(o,!0),g=a.parent._removeChildren(a.offset,d.offset-a.offset);for(const v of g)this._removeFromClonedElementsGroup(v);const _=this.mergeAttributes(a);return o.start=_,o.end=_.clone(),new cs(g)}clear(i,o){je(i,this.document);const a=i.getWalker({direction:"backward",ignoreElementEnd:!0});for(const d of a){const h=d.item;let p;if(h.is("element")&&o.isSimilar(h))p=Ye._createOn(h);else if(!d.nextPosition.isAfter(i.start)&&h.is("textProxy")){const g=h.getAncestors().find(_=>_.is("element")&&o.isSimilar(_));g&&(p=Ye._createIn(g))}p&&(p.end.isAfter(i.end)&&(p.end=i.end),p.start.isBefore(i.start)&&(p.start=i.start),this.remove(p))}}move(i,o){let a;if(o.isAfter(i.end)){const d=(o=this._breakAttributes(o,!0)).parent,h=d.childCount;i=this._breakAttributesRange(i,!0),a=this.remove(i),o.offset+=d.childCount-h}else a=this.remove(i);return this.insert(o,a)}wrap(i,o){if(!(o instanceof ea))throw new z.b("view-writer-wrap-invalid-attribute",this.document);if(je(i,this.document),i.isCollapsed){let d=i.start;d.parent.is("element")&&!Array.from(d.parent.getChildren()).some(p=>!p.is("uiElement"))&&(d=d.getLastMatchingPosition(p=>p.item.is("uiElement"))),d=this._wrapPosition(d,o);const h=this.document.selection;return h.isCollapsed&&h.getFirstPosition().isEqual(i.start)&&this.setSelection(d),new Ye(d)}return this._wrapRange(i,o)}unwrap(i,o){if(!(o instanceof ea))throw new z.b("view-writer-unwrap-invalid-attribute",this.document);if(je(i,this.document),i.isCollapsed)return i;const{start:a,end:d}=this._breakAttributesRange(i,!0),p=this._unwrapChildren(a.parent,a.offset,d.offset,o),g=this.mergeAttributes(p.start);g.isEqual(p.start)||p.end.offset--;const _=this.mergeAttributes(p.end);return new Ye(g,_)}rename(i,o){const a=new Tf(i,o.getAttributes());return this.insert(he._createAfter(o),a),this.move(Ye._createIn(o),he._createAt(a,0)),this.remove(Ye._createOn(o)),a}clearClonedElementsGroup(i){this._cloneGroups.delete(i)}createPositionAt(i,o){return he._createAt(i,o)}createPositionAfter(i){return he._createAfter(i)}createPositionBefore(i){return he._createBefore(i)}createRange(i,o){return new Ye(i,o)}createRangeOn(i){return Ye._createOn(i)}createRangeIn(i){return Ye._createIn(i)}createSelection(i,o,a){return new zr(i,o,a)}_wrapChildren(i,o,a,d){let h=o;const p=[];for(;h<a;){const _=i.getChild(h),v=_.is("text"),y=_.is("attributeElement"),k=_.is("emptyElement"),T=_.is("uiElement");if(y&&this._wrapAttributeElement(d,_))p.push(new he(i,h));else if(v||k||T||y&&y_(d,_)){const D=d._clone();_._remove(),D._appendChild(_),i._insertChild(h,D),this._addToClonedElementsGroup(D),p.push(new he(i,h))}else y&&this._wrapChildren(_,0,_.childCount,d);h++}let g=0;for(const _ of p)_.offset-=g,_.offset!=o&&(this.mergeAttributes(_).isEqual(_)||(g++,a--));return Ye._createFromParentsAndOffsets(i,o,i,a)}_unwrapChildren(i,o,a,d){let h=o;const p=[];for(;h<a;){const _=i.getChild(h);if(_.is("attributeElement"))if(_.isSimilar(d)){const v=_.getChildren(),y=_.childCount;_._remove(),i._insertChild(h,v),this._removeFromClonedElementsGroup(_),p.push(new he(i,h),new he(i,h+y)),h+=y,a+=y-1}else this._unwrapAttributeElement(d,_)?(p.push(new he(i,h),new he(i,h+1)),h++):(this._unwrapChildren(_,0,_.childCount,d),h++);else h++}let g=0;for(const _ of p)_.offset-=g,_.offset!=o&&_.offset!=a&&(this.mergeAttributes(_).isEqual(_)||(g++,a--));return Ye._createFromParentsAndOffsets(i,o,i,a)}_wrapRange(i,o){const{start:a,end:d}=this._breakAttributesRange(i,!0),p=this._wrapChildren(a.parent,a.offset,d.offset,o),g=this.mergeAttributes(p.start);g.isEqual(p.start)||p.end.offset--;const _=this.mergeAttributes(p.end);return new Ye(g,_)}_wrapPosition(i,o){if(o.isSimilar(i.parent))return wu(i.clone());i.parent.is("text")&&(i=w_(i));const a=this.createAttributeElement();a._priority=Number.POSITIVE_INFINITY,a.isSimilar=()=>!1,i.parent._insertChild(i.offset,a);const d=new Ye(i,i.getShiftedBy(1));this.wrap(d,o);const h=new he(a.parent,a.index);a._remove();const p=h.nodeBefore,g=h.nodeAfter;return p instanceof ue&&g instanceof ue?Vo(p,g):wu(h)}_wrapAttributeElement(i,o){if(!Tk(i,o)||i.name!==o.name||i.priority!==o.priority)return!1;for(const a of i.getAttributeKeys())if("class"!==a&&"style"!==a&&o.hasAttribute(a)&&o.getAttribute(a)!==i.getAttribute(a))return!1;for(const a of i.getStyleNames())if(o.hasStyle(a)&&o.getStyle(a)!==i.getStyle(a))return!1;for(const a of i.getAttributeKeys())"class"!==a&&"style"!==a&&(o.hasAttribute(a)||this.setAttribute(a,i.getAttribute(a),o));for(const a of i.getStyleNames())o.hasStyle(a)||this.setStyle(a,i.getStyle(a),o);for(const a of i.getClassNames())o.hasClass(a)||this.addClass(a,o);return!0}_unwrapAttributeElement(i,o){if(!Tk(i,o)||i.name!==o.name||i.priority!==o.priority)return!1;for(const a of i.getAttributeKeys())if("class"!==a&&"style"!==a&&(!o.hasAttribute(a)||o.getAttribute(a)!==i.getAttribute(a)))return!1;if(!o.hasClass(...i.getClassNames()))return!1;for(const a of i.getStyleNames())if(!o.hasStyle(a)||o.getStyle(a)!==i.getStyle(a))return!1;for(const a of i.getAttributeKeys())"class"!==a&&"style"!==a&&this.removeAttribute(a,o);return this.removeClass(Array.from(i.getClassNames()),o),this.removeStyle(Array.from(i.getStyleNames()),o),!0}_breakAttributesRange(i,o=!1){const a=i.start,d=i.end;if(je(i,this.document),i.isCollapsed){const _=this._breakAttributes(i.start,o);return new Ye(_,_)}const h=this._breakAttributes(d,o),p=h.parent.childCount,g=this._breakAttributes(a,o);return h.offset+=h.parent.childCount-p,new Ye(g,h)}_breakAttributes(i,o=!1){const a=i.offset,d=i.parent;if(i.parent.is("emptyElement"))throw new z.b("view-writer-cannot-break-empty-element",this.document);if(i.parent.is("uiElement"))throw new z.b("view-writer-cannot-break-ui-element",this.document);if(!o&&d.is("text")&&Ec(d.parent)||Ec(d))return i.clone();if(d.is("text"))return this._breakAttributes(w_(i),o);if(a==d.childCount){const h=new he(d.parent,d.index+1);return this._breakAttributes(h,o)}if(0===a){const h=new he(d.parent,d.index);return this._breakAttributes(h,o)}{const h=d.index+1,p=d._clone();d.parent._insertChild(h,p),this._addToClonedElementsGroup(p);const _=d._removeChildren(a,d.childCount-a);p._appendChild(_);const v=new he(d.parent,h);return this._breakAttributes(v,o)}}_addToClonedElementsGroup(i){if(!i.root.is("rootElement"))return;if(i.is("element"))for(const d of i.getChildren())this._addToClonedElementsGroup(d);const o=i.id;if(!o)return;let a=this._cloneGroups.get(o);a||(a=new Set,this._cloneGroups.set(o,a)),a.add(i),i._clonesGroup=a}_removeFromClonedElementsGroup(i){if(i.is("element"))for(const d of i.getChildren())this._removeFromClonedElementsGroup(d);const o=i.id;if(!o)return;const a=this._cloneGroups.get(o);a&&a.delete(i)}}function Ii(c){let i=c.parent;for(;!Ec(i);){if(!i)return;i=i.parent}return i}function y_(c,i){return c.priority<i.priority||!(c.priority>i.priority)&&c.getIdentity()<i.getIdentity()}function wu(c){const i=c.nodeBefore;if(i&&i.is("text"))return new he(i,i.data.length);const o=c.nodeAfter;return o&&o.is("text")?new he(o,0):c}function w_(c){if(c.offset==c.parent.data.length)return new he(c.parent.parent,c.parent.index+1);if(0===c.offset)return new he(c.parent.parent,c.parent.index);const i=c.parent.data.slice(c.offset);return c.parent._data=c.parent.data.slice(0,c.offset),c.parent.parent._insertChild(c.parent.index+1,new ue(i)),new he(c.parent.parent,c.parent.index+1)}function Vo(c,i){const o=c.data.length;return c._data+=i.data,i._remove(),new he(c,o)}const k_=[ue,ea,Tf,b_,Tc];function Ec(c){return c&&(c.is("containerElement")||c.is("documentFragment"))}function je(c,i){const o=Ii(c.start),a=Ii(c.end);if(!o||!a||o!==a)throw new z.b("view-writer-invalid-range-container",i)}function Tk(c,i){return null===c.id&&null===i.id}function ci(c){return"[object Text]"==Object.prototype.toString.call(c)}const Ek=c=>c.createTextNode("\xa0"),C_=c=>{const i=c.createElement("br");return i.dataset.ckeFiller=!0,i},Sc=(()=>{let c="";for(let i=0;i<7;i++)c+="\u200b";return c})();function nr(c){return ci(c)&&c.data.substr(0,7)===Sc}function ku(c){return 7==c.data.length&&nr(c)}function ee(c){return nr(c)?c.data.slice(7):c.data}function Dt(c,i){if(i.keyCode==ct.arrowleft){const o=i.domTarget.ownerDocument.defaultView.getSelection();if(1==o.rangeCount&&o.getRangeAt(0).collapsed){const a=o.getRangeAt(0).startContainer,d=o.getRangeAt(0).startOffset;nr(a)&&d<=7&&o.collapse(a,0)}}}function it(c,i,o,a=!1){o=o||function(h,p){return h===p},Array.isArray(c)||(c=Array.from(c)),Array.isArray(i)||(i=Array.from(i));const d=function(h,p,g){const _=Vn(h,p,g);if(-1===_)return{firstIndex:-1,lastIndexOld:-1,lastIndexNew:-1};const k=Vn(Of(h,_),Of(p,_),g);return{firstIndex:_,lastIndexOld:h.length-k,lastIndexNew:p.length-k}}(c,i,o);return a?function(h,p){const{firstIndex:g,lastIndexOld:_,lastIndexNew:v}=h;if(-1===g)return Array(p).fill("equal");let y=[];return g>0&&(y=y.concat(Array(g).fill("equal"))),v-g>0&&(y=y.concat(Array(v-g).fill("insert"))),_-g>0&&(y=y.concat(Array(_-g).fill("delete"))),v<p&&(y=y.concat(Array(p-v).fill("equal"))),y}(d,i.length):function(h,p){const g=[],{firstIndex:_,lastIndexOld:v,lastIndexNew:y}=p;return y-_>0&&g.push({index:_,type:"insert",values:h.slice(_,y)}),v-_>0&&g.push({index:_+(y-_),type:"delete",howMany:v-_}),g}(i,d)}function Vn(c,i,o){for(let a=0;a<Math.max(c.length,i.length);a++)if(void 0===c[a]||void 0===i[a]||!o(c[a],i[a]))return a;return-1}function Of(c,i){return c.slice(i).reverse()}function wr(c,i,o){o=o||function(F,$){return F===$};const a=c.length,d=i.length;if(a>200||d>200||a+d>300)return wr.fastDiff(c,i,o,!0);let h,p;if(d<a){const F=c;c=i,i=F,h="delete",p="insert"}else h="insert",p="delete";const g=c.length,_=i.length,v=_-g,y={},k={};function T(F){const $=(void 0!==k[F-1]?k[F-1]:-1)+1,J=void 0!==k[F+1]?k[F+1]:-1,ae=$>J?-1:1;y[F+ae]&&(y[F]=y[F+ae].slice(0)),y[F]||(y[F]=[]),y[F].push($>J?h:p);let _e=Math.max($,J),ut=_e-F;for(;ut<g&&_e<_&&o(c[ut],i[_e]);)ut++,_e++,y[F].push("equal");return _e}let D,R=0;do{for(D=-R;D<v;D++)k[D]=T(D);for(D=v+R;D>v;D--)k[D]=T(D);k[v]=T(v),R++}while(k[v]!==_);return y[v].slice(1)}function Hr(c,i,o){c.insertBefore(o,c.childNodes[i]||null)}function Cu(c){const i=c.parentNode;i&&i.removeChild(c)}function ds(c){if(c){if(c.defaultView)return c instanceof c.defaultView.Document;if(c.ownerDocument&&c.ownerDocument.defaultView)return c instanceof c.ownerDocument.defaultView.Node}return!1}wr.fastDiff=it;class Sk{constructor(i,o){this.domDocuments=new Set,this.domConverter=i,this.markedAttributes=new Set,this.markedChildren=new Set,this.markedTexts=new Set,this.selection=o,this.isFocused=!1,this._inlineFiller=null,this._fakeSelectionContainer=null}markToSync(i,o){if("text"===i)this.domConverter.mapViewToDom(o.parent)&&this.markedTexts.add(o);else{if(!this.domConverter.mapViewToDom(o))return;if("attributes"===i)this.markedAttributes.add(o);else{if("children"!==i)throw new z.b("view-renderer-unknown-type: Unknown type passed to Renderer.markToSync.",this);this.markedChildren.add(o)}}}render(){let i;for(const o of this.markedChildren)this._updateChildrenMappings(o);this._inlineFiller&&!this._isSelectionInInlineFiller()&&this._removeInlineFiller(),this._inlineFiller?i=this._getInlineFillerPosition():this._needsInlineFillerAtSelection()&&(i=this.selection.getFirstPosition(),this.markedChildren.add(i.parent));for(const o of this.markedAttributes)this._updateAttrs(o);for(const o of this.markedChildren)this._updateChildren(o,{inlineFillerPosition:i});for(const o of this.markedTexts)!this.markedChildren.has(o.parent)&&this.domConverter.mapViewToDom(o.parent)&&this._updateText(o,{inlineFillerPosition:i});if(i){const o=this.domConverter.viewPositionToDom(i),a=o.parent.ownerDocument;this._inlineFiller=nr(o.parent)?o.parent:x_(a,o.parent,o.offset)}else this._inlineFiller=null;this._updateSelection(),this._updateFocus(),this.markedTexts.clear(),this.markedAttributes.clear(),this.markedChildren.clear()}_updateChildrenMappings(i){const o=this.domConverter.mapViewToDom(i);if(!o)return;const a=this.domConverter.mapViewToDom(i).childNodes,d=Array.from(this.domConverter.viewChildrenToDom(i,o.ownerDocument,{withChildren:!1})),h=this._diffNodeLists(a,d),p=this._findReplaceActions(h,a,d);if(-1!==p.indexOf("replace")){const g={equal:0,insert:0,delete:0};for(const _ of p)if("replace"===_){const v=g.equal+g.insert,y=g.equal+g.delete,k=i.getChild(v);k&&!k.is("uiElement")&&this._updateElementMappings(k,a[y]),Cu(d[v]),g.equal++}else g[_]++}}_updateElementMappings(i,o){this.domConverter.unbindDomElement(o),this.domConverter.bindElements(o,i),this.markedChildren.add(i),this.markedAttributes.add(i)}_getInlineFillerPosition(){const i=this.selection.getFirstPosition();return i.parent.is("text")?he._createBefore(this.selection.getFirstPosition().parent):i}_isSelectionInInlineFiller(){if(1!=this.selection.rangeCount||!this.selection.isCollapsed)return!1;const i=this.selection.getFirstPosition(),o=this.domConverter.viewPositionToDom(i);return!!(o&&ci(o.parent)&&nr(o.parent))}_removeInlineFiller(){const i=this._inlineFiller;if(!nr(i))throw new z.b("view-renderer-filler-was-lost: The inline filler node was lost.",this);ku(i)?i.parentNode.removeChild(i):i.data=i.data.substr(7),this._inlineFiller=null}_needsInlineFillerAtSelection(){if(1!=this.selection.rangeCount||!this.selection.isCollapsed)return!1;const i=this.selection.getFirstPosition(),o=i.parent,a=i.offset;return!!(this.domConverter.mapViewToDom(o.root)&&o.is("element")&&function(p){if("false"==p.getAttribute("contenteditable"))return!1;const g=p.findAncestor(_=>_.hasAttribute("contenteditable"));return!g||"true"==g.getAttribute("contenteditable")}(o)&&a!==o.getFillerOffset())&&!(i.nodeBefore instanceof ue||i.nodeAfter instanceof ue)}_updateText(i,o){const a=this.domConverter.findCorrespondingDomText(i),d=this.domConverter.viewToDom(i,a.ownerDocument),h=a.data;let p=d.data;const g=o.inlineFillerPosition;if(g&&g.parent==i.parent&&g.offset==i.index&&(p=Sc+p),h!=p){const _=it(h,p);for(const v of _)"insert"===v.type?a.insertData(v.index,v.values.join("")):a.deleteData(v.index,v.howMany)}}_updateAttrs(i){const o=this.domConverter.mapViewToDom(i);if(!o)return;const a=Array.from(o.attributes).map(h=>h.name),d=i.getAttributeKeys();for(const h of d)o.setAttribute(h,i.getAttribute(h));for(const h of a)i.hasAttribute(h)||o.removeAttribute(h)}_updateChildren(i,o){const a=this.domConverter.mapViewToDom(i);if(!a)return;const d=o.inlineFillerPosition,h=this.domConverter.mapViewToDom(i).childNodes,p=Array.from(this.domConverter.viewChildrenToDom(i,a.ownerDocument,{bind:!0,inlineFillerPosition:d}));d&&d.parent===i&&x_(a.ownerDocument,p,d.offset);const g=this._diffNodeLists(h,p);let _=0;const v=new Set;for(const y of g)"insert"===y?(Hr(a,_,p[_]),_++):"delete"===y?(v.add(h[_]),Cu(h[_])):(this._markDescendantTextToSync(this.domConverter.domToView(p[_])),_++);for(const y of v)y.parentNode||this.domConverter.unbindDomElement(y)}_diffNodeLists(i,o){return wr(i=function(a,d){const h=Array.from(a);return 0==h.length||!d||h[h.length-1]==d&&h.pop(),h}(i,this._fakeSelectionContainer),o,xu.bind(null,this.domConverter))}_findReplaceActions(i,o,a){if(-1===i.indexOf("insert")||-1===i.indexOf("delete"))return i;let d=[],h=[],p=[];const g={equal:0,insert:0,delete:0};for(const _ of i)"insert"===_?p.push(a[g.equal+g.insert]):"delete"===_?h.push(o[g.equal+g.delete]):(d=d.concat(wr(h,p,Dc).map(v=>"equal"===v?"replace":v)),d.push("equal"),h=[],p=[]),g[_]++;return d.concat(wr(h,p,Dc).map(_=>"equal"===_?"replace":_))}_markDescendantTextToSync(i){if(i)if(i.is("text"))this.markedTexts.add(i);else if(i.is("element"))for(const o of i.getChildren())this._markDescendantTextToSync(o)}_updateSelection(){if(0===this.selection.rangeCount)return this._removeDomSelection(),void this._removeFakeSelection();const i=this.domConverter.mapViewToDom(this.selection.editableElement);this.isFocused&&i&&(this.selection.isFake?this._updateFakeSelection(i):(this._removeFakeSelection(),this._updateDomSelection(i)))}_updateFakeSelection(i){const o=i.ownerDocument;this._fakeSelectionContainer||(this._fakeSelectionContainer=function(p){const g=p.createElement("div");return Object.assign(g.style,{position:"fixed",top:0,left:"-9999px",width:"42px"}),g.textContent="\xa0",g}(o));const a=this._fakeSelectionContainer;if(this.domConverter.bindFakeSelection(a,this.selection),!this._fakeSelectionNeedsUpdate(i))return;a.parentElement&&a.parentElement==i||i.appendChild(a),a.textContent=this.selection.fakeSelectionLabel||"\xa0";const d=o.getSelection(),h=o.createRange();d.removeAllRanges(),h.selectNodeContents(a),d.addRange(h)}_updateDomSelection(i){const o=i.ownerDocument.defaultView.getSelection();if(!this._domSelectionNeedsUpdate(o))return;const a=this.domConverter.viewPositionToDom(this.selection.anchor),d=this.domConverter.viewPositionToDom(this.selection.focus);i.focus(),o.collapse(a.parent,a.offset),o.extend(d.parent,d.offset),yi_isGecko&&function(h,p){const g=h.parent;if(g.nodeType!=Node.ELEMENT_NODE||h.offset!=g.childNodes.length-1)return;const _=g.childNodes[h.offset];_&&"BR"==_.tagName&&p.addRange(p.getRangeAt(0))}(d,o)}_domSelectionNeedsUpdate(i){if(!this.domConverter.isDomSelectionCorrect(i))return!0;const o=i&&this.domConverter.domSelectionToView(i);return!(o&&this.selection.isEqual(o)||!this.selection.isCollapsed&&this.selection.isSimilar(o))}_fakeSelectionNeedsUpdate(i){const o=this._fakeSelectionContainer,a=i.ownerDocument.getSelection();return!o||o.parentElement!==i||a.anchorNode!==o&&!o.contains(a.anchorNode)||o.textContent!==this.selection.fakeSelectionLabel}_removeDomSelection(){for(const i of this.domDocuments)if(i.getSelection().rangeCount){const o=i.activeElement,a=this.domConverter.mapDomToView(o);o&&a&&i.getSelection().removeAllRanges()}}_removeFakeSelection(){const i=this._fakeSelectionContainer;i&&i.remove()}_updateFocus(){if(this.isFocused){const i=this.selection.editableElement;i&&this.domConverter.focus(i)}}}function x_(c,i,o){const a=i instanceof Array?i:i.childNodes,d=a[o];if(ci(d))return d.data=Sc+d.data,d;{const h=c.createTextNode(Sc);return Array.isArray(i)?a.splice(o,0,h):Hr(i,o,h),h}}function Dc(c,i){return ds(c)&&ds(i)&&!ci(c)&&!ci(i)&&c.tagName.toLowerCase()===i.tagName.toLowerCase()}function xu(c,i,o){return i===o||(ci(i)&&ci(o)?i.data===o.data:!(!c.isBlockFiller(i)||!c.isBlockFiller(o)))}Be(Sk,tn);var Mt={window,document};function Ur(c){let i=0;for(;c.previousSibling;)c=c.previousSibling,i++;return i}function ol(c){const i=[];for(;c&&c.nodeType!=Node.DOCUMENT_NODE;)i.unshift(c),c=c.parentNode;return i}const sl=C_(document);class kr{constructor(i={}){this.blockFillerMode=i.blockFillerMode||"br",this.preElements=["pre"],this.blockElements=["p","div","h1","h2","h3","h4","h5","h6","li","dd","dt","figcaption"],this._blockFiller="br"==this.blockFillerMode?C_:Ek,this._domToViewMapping=new WeakMap,this._viewToDomMapping=new WeakMap,this._fakeSelectionMapping=new WeakMap}bindFakeSelection(i,o){this._fakeSelectionMapping.set(i,new zr(o))}fakeSelectionToView(i){return this._fakeSelectionMapping.get(i)}bindElements(i,o){this._domToViewMapping.set(i,o),this._viewToDomMapping.set(o,i)}unbindDomElement(i){const o=this._domToViewMapping.get(i);if(o){this._domToViewMapping.delete(i),this._viewToDomMapping.delete(o);for(const a of Array.from(i.childNodes))this.unbindDomElement(a)}}bindDocumentFragments(i,o){this._domToViewMapping.set(i,o),this._viewToDomMapping.set(o,i)}viewToDom(i,o,a={}){if(i.is("text")){const d=this._processDataFromViewText(i);return o.createTextNode(d)}{if(this.mapViewToDom(i))return this.mapViewToDom(i);let d;if(i.is("documentFragment"))d=o.createDocumentFragment(),a.bind&&this.bindDocumentFragments(d,i);else{if(i.is("uiElement"))return d=i.render(o),a.bind&&this.bindElements(d,i),d;d=i.hasAttribute("xmlns")?o.createElementNS(i.getAttribute("xmlns"),i.name):o.createElement(i.name),a.bind&&this.bindElements(d,i);for(const h of i.getAttributeKeys())d.setAttribute(h,i.getAttribute(h))}if(a.withChildren||void 0===a.withChildren)for(const h of this.viewChildrenToDom(i,o,a))d.appendChild(h);return d}}*viewChildrenToDom(i,o,a={}){const d=i.getFillerOffset&&i.getFillerOffset();let h=0;for(const p of i.getChildren())d===h&&(yield this._blockFiller(o)),yield this.viewToDom(p,o,a),h++;d===h&&(yield this._blockFiller(o))}viewRangeToDom(i){const o=this.viewPositionToDom(i.start),a=this.viewPositionToDom(i.end),d=document.createRange();return d.setStart(o.parent,o.offset),d.setEnd(a.parent,a.offset),d}viewPositionToDom(i){const o=i.parent;if(o.is("text")){const a=this.findCorrespondingDomText(o);if(!a)return null;let d=i.offset;return nr(a)&&(d+=7),{parent:a,offset:d}}{let a,d,h;if(0===i.offset){if(a=this.mapViewToDom(o),!a)return null;h=a.childNodes[0]}else{const p=i.nodeBefore;if(d=p.is("text")?this.findCorrespondingDomText(p):this.mapViewToDom(i.nodeBefore),!d)return null;a=d.parentNode,h=d.nextSibling}return ci(h)&&nr(h)?{parent:h,offset:7}:{parent:a,offset:d?Ur(d)+1:0}}}domToView(i,o={}){if(this.isBlockFiller(i,this.blockFillerMode))return null;const a=this.getParentUIElement(i,this._domToViewMapping);if(a)return a;if(ci(i)){if(ku(i))return null;{const d=this._processDataFromDomText(i);return""===d?null:new ue(d)}}if(this.isComment(i))return null;{if(this.mapDomToView(i))return this.mapDomToView(i);let d;if(this.isDocumentFragment(i))d=new cs,o.bind&&this.bindDocumentFragments(i,d);else{const h=o.keepOriginalCase?i.tagName:i.tagName.toLowerCase();d=new vr(h),o.bind&&this.bindElements(i,d);const p=i.attributes;for(let g=p.length-1;g>=0;g--)d._setAttribute(p[g].name,p[g].value)}if(o.withChildren||void 0===o.withChildren)for(const h of this.domChildrenToView(i,o))d._appendChild(h);return d}}*domChildrenToView(i,o={}){for(let a=0;a<i.childNodes.length;a++){const h=this.domToView(i.childNodes[a],o);null!==h&&(yield h)}}domSelectionToView(i){if(1===i.rangeCount){let d=i.getRangeAt(0).startContainer;ci(d)&&(d=d.parentNode);const h=this.fakeSelectionToView(d);if(h)return h}const o=this.isDomSelectionBackward(i),a=[];for(let d=0;d<i.rangeCount;d++){const h=i.getRangeAt(d),p=this.domRangeToView(h);p&&a.push(p)}return new zr(a,{backward:o})}domRangeToView(i){const o=this.domPositionToView(i.startContainer,i.startOffset),a=this.domPositionToView(i.endContainer,i.endOffset);return o&&a?new Ye(o,a):null}domPositionToView(i,o){if(this.isBlockFiller(i,this.blockFillerMode))return this.domPositionToView(i.parentNode,Ur(i));const a=this.mapDomToView(i);if(a&&a.is("uiElement"))return he._createBefore(a);if(ci(i)){if(ku(i))return this.domPositionToView(i.parentNode,Ur(i));const d=this.findCorrespondingViewText(i);let h=o;return d?(nr(i)&&(h-=7,h=h<0?0:h),new he(d,h)):null}if(0===o){const d=this.mapDomToView(i);if(d)return new he(d,0)}else{const d=i.childNodes[o-1],h=ci(d)?this.findCorrespondingViewText(d):this.mapDomToView(d);if(h&&h.parent)return new he(h.parent,h.index+1)}return null}mapDomToView(i){return this.getParentUIElement(i)||this._domToViewMapping.get(i)}findCorrespondingViewText(i){if(ku(i))return null;const o=this.getParentUIElement(i);if(o)return o;const a=i.previousSibling;if(a){if(!this.isElement(a))return null;const d=this.mapDomToView(a);if(d)return d.nextSibling instanceof ue?d.nextSibling:null}else{const d=this.mapDomToView(i.parentNode);if(d){const h=d.getChild(0);return h instanceof ue?h:null}}return null}mapViewToDom(i){return this._viewToDomMapping.get(i)}findCorrespondingDomText(i){const o=i.previousSibling;return o&&this.mapViewToDom(o)?this.mapViewToDom(o).nextSibling:!o&&i.parent&&this.mapViewToDom(i.parent)?this.mapViewToDom(i.parent).childNodes[0]:null}focus(i){const o=this.mapViewToDom(i);if(o&&o.ownerDocument.activeElement!==o){const{scrollX:a,scrollY:d}=Mt.window,h=[];Nf(o,p=>{const{scrollLeft:g,scrollTop:_}=p;h.push([g,_])}),o.focus(),Nf(o,p=>{const[g,_]=h.shift();p.scrollLeft=g,p.scrollTop=_}),Mt.window.scrollTo(a,d)}}isElement(i){return i&&i.nodeType==Node.ELEMENT_NODE}isDocumentFragment(i){return i&&i.nodeType==Node.DOCUMENT_FRAGMENT_NODE}isComment(i){return i&&i.nodeType==Node.COMMENT_NODE}isBlockFiller(i){return"br"==this.blockFillerMode?i.isEqualNode(sl):!("BR"!==i.tagName||!T_(i,this.blockElements)||1!==i.parentNode.childNodes.length)||function(o,a){return ci(o)&&"\xa0"==o.data&&T_(o,a)&&1===o.parentNode.childNodes.length}(i,this.blockElements)}isDomSelectionBackward(i){if(i.isCollapsed)return!1;const o=document.createRange();o.setStart(i.anchorNode,i.anchorOffset),o.setEnd(i.focusNode,i.focusOffset);const a=o.collapsed;return o.detach(),a}getParentUIElement(i){const o=ol(i);for(o.pop();o.length;){const a=o.pop(),d=this._domToViewMapping.get(a);if(d&&d.is("uiElement"))return d}return null}isDomSelectionCorrect(i){return this._isDomSelectionPositionCorrect(i.anchorNode,i.anchorOffset)&&this._isDomSelectionPositionCorrect(i.focusNode,i.focusOffset)}_isDomSelectionPositionCorrect(i,o){if(ci(i)&&nr(i)&&o<7||this.isElement(i)&&nr(i.childNodes[o]))return!1;const a=this.mapDomToView(i);return!a||!a.is("uiElement")}_processDataFromViewText(i){let o=i.data;if(i.getAncestors().some(a=>this.preElements.includes(a.name)))return o;if(" "==o.charAt(0)){const a=this._getTouchingViewTextNode(i,!1);(!a||!this._nodeEndsWithSpace(a))&&a||(o="\xa0"+o.substr(1))}if(" "==o.charAt(o.length-1)){const a=this._getTouchingViewTextNode(i,!0);" "!=o.charAt(o.length-2)&&a&&" "!=a.data.charAt(0)||(o=o.substr(0,o.length-1)+"\xa0")}return o.replace(/ {2}/g," \xa0")}_nodeEndsWithSpace(i){if(i.getAncestors().some(a=>this.preElements.includes(a.name)))return!1;const o=this._processDataFromViewText(i);return" "==o.charAt(o.length-1)}_processDataFromDomText(i){let o=i.data;if(Ff(i,this.preElements))return ee(i);o=o.replace(/[ \n\t\r]{1,}/g," ");const a=this._getTouchingInlineDomNode(i,!1),d=this._getTouchingInlineDomNode(i,!0),h=this._checkShouldLeftTrimDomText(a),p=this._checkShouldRightTrimDomText(i,d);return h&&(o=o.replace(/^ /,"")),p&&(o=o.replace(/ $/,"")),o=ee(new Text(o)),o=o.replace(/ \u00A0/g,"  "),(/( |\u00A0)\u00A0$/.test(o)||!d||d.data&&" "==d.data.charAt(0))&&(o=o.replace(/\u00A0$/," ")),h&&(o=o.replace(/^\u00A0/," ")),o}_checkShouldLeftTrimDomText(i){return!i||!!Po(i)||/[^\S\u00A0]/.test(i.data.charAt(i.data.length-1))}_checkShouldRightTrimDomText(i,o){return!o&&!nr(i)}_getTouchingViewTextNode(i,o){const a=new Js({startPosition:o?he._createAfter(i):he._createBefore(i),direction:o?"forward":"backward"});for(const d of a){if(d.item.is("containerElement")||d.item.is("br"))return null;if(d.item.is("textProxy"))return d.item}return null}_getTouchingInlineDomNode(i,o){if(!i.parentNode)return null;const a=o?"nextNode":"previousNode",d=i.ownerDocument,h=ol(i)[0],p=d.createTreeWalker(h,NodeFilter.SHOW_TEXT|NodeFilter.SHOW_ELEMENT,{acceptNode:_=>ci(_)||"BR"==_.tagName?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP});p.currentNode=i;const g=p[a]();if(null!==g){const _=function(v,y){const k=ol(v),T=ol(y);let D=0;for(;k[D]==T[D]&&k[D];)D++;return 0===D?null:k[D-1]}(i,g);if(_&&!Ff(i,this.blockElements,_)&&!Ff(g,this.blockElements,_))return g}return null}}function Ff(c,i,o){let a=ol(c);return o&&(a=a.slice(a.indexOf(o)+1)),a.some(d=>d.tagName&&i.includes(d.tagName.toLowerCase()))}function Nf(c,i){for(;c&&c!=Mt.document;)i(c),c=c.parentNode}function T_(c,i){const o=c.parentNode;return o&&o.tagName&&i.includes(o.tagName.toLowerCase())}function Tu(c){const i=Object.prototype.toString.apply(c);return"[object Window]"==i||"[object global]"==i}var us=wc({},_n,{listenTo(c,...i){if(ds(c)||Tu(c)){const o=this._getProxyEmitter(c)||new Mc(c);o.attach(...i),c=o}_n.listenTo.call(this,c,...i)},stopListening(c,i,o){if(ds(c)||Tu(c)){const a=this._getProxyEmitter(c);if(!a)return;c=a}_n.stopListening.call(this,c,i,o),c instanceof Mc&&c.detach(i)},_getProxyEmitter(c){return i=this,o=Lf(c),i[is]&&i[is][o]?i[is][o].emitter:null;var i,o}});class Mc{constructor(i){Wt(this,Lf(i)),this._domNode=i}}function Lf(c){return c["data-ck-expando"]||(c["data-ck-expando"]=Nr())}wc(Mc.prototype,_n,{attach(c,i,o={}){if(this._domListeners&&this._domListeners[c])return;const a=this._createDomListener(c,!!o.useCapture);this._domNode.addEventListener(c,a,!!o.useCapture),this._domListeners||(this._domListeners={}),this._domListeners[c]=a},detach(c){let i;!this._domListeners[c]||(i=this._events[c])&&i.callbacks.length||this._domListeners[c].removeListener()},_createDomListener(c,i){const o=a=>{this.fire(c,a)};return o.removeListener=()=>{this._domNode.removeEventListener(c,o,i),delete this._domListeners[c]},o}});class uo{constructor(i){this.view=i,this.document=i.document,this.isEnabled=!1}enable(){this.isEnabled=!0}disable(){this.isEnabled=!1}destroy(){this.disable(),this.stopListening()}}Be(uo,us);function na(c){var i=-1,o=null==c?0:c.length;for(this.__data__=new dc;++i<o;)this.add(c[i])}na.prototype.add=na.prototype.push=function(c){return this.__data__.set(c,"__lodash_hash_undefined__"),this},na.prototype.has=function(c){return this.__data__.has(c)};var S_=na,D_=function(c,i){for(var o=-1,a=null==c?0:c.length;++o<a;)if(i(c[o],o,c))return!0;return!1},M_=function(c,i){return c.has(i)},Bf=function(c,i,o,a,d,h){var p=1&o,g=c.length,_=i.length;if(g!=_&&!(p&&_>g))return!1;var v=h.get(c);if(v&&h.get(i))return v==i;var y=-1,k=!0,T=2&o?new S_:void 0;for(h.set(c,i),h.set(i,c);++y<g;){var D=c[y],R=i[y];if(a)var F=p?a(R,D,y,i,c,h):a(D,R,y,c,i,h);if(void 0!==F){if(F)continue;k=!1;break}if(T){if(!D_(i,function($,J){if(!M_(T,J)&&(D===$||d(D,$,o,a,h)))return T.push(J)})){k=!1;break}}else if(D!==R&&!d(D,R,o,a,h)){k=!1;break}}return h.delete(c),h.delete(i),k},Eu=function(c){var i=-1,o=Array(c.size);return c.forEach(function(a,d){o[++i]=[d,a]}),o},Mk=function(c){var i=-1,o=Array(c.size);return c.forEach(function(a){o[++i]=a}),o},A_=C?C.prototype:void 0,di=A_?A_.valueOf:void 0,En=Object.prototype.hasOwnProperty,I_=Object.prototype.hasOwnProperty,Vf=function(c,i,o,a,d,h){var p=gn(c),g=gn(i),_=p?"[object Array]":du(c),v=g?"[object Array]":du(i),y="[object Object]"==(_="[object Arguments]"==_?"[object Object]":_),k="[object Object]"==(v="[object Arguments]"==v?"[object Object]":v),T=_==v;if(T&&Object(fc.a)(c)){if(!Object(fc.a)(i))return!1;p=!0,y=!1}if(T&&!y)return h||(h=new uc),p||Qs(c)?Bf(c,i,o,a,d,h):function(c,i,o,a,d,h,p){switch(o){case"[object DataView]":if(c.byteLength!=i.byteLength||c.byteOffset!=i.byteOffset)return!1;c=c.buffer,i=i.buffer;case"[object ArrayBuffer]":return!(c.byteLength!=i.byteLength||!h(new gf(c),new gf(i)));case"[object Boolean]":case"[object Date]":case"[object Number]":return St(+c,+i);case"[object Error]":return c.name==i.name&&c.message==i.message;case"[object RegExp]":case"[object String]":return c==i+"";case"[object Map]":var g=Eu;case"[object Set]":if(g||(g=Mk),c.size!=i.size&&!(1&a))return!1;var v=p.get(c);if(v)return v==i;a|=2,p.set(c,i);var y=Bf(g(c),g(i),a,d,h,p);return p.delete(c),y;case"[object Symbol]":if(di)return di.call(c)==di.call(i)}return!1}(c,i,_,o,a,d,h);if(!(1&o)){var D=y&&I_.call(c,"__wrapped__"),R=k&&I_.call(i,"__wrapped__");if(D||R){var F=D?c.value():c,$=R?i.value():i;return h||(h=new uc),d(F,$,o,a,h)}}return!!T&&(h||(h=new uc),function(c,i,o,a,d,h){var p=1&o,g=ai(c),_=g.length;if(_!=ai(i).length&&!p)return!1;for(var v=_;v--;){var y=g[v];if(!(p?y in i:En.call(i,y)))return!1}var k=h.get(c);if(k&&h.get(i))return k==i;var T=!0;h.set(c,i),h.set(i,c);for(var D=p;++v<_;){var R=c[y=g[v]],F=i[y];if(a)var $=p?a(F,R,y,i,c,h):a(R,F,y,c,i,h);if(!(void 0===$?R===F||d(R,F,o,a,h):$)){T=!1;break}D||(D="constructor"==y)}if(T&&!D){var J=c.constructor,ae=i.constructor;J!=ae&&"constructor"in c&&"constructor"in i&&!("function"==typeof J&&J instanceof J&&"function"==typeof ae&&ae instanceof ae)&&(T=!1)}return h.delete(c),h.delete(i),T}(c,i,o,a,d,h))},P_=function c(i,o,a,d,h){return i===o||(null==i||null==o||!Ht(i)&&!Ht(o)?i!=i&&o!=o:Vf(i,o,a,d,c,h))},Ak=function(c,i,o){var a=(o="function"==typeof o?o:void 0)?o(c,i):void 0;return void 0===a?P_(c,i,void 0,o):!!a};class R_ extends uo{constructor(i){super(i),this._config={childList:!0,characterData:!0,characterDataOldValue:!0,subtree:!0},this.domConverter=i.domConverter,this.renderer=i._renderer,this._domElements=[],this._mutationObserver=new window.MutationObserver(this._onMutations.bind(this))}flush(){this._onMutations(this._mutationObserver.takeRecords())}observe(i){this._domElements.push(i),this.isEnabled&&this._mutationObserver.observe(i,this._config)}enable(){super.enable();for(const i of this._domElements)this._mutationObserver.observe(i,this._config)}disable(){super.disable(),this._mutationObserver.disconnect()}destroy(){super.destroy(),this._mutationObserver.disconnect()}_onMutations(i){if(0===i.length)return;const o=this.domConverter,a=new Map,d=new Set;for(const v of i)if("childList"===v.type){const y=o.mapDomToView(v.target);if(y&&y.is("uiElement"))continue;y&&!this._isBogusBrMutation(v)&&d.add(y)}for(const v of i){const y=o.mapDomToView(v.target);if(!(y&&y.is("uiElement")||"characterData"!==v.type)){const k=o.findCorrespondingViewText(v.target);k&&!d.has(k.parent)?a.set(k,{type:"text",oldText:k.data,newText:ee(v.target),node:k}):!k&&nr(v.target)&&d.add(o.mapDomToView(v.target.parentNode))}}const h=[];for(const v of a.values())this.renderer.markToSync("text",v.node),h.push(v);for(const v of d){const y=o.mapViewToDom(v),k=Array.from(v.getChildren()),T=Array.from(o.domChildrenToView(y,{withChildren:!1}));Ak(k,T,_)||(this.renderer.markToSync("children",v),h.push({type:"children",oldChildren:k,newChildren:T,node:v}))}const p=i[0].target.ownerDocument.getSelection();let g=null;if(p&&p.anchorNode){const v=o.domPositionToView(p.anchorNode,p.anchorOffset),y=o.domPositionToView(p.focusNode,p.focusOffset);v&&y&&(g=new zr(v),g.setFocus(y))}function _(v,y){if(!Array.isArray(v))return v===y||!(!v.is("text")||!y.is("text"))&&v.data===y.data}h.length&&(this.document.fire("mutations",h,g),this.view.forceRender())}_isBogusBrMutation(i){let o=null;return null===i.nextSibling&&0===i.removedNodes.length&&1==i.addedNodes.length&&(o=this.domConverter.domToView(i.addedNodes[0],{withChildren:!1})),o&&o.is("element","br")}}class ll{constructor(i,o,a){this.view=i,this.document=i.document,this.domEvent=o,this.domTarget=o.target,wc(this,a)}get target(){return this.view.domConverter.mapDomToView(this.domTarget)}preventDefault(){this.domEvent.preventDefault()}stopPropagation(){this.domEvent.stopPropagation()}}class ho extends uo{constructor(i){super(i),this.useCapture=!1}observe(i){("string"==typeof this.domEventType?[this.domEventType]:this.domEventType).forEach(o=>{this.listenTo(i,o,(a,d)=>{this.isEnabled&&this.onDomEvent(d)},{useCapture:this.useCapture})})}fire(i,o,a){this.isEnabled&&this.document.fire(i,new ll(this.view,o,a))}}class Su extends ho{constructor(i){super(i),this.domEventType=["keydown","keyup"]}onDomEvent(i){this.fire(i.type,i,{keyCode:i.keyCode,altKey:i.altKey,ctrlKey:i.ctrlKey||i.metaKey,shiftKey:i.shiftKey,get keystroke(){return Bo(this)}})}}var Ac=function(){return O.a.Date.now()},O_=/^\s+|\s+$/g,Ik=/^[-+]0x[0-9a-f]+$/i,fs=/^0b[01]+$/i,Ic=/^0o[0-7]+$/i,Pk=parseInt,F_=function(c){if("number"==typeof c)return c;if(Lr(c))return NaN;if(An(c)){var i="function"==typeof c.valueOf?c.valueOf():c;c=An(i)?i+"":i}if("string"!=typeof c)return 0===c?c:+c;c=c.replace(O_,"");var o=fs.test(c);return o||Ic.test(c)?Pk(c.slice(2),o?2:8):Ik.test(c)?NaN:+c},Pc=Math.max,jf=Math.min,Rc=function(c,i,o){var a,d,h,p,g,_,v=0,y=!1,k=!1,T=!0;if("function"!=typeof c)throw new TypeError("Expected a function");function D(_e){var ut=a,On=d;return a=d=void 0,v=_e,p=c.apply(On,ut)}function R(_e){return v=_e,g=setTimeout($,i),y?D(_e):p}function F(_e){var ut=_e-_;return void 0===_||ut>=i||ut<0||k&&_e-v>=h}function $(){var ut,On,_e=Ac();if(F(_e))return J(_e);g=setTimeout($,(On=i-((ut=_e)-_),k?jf(On,h-(ut-v)):On))}function J(_e){return g=void 0,T&&a?D(_e):(a=d=void 0,p)}function ae(){var _e=Ac(),ut=F(_e);if(a=arguments,d=this,_=_e,ut){if(void 0===g)return R(_);if(k)return clearTimeout(g),g=setTimeout($,i),D(_)}return void 0===g&&(g=setTimeout($,i)),p}return i=F_(i)||0,An(o)&&(y=!!o.leading,h=(k="maxWait"in o)?Pc(F_(o.maxWait)||0,i):h,T="trailing"in o?!!o.trailing:T),ae.cancel=function(){void 0!==g&&clearTimeout(g),v=0,a=_=d=g=void 0},ae.flush=function(){return void 0===g?p:J(Ac())},ae};class Rk extends uo{constructor(i){super(i),this._fireSelectionChangeDoneDebounced=Rc(o=>this.document.fire("selectionChangeDone",o),200)}observe(){const i=this.document;i.on("keydown",(o,a)=>{var d;i.selection.isFake&&((d=a.keyCode)==ct.arrowright||d==ct.arrowleft||d==ct.arrowup||d==ct.arrowdown)&&this.isEnabled&&(a.preventDefault(),this._handleSelectionMove(a.keyCode))},{priority:"lowest"})}destroy(){super.destroy(),this._fireSelectionChangeDoneDebounced.cancel()}_handleSelectionMove(i){const o=this.document.selection,a=new zr(o.getRanges(),{backward:o.isBackward,fake:!1});i!=ct.arrowleft&&i!=ct.arrowup||a.setTo(a.getFirstPosition()),i!=ct.arrowright&&i!=ct.arrowdown||a.setTo(a.getLastPosition());const d={oldSelection:o,newSelection:a,domSelection:null};this.document.fire("selectionChange",d),this._fireSelectionChangeDoneDebounced(d)}}class oD extends uo{constructor(i){super(i),this.mutationObserver=i.getObserver(R_),this.selection=this.document.selection,this.domConverter=i.domConverter,this._documents=new WeakSet,this._fireSelectionChangeDoneDebounced=Rc(o=>this.document.fire("selectionChangeDone",o),200),this._clearInfiniteLoopInterval=setInterval(()=>this._clearInfiniteLoop(),1e3),this._loopbackCounter=0}observe(i){const o=i.ownerDocument;this._documents.has(o)||(this.listenTo(o,"selectionchange",()=>{this._handleSelectionChange(o)}),this._documents.add(o))}destroy(){super.destroy(),clearInterval(this._clearInfiniteLoopInterval),this._fireSelectionChangeDoneDebounced.cancel()}_handleSelectionChange(i){if(!this.isEnabled)return;this.mutationObserver.flush();const o=i.defaultView.getSelection(),a=this.domConverter.domSelectionToView(o);if(0!=a.rangeCount&&!(this.selection.isEqual(a)&&this.domConverter.isDomSelectionCorrect(o)||++this._loopbackCounter>60))if(this.selection.isSimilar(a))this.view.forceRender();else{const d={oldSelection:this.selection,newSelection:a,domSelection:o};this.document.fire("selectionChange",d),this._fireSelectionChangeDoneDebounced(d)}}_clearInfiniteLoop(){this._loopbackCounter=0}}class sD extends ho{constructor(i){super(i),this.domEventType=["focus","blur"],this.useCapture=!0;const o=this.document;o.on("focus",()=>{o.isFocused=!0,this._renderTimeoutId=setTimeout(()=>i.forceRender(),50)}),o.on("blur",(a,d)=>{const h=o.selection.editableElement;null!==h&&h!==d.target||(o.isFocused=!1,i.forceRender())})}onDomEvent(i){this.fire(i.type,i)}destroy(){this._renderTimeoutId&&clearTimeout(this._renderTimeoutId),super.destroy()}}class Du extends ho{constructor(i){super(i),this.domEventType=["compositionstart","compositionupdate","compositionend"];const o=this.document;o.on("compositionstart",()=>{o.isComposing=!0}),o.on("compositionend",()=>{o.isComposing=!1})}onDomEvent(i){this.fire(i.type,i)}}class N_ extends ho{constructor(i){super(i),this.domEventType=["beforeinput"]}onDomEvent(i){this.fire(i.type,i)}}function cl(c){return"[object Range]"==Object.prototype.toString.apply(c)}function Oc(c){const i=c.ownerDocument.defaultView.getComputedStyle(c);return{top:parseInt(i.borderTopWidth,10),right:parseInt(i.borderRightWidth,10),bottom:parseInt(i.borderBottomWidth,10),left:parseInt(i.borderLeftWidth,10)}}const zf=["top","right","bottom","left","width","height"];class Ut{constructor(i){const o=cl(i);if(Object.defineProperty(this,"_source",{value:i._source||i,writable:!0,enumerable:!1}),Po(i)||o)ps(this,o?Ut.getDomRangeRects(i)[0]:i.getBoundingClientRect());else if(Tu(i)){const{innerWidth:a,innerHeight:d}=i;ps(this,{top:0,right:a,bottom:d,left:0,width:a,height:d})}else ps(this,i)}clone(){return new Ut(this)}moveTo(i,o){return this.top=o,this.right=i+this.width,this.bottom=o+this.height,this.left=i,this}moveBy(i,o){return this.top+=o,this.right+=i,this.left+=i,this.bottom+=o,this}getIntersection(i){const o={top:Math.max(this.top,i.top),right:Math.min(this.right,i.right),bottom:Math.min(this.bottom,i.bottom),left:Math.max(this.left,i.left)};return o.width=o.right-o.left,o.height=o.bottom-o.top,o.width<0||o.height<0?null:new Ut(o)}getIntersectionArea(i){const o=this.getIntersection(i);return o?o.getArea():0}getArea(){return this.width*this.height}getVisible(){const i=this._source;let o=this.clone();if(!L_(i)){let a=i.parentNode||i.commonAncestorContainer;for(;a&&!L_(a);){const d=new Ut(a),h=o.getIntersection(d);if(!h)return null;h.getArea()<o.getArea()&&(o=h),a=a.parentNode}}return o}isEqual(i){for(const o of zf)if(this[o]!==i[o])return!1;return!0}contains(i){const o=this.getIntersection(i);return!(!o||!o.isEqual(i))}excludeScrollbarsAndBorders(){const i=this._source;let o,a,d;if(Tu(i))o=i.innerWidth-i.document.documentElement.clientWidth,a=i.innerHeight-i.document.documentElement.clientHeight,d=i.getComputedStyle(i.document.documentElement).direction;else{const h=Oc(this._source);o=i.offsetWidth-i.clientWidth-h.left-h.right,a=i.offsetHeight-i.clientHeight-h.top-h.bottom,d=i.ownerDocument.defaultView.getComputedStyle(i).direction,this.left+=h.left,this.top+=h.top,this.right-=h.right,this.bottom-=h.bottom,this.width=this.right-this.left,this.height=this.bottom-this.top}return this.width-=o,"ltr"===d?this.right-=o:this.left+=o,this.height-=a,this.bottom-=a,this}static getDomRangeRects(i){const o=[],a=Array.from(i.getClientRects());if(a.length)for(const d of a)o.push(new Ut(d));else{let d=i.startContainer;ci(d)&&(d=d.parentNode);const h=new Ut(d.getBoundingClientRect());h.right=h.left,h.width=0,o.push(h)}return o}}function ps(c,i){for(const o of zf)c[o]=i[o]}function L_(c){return!!Po(c)&&c===c.ownerDocument.body}function ia({target:c,viewportOffset:i=0}){const o=Wf(c);let a=o,d=null;for(;a;){let h;h=dl(a==o?c:d),Fc(h,()=>Mu(c,a));const p=Mu(c,a);if(Hf(a,p,i),a.parent!=a){if(d=a.frameElement,a=a.parent,!d)return}else a=null}}function Hf(c,i,o){const a=i.clone().moveBy(0,o),d=i.clone().moveBy(0,-o),h=new Ut(c).excludeScrollbarsAndBorders();if(![d,a].every(p=>h.contains(p))){let{scrollX:p,scrollY:g}=c;Uf(d,h)?g-=h.top-i.top+o:Ok(a,h)&&(g+=i.bottom-h.bottom+o),$f(i,h)?p-=h.left-i.left+o:B_(i,h)&&(p+=i.right-h.right+o),c.scrollTo(p,g)}}function Fc(c,i){const o=Wf(c);let a,d;for(;c!=o.document.body;)d=i(),a=new Ut(c).excludeScrollbarsAndBorders(),a.contains(d)||(Uf(d,a)?c.scrollTop-=a.top-d.top:Ok(d,a)&&(c.scrollTop+=d.bottom-a.bottom),$f(d,a)?c.scrollLeft-=a.left-d.left:B_(d,a)&&(c.scrollLeft+=d.right-a.right)),c=c.parentNode}function Ok(c,i){return c.bottom>i.bottom}function Uf(c,i){return c.top<i.top}function $f(c,i){return c.left<i.left}function B_(c,i){return c.right>i.right}function Wf(c){return cl(c)?c.startContainer.ownerDocument.defaultView:c.ownerDocument.defaultView}function dl(c){if(cl(c)){let i=c.commonAncestorContainer;return ci(i)&&(i=i.parentNode),i}return c.parentNode}function Mu(c,i){const o=Wf(c),a=new Ut(c);if(o===i)return a;{let d=o;for(;d!=i;){const p=new Ut(d.frameElement).excludeScrollbarsAndBorders();a.moveBy(p.left,p.top),d=d.parent}}return a}Object.assign({},{scrollViewportToShowTarget:ia,scrollAncestorsToShowTarget:function(c){Fc(dl(c),()=>new Ut(c))}});class Au{constructor(){this.document=new Cc,this.domConverter=new kr,this.domRoots=new Map,this.set("isRenderingInProgress",!1),this._renderer=new Sk(this.domConverter,this.document.selection),this._renderer.bind("isFocused").to(this.document),this._initialDomRootAttributes=new WeakMap,this._observers=new Map,this._ongoingChange=!1,this._postFixersInProgress=!1,this._renderingDisabled=!1,this._hasChangedSinceTheLastRendering=!1,this._writer=new ta(this.document),this.addObserver(R_),this.addObserver(oD),this.addObserver(sD),this.addObserver(Su),this.addObserver(Rk),this.addObserver(Du),yi_isAndroid&&this.addObserver(N_),this.document.on("keydown",Dt),function yr(c){c.document.on("keydown",(i,o)=>function(a,d,h){if(d.keyCode==ct.arrowright){const p=d.domTarget.ownerDocument.defaultView.getSelection(),g=1==p.rangeCount&&p.getRangeAt(0).collapsed;if(g||d.shiftKey){const y=h.domPositionToView(p.focusNode,p.focusOffset);if(null===y)return;let k=!1;const T=y.getLastMatchingPosition(D=>(D.item.is("uiElement")&&(k=!0),!(!D.item.is("uiElement")&&!D.item.is("attributeElement"))));if(k){const D=h.viewPositionToDom(T);g?p.collapse(D.parent,D.offset):p.extend(D.parent,D.offset)}}}}(0,o,c.domConverter))}(this),this.on("render",()=>{this._render(),this.document.fire("layoutChanged"),this._hasChangedSinceTheLastRendering=!1}),this.listenTo(this.document.selection,"change",()=>{this._hasChangedSinceTheLastRendering=!0})}attachDomRoot(i,o="main"){const a=this.document.getRoot(o);a._name=i.tagName.toLowerCase();const d={};for(const{name:p,value:g}of Array.from(i.attributes))d[p]=g,"class"===p?this._writer.addClass(g.split(" "),a):this._writer.setAttribute(p,g,a);this._initialDomRootAttributes.set(i,d);const h=()=>{this._writer.setAttribute("contenteditable",!a.isReadOnly,a),a.isReadOnly?this._writer.addClass("ck-read-only",a):this._writer.removeClass("ck-read-only",a)};h(),this.domRoots.set(o,i),this.domConverter.bindElements(i,a),this._renderer.markToSync("children",a),this._renderer.markToSync("attributes",a),this._renderer.domDocuments.add(i.ownerDocument),a.on("change:children",(p,g)=>this._renderer.markToSync("children",g)),a.on("change:attributes",(p,g)=>this._renderer.markToSync("attributes",g)),a.on("change:text",(p,g)=>this._renderer.markToSync("text",g)),a.on("change:isReadOnly",()=>this.change(h)),a.on("change",()=>{this._hasChangedSinceTheLastRendering=!0});for(const p of this._observers.values())p.observe(i,o)}detachDomRoot(i){const o=this.domRoots.get(i);Array.from(o.attributes).forEach(({name:d})=>o.removeAttribute(d));const a=this._initialDomRootAttributes.get(o);for(const d in a)o.setAttribute(d,a[d]);this.domRoots.delete(i),this.domConverter.unbindDomElement(o)}getDomRoot(i="main"){return this.domRoots.get(i)}addObserver(i){let o=this._observers.get(i);if(o)return o;o=new i(this),this._observers.set(i,o);for(const[a,d]of this.domRoots)o.observe(d,a);return o.enable(),o}getObserver(i){return this._observers.get(i)}disableObservers(){for(const i of this._observers.values())i.disable()}enableObservers(){for(const i of this._observers.values())i.enable()}scrollToTheSelection(){const i=this.document.selection.getFirstRange();i&&ia({target:this.domConverter.viewRangeToDom(i),viewportOffset:20})}focus(){if(!this.document.isFocused){const i=this.document.selection.editableElement;i&&(this.domConverter.focus(i),this.forceRender())}}change(i){if(this.isRenderingInProgress||this._postFixersInProgress)throw new z.b("cannot-change-view-tree: Attempting to make changes to the view when it is in an incorrect state: rendering or post-fixers are in progress. This may cause some unexpected behavior and inconsistency between the DOM and the view.",this);try{if(this._ongoingChange)return i(this._writer);this._ongoingChange=!0;const o=i(this._writer);return this._ongoingChange=!1,!this._renderingDisabled&&this._hasChangedSinceTheLastRendering&&(this._postFixersInProgress=!0,this.document._callPostFixers(this._writer),this._postFixersInProgress=!1,this.fire("render")),o}catch(o){z.b.rethrowUnexpectedError(o,this)}}forceRender(){this._hasChangedSinceTheLastRendering=!0,this.change(()=>{})}destroy(){for(const i of this._observers.values())i.destroy();this.document.destroy(),this.stopListening()}createPositionAt(i,o){return he._createAt(i,o)}createPositionAfter(i){return he._createAfter(i)}createPositionBefore(i){return he._createBefore(i)}createRange(i,o){return new Ye(i,o)}createRangeOn(i){return Ye._createOn(i)}createRangeIn(i){return Ye._createIn(i)}createSelection(i,o,a){return new zr(i,o,a)}_disableRendering(i){this._renderingDisabled=i,0==i&&this.change(()=>{})}_render(){this.isRenderingInProgress=!0,this.disableObservers(),this._renderer.render(),this.enableObservers(),this.isRenderingInProgress=!1}}Be(Au,tn);class fo{constructor(i){this.parent=null,this._attrs=se(i)}get index(){let i;if(!this.parent)return null;if(null===(i=this.parent.getChildIndex(this)))throw new z.b("model-node-not-found-in-parent: The node's parent does not contain this node.",this);return i}get startOffset(){let i;if(!this.parent)return null;if(null===(i=this.parent.getChildStartOffset(this)))throw new z.b("model-node-not-found-in-parent: The node's parent does not contain this node.",this);return i}get offsetSize(){return 1}get endOffset(){return this.parent?this.startOffset+this.offsetSize:null}get nextSibling(){const i=this.index;return null!==i&&this.parent.getChild(i+1)||null}get previousSibling(){const i=this.index;return null!==i&&this.parent.getChild(i-1)||null}get root(){let i=this;for(;i.parent;)i=i.parent;return i}get document(){return this.root==this?null:this.root.document||null}getPath(){const i=[];let o=this;for(;o.parent;)i.unshift(o.startOffset),o=o.parent;return i}getAncestors(i={includeSelf:!1,parentFirst:!1}){const o=[];let a=i.includeSelf?this:this.parent;for(;a;)o[i.parentFirst?"push":"unshift"](a),a=a.parent;return o}getCommonAncestor(i,o={}){const a=this.getAncestors(o),d=i.getAncestors(o);let h=0;for(;a[h]==d[h]&&a[h];)h++;return 0===h?null:a[h-1]}isBefore(i){if(this==i||this.root!==i.root)return!1;const o=this.getPath(),a=i.getPath(),d=_i(o,a);switch(d){case"prefix":return!0;case"extension":return!1;default:return o[d]<a[d]}}isAfter(i){return this!=i&&this.root===i.root&&!this.isBefore(i)}hasAttribute(i){return this._attrs.has(i)}getAttribute(i){return this._attrs.get(i)}getAttributes(){return this._attrs.entries()}getAttributeKeys(){return this._attrs.keys()}toJSON(){const i={};return this._attrs.size&&(i.attributes=Array.from(this._attrs).reduce((o,a)=>(o[a[0]]=a[1],o),{})),i}is(i){return"node"==i||"model:node"==i}_clone(){return new fo(this._attrs)}_remove(){this.parent._removeChildren(this.index)}_setAttribute(i,o){this._attrs.set(i,o)}_setAttributesTo(i){this._attrs=se(i)}_removeAttribute(i){return this._attrs.delete(i)}_clearAttributes(){this._attrs.clear()}}class Vt extends fo{constructor(i,o){super(o),this._data=i||""}get offsetSize(){return this.data.length}get data(){return this._data}is(i){return"text"==i||"model:text"==i||super.is(i)}toJSON(){const i=super.toJSON();return i.data=this.data,i}_clone(){return new Vt(this.data,this.getAttributes())}static fromJSON(i){return new Vt(i.data,i.attributes)}}class po{constructor(i,o,a){if(this.textNode=i,o<0||o>i.offsetSize)throw new z.b("model-textproxy-wrong-offsetintext: Given offsetInText value is incorrect.",this);if(a<0||o+a>i.offsetSize)throw new z.b("model-textproxy-wrong-length: Given length value is incorrect.",this);this.data=i.data.substring(o,o+a),this.offsetInText=o}get startOffset(){return null!==this.textNode.startOffset?this.textNode.startOffset+this.offsetInText:null}get offsetSize(){return this.data.length}get endOffset(){return null!==this.startOffset?this.startOffset+this.offsetSize:null}get isPartial(){return this.offsetSize!==this.textNode.offsetSize}get parent(){return this.textNode.parent}get root(){return this.textNode.root}get document(){return this.textNode.document}is(i){return"textProxy"==i||"model:textProxy"==i}getPath(){const i=this.textNode.getPath();return i.length>0&&(i[i.length-1]+=this.offsetInText),i}getAncestors(i={includeSelf:!1,parentFirst:!1}){const o=[];let a=i.includeSelf?this:this.parent;for(;a;)o[i.parentFirst?"push":"unshift"](a),a=a.parent;return o}hasAttribute(i){return this.textNode.hasAttribute(i)}getAttribute(i){return this.textNode.getAttribute(i)}getAttributes(){return this.textNode.getAttributes()}getAttributeKeys(){return this.textNode.getAttributeKeys()}}class ra{constructor(i){this._nodes=[],i&&this._insertNodes(0,i)}[Symbol.iterator](){return this._nodes[Symbol.iterator]()}get length(){return this._nodes.length}get maxOffset(){return this._nodes.reduce((i,o)=>i+o.offsetSize,0)}getNode(i){return this._nodes[i]||null}getNodeIndex(i){const o=this._nodes.indexOf(i);return-1==o?null:o}getNodeStartOffset(i){const o=this.getNodeIndex(i);return null===o?null:this._nodes.slice(0,o).reduce((a,d)=>a+d.offsetSize,0)}indexToOffset(i){if(i==this._nodes.length)return this.maxOffset;const o=this._nodes[i];if(!o)throw new z.b("model-nodelist-index-out-of-bounds: Given index cannot be found in the node list.",this);return this.getNodeStartOffset(o)}offsetToIndex(i){let o=0;for(const a of this._nodes){if(i>=o&&i<o+a.offsetSize)return this.getNodeIndex(a);o+=a.offsetSize}if(o!=i)throw new z.b("model-nodelist-offset-out-of-bounds: Given offset cannot be found in the node list.",this,{offset:i,nodeList:this});return this.length}_insertNodes(i,o){for(const a of o)if(!(a instanceof fo))throw new z.b("model-nodelist-insertNodes-not-node: Trying to insert an object which is not a Node instance.",this);this._nodes.splice(i,0,...o)}_removeNodes(i,o=1){return this._nodes.splice(i,o)}toJSON(){return this._nodes.map(i=>i.toJSON())}}class qt extends fo{constructor(i,o,a){super(o),this.name=i,this._children=new ra,a&&this._insertChild(0,a)}get childCount(){return this._children.length}get maxOffset(){return this._children.maxOffset}get isEmpty(){return 0===this.childCount}is(i,o=null){const a=i.replace(/^model:/,"");return o?"element"==a&&o==this.name:"element"==a||a==this.name||super.is(i)}getChild(i){return this._children.getNode(i)}getChildren(){return this._children[Symbol.iterator]()}getChildIndex(i){return this._children.getNodeIndex(i)}getChildStartOffset(i){return this._children.getNodeStartOffset(i)}offsetToIndex(i){return this._children.offsetToIndex(i)}getNodeByPath(i){let o=this;for(const a of i)o=o.getChild(o.offsetToIndex(a));return o}toJSON(){const i=super.toJSON();if(i.name=this.name,this._children.length>0){i.children=[];for(const o of this._children)i.children.push(o.toJSON())}return i}_clone(i=!1){const o=i?Array.from(this._children).map(a=>a._clone(!0)):null;return new qt(this.name,this.getAttributes(),o)}_appendChild(i){this._insertChild(this.childCount,i)}_insertChild(i,o){const a="string"==typeof(d=o)?[new Vt(d)]:(_r(d)||(d=[d]),Array.from(d).map(h=>"string"==typeof h?new Vt(h):h instanceof po?new Vt(h.data,h.getAttributes()):h));var d;for(const d of a)null!==d.parent&&d._remove(),d.parent=this;this._children._insertNodes(i,a)}_removeChildren(i,o=1){const a=this._children._removeNodes(i,o);for(const d of a)d.parent=null;return a}static fromJSON(i){let o=null;if(i.children){o=[];for(const a of i.children)o.push(a.name?qt.fromJSON(a):Vt.fromJSON(a))}return new qt(i.name,i.attributes,o)}}class mo{constructor(i={}){if(!i.boundaries&&!i.startPosition)throw new z.b("model-tree-walker-no-start-position: Neither boundaries nor starting position have been defined.",null);const o=i.direction||"forward";if("forward"!=o&&"backward"!=o)throw new z.b("model-tree-walker-unknown-direction: Only `backward` and `forward` direction allowed.",i,{direction:o});this.direction=o,this.boundaries=i.boundaries||null,this.position=i.startPosition?i.startPosition.clone():te._createAt(this.boundaries["backward"==this.direction?"end":"start"]),this.position.stickiness="toNone",this.singleCharacters=!!i.singleCharacters,this.shallow=!!i.shallow,this.ignoreElementEnd=!!i.ignoreElementEnd,this._boundaryStartParent=this.boundaries?this.boundaries.start.parent:null,this._boundaryEndParent=this.boundaries?this.boundaries.end.parent:null,this._visitedParent=this.position.parent}[Symbol.iterator](){return this}skip(i){let o,a,d,h;do{d=this.position,h=this._visitedParent,({done:o,value:a}=this.next())}while(!o&&i(a));o||(this.position=d,this._visitedParent=h)}next(){return"forward"==this.direction?this._next():this._previous()}_next(){const i=this.position,o=this.position.clone(),a=this._visitedParent;if(null===a.parent&&o.offset===a.maxOffset)return{done:!0};if(a===this._boundaryEndParent&&o.offset==this.boundaries.end.offset)return{done:!0};const d=o.textNode?o.textNode:o.nodeAfter;if(d instanceof qt)return this.shallow?o.offset++:(o.path.push(0),this._visitedParent=d),this.position=o,ms("elementStart",d,i,o,1);if(d instanceof Vt){let h;if(this.singleCharacters)h=1;else{let _=d.endOffset;this._boundaryEndParent==a&&this.boundaries.end.offset<_&&(_=this.boundaries.end.offset),h=_-o.offset}const g=new po(d,o.offset-d.startOffset,h);return o.offset+=h,this.position=o,ms("text",g,i,o,h)}return o.path.pop(),o.offset++,this.position=o,this._visitedParent=a.parent,this.ignoreElementEnd?this._next():ms("elementEnd",a,i,o)}_previous(){const i=this.position,o=this.position.clone(),a=this._visitedParent;if(null===a.parent&&0===o.offset)return{done:!0};if(a==this._boundaryStartParent&&o.offset==this.boundaries.start.offset)return{done:!0};const d=o.textNode?o.textNode:o.nodeBefore;if(d instanceof qt)return o.offset--,this.shallow?(this.position=o,ms("elementStart",d,i,o,1)):(o.path.push(d.maxOffset),this.position=o,this._visitedParent=d,this.ignoreElementEnd?this._previous():ms("elementEnd",d,i,o));if(d instanceof Vt){let h;if(this.singleCharacters)h=1;else{let _=d.startOffset;this._boundaryStartParent==a&&this.boundaries.start.offset>_&&(_=this.boundaries.start.offset),h=o.offset-_}const g=new po(d,o.offset-d.startOffset-h,h);return o.offset-=h,this.position=o,ms("text",g,i,o,h)}return o.path.pop(),this.position=o,this._visitedParent=a.parent,ms("elementStart",a,i,o,1)}}function ms(c,i,o,a,d){return{done:!1,value:{type:c,item:i,previousPosition:o,nextPosition:a,length:d}}}class te{constructor(i,o,a="toNone"){if(!i.is("element")&&!i.is("documentFragment"))throw new z.b("model-position-root-invalid: Position root invalid.",i);if(!(o instanceof Array)||0===o.length)throw new z.b("model-position-path-incorrect-format: Position path must be an array with at least one item.",i,{path:o});o=i.getPath().concat(o),this.root=i=i.root,this.path=o,this.stickiness=a}get offset(){return os(this.path)}set offset(i){this.path[this.path.length-1]=i}get parent(){let i=this.root;for(let o=0;o<this.path.length-1;o++)if(i=i.getChild(i.offsetToIndex(this.path[o])),!i)throw new z.b("model-position-path-incorrect: The position's path is incorrect.",this,{position:this});if(i.is("text"))throw new z.b("model-position-path-incorrect: The position's path is incorrect.",this,{position:this});return i}get index(){return this.parent.offsetToIndex(this.offset)}get textNode(){const i=this.parent.getChild(this.index);return i instanceof Vt&&i.startOffset<this.offset?i:null}get nodeAfter(){return null===this.textNode?this.parent.getChild(this.index):null}get nodeBefore(){return null===this.textNode?this.parent.getChild(this.index-1):null}get isAtStart(){return 0===this.offset}get isAtEnd(){return this.offset==this.parent.maxOffset}compareWith(i){if(this.root!=i.root)return"different";const o=_i(this.path,i.path);switch(o){case"same":return"same";case"prefix":return"before";case"extension":return"after";default:return this.path[o]<i.path[o]?"before":"after"}}getLastMatchingPosition(i,o={}){o.startPosition=this;const a=new mo(o);return a.skip(i),a.position}getParentPath(){return this.path.slice(0,-1)}getAncestors(){return this.parent.is("documentFragment")?[this.parent]:this.parent.getAncestors({includeSelf:!0})}getCommonPath(i){if(this.root!=i.root)return[];const o=_i(this.path,i.path),a="string"==typeof o?Math.min(this.path.length,i.path.length):o;return this.path.slice(0,a)}getCommonAncestor(i){const o=this.getAncestors(),a=i.getAncestors();let d=0;for(;o[d]==a[d]&&o[d];)d++;return 0===d?null:o[d-1]}getShiftedBy(i){const o=this.clone(),a=o.offset+i;return o.offset=a<0?0:a,o}isAfter(i){return"after"==this.compareWith(i)}isBefore(i){return"before"==this.compareWith(i)}isEqual(i){return"same"==this.compareWith(i)}isTouching(i){let o=null,a=null;switch(this.compareWith(i)){case"same":return!0;case"before":o=te._createAt(this),a=te._createAt(i);break;case"after":o=te._createAt(i),a=te._createAt(this);break;default:return!1}let d=o.parent;for(;o.path.length+a.path.length;){if(o.isEqual(a))return!0;if(o.path.length>a.path.length){if(o.offset!==d.maxOffset)return!1;o.path=o.path.slice(0,-1),d=d.parent,o.offset++}else{if(0!==a.offset)return!1;a.path=a.path.slice(0,-1)}}}is(i){return"position"==i||"model:position"==i}hasSameParentAs(i){return this.root===i.root&&"same"==_i(this.getParentPath(),i.getParentPath())}getTransformedByOperation(i){let o;switch(i.type){case"insert":o=this._getTransformedByInsertOperation(i);break;case"move":case"remove":case"reinsert":o=this._getTransformedByMoveOperation(i);break;case"split":o=this._getTransformedBySplitOperation(i);break;case"merge":o=this._getTransformedByMergeOperation(i);break;default:o=te._createAt(this)}return o}_getTransformedByInsertOperation(i){return this._getTransformedByInsertion(i.position,i.howMany)}_getTransformedByMoveOperation(i){return this._getTransformedByMove(i.sourcePosition,i.targetPosition,i.howMany)}_getTransformedBySplitOperation(i){const o=i.movedRange;return o.containsPosition(this)||o.start.isEqual(this)&&"toNext"==this.stickiness?this._getCombined(i.splitPosition,i.moveTargetPosition):i.graveyardPosition?this._getTransformedByMove(i.graveyardPosition,i.insertionPosition,1):this._getTransformedByInsertion(i.insertionPosition,1)}_getTransformedByMergeOperation(i){const o=i.movedRange;let a;return o.containsPosition(this)||o.start.isEqual(this)?(a=this._getCombined(i.sourcePosition,i.targetPosition),i.sourcePosition.isBefore(i.targetPosition)&&(a=a._getTransformedByDeletion(i.deletionPosition,1))):a=this.isEqual(i.deletionPosition)?te._createAt(i.deletionPosition):this._getTransformedByMove(i.deletionPosition,i.graveyardPosition,1),a}_getTransformedByDeletion(i,o){const a=te._createAt(this);if(this.root!=i.root)return a;if("same"==_i(i.getParentPath(),this.getParentPath())){if(i.offset<this.offset){if(i.offset+o>this.offset)return null;a.offset-=o}}else if("prefix"==_i(i.getParentPath(),this.getParentPath())){const d=i.path.length-1;if(i.offset<=this.path[d]){if(i.offset+o>this.path[d])return null;a.path[d]-=o}}return a}_getTransformedByInsertion(i,o){const a=te._createAt(this);if(this.root!=i.root)return a;if("same"==_i(i.getParentPath(),this.getParentPath()))(i.offset<this.offset||i.offset==this.offset&&"toPrevious"!=this.stickiness)&&(a.offset+=o);else if("prefix"==_i(i.getParentPath(),this.getParentPath())){const d=i.path.length-1;i.offset<=this.path[d]&&(a.path[d]+=o)}return a}_getTransformedByMove(i,o,a){if(o=o._getTransformedByDeletion(i,a),i.isEqual(o))return te._createAt(this);const d=this._getTransformedByDeletion(i,a);return null===d||i.isEqual(this)&&"toNext"==this.stickiness||i.getShiftedBy(a).isEqual(this)&&"toPrevious"==this.stickiness?this._getCombined(i,o):d._getTransformedByInsertion(o,a)}_getCombined(i,o){const a=i.path.length-1,d=te._createAt(o);return d.stickiness=this.stickiness,d.offset=d.offset+this.path[a]-i.offset,d.path=d.path.concat(this.path.slice(a+1)),d}toJSON(){return{root:this.root.toJSON(),path:Array.from(this.path),stickiness:this.stickiness}}clone(){return new this.constructor(this.root,this.path,this.stickiness)}static _createAt(i,o,a="toNone"){if(i instanceof te)return new te(i.root,i.path,i.stickiness);{const d=i;if("end"==o)o=d.maxOffset;else{if("before"==o)return this._createBefore(d,a);if("after"==o)return this._createAfter(d,a);if(0!==o&&!o)throw new z.b("model-createPositionAt-offset-required: Model#createPositionAt() requires the offset when the first parameter is a model item.",[this,i])}if(!d.is("element")&&!d.is("documentFragment"))throw new z.b("model-position-parent-incorrect: Position parent have to be a element or document fragment.",[this,i]);const h=d.getPath();return h.push(o),new this(d.root,h,a)}}static _createAfter(i,o){if(!i.parent)throw new z.b("model-position-after-root: You cannot make a position after root.",[this,i],{root:i});return this._createAt(i.parent,i.endOffset,o)}static _createBefore(i,o){if(!i.parent)throw new z.b("model-position-before-root: You cannot make a position before root.",i,{root:i});return this._createAt(i.parent,i.startOffset,o)}static fromJSON(i,o){if("$graveyard"===i.root){const a=new te(o.graveyard,i.path);return a.stickiness=i.stickiness,a}if(!o.getRoot(i.root))throw new z.b("model-position-fromjson-no-root: Cannot create position for document. Root with specified name does not exist.",o,{rootName:i.root});return new te(o.getRoot(i.root),i.path,i.stickiness)}}class Z{constructor(i,o=null){this.start=te._createAt(i),this.end=te._createAt(o||i),this.start.stickiness=this.isCollapsed?"toNone":"toNext",this.end.stickiness=this.isCollapsed?"toNone":"toPrevious"}*[Symbol.iterator](){yield*new mo({boundaries:this,ignoreElementEnd:!0})}get isCollapsed(){return this.start.isEqual(this.end)}get isFlat(){return"same"==_i(this.start.getParentPath(),this.end.getParentPath())}get root(){return this.start.root}containsPosition(i){return i.isAfter(this.start)&&i.isBefore(this.end)}containsRange(i,o=!1){i.isCollapsed&&(o=!1);const a=this.containsPosition(i.start)||o&&this.start.isEqual(i.start),d=this.containsPosition(i.end)||o&&this.end.isEqual(i.end);return a&&d}containsItem(i){const o=te._createBefore(i);return this.containsPosition(o)||this.start.isEqual(o)}is(i){return"range"==i||"model:range"==i}isEqual(i){return this.start.isEqual(i.start)&&this.end.isEqual(i.end)}isIntersecting(i){return this.start.isBefore(i.end)&&this.end.isAfter(i.start)}getDifference(i){const o=[];return this.isIntersecting(i)?(this.containsPosition(i.start)&&o.push(new Z(this.start,i.start)),this.containsPosition(i.end)&&o.push(new Z(i.end,this.end))):o.push(new Z(this.start,this.end)),o}getIntersection(i){if(this.isIntersecting(i)){let o=this.start,a=this.end;return this.containsPosition(i.start)&&(o=i.start),this.containsPosition(i.end)&&(a=i.end),new Z(o,a)}return null}getMinimalFlatRanges(){const i=[],o=this.start.getCommonPath(this.end).length,a=te._createAt(this.start);let d=a.parent;for(;a.path.length>o+1;){const h=d.maxOffset-a.offset;0!==h&&i.push(new Z(a,a.getShiftedBy(h))),a.path=a.path.slice(0,-1),a.offset++,d=d.parent}for(;a.path.length<=this.end.path.length;){const h=this.end.path[a.path.length-1],p=h-a.offset;0!==p&&i.push(new Z(a,a.getShiftedBy(p))),a.offset=h,a.path.push(0)}return i}getWalker(i={}){return i.boundaries=this,new mo(i)}*getItems(i={}){i.boundaries=this,i.ignoreElementEnd=!0;const o=new mo(i);for(const a of o)yield a.item}*getPositions(i={}){i.boundaries=this;const o=new mo(i);yield o.position;for(const a of o)yield a.nextPosition}getTransformedByOperation(i){switch(i.type){case"insert":return this._getTransformedByInsertOperation(i);case"move":case"remove":case"reinsert":return this._getTransformedByMoveOperation(i);case"split":return[this._getTransformedBySplitOperation(i)];case"merge":return[this._getTransformedByMergeOperation(i)]}return[new Z(this.start,this.end)]}getTransformedByOperations(i){const o=[new Z(this.start,this.end)];for(const a of i)for(let d=0;d<o.length;d++){const h=o[d].getTransformedByOperation(a);o.splice(d,1,...h),d+=h.length-1}for(let a=0;a<o.length;a++){const d=o[a];for(let h=a+1;h<o.length;h++){const p=o[h];(d.containsRange(p)||p.containsRange(d)||d.isEqual(p))&&o.splice(h,1)}}return o}getCommonAncestor(){return this.start.getCommonAncestor(this.end)}toJSON(){return{start:this.start.toJSON(),end:this.end.toJSON()}}clone(){return new this.constructor(this.start,this.end)}_getTransformedByInsertOperation(i,o=!1){return this._getTransformedByInsertion(i.position,i.howMany,o)}_getTransformedByMoveOperation(i,o=!1){return this._getTransformedByMove(i.sourcePosition,i.targetPosition,i.howMany,o)}_getTransformedBySplitOperation(i){const o=this.start._getTransformedBySplitOperation(i);let a=this.end._getTransformedBySplitOperation(i);return this.end.isEqual(i.insertionPosition)&&(a=this.end.getShiftedBy(1)),o.root!=a.root&&(a=this.end.getShiftedBy(-1)),new Z(o,a)}_getTransformedByMergeOperation(i){if(this.start.isEqual(i.targetPosition)&&this.end.isEqual(i.deletionPosition))return new Z(this.start);let o=this.start._getTransformedByMergeOperation(i),a=this.end._getTransformedByMergeOperation(i);return o.root!=a.root&&(a=this.end.getShiftedBy(-1)),o.isAfter(a)?(i.sourcePosition.isBefore(i.targetPosition)?(o=te._createAt(a),o.offset=0):(i.deletionPosition.isEqual(o)||(a=i.deletionPosition),o=i.targetPosition),new Z(o,a)):new Z(o,a)}_getTransformedByInsertion(i,o,a=!1){if(a&&this.containsPosition(i))return[new Z(this.start,i),new Z(i.getShiftedBy(o),this.end._getTransformedByInsertion(i,o))];{const d=new Z(this.start,this.end);return d.start=d.start._getTransformedByInsertion(i,o),d.end=d.end._getTransformedByInsertion(i,o),[d]}}_getTransformedByMove(i,o,a,d=!1){if(this.isCollapsed){const k=this.start._getTransformedByMove(i,o,a);return[new Z(k)]}const h=Z._createFromPositionAndShift(i,a),p=o._getTransformedByDeletion(i,a);if(this.containsPosition(o)&&!d&&(h.containsPosition(this.start)||h.containsPosition(this.end))){const k=this.start._getTransformedByMove(i,o,a),T=this.end._getTransformedByMove(i,o,a);return[new Z(k,T)]}let g;const _=this.getDifference(h);let v=null;const y=this.getIntersection(h);if(1==_.length?v=new Z(_[0].start._getTransformedByDeletion(i,a),_[0].end._getTransformedByDeletion(i,a)):2==_.length&&(v=new Z(this.start,this.end._getTransformedByDeletion(i,a))),g=v?v._getTransformedByInsertion(p,a,null!==y||d):[],y){const k=new Z(y.start._getCombined(h.start,p),y.end._getCombined(h.start,p));2==g.length?g.splice(1,0,k):g.push(k)}return g}_getTransformedByDeletion(i,o){let a=this.start._getTransformedByDeletion(i,o),d=this.end._getTransformedByDeletion(i,o);return null==a&&null==d?null:(null==a&&(a=i),null==d&&(d=i),new Z(a,d))}static _createFromPositionAndShift(i,o){const a=i,d=i.getShiftedBy(o);return o>0?new this(a,d):new this(d,a)}static _createIn(i){return new this(te._createAt(i,0),te._createAt(i,i.maxOffset))}static _createOn(i){return this._createFromPositionAndShift(te._createBefore(i),i.offsetSize)}static _createFromRanges(i){if(0===i.length)throw new z.b("range-create-from-ranges-empty-array: At least one range has to be passed.",null);if(1==i.length)return i[0].clone();const o=i[0];i.sort((h,p)=>h.start.isAfter(p.start)?1:-1);const a=i.indexOf(o),d=new this(o.start,o.end);if(a>0)for(let h=a-1;i[h].end.isEqual(d.start);h++)d.start=te._createAt(i[h].start);for(let h=a+1;h<i.length&&i[h].start.isEqual(d.end);h++)d.end=te._createAt(i[h].end);return d}static fromJSON(i,o){return new this(te.fromJSON(i.start,o),te.fromJSON(i.end,o))}}class ul{constructor(){this._modelToViewMapping=new WeakMap,this._viewToModelMapping=new WeakMap,this._viewToModelLengthCallbacks=new Map,this._markerNameToElements=new Map,this._elementToMarkerNames=new Map,this._unboundMarkerNames=new Set,this.on("modelToViewPosition",(i,o)=>{if(o.viewPosition)return;const a=this._modelToViewMapping.get(o.modelPosition.parent);o.viewPosition=this._findPositionIn(a,o.modelPosition.offset)},{priority:"low"}),this.on("viewToModelPosition",(i,o)=>{if(o.modelPosition)return;const a=this.findMappedViewAncestor(o.viewPosition),d=this._viewToModelMapping.get(a),h=this._toModelOffset(o.viewPosition.parent,o.viewPosition.offset,a);o.modelPosition=te._createAt(d,h)},{priority:"low"})}bindElements(i,o){this._modelToViewMapping.set(i,o),this._viewToModelMapping.set(o,i)}unbindViewElement(i){const o=this.toModelElement(i);if(this._viewToModelMapping.delete(i),this._elementToMarkerNames.has(i))for(const a of this._elementToMarkerNames.get(i))this._unboundMarkerNames.add(a);this._modelToViewMapping.get(o)==i&&this._modelToViewMapping.delete(o)}unbindModelElement(i){const o=this.toViewElement(i);this._modelToViewMapping.delete(i),this._viewToModelMapping.get(o)==i&&this._viewToModelMapping.delete(o)}bindElementToMarker(i,o){const a=this._markerNameToElements.get(o)||new Set;a.add(i);const d=this._elementToMarkerNames.get(i)||new Set;d.add(o),this._markerNameToElements.set(o,a),this._elementToMarkerNames.set(i,d)}unbindElementFromMarkerName(i,o){const a=this._markerNameToElements.get(o);a&&(a.delete(i),0==a.size&&this._markerNameToElements.delete(o));const d=this._elementToMarkerNames.get(i);d&&(d.delete(o),0==d.size&&this._elementToMarkerNames.delete(i))}flushUnboundMarkerNames(){const i=Array.from(this._unboundMarkerNames);return this._unboundMarkerNames.clear(),i}clearBindings(){this._modelToViewMapping=new WeakMap,this._viewToModelMapping=new WeakMap,this._markerNameToElements=new Map,this._elementToMarkerNames=new Map,this._unboundMarkerNames=new Set}toModelElement(i){return this._viewToModelMapping.get(i)}toViewElement(i){return this._modelToViewMapping.get(i)}toModelRange(i){return new Z(this.toModelPosition(i.start),this.toModelPosition(i.end))}toViewRange(i){return new Ye(this.toViewPosition(i.start),this.toViewPosition(i.end))}toModelPosition(i){const o={viewPosition:i,mapper:this};return this.fire("viewToModelPosition",o),o.modelPosition}toViewPosition(i,o={isPhantom:!1}){const a={modelPosition:i,mapper:this,isPhantom:o.isPhantom};return this.fire("modelToViewPosition",a),a.viewPosition}markerNameToElements(i){const o=this._markerNameToElements.get(i);if(!o)return null;const a=new Set;for(const d of o)if(d.is("attributeElement"))for(const h of d.getElementsWithSameId())a.add(h);else a.add(d);return a}registerViewToModelLength(i,o){this._viewToModelLengthCallbacks.set(i,o)}findMappedViewAncestor(i){let o=i.parent;for(;!this._viewToModelMapping.has(o);)o=o.parent;return o}_toModelOffset(i,o,a){if(a!=i)return this._toModelOffset(i.parent,i.index,a)+this._toModelOffset(i,o,i);if(i.is("text"))return o;let d=0;for(let h=0;h<o;h++)d+=this.getModelLength(i.getChild(h));return d}getModelLength(i){if(this._viewToModelLengthCallbacks.get(i.name))return this._viewToModelLengthCallbacks.get(i.name)(i);if(this._viewToModelMapping.has(i))return 1;if(i.is("text"))return i.data.length;if(i.is("uiElement"))return 0;{let o=0;for(const a of i.getChildren())o+=this.getModelLength(a);return o}}_findPositionIn(i,o){let a,d=0,h=0,p=0;if(i.is("text"))return new he(i,o);for(;h<o;)a=i.getChild(p),d=this.getModelLength(a),h+=d,p++;return h==o?this._moveViewPositionToTextNode(new he(i,p)):this._findPositionIn(a,o-(h-d))}_moveViewPositionToTextNode(i){const o=i.nodeBefore,a=i.nodeAfter;return o instanceof ue?new he(o,o.data.length):a instanceof ue?new he(a,0):i}}Be(ul,_n);class gs{constructor(){this._consumable=new Map,this._textProxyRegistry=new Map}add(i,o){o=Iu(o),i instanceof po&&(i=this._getSymbolForTextProxy(i)),this._consumable.has(i)||this._consumable.set(i,new Map),this._consumable.get(i).set(o,!0)}consume(i,o){return o=Iu(o),i instanceof po&&(i=this._getSymbolForTextProxy(i)),!!this.test(i,o)&&(this._consumable.get(i).set(o,!1),!0)}test(i,o){o=Iu(o),i instanceof po&&(i=this._getSymbolForTextProxy(i));const a=this._consumable.get(i);if(void 0===a)return null;const d=a.get(o);return void 0===d?null:d}revert(i,o){o=Iu(o),i instanceof po&&(i=this._getSymbolForTextProxy(i));const a=this.test(i,o);return!1===a?(this._consumable.get(i).set(o,!0),!0):!0!==a&&null}_getSymbolForTextProxy(i){let o=null;const a=this._textProxyRegistry.get(i.startOffset);if(a){const d=a.get(i.endOffset);d&&(o=d.get(i.parent))}return o||(o=this._addSymbolForTextProxy(i.startOffset,i.endOffset,i.parent)),o}_addSymbolForTextProxy(i,o,a){const d=Symbol("textProxySymbol");let h,p;return h=this._textProxyRegistry.get(i),h||(h=new Map,this._textProxyRegistry.set(i,h)),p=h.get(o),p||(p=new Map,h.set(o,p)),p.set(a,d),d}}function Iu(c){const i=c.split(":");return i.length>1?i[0]+":"+i[1]:i[0]}class Pu{constructor(i){this.conversionApi=wc({dispatcher:this},i)}convertChanges(i,o,a){for(const d of i.getMarkersToRemove())this.convertMarkerRemove(d.name,d.range,a);for(const d of i.getChanges())"insert"==d.type?this.convertInsert(Z._createFromPositionAndShift(d.position,d.length),a):"remove"==d.type?this.convertRemove(d.position,d.length,d.name,a):this.convertAttribute(d.range,d.attributeKey,d.attributeOldValue,d.attributeNewValue,a);for(const d of this.conversionApi.mapper.flushUnboundMarkerNames()){const h=o.get(d).getRange();this.convertMarkerRemove(d,h,a),this.convertMarkerAdd(d,h,a)}for(const d of i.getMarkersToAdd())this.convertMarkerAdd(d.name,d.range,a)}convertInsert(i,o){this.conversionApi.writer=o,this.conversionApi.consumable=this._createInsertConsumable(i);for(const a of i){const d=a.item,h={item:d,range:Z._createFromPositionAndShift(a.previousPosition,a.length)};this._testAndFire("insert",h);for(const p of d.getAttributeKeys())h.attributeKey=p,h.attributeOldValue=null,h.attributeNewValue=d.getAttribute(p),this._testAndFire(`attribute:${p}`,h)}this._clearConversionApi()}convertRemove(i,o,a,d){this.conversionApi.writer=d,this.fire("remove:"+a,{position:i,length:o},this.conversionApi),this._clearConversionApi()}convertAttribute(i,o,a,d,h){this.conversionApi.writer=h,this.conversionApi.consumable=this._createConsumableForRange(i,`attribute:${o}`);for(const p of i){const g={item:p.item,range:Z._createFromPositionAndShift(p.previousPosition,p.length),attributeKey:o,attributeOldValue:a,attributeNewValue:d};this._testAndFire(`attribute:${o}`,g)}this._clearConversionApi()}convertSelection(i,o,a){const d=Array.from(o.getMarkersAtPosition(i.getFirstPosition()));if(this.conversionApi.writer=a,this.conversionApi.consumable=this._createSelectionConsumable(i,d),this.fire("selection",{selection:i},this.conversionApi),i.isCollapsed){for(const h of d){const p=h.getRange();if(!V_(i.getFirstPosition(),h,this.conversionApi.mapper))continue;const g={item:i,markerName:h.name,markerRange:p};this.conversionApi.consumable.test(i,"addMarker:"+h.name)&&this.fire("addMarker:"+h.name,g,this.conversionApi)}for(const h of i.getAttributeKeys()){const p={item:i,range:i.getFirstRange(),attributeKey:h,attributeOldValue:null,attributeNewValue:i.getAttribute(h)};this.conversionApi.consumable.test(i,"attribute:"+p.attributeKey)&&this.fire("attribute:"+p.attributeKey+":$text",p,this.conversionApi)}this._clearConversionApi()}}convertMarkerAdd(i,o,a){if(!o.root.document||"$graveyard"==o.root.rootName)return;this.conversionApi.writer=a;const d="addMarker:"+i,h=new gs;if(h.add(o,d),this.conversionApi.consumable=h,this.fire(d,{markerName:i,markerRange:o},this.conversionApi),h.test(o,d)){this.conversionApi.consumable=this._createConsumableForRange(o,d);for(const p of o.getItems()){if(!this.conversionApi.consumable.test(p,d))continue;const g={item:p,range:Z._createOn(p),markerName:i,markerRange:o};this.fire(d,g,this.conversionApi)}this._clearConversionApi()}}convertMarkerRemove(i,o,a){o.root.document&&"$graveyard"!=o.root.rootName&&(this.conversionApi.writer=a,this.fire("removeMarker:"+i,{markerName:i,markerRange:o},this.conversionApi),this._clearConversionApi())}_createInsertConsumable(i){const o=new gs;for(const a of i){const d=a.item;o.add(d,"insert");for(const h of d.getAttributeKeys())o.add(d,"attribute:"+h)}return o}_createConsumableForRange(i,o){const a=new gs;for(const d of i.getItems())a.add(d,o);return a}_createSelectionConsumable(i,o){const a=new gs;a.add(i,"selection");for(const d of o)a.add(i,"addMarker:"+d.name);for(const d of i.getAttributeKeys())a.add(i,"attribute:"+d);return a}_testAndFire(i,o){this.conversionApi.consumable.test(o.item,i)&&this.fire(i+":"+(o.item.name||"$text"),o,this.conversionApi)}_clearConversionApi(){delete this.conversionApi.writer,delete this.conversionApi.consumable}}function V_(c,i,o){const a=i.getRange(),d=Array.from(c.getAncestors());return d.shift(),d.reverse(),!d.some(h=>{if(a.containsItem(h))return!!o.toViewElement(h).getCustomProperty("addHighlight")})}Be(Pu,_n);class Pi{constructor(i,o,a){this._lastRangeBackward=!1,this._ranges=[],this._attrs=new Map,i&&this.setTo(i,o,a)}get anchor(){if(this._ranges.length>0){const i=this._ranges[this._ranges.length-1];return this._lastRangeBackward?i.end:i.start}return null}get focus(){if(this._ranges.length>0){const i=this._ranges[this._ranges.length-1];return this._lastRangeBackward?i.start:i.end}return null}get isCollapsed(){return 1===this._ranges.length&&this._ranges[0].isCollapsed}get rangeCount(){return this._ranges.length}get isBackward(){return!this.isCollapsed&&this._lastRangeBackward}isEqual(i){if(this.rangeCount!=i.rangeCount)return!1;if(0===this.rangeCount)return!0;if(!this.anchor.isEqual(i.anchor)||!this.focus.isEqual(i.focus))return!1;for(const o of this._ranges){let a=!1;for(const d of i._ranges)if(o.isEqual(d)){a=!0;break}if(!a)return!1}return!0}*getRanges(){for(const i of this._ranges)yield new Z(i.start,i.end)}getFirstRange(){let i=null;for(const o of this._ranges)i&&!o.start.isBefore(i.start)||(i=o);return i?new Z(i.start,i.end):null}getLastRange(){let i=null;for(const o of this._ranges)i&&!o.end.isAfter(i.end)||(i=o);return i?new Z(i.start,i.end):null}getFirstPosition(){const i=this.getFirstRange();return i?i.start.clone():null}getLastPosition(){const i=this.getLastRange();return i?i.end.clone():null}setTo(i,o,a){if(null===i)this._setRanges([]);else if(i instanceof Pi)this._setRanges(i.getRanges(),i.isBackward);else if(i&&"function"==typeof i.getRanges)this._setRanges(i.getRanges(),i.isBackward);else if(i instanceof Z)this._setRanges([i],!!o&&!!o.backward);else if(i instanceof te)this._setRanges([new Z(i)]);else if(i instanceof fo){const d=!!a&&!!a.backward;let h;if("in"==o)h=Z._createIn(i);else if("on"==o)h=Z._createOn(i);else{if(void 0===o)throw new z.b("model-selection-setTo-required-second-parameter: selection.setTo requires the second parameter when the first parameter is a node.",[this,i]);h=new Z(te._createAt(i,o))}this._setRanges([h],d)}else{if(!_r(i))throw new z.b("model-selection-setTo-not-selectable: Cannot set the selection to the given place.",[this,i]);this._setRanges(i,o&&!!o.backward)}}_setRanges(i,o=!1){const a=(i=Array.from(i)).some(d=>{if(!(d instanceof Z))throw new z.b("model-selection-set-ranges-not-range: Selection range set to an object that is not an instance of model.Range.",[this,i]);return this._ranges.every(h=>!h.isEqual(d))});if(i.length!==this._ranges.length||a){this._removeAllRanges();for(const d of i)this._pushRange(d);this._lastRangeBackward=!!o,this.fire("change:range",{directChange:!0})}}setFocus(i,o){if(null===this.anchor)throw new z.b("model-selection-setFocus-no-ranges: Cannot set selection focus if there are no ranges in selection.",[this,i]);const a=te._createAt(i,o);if("same"==a.compareWith(this.focus))return;const d=this.anchor;this._ranges.length&&this._popRange(),"before"==a.compareWith(d)?(this._pushRange(new Z(a,d)),this._lastRangeBackward=!0):(this._pushRange(new Z(d,a)),this._lastRangeBackward=!1),this.fire("change:range",{directChange:!0})}getAttribute(i){return this._attrs.get(i)}getAttributes(){return this._attrs.entries()}getAttributeKeys(){return this._attrs.keys()}hasAttribute(i){return this._attrs.has(i)}removeAttribute(i){this.hasAttribute(i)&&(this._attrs.delete(i),this.fire("change:attribute",{attributeKeys:[i],directChange:!0}))}setAttribute(i,o){this.getAttribute(i)!==o&&(this._attrs.set(i,o),this.fire("change:attribute",{attributeKeys:[i],directChange:!0}))}getSelectedElement(){if(1!==this.rangeCount)return null;const i=this.getFirstRange(),o=i.start.nodeAfter;return o instanceof qt&&o==i.end.nodeBefore?o:null}is(i){return"selection"==i||"model:selection"==i}*getSelectedBlocks(){const i=new WeakSet;for(const o of this.getRanges()){const a=ir(o.start,i);a&&_s(a,o)&&(yield a);for(const h of o.getWalker()){const p=h.item;"elementEnd"==h.type&&qf(p,i,o)&&(yield p)}const d=ir(o.end,i);d&&!o.end.isTouching(te._createAt(d,0))&&_s(d,o)&&(yield d)}}containsEntireContent(i=this.anchor.root){const o=te._createAt(i,0),a=te._createAt(i,"end");return o.isTouching(this.getFirstPosition())&&a.isTouching(this.getLastPosition())}_pushRange(i){this._checkRange(i),this._ranges.push(new Z(i.start,i.end))}_checkRange(i){for(let o=0;o<this._ranges.length;o++)if(i.isIntersecting(this._ranges[o]))throw new z.b("model-selection-range-intersects: Trying to add a range that intersects with another range in the selection.",[this,i],{addedRange:i,intersectingRange:this._ranges[o]})}_removeAllRanges(){for(;this._ranges.length>0;)this._popRange()}_popRange(){this._ranges.pop()}}function Wn(c,i){return!i.has(c)&&(i.add(c),c.document.model.schema.isBlock(c)&&c.parent)}function qf(c,i,o){return Wn(c,i)&&_s(c,o)}function ir(c,i){const o=c.parent.document.model.schema,a=c.parent.getAncestors({parentFirst:!0,includeSelf:!0});let d=!1;const h=a.find(p=>!d&&(d=o.isLimit(p),!d&&Wn(p,i)));return a.forEach(p=>i.add(p)),h}function _s(c,i){const o=function(a){const d=a.document.model.schema;let h=a.parent;for(;h;){if(d.isBlock(h))return h;h=h.parent}}(c);return!o||!i.containsRange(Z._createOn(o),!0)}Be(Pi,_n);class Cr extends Z{constructor(i,o){super(i,o),hl.call(this)}detach(){this.stopListening()}is(i){return"liveRange"==i||"model:liveRange"==i||super.is(i)}toRange(){return new Z(this.start,this.end)}static fromRange(i){return new Cr(i.start,i.end)}}function hl(){this.listenTo(this.root.document.model,"applyOperation",(c,i)=>{const o=i[0];o.isDocumentOperation&&j_.call(this,o)},{priority:"low"})}function j_(c){const i=this.getTransformedByOperation(c),o=Z._createFromRanges(i),a=!o.isEqual(this),d=function(p,g){switch(g.type){case"insert":return p.containsPosition(g.position);case"move":case"remove":case"reinsert":case"merge":return p.containsPosition(g.sourcePosition)||p.start.isEqual(g.sourcePosition)||p.containsPosition(g.targetPosition);case"split":return p.containsPosition(g.splitPosition)||p.containsPosition(g.insertionPosition)}return!1}(this,c);let h=null;if(a){"$graveyard"==o.root.rootName&&(h="remove"==c.type?c.sourcePosition:c.deletionPosition);const p=this.toRange();this.start=o.start,this.end=o.end,this.fire("change:range",p,{deletionPosition:h})}else d&&this.fire("change:content",this.toRange(),{deletionPosition:h})}Be(Cr,_n);class rr{constructor(i){this._selection=new fl(i),this._selection.delegate("change:range").to(this),this._selection.delegate("change:attribute").to(this),this._selection.delegate("change:marker").to(this)}get isCollapsed(){return this._selection.isCollapsed}get anchor(){return this._selection.anchor}get focus(){return this._selection.focus}get rangeCount(){return this._selection.rangeCount}get hasOwnRange(){return this._selection.hasOwnRange}get isBackward(){return this._selection.isBackward}get isGravityOverridden(){return this._selection.isGravityOverridden}get markers(){return this._selection.markers}get _ranges(){return this._selection._ranges}getRanges(){return this._selection.getRanges()}getFirstPosition(){return this._selection.getFirstPosition()}getLastPosition(){return this._selection.getLastPosition()}getFirstRange(){return this._selection.getFirstRange()}getLastRange(){return this._selection.getLastRange()}getSelectedBlocks(){return this._selection.getSelectedBlocks()}getSelectedElement(){return this._selection.getSelectedElement()}containsEntireContent(i){return this._selection.containsEntireContent(i)}destroy(){this._selection.destroy()}getAttributeKeys(){return this._selection.getAttributeKeys()}getAttributes(){return this._selection.getAttributes()}getAttribute(i){return this._selection.getAttribute(i)}hasAttribute(i){return this._selection.hasAttribute(i)}refresh(){this._selection._updateMarkers(),this._selection._updateAttributes(!1)}is(i){return"selection"==i||"model:selection"==i||"documentSelection"==i||"model:documentSelection"==i}_setFocus(i,o){this._selection.setFocus(i,o)}_setTo(i,o,a){this._selection.setTo(i,o,a)}_setAttribute(i,o){this._selection.setAttribute(i,o)}_removeAttribute(i){this._selection.removeAttribute(i)}_getStoredAttributes(){return this._selection._getStoredAttributes()}_overrideGravity(){return this._selection.overrideGravity()}_restoreGravity(i){this._selection.restoreGravity(i)}static _getStoreAttributeKey(i){return"selection:"+i}static _isStoreAttributeKey(i){return i.startsWith("selection:")}}Be(rr,_n);class fl extends Pi{constructor(i){super(),this.markers=new $n({idProperty:"name"}),this._model=i.model,this._document=i,this._attributePriority=new Map,this._fixGraveyardRangesData=[],this._hasChangedRange=!1,this._overriddenGravityRegister=new Set,this.listenTo(this._model,"applyOperation",(o,a)=>{const d=a[0];if(d.isDocumentOperation&&"marker"!=d.type&&"rename"!=d.type&&"noop"!=d.type){for(;this._fixGraveyardRangesData.length;){const{liveRange:h,sourcePosition:p}=this._fixGraveyardRangesData.shift();this._fixGraveyardSelection(h,p)}this._hasChangedRange&&(this._hasChangedRange=!1,this.fire("change:range",{directChange:!1}))}},{priority:"lowest"}),this.on("change:range",()=>{for(const o of this.getRanges())if(!this._document._validateSelectionRange(o))throw new z.b("document-selection-wrong-position: Range from document selection starts or ends at incorrect position.",this,{range:o})}),this.listenTo(this._model.markers,"update",()=>this._updateMarkers()),this.listenTo(this._document,"change",(o,a)=>{!function(d,h){const p=d.document.differ;for(const g of p.getChanges()){if("insert"!=g.type)continue;const _=g.position.parent;g.length===_.maxOffset&&d.enqueueChange(h,v=>{const y=Array.from(_.getAttributeKeys()).filter(k=>k.startsWith("selection:"));for(const k of y)v.removeAttribute(k,_)})}}(this._model,a)})}get isCollapsed(){return 0===this._ranges.length?this._document._getDefaultRange().isCollapsed:super.isCollapsed}get anchor(){return super.anchor||this._document._getDefaultRange().start}get focus(){return super.focus||this._document._getDefaultRange().end}get rangeCount(){return this._ranges.length?this._ranges.length:1}get hasOwnRange(){return this._ranges.length>0}get isGravityOverridden(){return!!this._overriddenGravityRegister.size}destroy(){for(let i=0;i<this._ranges.length;i++)this._ranges[i].detach();this.stopListening()}*getRanges(){this._ranges.length?yield*super.getRanges():yield this._document._getDefaultRange()}getFirstRange(){return super.getFirstRange()||this._document._getDefaultRange()}getLastRange(){return super.getLastRange()||this._document._getDefaultRange()}setTo(i,o,a){super.setTo(i,o,a),this._updateAttributes(!0),this._updateMarkers()}setFocus(i,o){super.setFocus(i,o),this._updateAttributes(!0),this._updateMarkers()}setAttribute(i,o){this._setAttribute(i,o)&&this.fire("change:attribute",{attributeKeys:[i],directChange:!0})}removeAttribute(i){this._removeAttribute(i)&&this.fire("change:attribute",{attributeKeys:[i],directChange:!0})}overrideGravity(){const i=Nr();return this._overriddenGravityRegister.add(i),1===this._overriddenGravityRegister.size&&this._updateAttributes(!0),i}restoreGravity(i){if(!this._overriddenGravityRegister.has(i))throw new z.b("document-selection-gravity-wrong-restore: Attempting to restore the selection gravity for an unknown UID.",this,{uid:i});this._overriddenGravityRegister.delete(i),this.isGravityOverridden||this._updateAttributes(!0)}_popRange(){this._ranges.pop().detach()}_pushRange(i){const o=this._prepareRange(i);o&&this._ranges.push(o)}_prepareRange(i){if(this._checkRange(i),i.root==this._document.graveyard)return;const o=Cr.fromRange(i);return o.on("change:range",(a,d,h)=>{this._hasChangedRange=!0,o.root==this._document.graveyard&&this._fixGraveyardRangesData.push({liveRange:o,sourcePosition:h.deletionPosition})}),o}_updateMarkers(){const i=[];let o=!1;for(const d of this._model.markers){const h=d.getRange();for(const p of this.getRanges())h.containsRange(p,!p.isCollapsed)&&i.push(d)}const a=Array.from(this.markers);for(const d of i)this.markers.has(d)||(this.markers.add(d),o=!0);for(const d of Array.from(this.markers))i.includes(d)||(this.markers.remove(d),o=!0);o&&this.fire("change:marker",{oldMarkers:a,directChange:!1})}_updateAttributes(i){const o=se(this._getSurroundingAttributes()),a=se(this.getAttributes());if(i)this._attributePriority=new Map,this._attrs=new Map;else for(const[h,p]of this._attributePriority)"low"==p&&(this._attrs.delete(h),this._attributePriority.delete(h));this._setAttributesTo(o);const d=[];for(const[h,p]of this.getAttributes())a.has(h)&&a.get(h)===p||d.push(h);for(const[h]of a)this.hasAttribute(h)||d.push(h);d.length>0&&this.fire("change:attribute",{attributeKeys:d,directChange:!1})}_setAttribute(i,o,a=!0){const d=a?"normal":"low";return("low"!=d||"normal"!=this._attributePriority.get(i))&&super.getAttribute(i)!==o&&(this._attrs.set(i,o),this._attributePriority.set(i,d),!0)}_removeAttribute(i,o=!0){const a=o?"normal":"low";return!("low"==a&&"normal"==this._attributePriority.get(i)||(this._attributePriority.set(i,a),!super.hasAttribute(i)||(this._attrs.delete(i),0)))}_setAttributesTo(i){const o=new Set;for(const[a,d]of this.getAttributes())i.get(a)!==d&&this._removeAttribute(a,!1);for(const[a,d]of i)this._setAttribute(a,d,!1)&&o.add(a);return o}*_getStoredAttributes(){const i=this.getFirstPosition().parent;if(this.isCollapsed&&i.isEmpty)for(const o of i.getAttributeKeys())o.startsWith("selection:")&&(yield[o.substr(10),i.getAttribute(o)])}_getSurroundingAttributes(){const i=this.getFirstPosition(),o=this._model.schema;let a=null;if(this.isCollapsed){const d=i.textNode?i.textNode:i.nodeBefore,h=i.textNode?i.textNode:i.nodeAfter;if(this.isGravityOverridden||(a=Gf(d)),a||(a=Gf(h)),!this.isGravityOverridden&&!a){let p=d;for(;p&&!a;)p=p.previousSibling,a=Gf(p)}if(!a){let p=h;for(;p&&!a;)p=p.nextSibling,a=Gf(p)}a||(a=this._getStoredAttributes())}else{const d=this.getFirstRange();for(const h of d){if(h.item.is("element")&&o.isObject(h.item))break;if("text"==h.type){a=h.item.getAttributes();break}}}return a}_fixGraveyardSelection(i,o){const a=o.clone(),d=this._model.schema.getNearestSelectionRange(a),h=this._ranges.indexOf(i);if(this._ranges.splice(h,1),i.detach(),d){const p=this._prepareRange(d);this._ranges.splice(h,0,p)}}}function Gf(c){return c instanceof po||c instanceof Vt?c.getAttributes():null}class z_{constructor(i){this._dispatchers=i}add(i){for(const o of this._dispatchers)i(o);return this}}var re=function(c){return Qe(c,5)};class Fk extends z_{elementToElement(i){return this.add(function(o){return(o=re(o)).view=Kf(o.view,"container"),a=>{var d;a.on("insert:"+o.model,(d=o.view,(h,p,g)=>{const _=d(p.item,g.writer);if(!_||!g.consumable.consume(p.item,"insert"))return;const v=g.mapper.toViewPosition(p.range.start);g.mapper.bindElements(p.item,_),g.writer.insert(v,_)}),{priority:o.converterPriority||"normal"})}}(i))}attributeToElement(i){return this.add(function(o){let a="attribute:"+((o=re(o)).model.key?o.model.key:o.model);if(o.model.name&&(a+=":"+o.model.name),o.model.values)for(const h of o.model.values)o.view[h]=Kf(o.view[h],"attribute");else o.view=Kf(o.view,"attribute");const d=Lk(o);return h=>{var p;h.on(a,(p=d,(g,_,v)=>{const y=p(_.attributeOldValue,v.writer),k=p(_.attributeNewValue,v.writer);if(!y&&!k||!v.consumable.consume(_.item,g.name))return;const T=v.writer;if(_.item instanceof Pi||_.item instanceof rr)T.wrap(T.document.selection.getFirstRange(),k);else{let R=v.mapper.toViewRange(_.range);null!==_.attributeOldValue&&y&&(R=T.unwrap(R,y)),null!==_.attributeNewValue&&k&&T.wrap(R,k)}}),{priority:o.converterPriority||"normal"})}}(i))}attributeToAttribute(i){return this.add(function(o){let a="attribute:"+((o=re(o)).model.key?o.model.key:o.model);if(o.model.name&&(a+=":"+o.model.name),o.model.values)for(const h of o.model.values)o.view[h]=Bk(o.view[h]);else o.view=Bk(o.view);const d=Lk(o);return h=>{var p;h.on(a,(p=d,(g,_,v)=>{const y=p(_.attributeOldValue,_),k=p(_.attributeNewValue,_);if(!y&&!k||!v.consumable.consume(_.item,g.name))return;const T=v.mapper.toViewElement(_.item),D=v.writer;if(!T)throw new z.b("conversion-attribute-to-attribute-on-text: Trying to convert text node's attribute with attribute-to-attribute converter.",[_,v]);if(null!==_.attributeOldValue&&y)if("class"==y.key){const R=Array.isArray(y.value)?y.value:[y.value];for(const F of R)D.removeClass(F,T)}else if("style"==y.key){const R=Object.keys(y.value);for(const F of R)D.removeStyle(F,T)}else D.removeAttribute(y.key,T);if(null!==_.attributeNewValue&&k)if("class"==k.key){const R=Array.isArray(k.value)?k.value:[k.value];for(const F of R)D.addClass(F,T)}else if("style"==k.key){const R=Object.keys(k.value);for(const F of R)D.setStyle(F,k.value[F],T)}else D.setAttribute(k.key,k.value,T)}),{priority:o.converterPriority||"normal"})}}(i))}markerToElement(i){return this.add(function(o){return(o=re(o)).view=Kf(o.view,"ui"),a=>{var d;a.on("addMarker:"+o.model,(d=o.view,(h,p,g)=>{p.isOpening=!0;const _=d(p,g.writer);p.isOpening=!1;const v=d(p,g.writer);if(!_||!v)return;const y=p.markerRange;if(y.isCollapsed&&!g.consumable.consume(y,h.name))return;for(const D of y)if(!g.consumable.consume(D.item,h.name))return;const k=g.mapper,T=g.writer;T.insert(k.toViewPosition(y.start),_),g.mapper.bindElementToMarker(_,p.markerName),y.isCollapsed||(T.insert(k.toViewPosition(y.end),v),g.mapper.bindElementToMarker(v,p.markerName)),h.stop()}),{priority:o.converterPriority||"normal"}),a.on("removeMarker:"+o.model,(h,p,g)=>{const _=g.mapper.markerNameToElements(p.markerName);if(_){for(const v of _)g.mapper.unbindElementFromMarkerName(v,p.markerName),g.writer.clear(g.writer.createRangeOn(v),v);g.writer.clearClonedElementsGroup(p.markerName),h.stop()}},{priority:o.converterPriority||"normal"})}}(i))}markerToHighlight(i){return this.add(function(o){return a=>{var d,h;a.on("addMarker:"+o.model,(d=o.view,(h,p,g)=>{if(!p.item||!(p.item instanceof Pi||p.item instanceof rr||p.item.is("textProxy")))return;const _=H_(d,p,g);if(!_||!g.consumable.consume(p.item,h.name))return;const v=Nk(_),y=g.writer,k=y.document.selection;if(p.item instanceof Pi||p.item instanceof rr)y.wrap(k.getFirstRange(),v,k);else{const T=g.mapper.toViewRange(p.range),D=y.wrap(T,v);for(const R of D.getItems())if(R.is("attributeElement")&&R.isSimilar(v)){g.mapper.bindElementToMarker(R,p.markerName);break}}}),{priority:o.converterPriority||"normal"}),a.on("addMarker:"+o.model,(h=o.view,(p,g,_)=>{if(!(g.item&&g.item instanceof qt))return;const v=H_(h,g,_);if(!v||!_.consumable.test(g.item,p.name))return;const y=_.mapper.toViewElement(g.item);if(y&&y.getCustomProperty("addHighlight")){_.consumable.consume(g.item,p.name);for(const k of Z._createIn(g.item))_.consumable.consume(k.item,p.name);y.getCustomProperty("addHighlight")(y,v,_.writer),_.mapper.bindElementToMarker(y,g.markerName)}}),{priority:o.converterPriority||"normal"}),a.on("removeMarker:"+o.model,function(h){return(p,g,_)=>{if(g.markerRange.isCollapsed)return;const v=H_(h,g,_);if(!v)return;const y=Nk(v),k=_.mapper.markerNameToElements(g.markerName);if(k){for(const T of k)_.mapper.unbindElementFromMarkerName(T,g.markerName),T.is("attributeElement")?_.writer.unwrap(_.writer.createRangeOn(T),y):T.getCustomProperty("removeHighlight")(T,v.id,_.writer);_.writer.clearClonedElementsGroup(g.markerName),p.stop()}}}(o.view),{priority:o.converterPriority||"normal"})}}(i))}}function Nk(c){const i=new ea("span",c.attributes);return c.classes&&i._addClass(c.classes),c.priority&&(i._priority=c.priority),i._id=c.id,i}function Kf(c,i){return"function"==typeof c?c:(o,a)=>function(d,h,p){let g;"string"==typeof d&&(d={name:d});const _=Object.assign({},d.attributes);if(g="container"==p?h.createContainerElement(d.name,_):"attribute"==p?h.createAttributeElement(d.name,_,{priority:d.priority||ea.DEFAULT_PRIORITY}):h.createUIElement(d.name,_),d.styles){const v=Object.keys(d.styles);for(const y of v)h.setStyle(y,d.styles[y],g)}if(d.classes){const v=d.classes;if("string"==typeof v)h.addClass(v,g);else for(const y of v)h.addClass(y,g)}return g}(c,a,i)}function Lk(c){return c.model.values?(i,o)=>{const a=c.view[i];return a?a(i,o):null}:c.view}function Bk(c){return"string"==typeof c?i=>({key:c,value:i}):"object"==typeof c?c.value?()=>c:i=>({key:c.key,value:i}):c}function H_(c,i,o){const a="function"==typeof c?c(i,o):c;return a?(a.priority||(a.priority=10),a.id||(a.id=i.markerName),a):null}class aD extends z_{elementToElement(i){return this.add(pl(i))}elementToAttribute(i){return this.add(function(o){jn(o=re(o));const a=Ru(o,!1),d=U_(o.view),h=d?"element:"+d:"element";return p=>{p.on(h,a,{priority:o.converterPriority||"low"})}}(i))}attributeToAttribute(i){return this.add(function(o){let a=null;("string"==typeof(o=re(o)).view||o.view.key)&&(a=function(h){"string"==typeof h.view&&(h.view={key:h.view});const p=h.view.key;let g;return g="class"==p||"style"==p?{["class"==p?"classes":"styles"]:h.view.value}:{attributes:{[p]:void 0===h.view.value?/[\s\S]*/:h.view.value}},h.view.name&&(g.name=h.view.name),h.view=g,p}(o)),jn(o,a);const d=Ru(o,!0);return h=>{h.on("element",d,{priority:o.converterPriority||"low"})}}(i))}elementToMarker(i){return this.add(function(o){return function(a){const d=a.model;a.model=(h,p)=>{const g="string"==typeof d?d:d(h);return p.createElement("$marker",{"data-name":g})}}(o=re(o)),pl(o)}(i))}}function pl(c){const i=function(d){const h=d.view?new un(d.view):null;return(p,g,_)=>{let v={};if(h){const $=h.match(g.viewItem);if(!$)return;v=$.match}v.name=!0;const y=(D=_.writer,(k=d.model)instanceof Function?k(g.viewItem,D):D.createElement(k));var k,D;if(!y||!_.consumable.test(g.viewItem,v))return;const R=_.splitToAllowedParent(y,g.modelCursor);if(!R)return;_.writer.insert(y,R.position),_.convertChildren(g.viewItem,_.writer.createPositionAt(y,0)),_.consumable.consume(g.viewItem,v);const F=_.getSplitParts(y);g.modelRange=new Z(_.writer.createPositionBefore(y),_.writer.createPositionAfter(F[F.length-1])),g.modelCursor=R.cursorParent?_.writer.createPositionAt(R.cursorParent,0):g.modelRange.end}}(c=re(c)),o=U_(c.view),a=o?"element:"+o:"element";return d=>{d.on(a,i,{priority:c.converterPriority||"normal"})}}function U_(c){return"string"==typeof c?c:"object"==typeof c&&"string"==typeof c.name?c.name:null}function jn(c,i=null){c.model={key:"object"!=typeof c.model?c.model:c.model.key,value:"object"!=typeof c.model||void 0===c.model.value?null===i||(h=>h.getAttribute(i)):c.model.value}}function Ru(c,i){const o=new un(c.view);return(a,d,h)=>{const p=o.match(d.viewItem);if(!p)return;const g=c.model.key,_="function"==typeof c.model.value?c.model.value(d.viewItem):c.model.value;null!==_&&(function(v,y){const k="function"==typeof v?v(y):v;return!("object"==typeof k&&!U_(k)||k.classes||k.attributes||k.styles)}(c.view,d.viewItem)?p.match.name=!0:delete p.match.name,h.consumable.test(d.viewItem,p.match)&&(d.modelRange||(d=Object.assign(d,h.convertChildren(d.viewItem,d.modelCursor))),function(v,y,k,T){let D=!1;for(const R of Array.from(v.getItems({shallow:k})))T.schema.checkAttribute(R,y.key)&&(T.writer.setAttribute(y.key,y.value,R),D=!0);return D}(d.modelRange,{key:g,value:_},i,h)&&h.consumable.consume(d.viewItem,p.match)))}}class ml{constructor(i){this.model=i,this.view=new Au,this.mapper=new ul,this.downcastDispatcher=new Pu({mapper:this.mapper});const o=this.model.document,a=o.selection,d=this.model.markers;var h,p;this.listenTo(this.model,"_beforeChanges",()=>{this.view._disableRendering(!0)},{priority:"highest"}),this.listenTo(this.model,"_afterChanges",()=>{this.view._disableRendering(!1)},{priority:"lowest"}),this.listenTo(o,"change",()=>{this.view.change(h=>{this.downcastDispatcher.convertChanges(o.differ,d,h),this.downcastDispatcher.convertSelection(a,d,h)})},{priority:"low"}),this.listenTo(this.view.document,"selectionChange",(h=this.model,p=this.mapper,(g,_)=>{const v=_.newSelection,y=new Pi,k=[];for(const T of v.getRanges())k.push(p.toModelRange(T));y.setTo(k,{backward:v.isBackward}),y.isEqual(h.document.selection)||h.change(T=>{T.setSelection(y)})})),this.downcastDispatcher.on("insert:$text",(h,p,g)=>{if(!g.consumable.consume(p.item,"insert"))return;const _=g.writer,v=g.mapper.toViewPosition(p.range.start),y=_.createText(p.item.data);_.insert(v,y)},{priority:"lowest"}),this.downcastDispatcher.on("remove",(h,p,g)=>{const _=g.mapper.toViewPosition(p.position),v=p.position.getShiftedBy(p.length),y=g.mapper.toViewPosition(v,{isPhantom:!0}),k=g.writer.createRange(_,y),T=g.writer.remove(k.getTrimmed());for(const D of g.writer.createRangeIn(T).getItems())g.mapper.unbindViewElement(D)},{priority:"low"}),this.downcastDispatcher.on("selection",(h,p,g)=>{const _=g.writer,v=_.document.selection;for(const y of v.getRanges())y.isCollapsed&&y.end.parent.document&&g.writer.mergeAttributes(y.start);_.setSelection(null)},{priority:"low"}),this.downcastDispatcher.on("selection",(h,p,g)=>{const _=p.selection;if(_.isCollapsed||!g.consumable.consume(_,"selection"))return;const v=[];for(const y of _.getRanges()){const k=g.mapper.toViewRange(y);v.push(k)}g.writer.setSelection(v,{backward:_.isBackward})},{priority:"low"}),this.downcastDispatcher.on("selection",(h,p,g)=>{const _=p.selection;if(!_.isCollapsed||!g.consumable.consume(_,"selection"))return;const v=g.writer,y=_.getFirstPosition(),k=g.mapper.toViewPosition(y),T=v.breakAttributes(k);v.setSelection(T)},{priority:"low"}),this.view.document.roots.bindTo(this.model.document.roots).using(h=>{if("$graveyard"==h.rootName)return null;const p=new kk(h.name);return p.rootName=h.rootName,p._document=this.view.document,this.mapper.bindElements(h,p),p})}destroy(){this.view.destroy(),this.stopListening()}}Be(ml,tn);class lD{constructor(){this._commands=new Map}add(i,o){this._commands.set(i,o)}get(i){return this._commands.get(i)}execute(i,...o){const a=this.get(i);if(!a)throw new z.b("commandcollection-command-not-found: Command does not exist.",this,{commandName:i});a.execute(...o)}*names(){yield*this._commands.keys()}*commands(){yield*this._commands.values()}[Symbol.iterator](){return this._commands[Symbol.iterator]()}destroy(){for(const i of this.commands())i.destroy()}}class Nc{constructor(){this._consumables=new Map}add(i,o){let a;i.is("text")||i.is("documentFragment")?this._consumables.set(i,!0):(this._consumables.has(i)?a=this._consumables.get(i):(a=new xr,this._consumables.set(i,a)),a.add(o))}test(i,o){const a=this._consumables.get(i);return void 0===a?null:i.is("text")||i.is("documentFragment")?a:a.test(o)}consume(i,o){return!!this.test(i,o)&&(i.is("text")||i.is("documentFragment")?this._consumables.set(i,!1):this._consumables.get(i).consume(o),!0)}revert(i,o){const a=this._consumables.get(i);void 0!==a&&(i.is("text")||i.is("documentFragment")?this._consumables.set(i,!0):a.revert(o))}static consumablesFromElement(i){const o={name:!0,attributes:[],classes:[],styles:[]},a=i.getAttributeKeys();for(const p of a)"style"!=p&&"class"!=p&&o.attributes.push(p);const d=i.getClassNames();for(const p of d)o.classes.push(p);const h=i.getStyleNames();for(const p of h)o.styles.push(p);return o}static createFrom(i,o){if(o||(o=new Nc),i.is("text"))return o.add(i),o;i.is("element")&&o.add(i,Nc.consumablesFromElement(i)),i.is("documentFragment")&&o.add(i);for(const a of i.getChildren())o=Nc.createFrom(a,o);return o}}class xr{constructor(){this._canConsumeName=null,this._consumables={attributes:new Map,styles:new Map,classes:new Map}}add(i){i.name&&(this._canConsumeName=!0);for(const o in this._consumables)o in i&&this._add(o,i[o])}test(i){if(i.name&&!this._canConsumeName)return this._canConsumeName;for(const o in this._consumables)if(o in i){const a=this._test(o,i[o]);if(!0!==a)return a}return!0}consume(i){i.name&&(this._canConsumeName=!1);for(const o in this._consumables)o in i&&this._consume(o,i[o])}revert(i){i.name&&(this._canConsumeName=!0);for(const o in this._consumables)o in i&&this._revert(o,i[o])}_add(i,o){const a=gn(o)?o:[o],d=this._consumables[i];for(const h of a){if("attributes"===i&&("class"===h||"style"===h))throw new z.b("viewconsumable-invalid-attribute: Classes and styles should be handled separately.",this);if(d.set(h,!0),"styles"===i)for(const p of yc.getRelatedStyles(h))d.set(p,!0)}}_test(i,o){const a=gn(o)?o:[o],d=this._consumables[i];for(const h of a)if("attributes"!==i||"class"!==h&&"style"!==h){const p=d.get(h);if(void 0===p)return null;if(!p)return!1}else{const p="class"==h?"classes":"styles",g=this._test(p,[...this._consumables[p].keys()]);if(!0!==g)return g}return!0}_consume(i,o){const a=gn(o)?o:[o],d=this._consumables[i];for(const h of a)if("attributes"!==i||"class"!==h&&"style"!==h){if(d.set(h,!1),"styles"==i)for(const p of yc.getRelatedStyles(h))d.set(p,!1)}else{const p="class"==h?"classes":"styles";this._consume(p,[...this._consumables[p].keys()])}}_revert(i,o){const a=gn(o)?o:[o],d=this._consumables[i];for(const h of a)if("attributes"!==i||"class"!==h&&"style"!==h)!1===d.get(h)&&d.set(h,!0);else{const p="class"==h?"classes":"styles";this._revert(p,[...this._consumables[p].keys()])}}}class $r{constructor(){this._sourceDefinitions={},this._attributeProperties={},this.decorate("checkChild"),this.decorate("checkAttribute"),this.on("checkAttribute",(i,o)=>{o[0]=new bs(o[0])},{priority:"highest"}),this.on("checkChild",(i,o)=>{o[0]=new bs(o[0]),o[1]=this.getDefinition(o[1])},{priority:"highest"})}register(i,o){if(this._sourceDefinitions[i])throw new z.b("schema-cannot-register-item-twice: A single item cannot be registered twice in the schema.",this,{itemName:i});this._sourceDefinitions[i]=[Object.assign({},o)],this._clearCache()}extend(i,o){if(!this._sourceDefinitions[i])throw new z.b("schema-cannot-extend-missing-item: Cannot extend an item which was not registered yet.",this,{itemName:i});this._sourceDefinitions[i].push(Object.assign({},o)),this._clearCache()}getDefinitions(){return this._compiledDefinitions||this._compile(),this._compiledDefinitions}getDefinition(i){let o;return o="string"==typeof i?i:i.is&&(i.is("text")||i.is("textProxy"))?"$text":i.name,this.getDefinitions()[o]}isRegistered(i){return!!this.getDefinition(i)}isBlock(i){const o=this.getDefinition(i);return!(!o||!o.isBlock)}isLimit(i){const o=this.getDefinition(i);return!(!o||!o.isLimit&&!o.isObject)}isObject(i){const o=this.getDefinition(i);return!(!o||!o.isObject)}isInline(i){const o=this.getDefinition(i);return!(!o||!o.isInline)}checkChild(i,o){return!!o&&this._checkContextMatch(o,i)}checkAttribute(i,o){const a=this.getDefinition(i.last);return!!a&&a.allowAttributes.includes(o)}checkMerge(i,o=null){if(i instanceof te){const a=i.nodeBefore,d=i.nodeAfter;if(!(a instanceof qt))throw new z.b("schema-check-merge-no-element-before: The node before the merge position must be an element.",this);if(!(d instanceof qt))throw new z.b("schema-check-merge-no-element-after: The node after the merge position must be an element.",this);return this.checkMerge(a,d)}for(const a of o.getChildren())if(!this.checkChild(i,a))return!1;return!0}addChildCheck(i){this.on("checkChild",(o,[a,d])=>{if(!d)return;const h=i(a,d);"boolean"==typeof h&&(o.stop(),o.return=h)},{priority:"high"})}addAttributeCheck(i){this.on("checkAttribute",(o,[a,d])=>{const h=i(a,d);"boolean"==typeof h&&(o.stop(),o.return=h)},{priority:"high"})}setAttributeProperties(i,o){this._attributeProperties[i]=Object.assign(this.getAttributeProperties(i),o)}getAttributeProperties(i){return this._attributeProperties[i]||{}}getLimitElement(i){let o;for(o=i instanceof te?i.parent:(i instanceof Z?[i]:Array.from(i.getRanges())).reduce((a,d)=>{const h=d.getCommonAncestor();return a?a.getCommonAncestor(h,{includeSelf:!0}):h},null);!this.isLimit(o)&&o.parent;)o=o.parent;return o}checkAttributeInSelection(i,o){if(i.isCollapsed){const a=[...i.getFirstPosition().getAncestors(),new Vt("",i.getAttributes())];return this.checkAttribute(a,o)}{const a=i.getRanges();for(const d of a)for(const h of d)if(this.checkAttribute(h.item,o))return!0}return!1}*getValidRanges(i,o){i=function*(a){for(const d of a)yield*d.getMinimalFlatRanges()}(i);for(const a of i)yield*this._getValidRangesForRange(a,o)}getNearestSelectionRange(i,o="both"){if(this.checkChild(i,"$text"))return new Z(i);let a,d;"both"!=o&&"backward"!=o||(a=new mo({startPosition:i,direction:"backward"})),"both"!=o&&"forward"!=o||(d=new mo({startPosition:i}));for(const h of function*(p,g){let _=!1;for(;!_;){if(_=!0,p){const v=p.next();v.done||(_=!1,yield{walker:p,value:v.value})}if(g){const v=g.next();v.done||(_=!1,yield{walker:g,value:v.value})}}}(a,d)){const g=h.value;if(g.type==(h.walker==a?"elementEnd":"elementStart")&&this.isObject(g.item))return Z._createOn(g.item);if(this.checkChild(g.nextPosition,"$text"))return new Z(g.nextPosition)}return null}findAllowedParent(i,o){let a=i.parent;for(;a;){if(this.checkChild(a,o))return a;if(this.isLimit(a))return null;a=a.parent}return null}removeDisallowedAttributes(i,o){for(const a of i)if(a.is("text"))sa(this,a,o);else{const d=Z._createIn(a).getPositions();for(const h of d)sa(this,h.nodeBefore||h.parent,o)}}createContext(i){return new bs(i)}_clearCache(){this._compiledDefinitions=null}_compile(){const i={},o=this._sourceDefinitions,a=Object.keys(o);for(const d of a)i[d]=Ou(o[d],d);for(const d of a)Lc(i,d);for(const d of a)$_(i,d);for(const d of a)Vk(i,d),jk(i,d);for(const d of a)cD(i,d),dD(i,d);this._compiledDefinitions=i}_checkContextMatch(i,o,a=o.length-1){const d=o.getItem(a);if(i.allowIn.includes(d.name)){if(0==a)return!0;{const h=this.getDefinition(d);return this._checkContextMatch(h,o,a-1)}}return!1}*_getValidRangesForRange(i,o){let a=i.start,d=i.start;for(const h of i.getItems({shallow:!0}))h.is("element")&&(yield*this._getValidRangesForRange(Z._createIn(h),o)),this.checkAttribute(h,o)||(a.isEqual(d)||(yield new Z(a,d)),a=te._createAfter(h)),d=te._createAfter(h);a.isEqual(d)||(yield new Z(a,d))}}Be($r,tn);class bs{constructor(i){if(i instanceof bs)return i;"string"==typeof i?i=[i]:Array.isArray(i)||(i=i.getAncestors({includeSelf:!0})),i[0]&&"string"!=typeof i[0]&&i[0].is("documentFragment")&&i.shift(),this._items=i.map(Qf)}get length(){return this._items.length}get last(){return this._items[this._items.length-1]}[Symbol.iterator](){return this._items[Symbol.iterator]()}push(i){const o=new bs([i]);return o._items=[...this._items,...o._items],o}getItem(i){return this._items[i]}*getNames(){yield*this._items.map(i=>i.name)}endsWith(i){return Array.from(this.getNames()).join(" ").endsWith(i)}startsWith(i){return Array.from(this.getNames()).join(" ").startsWith(i)}}function Ou(c,i){const o={name:i,allowIn:[],allowContentOf:[],allowWhere:[],allowAttributes:[],allowAttributesOf:[],inheritTypesFrom:[]};return function(a,d){for(const h of a){const p=Object.keys(h).filter(g=>g.startsWith("is"));for(const g of p)d[g]=h[g]}}(c,o),oa(c,o,"allowIn"),oa(c,o,"allowContentOf"),oa(c,o,"allowWhere"),oa(c,o,"allowAttributes"),oa(c,o,"allowAttributesOf"),oa(c,o,"inheritTypesFrom"),function(a,d){for(const h of a){const p=h.inheritAllFrom;p&&(d.allowContentOf.push(p),d.allowWhere.push(p),d.allowAttributesOf.push(p),d.inheritTypesFrom.push(p))}}(c,o),o}function Lc(c,i){for(const o of c[i].allowContentOf)c[o]&&or(c,o).forEach(a=>{a.allowIn.push(i)});delete c[i].allowContentOf}function $_(c,i){for(const o of c[i].allowWhere){const a=c[o];a&&c[i].allowIn.push(...a.allowIn)}delete c[i].allowWhere}function Vk(c,i){for(const o of c[i].allowAttributesOf){const a=c[o];a&&c[i].allowAttributes.push(...a.allowAttributes)}delete c[i].allowAttributesOf}function jk(c,i){const o=c[i];for(const a of o.inheritTypesFrom){const d=c[a];if(d){const h=Object.keys(d).filter(p=>p.startsWith("is"));for(const p of h)p in o||(o[p]=d[p])}}delete o.inheritTypesFrom}function cD(c,i){const o=c[i],a=o.allowIn.filter(d=>c[d]);o.allowIn=Array.from(new Set(a))}function dD(c,i){const o=c[i];o.allowAttributes=Array.from(new Set(o.allowAttributes))}function oa(c,i,o){for(const a of c)"string"==typeof a[o]?i[o].push(a[o]):Array.isArray(a[o])&&i[o].push(...a[o])}function or(c,i){const o=c[i];return(a=c,Object.keys(a).map(d=>a[d])).filter(d=>d.allowIn.includes(o.name));var a}function Qf(c){return"string"==typeof c?{name:c,*getAttributeKeys(){},getAttribute(){}}:{name:c.is("element")?c.name:"$text",*getAttributeKeys(){yield*c.getAttributeKeys()},getAttribute:i=>c.getAttribute(i)}}function sa(c,i,o){for(const a of i.getAttributeKeys())c.checkAttribute(i,a)||o.removeAttribute(a,i)}class zk{constructor(i={}){this._splitParts=new Map,this._modelCursor=null,this.conversionApi=Object.assign({},i),this.conversionApi.convertItem=this._convertItem.bind(this),this.conversionApi.convertChildren=this._convertChildren.bind(this),this.conversionApi.splitToAllowedParent=this._splitToAllowedParent.bind(this),this.conversionApi.getSplitParts=this._getSplitParts.bind(this)}convert(i,o,a=["$root"]){this.fire("viewCleanup",i),this._modelCursor=function(p,g){let _;for(const v of new bs(p)){const y={};for(const T of v.getAttributeKeys())y[T]=v.getAttribute(T);const k=g.createElement(v.name,y);_&&g.append(k,_),_=te._createAt(k,0)}return _}(a,o),this.conversionApi.writer=o,this.conversionApi.consumable=Nc.createFrom(i),this.conversionApi.store={};const{modelRange:d}=this._convertItem(i,this._modelCursor),h=o.createDocumentFragment();if(d){this._removeEmptyElements();for(const p of Array.from(this._modelCursor.parent.getChildren()))o.append(p,h);h.markers=function(p,g){const _=new Set,v=new Map,y=Z._createIn(p).getItems();for(const k of y)"$marker"==k.name&&_.add(k);for(const k of _){const T=k.getAttribute("data-name"),D=g.createPositionBefore(k);v.has(T)?v.get(T).end=D.clone():v.set(T,new Z(D.clone())),g.remove(k)}return v}(h,o)}return this._modelCursor=null,this._splitParts.clear(),this.conversionApi.writer=null,this.conversionApi.store=null,h}_convertItem(i,o){const a=Object.assign({viewItem:i,modelCursor:o,modelRange:null});if(i.is("element")?this.fire("element:"+i.name,a,this.conversionApi):i.is("text")?this.fire("text",a,this.conversionApi):this.fire("documentFragment",a,this.conversionApi),a.modelRange&&!(a.modelRange instanceof Z))throw new z.b("view-conversion-dispatcher-incorrect-result: Incorrect conversion result was dropped.",this);return{modelRange:a.modelRange,modelCursor:a.modelCursor}}_convertChildren(i,o){const a=new Z(o);let d=o;for(const h of Array.from(i.getChildren())){const p=this._convertItem(h,d);p.modelRange instanceof Z&&(a.end=p.modelRange.end,d=p.modelCursor)}return{modelRange:a,modelCursor:d}}_splitToAllowedParent(i,o){const a=this.conversionApi.schema.findAllowedParent(o,i);if(!a)return null;if(a===o.parent)return{position:o};if(this._modelCursor.parent.getAncestors().includes(a))return null;const d=this.conversionApi.writer.split(o,a),h=[];for(const p of d.range.getWalker())if("elementEnd"==p.type)h.push(p.item);else{const g=h.pop();this._registerSplitPair(g,p.item)}return{position:d.position,cursorParent:d.range.end.parent}}_registerSplitPair(i,o){this._splitParts.has(i)||this._splitParts.set(i,[i]);const a=this._splitParts.get(i);this._splitParts.set(o,a),a.push(o)}_getSplitParts(i){let o;return o=this._splitParts.has(i)?this._splitParts.get(i):[i],o}_removeEmptyElements(){let i=!1;for(const o of this._splitParts.keys())o.isEmpty&&(this.conversionApi.writer.remove(o),this._splitParts.delete(o),i=!0);i&&this._removeEmptyElements()}}Be(zk,_n);class Yf{constructor(i,o){this.model=i,this.processor=o,this.mapper=new ul,this.downcastDispatcher=new Pu({mapper:this.mapper}),this.downcastDispatcher.on("insert:$text",(a,d,h)=>{if(!h.consumable.consume(d.item,"insert"))return;const p=h.writer,g=h.mapper.toViewPosition(d.range.start),_=p.createText(d.item.data);p.insert(g,_)},{priority:"lowest"}),this.upcastDispatcher=new zk({schema:i.schema}),this.upcastDispatcher.on("text",(a,d,h)=>{if(h.schema.checkChild(d.modelCursor,"$text")&&h.consumable.consume(d.viewItem)){const p=h.writer.createText(d.viewItem.data);h.writer.insert(p,d.modelCursor),d.modelRange=Z._createFromPositionAndShift(d.modelCursor,p.offsetSize),d.modelCursor=d.modelRange.end}},{priority:"lowest"}),this.upcastDispatcher.on("element",(a,d,h)=>{if(!d.modelRange&&h.consumable.consume(d.viewItem,{name:!0})){const{modelRange:p,modelCursor:g}=h.convertChildren(d.viewItem,d.modelCursor);d.modelRange=p,d.modelCursor=g}},{priority:"lowest"}),this.upcastDispatcher.on("documentFragment",(a,d,h)=>{if(!d.modelRange&&h.consumable.consume(d.viewItem,{name:!0})){const{modelRange:p,modelCursor:g}=h.convertChildren(d.viewItem,d.modelCursor);d.modelRange=p,d.modelCursor=g}},{priority:"lowest"}),this.decorate("init"),this.on("init",()=>{this.fire("ready")},{priority:"lowest"})}get(i){const{rootName:o="main",trim:a="empty"}=i||{};if(!this._checkIfRootsExists([o]))throw new z.b("datacontroller-get-non-existent-root: Attempting to get data from a non-existing root.",this);const d=this.model.document.getRoot(o);return"empty"!==a||this.model.hasContent(d,{ignoreWhitespaces:!0})?this.stringify(d):""}stringify(i){const o=this.toView(i);return this.processor.toData(o)}toView(i){this.mapper.clearBindings();const o=Z._createIn(i),a=new cs,d=new ta(new Cc);if(this.mapper.bindElements(i,a),this.downcastDispatcher.convertInsert(o,d),!i.is("documentFragment")){const h=function(p){const g=[],_=p.root.document;if(!_)return[];const v=Z._createIn(p);for(const y of _.model.markers){const k=v.getIntersection(y.getRange());k&&g.push([y.name,k])}return g}(i);for(const[p,g]of h)this.downcastDispatcher.convertMarkerAdd(p,g,d)}return a}init(i){if(this.model.document.version)throw new z.b("datacontroller-init-document-not-empty: Trying to set initial data to not empty document.",this);let o={};if("string"==typeof i?o.main=i:o=i,!this._checkIfRootsExists(Object.keys(o)))throw new z.b("datacontroller-init-non-existent-root: Attempting to init data on a non-existing root.",this);return this.model.enqueueChange("transparent",a=>{for(const d of Object.keys(o)){const h=this.model.document.getRoot(d);a.insert(this.parse(o[d],h),h,0)}}),Promise.resolve()}set(i){let o={};if("string"==typeof i?o.main=i:o=i,!this._checkIfRootsExists(Object.keys(o)))throw new z.b("datacontroller-set-non-existent-root: Attempting to set data on a non-existing root.",this);this.model.enqueueChange("transparent",a=>{a.setSelection(null),a.removeSelectionAttribute(this.model.document.selection.getAttributeKeys());for(const d of Object.keys(o)){const h=this.model.document.getRoot(d);a.remove(a.createRangeIn(h)),a.insert(this.parse(o[d],h),h,0)}})}parse(i,o="$root"){const a=this.processor.toView(i);return this.toModel(a,o)}toModel(i,o="$root"){return this.model.change(a=>this.upcastDispatcher.convert(i,a,o))}destroy(){this.stopListening()}_checkIfRootsExists(i){for(const o of i)if(!this.model.document.getRootNames().includes(o))return!1;return!0}}Be(Yf,tn);class Hk{constructor(i,o){this._helpers=new Map,this._downcast=Array.isArray(i)?i:[i],this._createConversionHelpers({name:"downcast",dispatchers:this._downcast,isDowncast:!0}),this._upcast=Array.isArray(o)?o:[o],this._createConversionHelpers({name:"upcast",dispatchers:this._upcast,isDowncast:!1})}addAlias(i,o){const a=this._downcast.includes(o);if(!this._upcast.includes(o)&&!a)throw new z.b("conversion-add-alias-dispatcher-not-registered: Trying to register and alias for a dispatcher that nas not been registered.",this);this._createConversionHelpers({name:i,dispatchers:[o],isDowncast:a})}for(i){if(!this._helpers.has(i))throw new z.b("conversion-for-unknown-group: Trying to add a converter to an unknown dispatchers group.",this);return this._helpers.get(i)}elementToElement(i){this.for("downcast").elementToElement(i);for(const{model:o,view:a}of Zf(i))this.for("upcast").elementToElement({model:o,view:a,converterPriority:i.converterPriority})}attributeToElement(i){this.for("downcast").attributeToElement(i);for(const{model:o,view:a}of Zf(i))this.for("upcast").elementToAttribute({view:a,model:o,converterPriority:i.converterPriority})}attributeToAttribute(i){this.for("downcast").attributeToAttribute(i);for(const{model:o,view:a}of Zf(i))this.for("upcast").attributeToAttribute({view:a,model:o})}_createConversionHelpers({name:i,dispatchers:o,isDowncast:a}){if(this._helpers.has(i))throw new z.b("conversion-group-exists: Trying to register a group name that has already been registered.",this);const d=a?new Fk(o):new aD(o);this._helpers.set(i,d)}}function*Zf(c){if(c.model.values)for(const i of c.model.values){const o={key:c.model.key,value:i},a=c.view[i],d=c.upcastAlso?c.upcastAlso[i]:void 0;yield*W_(o,a,d)}else yield*W_(c.model,c.view,c.upcastAlso)}function*W_(c,i,o){if(yield{model:c,view:i},o){o=Array.isArray(o)?o:[o];for(const a of o)yield{model:c,view:a}}}class Fu{constructor(i="default"){this.operations=[],this.type=i}get baseVersion(){for(const i of this.operations)if(null!==i.baseVersion)return i.baseVersion;return null}addOperation(i){return i.batch=this,this.operations.push(i),i}}class Tr{constructor(i){this.baseVersion=i,this.isDocumentOperation=null!==this.baseVersion,this.batch=null}_validate(){}toJSON(){const i=Object.assign({},this);return i.__className=this.constructor.className,delete i.batch,delete i.isDocumentOperation,i}static get className(){return"Operation"}static fromJSON(i){return new this(i.baseVersion)}}class go{constructor(i){this.markers=new Map,this._children=new ra,i&&this._insertChild(0,i)}[Symbol.iterator](){return this.getChildren()}get childCount(){return this._children.length}get maxOffset(){return this._children.maxOffset}get isEmpty(){return 0===this.childCount}get root(){return this}get parent(){return null}is(i){return"documentFragment"==i||"model:documentFragment"==i}getChild(i){return this._children.getNode(i)}getChildren(){return this._children[Symbol.iterator]()}getChildIndex(i){return this._children.getNodeIndex(i)}getChildStartOffset(i){return this._children.getNodeStartOffset(i)}getPath(){return[]}getNodeByPath(i){let o=this;for(const a of i)o=o.getChild(o.offsetToIndex(a));return o}offsetToIndex(i){return this._children.offsetToIndex(i)}toJSON(){const i=[];for(const o of this._children)i.push(o.toJSON());return i}static fromJSON(i){const o=[];for(const a of i)o.push(a.name?qt.fromJSON(a):Vt.fromJSON(a));return new go(o)}_appendChild(i){this._insertChild(this.childCount,i)}_insertChild(i,o){const a="string"==typeof(d=o)?[new Vt(d)]:(_r(d)||(d=[d]),Array.from(d).map(h=>"string"==typeof h?new Vt(h):h instanceof po?new Vt(h.data,h.getAttributes()):h));var d;for(const d of a)null!==d.parent&&d._remove(),d.parent=this;this._children._insertNodes(i,a)}_removeChildren(i,o=1){const a=this._children._removeNodes(i,o);for(const d of a)d.parent=null;return a}}function Bc(c,i){const o=(i=gl(i)).reduce((h,p)=>h+p.offsetSize,0),a=c.parent;vs(c);const d=c.index;return a._insertChild(d,i),aa(a,d+i.length),aa(a,d),new Z(c,c.getShiftedBy(o))}function Vc(c){if(!c.isFlat)throw new z.b("operation-utils-remove-range-not-flat: Trying to remove a range which starts and ends in different element.",this);const i=c.start.parent;vs(c.start),vs(c.end);const o=i._removeChildren(c.start.index,c.end.index-c.start.index);return aa(i,c.start.index),o}function Nu(c,i){if(!c.isFlat)throw new z.b("operation-utils-move-range-not-flat: Trying to move a range which starts and ends in different element.",this);const o=Vc(c);return Bc(i=i._getTransformedByDeletion(c.start,c.end.offset-c.start.offset),o)}function gl(c){const i=[];c instanceof Array||(c=[c]);for(let o=0;o<c.length;o++)if("string"==typeof c[o])i.push(new Vt(c[o]));else if(c[o]instanceof po)i.push(new Vt(c[o].data,c[o].getAttributes()));else if(c[o]instanceof go||c[o]instanceof ra)for(const a of c[o])i.push(a);else c[o]instanceof fo&&i.push(c[o]);for(let o=1;o<i.length;o++){const a=i[o],d=i[o-1];a instanceof Vt&&d instanceof Vt&&q_(a,d)&&(i.splice(o-1,2,new Vt(d.data+a.data,d.getAttributes())),o--)}return i}function aa(c,i){const o=c.getChild(i-1),a=c.getChild(i);if(o&&a&&o.is("text")&&a.is("text")&&q_(o,a)){const d=new Vt(o.data+a.data,o.getAttributes());c._removeChildren(i-1,2),c._insertChild(i-1,d)}}function vs(c){const i=c.textNode,o=c.parent;if(i){const a=c.offset-i.startOffset,d=i.index;o._removeChildren(d,1);const h=new Vt(i.data.substr(0,a),i.getAttributes()),p=new Vt(i.data.substr(a),i.getAttributes());o._insertChild(d,[h,p])}}function q_(c,i){const o=c.getAttributes(),a=i.getAttributes();for(const d of o){if(d[1]!==i.getAttribute(d[0]))return!1;a.next()}return a.next().done}var G_=function(c,i){return P_(c,i)};class Pn extends Tr{constructor(i,o,a,d,h){super(h),this.range=i.clone(),this.key=o,this.oldValue=void 0===a?null:a,this.newValue=void 0===d?null:d}get type(){return null===this.oldValue?"addAttribute":null===this.newValue?"removeAttribute":"changeAttribute"}clone(){return new Pn(this.range,this.key,this.oldValue,this.newValue,this.baseVersion)}getReversed(){return new Pn(this.range,this.key,this.newValue,this.oldValue,this.baseVersion+1)}toJSON(){const i=super.toJSON();return i.range=this.range.toJSON(),i}_validate(){if(!this.range.isFlat)throw new z.b("attribute-operation-range-not-flat: The range to change is not flat.",this);for(const i of this.range.getItems({shallow:!0})){if(null!==this.oldValue&&!G_(i.getAttribute(this.key),this.oldValue))throw new z.b("attribute-operation-wrong-old-value: Changed node has different attribute value than operation's old attribute value.",this,{item:i,key:this.key,value:this.oldValue});if(null===this.oldValue&&null!==this.newValue&&i.hasAttribute(this.key))throw new z.b("attribute-operation-attribute-exists: The attribute with given key already exists.",this,{node:i,key:this.key})}}_execute(){G_(this.oldValue,this.newValue)||function(i,o,a){vs(i.start),vs(i.end);for(const d of i.getItems({shallow:!0})){const h=d.is("textProxy")?d.textNode:d;null!==a?h._setAttribute(o,a):h._removeAttribute(o),aa(h.parent,h.index)}aa(i.end.parent,i.end.index)}(this.range,this.key,this.newValue)}static get className(){return"AttributeOperation"}static fromJSON(i,o){return new Pn(Z.fromJSON(i.range,o),i.key,i.oldValue,i.newValue,i.baseVersion)}}class K_ extends Tr{constructor(i,o){super(null),this.sourcePosition=i.clone(),this.howMany=o}get type(){return"detach"}toJSON(){const i=super.toJSON();return i.sourcePosition=this.sourcePosition.toJSON(),i}_validate(){if(this.sourcePosition.root.document)throw new z.b("detach-operation-on-document-node: Cannot detach document node.",this)}_execute(){Vc(Z._createFromPositionAndShift(this.sourcePosition,this.howMany))}static get className(){return"DetachOperation"}}class Gt extends Tr{constructor(i,o,a,d){super(d),this.sourcePosition=i.clone(),this.sourcePosition.stickiness="toNext",this.howMany=o,this.targetPosition=a.clone(),this.targetPosition.stickiness="toNone"}get type(){return"$graveyard"==this.targetPosition.root.rootName?"remove":"$graveyard"==this.sourcePosition.root.rootName?"reinsert":"move"}clone(){return new this.constructor(this.sourcePosition,this.howMany,this.targetPosition,this.baseVersion)}getMovedRangeStart(){return this.targetPosition._getTransformedByDeletion(this.sourcePosition,this.howMany)}getReversed(){const i=this.sourcePosition._getTransformedByInsertion(this.targetPosition,this.howMany);return new this.constructor(this.getMovedRangeStart(),this.howMany,i,this.baseVersion+1)}_validate(){const i=this.sourcePosition.parent,o=this.targetPosition.parent,a=this.sourcePosition.offset,d=this.targetPosition.offset;if(a+this.howMany>i.maxOffset)throw new z.b("move-operation-nodes-do-not-exist: The nodes which should be moved do not exist.",this);if(i===o&&a<d&&d<a+this.howMany)throw new z.b("move-operation-range-into-itself: Trying to move a range of nodes to the inside of that range.",this);if(this.sourcePosition.root==this.targetPosition.root&&"prefix"==_i(this.sourcePosition.getParentPath(),this.targetPosition.getParentPath())){const h=this.sourcePosition.path.length-1;if(this.targetPosition.path[h]>=a&&this.targetPosition.path[h]<a+this.howMany)throw new z.b("move-operation-node-into-itself: Trying to move a range of nodes into one of nodes from that range.",this)}}_execute(){Nu(Z._createFromPositionAndShift(this.sourcePosition,this.howMany),this.targetPosition)}toJSON(){const i=super.toJSON();return i.sourcePosition=this.sourcePosition.toJSON(),i.targetPosition=this.targetPosition.toJSON(),i}static get className(){return"MoveOperation"}static fromJSON(i,o){const a=te.fromJSON(i.sourcePosition,o),d=te.fromJSON(i.targetPosition,o);return new this(a,i.howMany,d,i.baseVersion)}}class Sn extends Tr{constructor(i,o,a){super(a),this.position=i.clone(),this.position.stickiness="toNone",this.nodes=new ra(gl(o)),this.shouldReceiveAttributes=!1}get type(){return"insert"}get howMany(){return this.nodes.maxOffset}clone(){const i=new ra([...this.nodes].map(a=>a._clone(!0))),o=new Sn(this.position,i,this.baseVersion);return o.shouldReceiveAttributes=this.shouldReceiveAttributes,o}getReversed(){const o=new te(this.position.root.document.graveyard,[0]);return new Gt(this.position,this.nodes.maxOffset,o,this.baseVersion+1)}_validate(){const i=this.position.parent;if(!i||i.maxOffset<this.position.offset)throw new z.b("insert-operation-position-invalid: Insertion position is invalid.",this)}_execute(){const i=this.nodes;this.nodes=new ra([...i].map(o=>o._clone(!0))),Bc(this.position,i)}toJSON(){const i=super.toJSON();return i.position=this.position.toJSON(),i.nodes=this.nodes.toJSON(),i}static get className(){return"InsertOperation"}static fromJSON(i,o){const a=[];for(const h of i.nodes)a.push(h.name?qt.fromJSON(h):Vt.fromJSON(h));const d=new Sn(te.fromJSON(i.position,o),a,i.baseVersion);return d.shouldReceiveAttributes=i.shouldReceiveAttributes,d}}class Ri extends Tr{constructor(i,o,a,d,h,p){super(p),this.name=i,this.oldRange=o?o.clone():null,this.newRange=a?a.clone():null,this.affectsData=h,this._markers=d}get type(){return"marker"}clone(){return new Ri(this.name,this.oldRange,this.newRange,this._markers,this.affectsData,this.baseVersion)}getReversed(){return new Ri(this.name,this.newRange,this.oldRange,this._markers,this.affectsData,this.baseVersion+1)}_execute(){this._markers[this.newRange?"_set":"_remove"](this.name,this.newRange,!0,this.affectsData)}toJSON(){const i=super.toJSON();return this.oldRange&&(i.oldRange=this.oldRange.toJSON()),this.newRange&&(i.newRange=this.newRange.toJSON()),delete i._markers,i}static get className(){return"MarkerOperation"}static fromJSON(i,o){return new Ri(i.name,i.oldRange?Z.fromJSON(i.oldRange,o):null,i.newRange?Z.fromJSON(i.newRange,o):null,o.model.markers,i.affectsData,i.baseVersion)}}class Ui extends Tr{constructor(i,o,a,d){super(d),this.position=i,this.position.stickiness="toNext",this.oldName=o,this.newName=a}get type(){return"rename"}clone(){return new Ui(this.position.clone(),this.oldName,this.newName,this.baseVersion)}getReversed(){return new Ui(this.position.clone(),this.newName,this.oldName,this.baseVersion+1)}_validate(){const i=this.position.nodeAfter;if(!(i instanceof qt))throw new z.b("rename-operation-wrong-position: Given position is invalid or node after it is not an instance of Element.",this);if(i.name!==this.oldName)throw new z.b("rename-operation-wrong-name: Element to change has different name than operation's old name.",this)}_execute(){this.position.nodeAfter.name=this.newName}toJSON(){const i=super.toJSON();return i.position=this.position.toJSON(),i}static get className(){return"RenameOperation"}static fromJSON(i,o){return new Ui(te.fromJSON(i.position,o),i.oldName,i.newName,i.baseVersion)}}class L extends Tr{constructor(i,o,a,d,h){super(h),this.root=i,this.key=o,this.oldValue=a,this.newValue=d}get type(){return null===this.oldValue?"addRootAttribute":null===this.newValue?"removeRootAttribute":"changeRootAttribute"}clone(){return new L(this.root,this.key,this.oldValue,this.newValue,this.baseVersion)}getReversed(){return new L(this.root,this.key,this.newValue,this.oldValue,this.baseVersion+1)}_validate(){if(this.root!=this.root.root||this.root.is("documentFragment"))throw new z.b("rootattribute-operation-not-a-root: The element to change is not a root element.",this,{root:this.root,key:this.key});if(null!==this.oldValue&&this.root.getAttribute(this.key)!==this.oldValue)throw new z.b("rootattribute-operation-wrong-old-value: Changed node has different attribute value than operation's old attribute value.",this,{root:this.root,key:this.key});if(null===this.oldValue&&null!==this.newValue&&this.root.hasAttribute(this.key))throw new z.b("rootattribute-operation-attribute-exists: The attribute with given key already exists.",this,{root:this.root,key:this.key})}_execute(){null!==this.newValue?this.root._setAttribute(this.key,this.newValue):this.root._removeAttribute(this.key)}toJSON(){const i=super.toJSON();return i.root=this.root.toJSON(),i}static get className(){return"RootAttributeOperation"}static fromJSON(i,o){if(!o.getRoot(i.root))throw new z.b("rootattribute-operation-fromjson-no-root: Cannot create RootAttributeOperation. Root with specified name does not exist.",this,{rootName:i.root});return new L(o.getRoot(i.root),i.key,i.oldValue,i.newValue,i.baseVersion)}}class Rn extends Tr{constructor(i,o,a,d,h){super(h),this.sourcePosition=i.clone(),this.sourcePosition.stickiness="toPrevious",this.howMany=o,this.targetPosition=a.clone(),this.targetPosition.stickiness="toNext",this.graveyardPosition=d.clone()}get type(){return"merge"}get deletionPosition(){return new te(this.sourcePosition.root,this.sourcePosition.path.slice(0,-1))}get movedRange(){const i=this.sourcePosition.getShiftedBy(Number.POSITIVE_INFINITY);return new Z(this.sourcePosition,i)}clone(){return new this.constructor(this.sourcePosition,this.howMany,this.targetPosition,this.graveyardPosition,this.baseVersion)}getReversed(){const i=this.targetPosition._getTransformedByMergeOperation(this),o=this.sourcePosition.path.slice(0,-1),a=new te(this.sourcePosition.root,o)._getTransformedByMergeOperation(this),d=new Lt(i,this.howMany,this.graveyardPosition,this.baseVersion+1);return d.insertionPosition=a,d}_validate(){const i=this.sourcePosition.parent,o=this.targetPosition.parent;if(!i.parent)throw new z.b("merge-operation-source-position-invalid: Merge source position is invalid.",this);if(!o.parent)throw new z.b("merge-operation-target-position-invalid: Merge target position is invalid.",this);if(this.howMany!=i.maxOffset)throw new z.b("merge-operation-how-many-invalid: Merge operation specifies wrong number of nodes to move.",this)}_execute(){const i=this.sourcePosition.parent;Nu(Z._createIn(i),this.targetPosition),Nu(Z._createOn(i),this.graveyardPosition)}toJSON(){const i=super.toJSON();return i.sourcePosition=i.sourcePosition.toJSON(),i.targetPosition=i.targetPosition.toJSON(),i.graveyardPosition=i.graveyardPosition.toJSON(),i}static get className(){return"MergeOperation"}static fromJSON(i,o){const a=te.fromJSON(i.sourcePosition,o),d=te.fromJSON(i.targetPosition,o),h=te.fromJSON(i.graveyardPosition,o);return new this(a,i.howMany,d,h,i.baseVersion)}}class Lt extends Tr{constructor(i,o,a,d){super(d),this.splitPosition=i.clone(),this.splitPosition.stickiness="toNext",this.howMany=o,this.insertionPosition=Lt.getInsertionPosition(i),this.insertionPosition.stickiness="toNone",this.graveyardPosition=a?a.clone():null,this.graveyardPosition&&(this.graveyardPosition.stickiness="toNext")}get type(){return"split"}get moveTargetPosition(){const i=this.insertionPosition.path.slice();return i.push(0),new te(this.insertionPosition.root,i)}get movedRange(){const i=this.splitPosition.getShiftedBy(Number.POSITIVE_INFINITY);return new Z(this.splitPosition,i)}clone(){const i=new this.constructor(this.splitPosition,this.howMany,this.graveyardPosition,this.baseVersion);return i.insertionPosition=this.insertionPosition,i}getReversed(){const o=new te(this.splitPosition.root.document.graveyard,[0]);return new Rn(this.moveTargetPosition,this.howMany,this.splitPosition,o,this.baseVersion+1)}_validate(){const i=this.splitPosition.parent;if(!i||i.maxOffset<this.splitPosition.offset)throw new z.b("split-operation-position-invalid: Split position is invalid.",this);if(!i.parent)throw new z.b("split-operation-split-in-root: Cannot split root element.",this);if(this.howMany!=i.maxOffset-this.splitPosition.offset)throw new z.b("split-operation-how-many-invalid: Split operation specifies wrong number of nodes to move.",this);if(this.graveyardPosition&&!this.graveyardPosition.nodeAfter)throw new z.b("split-operation-graveyard-position-invalid: Graveyard position invalid.",this)}_execute(){const i=this.splitPosition.parent;if(this.graveyardPosition)Nu(Z._createFromPositionAndShift(this.graveyardPosition,1),this.insertionPosition);else{const o=i._clone();Bc(this.insertionPosition,o)}Nu(new Z(te._createAt(i,this.splitPosition.offset),te._createAt(i,i.maxOffset)),this.moveTargetPosition)}toJSON(){const i=super.toJSON();return i.splitPosition=this.splitPosition.toJSON(),i.insertionPosition=this.insertionPosition.toJSON(),this.graveyardPosition&&(i.graveyardPosition=this.graveyardPosition.toJSON()),i}static get className(){return"SplitOperation"}static getInsertionPosition(i){const o=i.path.slice(0,-1);return o[o.length-1]++,new te(i.root,o)}static fromJSON(i,o){const a=te.fromJSON(i.splitPosition,o),d=te.fromJSON(i.insertionPosition,o),h=i.graveyardPosition?te.fromJSON(i.graveyardPosition,o):null,p=new this(a,i.howMany,h,i.baseVersion);return p.insertionPosition=d,p}}class jc extends qt{constructor(i,o,a="main"){super(o),this._doc=i,this.rootName=a}get document(){return this._doc}is(i,o){const a=i.replace("model:","");return o?"rootElement"==a&&o==this.name||super.is(i,o):"rootElement"==a||super.is(i)}toJSON(){return this.rootName}}class zc{constructor(i,o){this.model=i,this.batch=o}createText(i,o){return new Vt(i,o)}createElement(i,o){return new qt(i,o)}createDocumentFragment(){return new go}insert(i,o,a=0){if(this._assertWriterUsedCorrectly(),i instanceof Vt&&""==i.data)return;const d=te._createAt(o,a);if(i.parent){if(Er(i.root,d.root))return void this.move(Z._createOn(i),d);if(i.root.document)throw new z.b("model-writer-insert-forbidden-move: Cannot move a node from a document to a different tree. It is forbidden to move a node that was already in a document outside of it.",this);this.remove(i)}const p=new Sn(d,i,d.root.document?d.root.document.version:null);if(i instanceof Vt&&(p.shouldReceiveAttributes=!0),this.batch.addOperation(p),this.model.applyOperation(p),i instanceof go)for(const[g,_]of i.markers){const v=te._createAt(_.root,0),y={range:new Z(_.start._getCombined(v,d),_.end._getCombined(v,d)),usingOperation:!0,affectsData:!0};this.model.markers.has(g)?this.updateMarker(g,y):this.addMarker(g,y)}}insertText(i,o,a,d){o instanceof go||o instanceof qt||o instanceof te?this.insert(this.createText(i),o,a):this.insert(this.createText(i,o),a,d)}insertElement(i,o,a,d){o instanceof go||o instanceof qt||o instanceof te?this.insert(this.createElement(i),o,a):this.insert(this.createElement(i,o),a,d)}append(i,o){this.insert(i,o,"end")}appendText(i,o,a){o instanceof go||o instanceof qt?this.insert(this.createText(i),o,"end"):this.insert(this.createText(i,o),a,"end")}appendElement(i,o,a){o instanceof go||o instanceof qt?this.insert(this.createElement(i),o,"end"):this.insert(this.createElement(i,o),a,"end")}setAttribute(i,o,a){if(this._assertWriterUsedCorrectly(),a instanceof Z){const d=a.getMinimalFlatRanges();for(const h of d)Q_(this,i,o,h)}else Y_(this,i,o,a)}setAttributes(i,o){for(const[a,d]of se(i))this.setAttribute(a,d,o)}removeAttribute(i,o){if(this._assertWriterUsedCorrectly(),o instanceof Z){const a=o.getMinimalFlatRanges();for(const d of a)Q_(this,i,null,d)}else Y_(this,i,null,o)}clearAttributes(i){this._assertWriterUsedCorrectly();const o=a=>{for(const d of a.getAttributeKeys())this.removeAttribute(d,a)};if(i instanceof Z)for(const a of i.getItems())o(a);else o(i)}move(i,o,a){if(this._assertWriterUsedCorrectly(),!(i instanceof Z))throw new z.b("writer-move-invalid-range: Invalid range to move.",this);if(!i.isFlat)throw new z.b("writer-move-range-not-flat: Range to move is not flat.",this);const d=te._createAt(o,a);if(d.isEqual(i.start))return;if(this._addOperationForAffectedMarkers("move",i),!Er(i.root,d.root))throw new z.b("writer-move-different-document: Range is going to be moved between different documents.",this);const p=new Gt(i.start,i.end.offset-i.start.offset,d,i.root.document?i.root.document.version:null);this.batch.addOperation(p),this.model.applyOperation(p)}remove(i){this._assertWriterUsedCorrectly();const o=(i instanceof Z?i:Z._createOn(i)).getMinimalFlatRanges().reverse();for(const a of o)this._addOperationForAffectedMarkers("move",a),Lu(a.start,a.end.offset-a.start.offset,this.batch,this.model)}merge(i){this._assertWriterUsedCorrectly();const o=i.nodeBefore,a=i.nodeAfter;if(this._addOperationForAffectedMarkers("merge",i),!(o instanceof qt))throw new z.b("writer-merge-no-element-before: Node before merge position must be an element.",this);if(!(a instanceof qt))throw new z.b("writer-merge-no-element-after: Node after merge position must be an element.",this);i.root.document?this._merge(i):this._mergeDetached(i)}createPositionFromPath(i,o,a){return this.model.createPositionFromPath(i,o,a)}createPositionAt(i,o){return this.model.createPositionAt(i,o)}createPositionAfter(i){return this.model.createPositionAfter(i)}createPositionBefore(i){return this.model.createPositionBefore(i)}createRange(i,o){return this.model.createRange(i,o)}createRangeIn(i){return this.model.createRangeIn(i)}createRangeOn(i){return this.model.createRangeOn(i)}createSelection(i,o,a){return this.model.createSelection(i,o,a)}_mergeDetached(i){const o=i.nodeBefore,a=i.nodeAfter;this.move(Z._createIn(a),te._createAt(o,"end")),this.remove(a)}_merge(i){const o=te._createAt(i.nodeBefore,"end"),a=te._createAt(i.nodeAfter,0),h=new te(i.root.document.graveyard,[0]),g=new Rn(a,i.nodeAfter.maxOffset,o,h,i.root.document.version);this.batch.addOperation(g),this.model.applyOperation(g)}rename(i,o){if(this._assertWriterUsedCorrectly(),!(i instanceof qt))throw new z.b("writer-rename-not-element-instance: Trying to rename an object which is not an instance of Element.",this);const a=i.root.document?i.root.document.version:null,d=new Ui(te._createBefore(i),i.name,o,a);this.batch.addOperation(d),this.model.applyOperation(d)}split(i,o){this._assertWriterUsedCorrectly();let a,d,h=i.parent;if(!h.parent)throw new z.b("writer-split-element-no-parent: Element with no parent can not be split.",this);if(o||(o=h.parent),!i.parent.getAncestors({includeSelf:!0}).includes(o))throw new z.b("writer-split-invalid-limit-element: Limit element is not a position ancestor.",this);do{const _=new Lt(i,h.maxOffset-i.offset,null,h.root.document?h.root.document.version:null);this.batch.addOperation(_),this.model.applyOperation(_),a||d||(a=h,d=i.parent.nextSibling),h=(i=this.createPositionAfter(i.parent)).parent}while(h!==o);return{position:i,range:new Z(te._createAt(a,"end"),te._createAt(d,0))}}wrap(i,o){if(this._assertWriterUsedCorrectly(),!i.isFlat)throw new z.b("writer-wrap-range-not-flat: Range to wrap is not flat.",this);const a=o instanceof qt?o:new qt(o);if(a.childCount>0)throw new z.b("writer-wrap-element-not-empty: Element to wrap with is not empty.",this);if(null!==a.parent)throw new z.b("writer-wrap-element-attached: Element to wrap with is already attached to tree model.",this);this.insert(a,i.start);const d=new Z(i.start.getShiftedBy(1),i.end.getShiftedBy(1));this.move(d,te._createAt(a,0))}unwrap(i){if(this._assertWriterUsedCorrectly(),null===i.parent)throw new z.b("writer-unwrap-element-no-parent: Trying to unwrap an element which has no parent.",this);this.move(Z._createIn(i),this.createPositionAfter(i)),this.remove(i)}addMarker(i,o){if(this._assertWriterUsedCorrectly(),!o||"boolean"!=typeof o.usingOperation)throw new z.b("writer-addMarker-no-usingOperation: The options.usingOperation parameter is required when adding a new marker.",this);const a=o.usingOperation,d=o.range,h=void 0!==o.affectsData&&o.affectsData;if(this.model.markers.has(i))throw new z.b("writer-addMarker-marker-exists: Marker with provided name already exists.",this);if(!d)throw new z.b("writer-addMarker-no-range: Range parameter is required when adding a new marker.",this);return a?(Hc(this,i,null,d,h),this.model.markers.get(i)):this.model.markers._set(i,d,a,h)}updateMarker(i,o){this._assertWriterUsedCorrectly();const a="string"==typeof i?i:i.name,d=this.model.markers.get(a);if(!d)throw new z.b("writer-updateMarker-marker-not-exists: Marker with provided name does not exists.",this);if(!o)return void this.model.markers._refresh(d);const h="boolean"==typeof o.usingOperation,p="boolean"==typeof o.affectsData,g=p?o.affectsData:d.affectsData;if(!h&&!o.range&&!p)throw new z.b("writer-updateMarker-wrong-options: One of the options is required - provide range, usingOperations or affectsData.",this);const _=d.getRange(),v=o.range?o.range:_;h&&o.usingOperation!==d.managedUsingOperations?o.usingOperation?Hc(this,a,null,v,g):(Hc(this,a,_,null,g),this.model.markers._set(a,v,void 0,g)):d.managedUsingOperations?Hc(this,a,_,v,g):this.model.markers._set(a,v,void 0,g)}removeMarker(i){this._assertWriterUsedCorrectly();const o="string"==typeof i?i:i.name;if(!this.model.markers.has(o))throw new z.b("writer-removeMarker-no-marker: Trying to remove marker which does not exist.",this);const a=this.model.markers.get(o);a.managedUsingOperations?Hc(this,o,a.getRange(),null,a.affectsData):this.model.markers._remove(o)}setSelection(i,o,a){this._assertWriterUsedCorrectly(),this.model.document.selection._setTo(i,o,a)}setSelectionFocus(i,o){this._assertWriterUsedCorrectly(),this.model.document.selection._setFocus(i,o)}setSelectionAttribute(i,o){if(this._assertWriterUsedCorrectly(),"string"==typeof i)this._setSelectionAttribute(i,o);else for(const[a,d]of se(i))this._setSelectionAttribute(a,d)}removeSelectionAttribute(i){if(this._assertWriterUsedCorrectly(),"string"==typeof i)this._removeSelectionAttribute(i);else for(const o of i)this._removeSelectionAttribute(o)}overrideSelectionGravity(){return this.model.document.selection._overrideGravity()}restoreSelectionGravity(i){this.model.document.selection._restoreGravity(i)}_setSelectionAttribute(i,o){const a=this.model.document.selection;if(a.isCollapsed&&a.anchor.parent.isEmpty){const d=rr._getStoreAttributeKey(i);this.setAttribute(d,o,a.anchor.parent)}a._setAttribute(i,o)}_removeSelectionAttribute(i){const o=this.model.document.selection;if(o.isCollapsed&&o.anchor.parent.isEmpty){const a=rr._getStoreAttributeKey(i);this.removeAttribute(a,o.anchor.parent)}o._removeAttribute(i)}_assertWriterUsedCorrectly(){if(this.model._currentWriter!==this)throw new z.b("writer-incorrect-use: Trying to use a writer outside the change() block.",this)}_addOperationForAffectedMarkers(i,o){for(const a of this.model.markers){if(!a.managedUsingOperations)continue;const d=a.getRange();let h=!1;if("move"==i)h=o.containsPosition(d.start)||o.start.isEqual(d.start)||o.containsPosition(d.end)||o.end.isEqual(d.end);else{const g=o.nodeAfter,v=d.end.parent==g&&0==d.end.offset,y=d.end.nodeAfter==g,k=d.start.nodeAfter==g;h=d.start.parent==o.nodeBefore&&d.start.isAtEnd||v||y||k}h&&this.updateMarker(a.name,{range:d})}}}function Q_(c,i,o,a){const d=c.model,h=d.document;let p,g,_,v=a.start;for(const k of a.getWalker({shallow:!0}))_=k.item.getAttribute(i),p&&g!=_&&(g!=o&&y(),v=p),p=k.nextPosition,g=_;function y(){const k=new Z(v,p),D=new Pn(k,i,g,o,k.root.document?h.version:null);c.batch.addOperation(D),d.applyOperation(D)}p instanceof te&&p!=v&&g!=o&&y()}function Y_(c,i,o,a){const d=c.model,h=d.document,p=a.getAttribute(i);let g,_;p!=o&&(a.root===a?_=new L(a,i,p,o,a.document?h.version:null):(g=new Z(te._createBefore(a),c.createPositionAfter(a)),_=new Pn(g,i,p,o,g.root.document?h.version:null)),c.batch.addOperation(_),d.applyOperation(_))}function Hc(c,i,o,a,d){const h=c.model,g=new Ri(i,o,a,h.markers,d,h.document.version);c.batch.addOperation(g),h.applyOperation(g)}function Lu(c,i,o,a){let d;if(c.root.document){const h=a.document,p=new te(h.graveyard,[0]);d=new Gt(c,i,p,h.version)}else d=new K_(c,i);o.addOperation(d),a.applyOperation(d)}function Er(c,i){return c===i||c instanceof jc&&i instanceof jc}class Z_{constructor(i){this._markerCollection=i,this._changesInElement=new Map,this._elementSnapshots=new Map,this._changedMarkers=new Map,this._changeCount=0,this._cachedChanges=null,this._cachedChangesWithGraveyard=null}get isEmpty(){return 0==this._changesInElement.size&&0==this._changedMarkers.size}refreshItem(i){if(this._isInInsertedElement(i.parent))return;this._markRemove(i.parent,i.startOffset,i.offsetSize),this._markInsert(i.parent,i.startOffset,i.offsetSize);const o=Z._createOn(i);for(const a of this._markerCollection.getMarkersIntersectingRange(o)){const d=a.getRange();this.bufferMarkerChange(a.name,d,d,a.affectsData)}this._cachedChanges=null}bufferOperation(i){switch(i.type){case"insert":if(this._isInInsertedElement(i.position.parent))return;this._markInsert(i.position.parent,i.position.offset,i.nodes.maxOffset);break;case"addAttribute":case"removeAttribute":case"changeAttribute":for(const o of i.range.getItems({shallow:!0}))this._isInInsertedElement(o.parent)||this._markAttribute(o);break;case"remove":case"move":case"reinsert":{if(i.sourcePosition.isEqual(i.targetPosition)||i.sourcePosition.getShiftedBy(i.howMany).isEqual(i.targetPosition))return;const o=this._isInInsertedElement(i.sourcePosition.parent),a=this._isInInsertedElement(i.targetPosition.parent);o||this._markRemove(i.sourcePosition.parent,i.sourcePosition.offset,i.howMany),a||this._markInsert(i.targetPosition.parent,i.getMovedRangeStart().offset,i.howMany);break}case"rename":{if(this._isInInsertedElement(i.position.parent))return;this._markRemove(i.position.parent,i.position.offset,1),this._markInsert(i.position.parent,i.position.offset,1);const o=Z._createFromPositionAndShift(i.position,1);for(const a of this._markerCollection.getMarkersIntersectingRange(o)){const d=a.getRange();this.bufferMarkerChange(a.name,d,d,a.affectsData)}break}case"split":{const o=i.splitPosition.parent;this._isInInsertedElement(o)||this._markRemove(o,i.splitPosition.offset,i.howMany),this._isInInsertedElement(i.insertionPosition.parent)||this._markInsert(i.insertionPosition.parent,i.insertionPosition.offset,1),i.graveyardPosition&&this._markRemove(i.graveyardPosition.parent,i.graveyardPosition.offset,1);break}case"merge":{const o=i.sourcePosition.parent;this._isInInsertedElement(o.parent)||this._markRemove(o.parent,o.startOffset,1),this._markInsert(i.graveyardPosition.parent,i.graveyardPosition.offset,1);const d=i.targetPosition.parent;this._isInInsertedElement(d)||this._markInsert(d,i.targetPosition.offset,o.maxOffset);break}}this._cachedChanges=null}bufferMarkerChange(i,o,a,d){const h=this._changedMarkers.get(i);h?(h.newRange=a,h.affectsData=d,null==h.oldRange&&null==h.newRange&&this._changedMarkers.delete(i)):this._changedMarkers.set(i,{oldRange:o,newRange:a,affectsData:d})}getMarkersToRemove(){const i=[];for(const[o,a]of this._changedMarkers)null!=a.oldRange&&i.push({name:o,range:a.oldRange});return i}getMarkersToAdd(){const i=[];for(const[o,a]of this._changedMarkers)null!=a.newRange&&i.push({name:o,range:a.newRange});return i}getChangedMarkers(){return Array.from(this._changedMarkers).map(i=>({name:i[0],data:{oldRange:i[1].oldRange,newRange:i[1].newRange}}))}hasDataChanges(){for(const[,i]of this._changedMarkers)if(i.affectsData)return!0;return this._changesInElement.size>0}getChanges(i={includeChangesInGraveyard:!1}){if(this._cachedChanges)return i.includeChangesInGraveyard?this._cachedChangesWithGraveyard.slice():this._cachedChanges.slice();const o=[];for(const a of this._changesInElement.keys()){const d=this._changesInElement.get(a).sort((y,k)=>y.offset===k.offset?y.type!=k.type?"remove"==y.type?-1:1:0:y.offset<k.offset?-1:1),h=this._elementSnapshots.get(a),p=la(a.getChildren()),g=Uk(h.length,d);let _=0,v=0;for(const y of g)if("i"===y)o.push(this._getInsertDiff(a,_,p[_].name)),_++;else if("r"===y)o.push(this._getRemoveDiff(a,_,h[v].name)),v++;else if("a"===y){const k=p[_].attributes,T=h[v].attributes;let D;if("$text"==p[_].name)D=new Z(te._createAt(a,_),te._createAt(a,_+1));else{const R=a.offsetToIndex(_);D=new Z(te._createAt(a,_),te._createAt(a.getChild(R),0))}o.push(...this._getAttributesDiff(D,T,k)),_++,v++}else _++,v++}o.sort((a,d)=>a.position.root!=d.position.root?a.position.root.rootName<d.position.root.rootName?-1:1:a.position.isEqual(d.position)?a.changeCount-d.changeCount:a.position.isBefore(d.position)?-1:1);for(let a=1;a<o.length;a++){const d=o[a-1],h=o[a],p="remove"==d.type&&"remove"==h.type&&"$text"==d.name&&"$text"==h.name&&d.position.isEqual(h.position),g="insert"==d.type&&"insert"==h.type&&"$text"==d.name&&"$text"==h.name&&d.position.parent==h.position.parent&&d.position.offset+d.length==h.position.offset,_="attribute"==d.type&&"attribute"==h.type&&d.position.parent==h.position.parent&&d.range.isFlat&&h.range.isFlat&&d.position.offset+d.length==h.position.offset&&d.attributeKey==h.attributeKey&&d.attributeOldValue==h.attributeOldValue&&d.attributeNewValue==h.attributeNewValue;(p||g||_)&&(o[a-1].length++,_&&(o[a-1].range.end=o[a-1].range.end.getShiftedBy(1)),o.splice(a,1),a--)}for(const a of o)delete a.changeCount,"attribute"==a.type&&(delete a.position,delete a.length);return this._changeCount=0,this._cachedChangesWithGraveyard=o.slice(),this._cachedChanges=o.slice().filter(X_),i.includeChangesInGraveyard?this._cachedChangesWithGraveyard:this._cachedChanges}reset(){this._changesInElement.clear(),this._elementSnapshots.clear(),this._changedMarkers.clear(),this._cachedChanges=null}_markInsert(i,o,a){const d={type:"insert",offset:o,howMany:a,count:this._changeCount++};this._markChange(i,d)}_markRemove(i,o,a){const d={type:"remove",offset:o,howMany:a,count:this._changeCount++};this._markChange(i,d),this._removeAllNestedChanges(i,o,a)}_markAttribute(i){const o={type:"attribute",offset:i.startOffset,howMany:i.offsetSize,count:this._changeCount++};this._markChange(i.parent,o)}_markChange(i,o){this._makeSnapshot(i);const a=this._getChangesForElement(i);this._handleChange(o,a),a.push(o);for(let d=0;d<a.length;d++)a[d].howMany<1&&(a.splice(d,1),d--)}_getChangesForElement(i){let o;return this._changesInElement.has(i)?o=this._changesInElement.get(i):(o=[],this._changesInElement.set(i,o)),o}_makeSnapshot(i){this._elementSnapshots.has(i)||this._elementSnapshots.set(i,la(i.getChildren()))}_handleChange(i,o){i.nodesToHandle=i.howMany;for(const a of o){const d=i.offset+i.howMany,h=a.offset+a.howMany;if("insert"==i.type&&("insert"==a.type&&(i.offset<=a.offset?a.offset+=i.howMany:i.offset<h&&(a.howMany+=i.nodesToHandle,i.nodesToHandle=0)),"remove"==a.type&&i.offset<a.offset&&(a.offset+=i.howMany),"attribute"==a.type))if(i.offset<=a.offset)a.offset+=i.howMany;else if(i.offset<h){const p=a.howMany;a.howMany=i.offset-a.offset,o.unshift({type:"attribute",offset:d,howMany:p-a.howMany,count:this._changeCount++})}if("remove"==i.type){if("insert"==a.type)if(d<=a.offset)a.offset-=i.howMany;else if(d<=h)if(i.offset<a.offset){const p=d-a.offset;a.offset=i.offset,a.howMany-=p,i.nodesToHandle-=p}else a.howMany-=i.nodesToHandle,i.nodesToHandle=0;else if(i.offset<=a.offset)i.nodesToHandle-=a.howMany,a.howMany=0;else if(i.offset<h){const p=h-i.offset;a.howMany-=p,i.nodesToHandle-=p}if("remove"==a.type&&(d<=a.offset?a.offset-=i.howMany:i.offset<a.offset&&(i.nodesToHandle+=a.howMany,a.howMany=0)),"attribute"==a.type)if(d<=a.offset)a.offset-=i.howMany;else if(i.offset<a.offset){const p=d-a.offset;a.offset=i.offset,a.howMany-=p}else if(i.offset<h)if(d<=h){const p=a.howMany;a.howMany=i.offset-a.offset,o.unshift({type:"attribute",offset:i.offset,howMany:p-a.howMany-i.nodesToHandle,count:this._changeCount++})}else a.howMany-=h-i.offset}if("attribute"==i.type){if("insert"==a.type)if(i.offset<a.offset&&d>a.offset){if(d>h){const p={type:"attribute",offset:h,howMany:d-h,count:this._changeCount++};this._handleChange(p,o),o.push(p)}i.nodesToHandle=a.offset-i.offset,i.howMany=i.nodesToHandle}else i.offset>=a.offset&&i.offset<h&&(d>h?(i.nodesToHandle=d-h,i.offset=h):i.nodesToHandle=0);if("remove"==a.type&&i.offset<a.offset&&d>a.offset){const p={type:"attribute",offset:a.offset,howMany:d-a.offset,count:this._changeCount++};this._handleChange(p,o),o.push(p),i.nodesToHandle=a.offset-i.offset,i.howMany=i.nodesToHandle}"attribute"==a.type&&(i.offset>=a.offset&&d<=h?(i.nodesToHandle=0,i.howMany=0,i.offset=0):i.offset<=a.offset&&d>=h&&(a.howMany=0))}}i.howMany=i.nodesToHandle,delete i.nodesToHandle}_getInsertDiff(i,o,a){return{type:"insert",position:te._createAt(i,o),name:a,length:1,changeCount:this._changeCount++}}_getRemoveDiff(i,o,a){return{type:"remove",position:te._createAt(i,o),name:a,length:1,changeCount:this._changeCount++}}_getAttributesDiff(i,o,a){const d=[];a=new Map(a);for(const[h,p]of o){const g=a.has(h)?a.get(h):null;g!==p&&d.push({type:"attribute",position:i.start,range:i.clone(),length:1,attributeKey:h,attributeOldValue:p,attributeNewValue:g,changeCount:this._changeCount++}),a.delete(h)}for(const[h,p]of a)d.push({type:"attribute",position:i.start,range:i.clone(),length:1,attributeKey:h,attributeOldValue:null,attributeNewValue:p,changeCount:this._changeCount++});return d}_isInInsertedElement(i){const o=i.parent;if(!o)return!1;const a=this._changesInElement.get(o),d=i.startOffset;if(a)for(const h of a)if("insert"==h.type&&d>=h.offset&&d<h.offset+h.howMany)return!0;return this._isInInsertedElement(o)}_removeAllNestedChanges(i,o,a){const d=new Z(te._createAt(i,o),te._createAt(i,o+a));for(const h of d.getItems({shallow:!0}))h.is("element")&&(this._elementSnapshots.delete(h),this._changesInElement.delete(h),this._removeAllNestedChanges(h,0,h.maxOffset))}}function la(c){const i=[];for(const o of c)if(o.is("text"))for(let a=0;a<o.data.length;a++)i.push({name:"$text",attributes:new Map(o.getAttributes())});else i.push({name:o.name,attributes:new Map(o.getAttributes())});return i}function Uk(c,i){const o=[];let a=0,d=0;for(const h of i){if(h.offset>a){for(let p=0;p<h.offset-a;p++)o.push("e");d+=h.offset-a}if("insert"==h.type){for(let p=0;p<h.howMany;p++)o.push("i");a=h.offset+h.howMany}else if("remove"==h.type){for(let p=0;p<h.howMany;p++)o.push("r");a=h.offset,d+=h.howMany}else o.push(..."a".repeat(h.howMany).split("")),a=h.offset+h.howMany,d+=h.howMany}if(d<c)for(let h=0;h<c-d-a;h++)o.push("e");return o}function X_(c){return!(c.position&&"$graveyard"==c.position.root.rootName||c.range&&"$graveyard"==c.range.root.rootName)}class Xf{constructor(){this._operations=[],this._undoPairs=new Map,this._undoneOperations=new Set}addOperation(i){this._operations.includes(i)||this._operations.push(i)}getOperations(i=0,o=Number.POSITIVE_INFINITY){return i<0?[]:this._operations.slice(i,o)}getOperation(i){return this._operations[i]}setOperationAsUndone(i,o){this._undoPairs.set(o,i),this._undoneOperations.add(i)}isUndoingOperation(i){return this._undoPairs.has(i)}isUndoneOperation(i){return this._undoneOperations.has(i)}getUndoneOperation(i){return this._undoPairs.get(i)}}function Uc(c,i){return!!(o=c.charAt(i-1))&&1==o.length&&/[\ud800-\udbff]/.test(o)&&!!(a=c.charAt(i))&&1==a.length&&/[\udc00-\udfff]/.test(a);var a,o}function Jf(c,i){return!!(o=c.charAt(i))&&1==o.length&&/[\u0300-\u036f\u1ab0-\u1aff\u1dc0-\u1dff\u20d0-\u20ff\ufe20-\ufe2f]/.test(o);var o}class J_{constructor(i){this.model=i,this.version=0,this.history=new Xf(this),this.selection=new rr(this),this.roots=new $n({idProperty:"rootName"}),this.differ=new Z_(i.markers),this._postFixers=new Set,this._hasSelectionChangedFromTheLastChangeBlock=!1,this.createRoot("$root","$graveyard"),this.listenTo(i,"applyOperation",(o,a)=>{const d=a[0];if(d.isDocumentOperation&&d.baseVersion!==this.version)throw new z.b("model-document-applyOperation-wrong-version: Only operations with matching versions can be applied.",this,{operation:d})},{priority:"highest"}),this.listenTo(i,"applyOperation",(o,a)=>{const d=a[0];d.isDocumentOperation&&this.differ.bufferOperation(d)},{priority:"high"}),this.listenTo(i,"applyOperation",(o,a)=>{const d=a[0];d.isDocumentOperation&&(this.version++,this.history.addOperation(d))},{priority:"low"}),this.listenTo(this.selection,"change",()=>{this._hasSelectionChangedFromTheLastChangeBlock=!0}),this.listenTo(i.markers,"update",(o,a,d,h)=>{this.differ.bufferMarkerChange(a.name,d,h,a.affectsData),null===d&&a.on("change",(p,g)=>{this.differ.bufferMarkerChange(a.name,g,a.getRange(),a.affectsData)})})}get graveyard(){return this.getRoot("$graveyard")}createRoot(i="$root",o="main"){if(this.roots.get(o))throw new z.b("model-document-createRoot-name-exists: Root with specified name already exists.",this,{name:o});const a=new jc(this,i,o);return this.roots.add(a),a}destroy(){this.selection.destroy(),this.stopListening()}getRoot(i="main"){return this.roots.get(i)}getRootNames(){return Array.from(this.roots,i=>i.rootName).filter(i=>"$graveyard"!=i)}registerPostFixer(i){this._postFixers.add(i)}toJSON(){const i=kf(this);return i.selection="[engine.model.DocumentSelection]",i.model="[engine.model.Model]",i}_handleChangeBlock(i){this._hasDocumentChangedFromTheLastChangeBlock()&&(this._callPostFixers(i),this.selection.refresh(),this.differ.hasDataChanges()?this.fire("change:data",i.batch):this.fire("change",i.batch),this.selection.refresh(),this.differ.reset()),this._hasSelectionChangedFromTheLastChangeBlock=!1}_hasDocumentChangedFromTheLastChangeBlock(){return!this.differ.isEmpty||this._hasSelectionChangedFromTheLastChangeBlock}_getDefaultRoot(){for(const i of this.roots)if(i!==this.graveyard)return i;return this.graveyard}_getDefaultRange(){const i=this._getDefaultRoot(),o=this.model,a=o.schema,d=o.createPositionFromPath(i,[0]);return a.getNearestSelectionRange(d)||o.createRange(d)}_validateSelectionRange(i){return eb(i.start)&&eb(i.end)}_callPostFixers(i){let o=!1;do{for(const a of this._postFixers)if(this.selection.refresh(),o=a(i),o)break}while(o)}}function eb(c){const i=c.textNode;if(i){const o=i.data,a=c.offset-i.startOffset;return!Uc(o,a)&&!Jf(o,a)}return!0}Be(J_,_n);class ca{constructor(){this._markers=new Map}[Symbol.iterator](){return this._markers.values()}has(i){return this._markers.has(i)}get(i){return this._markers.get(i)||null}_set(i,o,a=!1,d=!1){const h=i instanceof jo?i.name:i,p=this._markers.get(h);if(p){const v=p.getRange();let y=!1;return v.isEqual(o)||(p._attachLiveRange(Cr.fromRange(o)),y=!0),a!=p.managedUsingOperations&&(p._managedUsingOperations=a,y=!0),"boolean"==typeof d&&d!=p.affectsData&&(p._affectsData=d,y=!0),y&&this.fire("update:"+h,p,v,o),p}const g=Cr.fromRange(o),_=new jo(h,g,a,d);return this._markers.set(h,_),this.fire("update:"+h,_,null,o),_}_remove(i){const o=i instanceof jo?i.name:i,a=this._markers.get(o);return!!a&&(this._markers.delete(o),this.fire("update:"+o,a,a.getRange(),null),this._destroyMarker(a),!0)}_refresh(i){const o=i instanceof jo?i.name:i,a=this._markers.get(o);if(!a)throw new z.b("markercollection-refresh-marker-not-exists: Marker with provided name does not exists.",this);const d=a.getRange();this.fire("update:"+o,a,d,d,a.managedUsingOperations,a.affectsData)}*getMarkersAtPosition(i){for(const o of this)o.getRange().containsPosition(i)&&(yield o)}*getMarkersIntersectingRange(i){for(const o of this)null!==o.getRange().getIntersection(i)&&(yield o)}destroy(){for(const i of this._markers.values())this._destroyMarker(i);this._markers=null,this.stopListening()}*getMarkersGroup(i){for(const o of this._markers.values())o.name.startsWith(i+":")&&(yield o)}_destroyMarker(i){i.stopListening(),i._detachLiveRange()}}Be(ca,_n);class jo{constructor(i,o,a,d){this.name=i,this._liveRange=this._attachLiveRange(o),this._managedUsingOperations=a,this._affectsData=d}get managedUsingOperations(){if(!this._liveRange)throw new z.b("marker-destroyed: Cannot use a destroyed marker instance.",this);return this._managedUsingOperations}get affectsData(){if(!this._liveRange)throw new z.b("marker-destroyed: Cannot use a destroyed marker instance.",this);return this._affectsData}getStart(){if(!this._liveRange)throw new z.b("marker-destroyed: Cannot use a destroyed marker instance.",this);return this._liveRange.start.clone()}getEnd(){if(!this._liveRange)throw new z.b("marker-destroyed: Cannot use a destroyed marker instance.",this);return this._liveRange.end.clone()}getRange(){if(!this._liveRange)throw new z.b("marker-destroyed: Cannot use a destroyed marker instance.",this);return this._liveRange.toRange()}is(i){return"marker"==i||"model:marker"==i}_attachLiveRange(i){return this._liveRange&&this._detachLiveRange(),i.delegate("change:range").to(this),i.delegate("change:content").to(this),this._liveRange=i,i}_detachLiveRange(){this._liveRange.stopDelegating("change:range",this),this._liveRange.stopDelegating("change:content",this),this._liveRange.detach(),this._liveRange=null}}Be(jo,_n);class Xn extends Tr{get type(){return"noop"}clone(){return new Xn(this.baseVersion)}getReversed(){return new Xn(this.baseVersion+1)}_execute(){}static get className(){return"NoOperation"}}const _o={};_o[Pn.className]=Pn,_o[Sn.className]=Sn,_o[Ri.className]=Ri,_o[Gt.className]=Gt,_o[Xn.className]=Xn,_o[Tr.className]=Tr,_o[Ui.className]=Ui,_o[L.className]=L,_o[Lt.className]=Lt,_o[Rn.className]=Rn;class $i extends te{constructor(i,o,a="toNone"){if(super(i,o,a),!this.root.is("rootElement"))throw new z.b("model-liveposition-root-not-rootelement: LivePosition's root has to be an instance of RootElement.",i);$k.call(this)}detach(){this.stopListening()}is(i){return"livePosition"==i||"model:livePosition"==i||super.is(i)}toPosition(){return new te(this.root,this.path.slice(),this.stickiness)}static fromPosition(i,o){return new this(i.root,i.path.slice(),o||i.stickiness)}}function $k(){this.listenTo(this.root.document.model,"applyOperation",(c,i)=>{const o=i[0];o.isDocumentOperation&&uD.call(this,o)},{priority:"low"})}function uD(c){const i=this.getTransformedByOperation(c);if(!this.isEqual(i)){const o=this.toPosition();this.path=i.path,this.root=i.root,this.fire("change",o)}}Be($i,_n);class Wk{constructor(i,o,a){this.model=i,this.writer=o,this.position=a,this.canMergeWith=new Set([this.position.parent]),this.schema=i.schema,this._filterAttributesOf=[],this._affectedStart=null,this._affectedEnd=null}handleNodes(i,o){i=Array.from(i);for(let a=0;a<i.length;a++)this._handleNode(i[a],{isFirst:0===a&&o.isFirst,isLast:a===i.length-1&&o.isLast});this.schema.removeDisallowedAttributes(this._filterAttributesOf,this.writer),this._filterAttributesOf=[]}getSelectionRange(){return this.nodeToSelect?Z._createOn(this.nodeToSelect):this.model.schema.getNearestSelectionRange(this.position)}getAffectedRange(){return this._affectedStart?new Z(this._affectedStart,this._affectedEnd):null}destroy(){this._affectedStart&&this._affectedStart.detach(),this._affectedEnd&&this._affectedEnd.detach()}_handleNode(i,o){this.schema.isObject(i)?this._handleObject(i,o):this._checkAndSplitToAllowedPosition(i,o)?(this._insert(i),this._mergeSiblingsOf(i,o)):this._handleDisallowedNode(i,o)}_handleObject(i,o){this._checkAndSplitToAllowedPosition(i)?this._insert(i):this._tryAutoparagraphing(i,o)}_handleDisallowedNode(i,o){i.is("element")?this.handleNodes(i.getChildren(),o):this._tryAutoparagraphing(i,o)}_insert(i){if(!this.schema.checkChild(this.position,i))throw new z.b("insertcontent-wrong-position: Given node cannot be inserted on the given position.",this,{node:i,position:this.position});const o=$i.fromPosition(this.position,"toNext");this._setAffectedBoundaries(this.position),this.writer.insert(i,this.position),this.position=o.toPosition(),o.detach(),this.nodeToSelect=this.schema.isObject(i)&&!this.schema.checkChild(this.position,"$text")?i:null,this._filterAttributesOf.push(i)}_setAffectedBoundaries(i){this._affectedStart||(this._affectedStart=$i.fromPosition(i,"toPrevious")),this._affectedEnd&&!this._affectedEnd.isBefore(i)||(this._affectedEnd&&this._affectedEnd.detach(),this._affectedEnd=$i.fromPosition(i,"toNext"))}_mergeSiblingsOf(i,o){if(!(i instanceof qt))return;const a=this._canMergeLeft(i,o),d=this._canMergeRight(i,o),h=$i._createBefore(i);h.stickiness="toNext";const p=$i._createAfter(i);if(p.stickiness="toNext",a){const g=$i.fromPosition(this.position);g.stickiness="toNext",this._affectedStart.isEqual(h)&&(this._affectedStart.detach(),this._affectedStart=$i._createAt(h.nodeBefore,"end","toPrevious")),this.writer.merge(h),h.isEqual(this._affectedEnd)&&o.isLast&&(this._affectedEnd.detach(),this._affectedEnd=$i._createAt(h.nodeBefore,"end","toNext")),this.position=g.toPosition(),g.detach()}if(d){if(!this.position.isEqual(p))throw new z.b("insertcontent-invalid-insertion-position",this);this.position=te._createAt(p.nodeBefore,"end");const g=$i.fromPosition(this.position,"toPrevious");this._affectedEnd.isEqual(p)&&(this._affectedEnd.detach(),this._affectedEnd=$i._createAt(p.nodeBefore,"end","toNext")),this.writer.merge(p),p.getShiftedBy(-1).isEqual(this._affectedStart)&&o.isFirst&&(this._affectedStart.detach(),this._affectedStart=$i._createAt(p.nodeBefore,0,"toPrevious")),this.position=g.toPosition(),g.detach()}(a||d)&&this._filterAttributesOf.push(this.position.parent),h.detach(),p.detach()}_canMergeLeft(i,o){const a=i.previousSibling;return o.isFirst&&a instanceof qt&&this.canMergeWith.has(a)&&this.model.schema.checkMerge(a,i)}_canMergeRight(i,o){const a=i.nextSibling;return o.isLast&&a instanceof qt&&this.canMergeWith.has(a)&&this.model.schema.checkMerge(i,a)}_tryAutoparagraphing(i,o){const a=this.writer.createElement("paragraph");this._getAllowedIn(a,this.position.parent)&&this.schema.checkChild(a,i)&&(a._appendChild(i),this._handleNode(a,o))}_checkAndSplitToAllowedPosition(i){const o=this._getAllowedIn(i,this.position.parent);if(!o)return!1;for(;o!=this.position.parent;){if(this.schema.isLimit(this.position.parent))return!1;if(this.position.isAtStart){const a=this.position.parent;this.position=this.writer.createPositionBefore(a),a.isEmpty&&a.parent===o&&this.writer.remove(a)}else if(this.position.isAtEnd)this.position=this.writer.createPositionAfter(this.position.parent);else{const a=this.writer.createPositionAfter(this.position.parent);this._setAffectedBoundaries(this.position),this.writer.split(this.position),this.position=a,this.canMergeWith.add(this.position.nodeAfter)}}return!0}_getAllowedIn(i,o){return this.schema.checkChild(o,i)?o:o.parent?this._getAllowedIn(i,o.parent):null}}function tb(c,i,o){const a=c.createElement("paragraph");c.insert(a,i),_l(c,o,c.createPositionAt(a,0))}function _l(c,i,o){i instanceof rr?c.setSelection(o):i.setTo(o)}function ep(c,i){if("text"==i.type)return"word"===c.unit?function(o,a){let d=o.position.textNode;if(d){let h=o.position.offset-d.startOffset;for(;!Gk(d.data,h,a)&&!Kk(d,h,a);){o.next();const p=a?o.position.nodeAfter:o.position.nodeBefore;if(p&&p.is("text")){const g=p.data.charAt(a?0:p.data.length-1);' ,.?!:;"-()'.includes(g)||(o.next(),d=o.position.textNode)}h=o.position.offset-d.startOffset}}return o.position}(c.walker,c.isForward):function(o,a){const d=o.position.textNode;if(d){const h=d.data;let p=o.position.offset-d.startOffset;for(;Uc(h,p)||"character"==a&&Jf(h,p);)o.next(),p=o.position.offset-d.startOffset}return o.position}(c.walker,c.unit);if(i.type==(c.isForward?"elementStart":"elementEnd")){if(c.schema.isObject(i.item))return te._createAt(i.item,c.isForward?"after":"before");if(c.schema.checkChild(i.nextPosition,"$text"))return i.nextPosition}else{if(c.schema.isLimit(i.item))return void c.walker.skip(()=>!0);if(c.schema.checkChild(i.nextPosition,"$text"))return i.nextPosition}}function bl(c,i){const a=te._createAt(c.root,i?"end":0);return i?new Z(c,a):new Z(a,c)}function Gk(c,i,o){return' ,.?!:;"-()'.includes(c.charAt(i+(o?0:-1)))}function Kk(c,i,o){return i===(o?c.endOffset:0)}function Qk(c,i){const o=[];Array.from(c.getItems({direction:"backward"})).map(a=>i.createRangeOn(a)).filter(a=>(a.start.isAfter(c.start)||a.start.isEqual(c.start))&&(a.end.isBefore(c.end)||a.end.isEqual(c.end))).forEach(a=>{o.push(a.start.parent),i.remove(a)}),o.forEach(a=>{let d=a;for(;d.parent&&d.isEmpty;){const h=i.createRangeOn(d);d=d.parent,i.remove(h)}})}function tp(c,i){return c.isCollapsed?function(o,a){const d=o.start,h=a.getNearestSelectionRange(d);if(!h)return null;if(!h.isCollapsed)return h;const p=h.start;return d.isEqual(p)?null:new Z(p)}(c,i):function(o,a){const d=o.start,h=o.end,p=a.checkChild(d,"$text"),g=a.checkChild(h,"$text"),_=a.getLimitElement(d),v=a.getLimitElement(h);if(_===v){if(p&&g)return null;if(function(T,D,R){const F=T.nodeAfter&&!R.isLimit(T.nodeAfter)||R.checkChild(T,"$text"),$=D.nodeBefore&&!R.isLimit(D.nodeBefore)||R.checkChild(D,"$text");return F||$}(d,h,a)){const T=d.nodeAfter&&a.isObject(d.nodeAfter)?null:a.getNearestSelectionRange(d,"forward"),D=h.nodeBefore&&a.isObject(h.nodeBefore)?null:a.getNearestSelectionRange(h,"backward");return new Z(T?T.start:d,D?D.start:h)}}const y=_&&!_.is("rootElement"),k=v&&!v.is("rootElement");if(y||k){const T=d.nodeAfter&&h.nodeBefore&&d.nodeAfter.parent===h.nodeBefore.parent,D=y&&(!T||!ip(d.nodeAfter,a)),R=k&&(!T||!ip(h.nodeBefore,a));let F=d,$=h;return D&&(F=te._createBefore(np(_,a))),R&&($=te._createAfter(np(v,a))),new Z(F,$)}return null}(c,i)}function np(c,i){let o=c,a=o;for(;i.isLimit(a)&&a.parent;)o=a,a=a.parent;return o}function ip(c,i){return c&&i.isObject(c)}class rp{constructor(){this.markers=new ca,this.document=new J_(this),this.schema=new $r,this._pendingChanges=[],this._currentWriter=null,["insertContent","deleteContent","modifySelection","getSelectedContent","applyOperation"].forEach(i=>this.decorate(i)),this.on("applyOperation",(i,o)=>{o[0]._validate()},{priority:"highest"}),this.schema.register("$root",{isLimit:!0}),this.schema.register("$block",{allowIn:"$root",isBlock:!0}),this.schema.register("$text",{allowIn:"$block",isInline:!0}),this.schema.register("$clipboardHolder",{allowContentOf:"$root",isLimit:!0}),this.schema.extend("$text",{allowIn:"$clipboardHolder"}),this.schema.register("$marker"),this.schema.addChildCheck((i,o)=>{if("$marker"===o.name)return!0}),function Bu(c){c.document.registerPostFixer(i=>function(o,a){const d=a.document.selection,h=a.schema,p=[];let g=!1;for(const _ of d.getRanges()){const v=tp(_,h);v?(p.push(v),g=!0):p.push(_)}g&&o.setSelection(function(_){const v=[];v.push(_.shift());for(const y of _){const k=v.pop();if(y.isIntersecting(k)){const T=k.start.isAfter(y.start)?y.start:k.start,D=k.end.isAfter(y.end)?k.end:y.end,R=new Z(T,D);v.push(R)}else v.push(k),v.push(y)}return v}(p),{backward:d.isBackward})}(i,c))}(this)}change(i){try{return 0===this._pendingChanges.length?(this._pendingChanges.push({batch:new Fu,callback:i}),this._runPendingChanges()[0]):i(this._currentWriter)}catch(o){z.b.rethrowUnexpectedError(o,this)}}enqueueChange(i,o){try{"string"==typeof i?i=new Fu(i):"function"==typeof i&&(o=i,i=new Fu),this._pendingChanges.push({batch:i,callback:o}),1==this._pendingChanges.length&&this._runPendingChanges()}catch(a){z.b.rethrowUnexpectedError(a,this)}}applyOperation(i){i._execute()}insertContent(i,o,a){return h=i,p=o,g=a,(d=this).change(_=>{let v;v=p?p instanceof Pi||p instanceof rr?p:_.createSelection(p,g):d.document.selection;const y=v.getFirstPosition();v.isCollapsed||d.deleteContent(v,{doNotAutoparagraph:!0});const k=new Wk(d,_,y);let T;T=h.is("documentFragment")?h.getChildren():[h],k.handleNodes(T,{isFirst:!0,isLast:!0});const D=k.getSelectionRange();D&&(v instanceof rr?_.setSelection(D):v.setTo(D));const R=k.getAffectedRange()||d.createRange(y);return k.destroy(),R});var d,h,p,g}deleteContent(i,o){!function qk(c,i,o={}){if(i.isCollapsed)return;const a=i.getFirstRange();if("$graveyard"==a.root.rootName)return;const d=c.schema;c.change(h=>{if(!o.doNotResetEntireContent&&function(_,v){const y=_.getLimitElement(v);if(!v.containsEntireContent(y))return!1;const k=v.getFirstRange();return k.start.parent!=k.end.parent&&_.checkChild(y,"paragraph")}(d,i))return void function(_,v){const y=_.model.schema.getLimitElement(v);_.remove(_.createRangeIn(y)),tb(_,_.createPositionAt(y,0),v)}(h,i);const p=a.start,g=$i.fromPosition(a.end,"toNext");if(a.start.isTouching(a.end)||h.remove(a),o.leaveUnmerged||(function _(v,y,k){const T=y.parent,D=k.parent;if(T!=D&&!v.model.schema.isLimit(T)&&!v.model.schema.isLimit(D)&&function(R,F,$){const J=new Z(R,F);for(const ae of J.getWalker())if($.isLimit(ae.item))return!1;return!0}(y,k,v.model.schema)){for(y=v.createPositionAfter(T),(k=v.createPositionBefore(D)).isEqual(y)||v.insert(D,y),v.merge(y);k.parent.isEmpty;){const R=k.parent;k=v.createPositionBefore(R),v.remove(R)}_(v,y,k)}}(h,p,g),d.removeDisallowedAttributes(p.parent.getChildren(),h)),_l(h,i,p),function(_,v){const y=_.checkChild(v,"$text"),k=_.checkChild(v,"paragraph");return!y&&k}(d,p)){const _=d.getNearestSelectionRange(p);o.doNotAutoparagraph&&_?_l(h,i,_):tb(h,p,i)}g.detach()})}(this,i,o)}modifySelection(i,o){!function(a,d,h={}){const p=a.schema,g="backward"!=h.direction,_=h.unit?h.unit:"character",y=new mo({boundaries:bl(d.focus,g),singleCharacters:!0,direction:g?"forward":"backward"}),k={walker:y,schema:p,isForward:g,unit:_};let T;for(;T=y.next();){if(T.done)return;const D=ep(k,T.value);if(D)return void(d instanceof rr?a.change(R=>{R.setSelectionFocus(D)}):d.setFocus(D))}}(this,i,o)}getSelectedContent(i){return function(o,a){return o.change(d=>{const h=d.createDocumentFragment(),p=a.getFirstRange();if(!p||p.isCollapsed)return h;const g=p.start.root,_=p.start.getCommonPath(p.end),v=g.getNodeByPath(_);let y;y=p.start.parent==p.end.parent?p:d.createRange(d.createPositionAt(v,p.start.path[_.length]),d.createPositionAt(v,p.end.path[_.length]+1));const k=y.end.offset-y.start.offset;for(const T of y.getItems({shallow:!0}))T.is("textProxy")?d.appendText(T.data,T.getAttributes(),h):d.append(T._clone(!0),h);if(y!=p){const T=p._getTransformedByMove(y.start,d.createPositionAt(h,0),k)[0],D=d.createRange(d.createPositionAt(h,0),T.start);Qk(d.createRange(T.end,d.createPositionAt(h,"end")),d),Qk(D,d)}return h})}(this,i)}hasContent(i,o){const a=i instanceof qt?Z._createIn(i):i;if(a.isCollapsed)return!1;for(const h of this.markers.getMarkersIntersectingRange(a))if(h.affectsData)return!0;const{ignoreWhitespaces:d=!1}=o||{};for(const h of a.getItems())if(h.is("textProxy")){if(!d||-1!==h.data.search(/\S/))return!0}else if(this.schema.isObject(h))return!0;return!1}createPositionFromPath(i,o,a){return new te(i,o,a)}createPositionAt(i,o){return te._createAt(i,o)}createPositionAfter(i){return te._createAfter(i)}createPositionBefore(i){return te._createBefore(i)}createRange(i,o){return new Z(i,o)}createRangeIn(i){return Z._createIn(i)}createRangeOn(i){return Z._createOn(i)}createSelection(i,o,a){return new Pi(i,o,a)}createBatch(i){return new Fu(i)}createOperationFromJSON(i){return class{static fromJSON(o,a){return _o[o.__className].fromJSON(o,a)}}.fromJSON(i,this.document)}destroy(){this.document.destroy(),this.stopListening()}_runPendingChanges(){const i=[];for(this.fire("_beforeChanges");this._pendingChanges.length;){this._currentWriter=new zc(this,this._pendingChanges[0].batch);const a=this._pendingChanges[0].callback(this._currentWriter);i.push(a),this.document._handleChangeBlock(this._currentWriter),this._pendingChanges.shift(),this._currentWriter=null}return this.fire("_afterChanges"),i}}Be(rp,tn);class wi{constructor(){this._listener=Object.create(us)}listenTo(i){this._listener.listenTo(i,"keydown",(o,a)=>{this._listener.fire("_keydown:"+Bo(a),a)})}set(i,o,a={}){const d=In(i);this._listener.listenTo(this._listener,"_keydown:"+d,(p,g)=>{o(g,()=>{g.preventDefault(),g.stopPropagation(),p.stop()}),p.return=!0},{priority:a.priority})}press(i){return!!this._listener.fire("_keydown:"+Bo(i),i)}destroy(){this._listener.stopListening()}}class Yk extends wi{constructor(i){super(),this.editor=i}set(i,o,a={}){if("string"==typeof o){const d=o;o=(h,p)=>{this.editor.execute(d),p()}}super.set(i,o,a)}}class nb{constructor(i={}){this._context=i.context||new hk({language:i.language}),this._context._addEditor(this,!i.context);const o=Array.from(this.constructor.builtinPlugins||[]);this.config=new Ro(i,this.constructor.defaultConfig),this.config.define("plugins",o),this.config.define(this._context._getEditorConfig()),this.plugins=new pu(this,o,this._context.plugins),this.locale=this._context.locale,this.t=this.locale.t,this.commands=new lD,this.set("state","initializing"),this.once("ready",()=>this.state="ready",{priority:"high"}),this.once("destroy",()=>this.state="destroyed",{priority:"high"}),this.set("isReadOnly",!1),this.model=new rp,this.data=new Yf(this.model),this.editing=new ml(this.model),this.editing.view.document.bind("isReadOnly").to(this),this.conversion=new Hk([this.editing.downcastDispatcher,this.data.downcastDispatcher],this.data.upcastDispatcher),this.conversion.addAlias("dataDowncast",this.data.downcastDispatcher),this.conversion.addAlias("editingDowncast",this.editing.downcastDispatcher),this.keystrokes=new Yk(this),this.keystrokes.listenTo(this.editing.view.document)}initPlugins(){const i=this.config,o=i.get("plugins"),a=i.get("removePlugins")||[],d=i.get("extraPlugins")||[];return this.plugins.init(o.concat(d),a)}destroy(){let i=Promise.resolve();return"initializing"==this.state&&(i=new Promise(o=>this.once("ready",o))),i.then(()=>{this.fire("destroy"),this.stopListening(),this.commands.destroy()}).then(()=>this.plugins.destroy()).then(()=>{this.model.destroy(),this.data.destroy(),this.editing.destroy(),this.keystrokes.destroy()}).then(()=>this._context._removeEditor(this))}execute(...i){try{this.commands.execute(...i)}catch(o){z.b.rethrowUnexpectedError(o,this)}}}Be(nb,tn);var Zk={setData(c){this.data.set(c)},getData(c){return this.data.get(c)}},Xk={updateSourceElement(){if(!this.sourceElement)throw new z.b("editor-missing-sourceelement: Cannot update the source element of a detached editor.",this);var c,i;c=this.sourceElement,i=this.data.get(),c instanceof HTMLTextAreaElement&&(c.value=i),c.innerHTML=i}};class Jk{getHtml(i){const o=document.implementation.createHTMLDocument("").createElement("div");return o.appendChild(i),o.innerHTML}}class Wi{constructor(){this._domParser=new DOMParser,this._domConverter=new kr({blockFillerMode:"nbsp"}),this._htmlWriter=new Jk}toData(i){const o=this._domConverter.viewToDom(i,document);return this._htmlWriter.getHtml(o)}toView(i){const o=this._toDom(i);return this._domConverter.domToView(o)}_toDom(i){const o=this._domParser.parseFromString(i,"text/html"),a=o.createDocumentFragment(),d=o.body.childNodes;for(;d.length>0;)a.appendChild(d[0]);return a}}class bo{constructor(i){this.editor=i,this._components=new Map}*names(){for(const i of this._components.values())yield i.originalName}add(i,o){if(this.has(i))throw new z.b("componentfactory-item-exists: The item already exists in the component factory.",this,{name:i});this._components.set(Vu(i),{callback:o,originalName:i})}create(i){if(!this.has(i))throw new z.b("componentfactory-item-missing: The required component is not registered in the factory.",this,{name:i});return this._components.get(Vu(i)).callback(this.editor.locale)}has(i){return this._components.has(Vu(i))}}function Vu(c){return String(c).toLowerCase()}class sr{constructor(){this.set("isFocused",!1),this.set("focusedElement",null),this._elements=new Set,this._nextEventLoopTimeout=null}add(i){if(this._elements.has(i))throw new z.b("focusTracker-add-element-already-exist",this);this.listenTo(i,"focus",()=>this._focus(i),{useCapture:!0}),this.listenTo(i,"blur",()=>this._blur(),{useCapture:!0}),this._elements.add(i)}remove(i){i===this.focusedElement&&this._blur(i),this._elements.has(i)&&(this.stopListening(i),this._elements.delete(i))}destroy(){this.stopListening()}_focus(i){clearTimeout(this._nextEventLoopTimeout),this.focusedElement=i,this.isFocused=!0}_blur(){clearTimeout(this._nextEventLoopTimeout),this._nextEventLoopTimeout=setTimeout(()=>{this.focusedElement=null,this.isFocused=!1},0)}}Be(sr,us),Be(sr,tn);class ib{constructor(i){this.editor=i,this.componentFactory=new bo(i),this.focusTracker=new sr,this._editableElementsMap=new Map,this.listenTo(i.editing.view.document,"layoutChanged",()=>this.update())}get element(){return null}update(){this.fire("update")}destroy(){this.stopListening(),this.focusTracker.destroy();for(const i of this._editableElementsMap.values())i.ckeditorInstance=null;this._editableElementsMap=new Map}setEditableElement(i,o){this._editableElementsMap.set(i,o),o.ckeditorInstance||(o.ckeditorInstance=this.editor)}getEditableElement(i="main"){return this._editableElementsMap.get(i)}getEditableElementsNames(){return this._editableElementsMap.keys()}get _editableElements(){return console.warn("editor-ui-deprecated-editable-elements: The EditorUI#_editableElements property has been deprecated and will be removed in the near future.",{editorUI:this}),this._editableElementsMap}}Be(ib,_n),P(13);const ju=new WeakMap;function rb(c,i){const o=ju.get(c);let a=!1;for(const[d,h]of o)ob(i,d,h)&&(a=!0);return a}function ob(c,i,o){const{text:a,isDirectHost:d}=o,h=d?i:function(g){if(1===g.childCount){const _=g.getChild(0);if(_.is("element")&&!_.is("uiElement"))return _}return null}(i);let p=!1;return!!h&&(o.hostElement=h,h.getAttribute("data-placeholder")!==a&&(c.setAttribute("data-placeholder",a,h),p=!0),function(g){const _=g.document;if(!_)return!1;const v=!Array.from(g.getChildren()).some(k=>!k.is("uiElement"));if(!_.isFocused&&v)return!0;const y=_.selection.anchor;return!(!v||!y||y.parent===g)}(h)?(g=c,!(_=h).hasClass("ck-placeholder")&&(g.addClass("ck-placeholder",_),!0)&&(p=!0)):function eC(c,i){return!!i.hasClass("ck-placeholder")&&(c.removeClass("ck-placeholder",i),!0)}(c,h)&&(p=!0),p);var g,_}class tC{constructor(){this._replacedElements=[]}replace(i,o){this._replacedElements.push({element:i,newElement:o}),i.style.display="none",o&&i.parentNode.insertBefore(o,i.nextSibling)}restore(){this._replacedElements.forEach(({element:i,newElement:o})=>{i.style.display="",o&&o.remove()}),this._replacedElements=[]}}class nC extends ib{constructor(i,o){var a;super(i),this.view=o,this._toolbarConfig=(a=i.config.get("toolbar"),Array.isArray(a)?{items:a}:a?Object.assign({items:[]},a):{items:[]}),this._elementReplacer=new tC}get element(){return this.view.element}init(i){const a=this.view,d=this.editor.editing.view,h=a.editable,p=d.document.getRoot();h.name=p.rootName,a.render();const g=h.element;this.setEditableElement(h.name,g),this.focusTracker.add(g),a.editable.bind("isFocused").to(this.focusTracker),d.attachDomRoot(g),i&&this._elementReplacer.replace(i,this.element),this._initPlaceholder(),this._initToolbar(),this.fire("ready")}destroy(){const i=this.view,o=this.editor.editing.view;this._elementReplacer.restore(),o.detachDomRoot(i.editable.name),i.destroy(),super.destroy()}_initToolbar(){const i=this.editor,o=this.view,a=i.editing.view;o.stickyPanel.bind("isActive").to(this.focusTracker,"isFocused"),o.stickyPanel.limiterElement=o.element,this._toolbarConfig.viewportTopOffset&&(o.stickyPanel.viewportTopOffset=this._toolbarConfig.viewportTopOffset),o.toolbar.fillFromConfig(this._toolbarConfig.items,this.componentFactory),function({origin:d,originKeystrokeHandler:h,originFocusTracker:p,toolbar:g,beforeFocus:_,afterBlur:v}){p.add(g.element),h.set("Alt+F10",(y,k)=>{p.isFocused&&!g.focusTracker.isFocused&&(_&&_(),g.focus(),k())}),g.keystrokes.set("Esc",(y,k)=>{g.focusTracker.isFocused&&(d.focus(),v&&v(),k())})}({origin:a,originFocusTracker:this.focusTracker,originKeystrokeHandler:i.keystrokes,toolbar:o.toolbar})}_initPlaceholder(){const i=this.editor,o=i.editing.view,a=o.document.getRoot(),d=i.sourceElement,h=i.config.get("placeholder")||d&&"textarea"===d.tagName.toLowerCase()&&d.getAttribute("placeholder");h&&function(p){const{view:g,element:_,text:v,isDirectHost:y=!0}=p,k=g.document;ju.has(k)||(ju.set(k,new Map),k.registerPostFixer(T=>rb(k,T))),ju.get(k).set(_,{text:v,isDirectHost:y}),g.change(T=>rb(k,T))}({view:o,element:a,text:h,isDirectHost:!1})}}class da extends $n{constructor(i){super({idProperty:"viewUid"}),this.on("add",(o,a,d)=>{a.isRendered||a.render(),a.element&&this._parentElement&&this._parentElement.insertBefore(a.element,this._parentElement.children[d])}),this.on("remove",(o,a)=>{a.element&&this._parentElement&&a.element.remove()}),this.locale=i,this._parentElement=null}destroy(){this.map(i=>i.destroy())}setParent(i){this._parentElement=i}delegate(...i){if(!i.length||!i.every(o=>"string"==typeof o))throw new z.b("ui-viewcollection-delegate-wrong-events: All event names must be strings.",this);return{to:o=>{for(const a of this)for(const d of i)a.delegate(d).to(o);this.on("add",(a,d)=>{for(const h of i)d.delegate(h).to(o)}),this.on("remove",(a,d)=>{for(const h of i)d.stopDelegating(h,o)})}}}}class Sr{constructor(i){Object.assign(this,rC(op(i))),this._isRendered=!1,this._revertData=null}render(){const i=this._renderNode({intoFragment:!0});return this._isRendered=!0,i}apply(i){return this._revertData={children:[],bindings:[],attributes:{}},this._renderNode({node:i,isApplying:!0,revertData:this._revertData}),i}revert(i){if(!this._revertData)throw new z.b("ui-template-revert-not-applied: Attempting to revert a template which has not been applied yet.",[this,i]);this._revertTemplateFromNode(i,this._revertData)}*getViews(){yield*function*i(o){if(o.children)for(const a of o.children)yl(a)?yield a:lb(a)&&(yield*i(a))}(this)}static bind(i,o){return{to:(a,d)=>new iC({eventNameOrFunction:a,attribute:a,observable:i,emitter:o,callback:d}),if:(a,d,h)=>new vl({observable:i,emitter:o,attribute:a,valueIfTrue:d,callback:h})}}static extend(i,o){if(i._isRendered)throw new z.b("template-extend-render: Attempting to extend a template which has already been rendered.",[this,i]);!function a(d,h){if(h.attributes&&(d.attributes||(d.attributes={}),Hu(d.attributes,h.attributes)),h.eventListeners&&(d.eventListeners||(d.eventListeners={}),Hu(d.eventListeners,h.eventListeners)),h.text&&d.text.push(...h.text),h.children&&h.children.length){if(d.children.length!=h.children.length)throw new z.b("ui-template-extend-children-mismatch: The number of children in extended definition does not match.",d);let p=0;for(const g of h.children)a(d.children[p++],g)}}(i,rC(op(o)))}_renderNode(i){let o;if(o=i.node?this.tag&&this.text:this.tag?this.text:!this.text,o)throw new z.b('ui-template-wrong-syntax: Node definition must have either "tag" or "text" when rendering a new Node.',this);return this.text?this._renderText(i):this._renderElement(i)}_renderElement(i){let o=i.node;return o||(o=i.node=document.createElementNS(this.ns||"http://www.w3.org/1999/xhtml",this.tag)),this._renderAttributes(i),this._renderElementChildren(i),this._setUpListeners(i),o}_renderText(i){let o=i.node;return o?i.revertData.text=o.textContent:o=i.node=document.createTextNode(""),$c(this.text)?this._bindToObservable({schema:this.text,updater:Wc(o),data:i}):o.textContent=this.text.join(""),o}_renderAttributes(i){let o,a,d,h;if(!this.attributes)return;const p=i.node,g=i.revertData;for(o in this.attributes)if(d=p.getAttribute(o),a=this.attributes[o],g&&(g.attributes[o]=d),h=An(a[0])&&a[0].ns?a[0].ns:null,$c(a)){const _=h?a[0].value:a;g&&sp(o)&&_.unshift(d),this._bindToObservable({schema:_,updater:sb(p,o,h),data:i})}else"style"==o&&"string"!=typeof a[0]?this._renderStyleAttribute(a[0],i):(g&&d&&sp(o)&&a.unshift(d),a=a.map(_=>_&&_.value||_).reduce((_,v)=>_.concat(v),[]).reduce(sC,""),ys(a)||p.setAttributeNS(h,o,a))}_renderStyleAttribute(i,o){const a=o.node;for(const d in i){const h=i[d];$c(h)?this._bindToObservable({schema:[h],updater:ab(a,d),data:o}):a.style[d]=h}}_renderElementChildren(i){const o=i.node,a=i.intoFragment?document.createDocumentFragment():o,d=i.isApplying;let h=0;for(const p of this.children)if(cb(p)){if(!d){p.setParent(o);for(const g of p)a.appendChild(g.element)}}else if(yl(p))d||(p.isRendered||p.render(),a.appendChild(p.element));else if(ds(p))a.appendChild(p);else if(d){const g={children:[],bindings:[],attributes:{}};i.revertData.children.push(g),p._renderNode({node:a.childNodes[h++],isApplying:!0,revertData:g})}else a.appendChild(p.render());i.intoFragment&&o.appendChild(a)}_setUpListeners(i){if(this.eventListeners)for(const o in this.eventListeners){const a=this.eventListeners[o].map(d=>{const[h,p]=o.split("@");return d.activateDomEventListener(h,p,i)});i.revertData&&i.revertData.bindings.push(a)}}_bindToObservable({schema:i,updater:o,data:a}){const d=a.revertData;Wr(i,o,a);const h=i.filter(p=>!ys(p)).filter(p=>p.observable).map(p=>p.activateAttributeListener(i,o,a));d&&d.bindings.push(h)}_revertTemplateFromNode(i,o){for(const a of o.bindings)for(const d of a)d();if(o.text)i.textContent=o.text;else{for(const a in o.attributes){const d=o.attributes[a];null===d?i.removeAttribute(a):i.setAttribute(a,d)}for(let a=0;a<o.children.length;++a)this._revertTemplateFromNode(i.childNodes[a],o.children[a])}}}Be(Sr,_n);class zu{constructor(i){Object.assign(this,i)}getValue(i){const o=this.observable[this.attribute];return this.callback?this.callback(o,i):o}activateAttributeListener(i,o,a){const d=()=>Wr(i,o,a);return this.emitter.listenTo(this.observable,"change:"+this.attribute,d),()=>{this.emitter.stopListening(this.observable,"change:"+this.attribute,d)}}}class iC extends zu{activateDomEventListener(i,o,a){const d=(h,p)=>{o&&!p.target.matches(o)||("function"==typeof this.eventNameOrFunction?this.eventNameOrFunction(p):this.observable.fire(this.eventNameOrFunction,p))};return this.emitter.listenTo(a.node,i,d),()=>{this.emitter.stopListening(a.node,i,d)}}}class vl extends zu{getValue(i){return!ys(super.getValue(i))&&(this.valueIfTrue||!0)}}function $c(c){return!!c&&(c.value&&(c=c.value),Array.isArray(c)?c.some($c):c instanceof zu)}function Wr(c,i,{node:o}){let a=(h=o,c.map(p=>p instanceof zu?p.getValue(h):p));var h;a=1==c.length&&c[0]instanceof vl?a[0]:a.reduce(sC,""),ys(a)?i.remove():i.set(a)}function Wc(c){return{set(i){c.textContent=i},remove(){c.textContent=""}}}function sb(c,i,o){return{set(a){c.setAttributeNS(o,i,a)},remove(){c.removeAttributeNS(o,i)}}}function ab(c,i){return{set(o){c.style[i]=o},remove(){c.style[i]=null}}}function op(c){return fu(c,i=>{if(i&&(i instanceof zu||lb(i)||yl(i)||cb(i)))return i})}function rC(c){if("string"==typeof c?c=function(i){return{text:[i]}}(c):c.text&&function(i){Array.isArray(i.text)||(i.text=[i.text])}(c),c.on&&(c.eventListeners=function(i){for(const o in i)oC(i,o);return i}(c.on),delete c.on),!c.text){c.attributes&&function(o){for(const a in o)o[a].value&&(o[a].value=[].concat(o[a].value)),oC(o,a)}(c.attributes);const i=[];if(c.children)if(cb(c.children))i.push(c.children);else for(const o of c.children)lb(o)||yl(o)||ds(o)?i.push(o):i.push(new Sr(o));c.children=i}return c}function oC(c,i){Array.isArray(c[i])||(c[i]=[c[i]])}function sC(c,i){return ys(i)?c:ys(c)?i:`${c} ${i}`}function Hu(c,i){for(const o in i)c[o]?c[o].push(...i[o]):c[o]=i[o]}function ys(c){return!c&&0!==c}function yl(c){return c instanceof Ge}function lb(c){return c instanceof Sr}function cb(c){return c instanceof da}function sp(c){return"class"==c||"style"==c}P(15);class Ge{constructor(i){this.element=null,this.isRendered=!1,this.locale=i,this.t=i&&i.t,this._viewCollections=new $n,this._unboundChildren=this.createCollection(),this._viewCollections.on("add",(o,a)=>{a.locale=i}),this.decorate("render")}get bindTemplate(){return this._bindTemplate?this._bindTemplate:this._bindTemplate=Sr.bind(this,this)}createCollection(){const i=new da;return this._viewCollections.add(i),i}registerChild(i){_r(i)||(i=[i]);for(const o of i)this._unboundChildren.add(o)}deregisterChild(i){_r(i)||(i=[i]);for(const o of i)this._unboundChildren.remove(o)}setTemplate(i){this.template=new Sr(i)}extendTemplate(i){Sr.extend(this.template,i)}render(){if(this.isRendered)throw new z.b("ui-view-render-already-rendered: This View has already been rendered.",this);this.template&&(this.element=this.template.render(),this.registerChild(this.template.getViews())),this.isRendered=!0}destroy(){this.stopListening(),this._viewCollections.map(i=>i.destroy()),this.template&&this.template._revertData&&this.template.revert(this.element)}}Be(Ge,us),Be(Ge,tn);var db=function(c){return"string"==typeof c||!gn(c)&&Ht(c)&&"[object String]"==ne(c)};class aC extends da{attachToDom(){this._bodyCollectionContainer=new Sr({tag:"div",attributes:{class:["ck","ck-reset_all","ck-body","ck-rounded-corners"],dir:this.locale.uiLanguageDirection},children:this}).render();let i=document.querySelector(".ck-body-wrapper");i||(i=function(o,a,d={},h=[]){const p=d&&d.xmlns,g=p?o.createElementNS(p,a):o.createElement(a);for(const _ in d)g.setAttribute(_,d[_]);!db(h)&&_r(h)||(h=[h]);for(let _ of h)db(_)&&(_=o.createTextNode(_)),g.appendChild(_);return g}(document,"div",{class:"ck-body-wrapper"}),document.body.appendChild(i)),i.appendChild(this._bodyCollectionContainer)}detachFromDom(){super.destroy(),this._bodyCollectionContainer&&this._bodyCollectionContainer.remove();const i=document.querySelector(".ck-body-wrapper");i&&0==i.childElementCount&&i.remove()}}P(17);class lC extends Ge{constructor(i){super(i),this.body=new aC(i)}render(){super.render(),this.body.attachToDom()}destroy(){return this.body.detachFromDom(),super.destroy()}}P(19);class ws extends Ge{constructor(i){super(i),this.set("text"),this.set("for"),this.id=`ck-editor__label_${Nr()}`;const o=this.bindTemplate;this.setTemplate({tag:"label",attributes:{class:["ck","ck-label"],id:this.id,for:o.to("for")},children:[{text:o.to("text")}]})}}class Uu extends lC{constructor(i){super(i),this.top=this.createCollection(),this.main=this.createCollection(),this._voiceLabelView=this._createVoiceLabel(),this.setTemplate({tag:"div",attributes:{class:["ck","ck-reset","ck-editor","ck-rounded-corners"],role:"application",dir:i.uiLanguageDirection,lang:i.uiLanguage,"aria-labelledby":this._voiceLabelView.id},children:[this._voiceLabelView,{tag:"div",attributes:{class:["ck","ck-editor__top","ck-reset_all"],role:"presentation"},children:this.top},{tag:"div",attributes:{class:["ck","ck-editor__main"],role:"presentation"},children:this.main}]})}_createVoiceLabel(){const i=this.t,o=new ws;return o.text=i("bz"),o.extendTemplate({attributes:{class:"ck-voice-label"}}),o}}class ub extends Ge{constructor(i,o,a){super(i),this.setTemplate({tag:"div",attributes:{class:["ck","ck-content","ck-editor__editable","ck-rounded-corners"],lang:i.contentLanguage,dir:i.contentLanguageDirection}}),this.name=null,this.set("isFocused",!1),this._editableElement=a,this._hasExternalElement=!!this._editableElement,this._editingView=o}render(){super.render(),this._hasExternalElement?this.template.apply(this.element=this._editableElement):this._editableElement=this.element,this.on("change:isFocused",()=>this._updateIsFocusedClasses()),this._updateIsFocusedClasses()}destroy(){this._hasExternalElement&&this.template.revert(this._editableElement),super.destroy()}_updateIsFocusedClasses(){const i=this._editingView;function o(a){i.change(d=>{const h=i.document.getRoot(a.name);d.addClass(a.isFocused?"ck-focused":"ck-blurred",h),d.removeClass(a.isFocused?"ck-blurred":"ck-focused",h)})}i.isRenderingInProgress?function a(d){i.once("change:isRenderingInProgress",(h,p,g)=>{g?a(d):o(d)})}(this):o(this)}}class ap extends ub{constructor(i,o,a){super(i,o,a),this.extendTemplate({attributes:{role:"textbox",class:"ck-editor__editable_inline"}})}render(){super.render();const i=this._editingView,o=this.t;i.change(a=>{const d=i.document.getRoot(this.name);a.setAttribute("aria-label",o("ca",[this.name]),d)})}}function lp(c){return i=>i+c}P(21);const gt=lp("px");class hb extends Ge{constructor(i){super(i);const o=this.bindTemplate;this.set("isActive",!1),this.set("isSticky",!1),this.set("limiterElement",null),this.set("limiterBottomOffset",50),this.set("viewportTopOffset",0),this.set("_marginLeft",null),this.set("_isStickyToTheLimiter",!1),this.set("_hasViewportTopOffset",!1),this.content=this.createCollection(),this._contentPanelPlaceholder=new Sr({tag:"div",attributes:{class:["ck","ck-sticky-panel__placeholder"],style:{display:o.to("isSticky",a=>a?"block":"none"),height:o.to("isSticky",a=>a?gt(this._panelRect.height):null)}}}).render(),this._contentPanel=new Sr({tag:"div",attributes:{class:["ck","ck-sticky-panel__content",o.if("isSticky","ck-sticky-panel__content_sticky"),o.if("_isStickyToTheLimiter","ck-sticky-panel__content_sticky_bottom-limit")],style:{width:o.to("isSticky",a=>a?gt(this._contentPanelPlaceholder.getBoundingClientRect().width):null),top:o.to("_hasViewportTopOffset",a=>a?gt(this.viewportTopOffset):null),bottom:o.to("_isStickyToTheLimiter",a=>a?gt(this.limiterBottomOffset):null),marginLeft:o.to("_marginLeft")}},children:this.content}).render(),this.setTemplate({tag:"div",attributes:{class:["ck","ck-sticky-panel"]},children:[this._contentPanelPlaceholder,this._contentPanel]})}render(){super.render(),this._checkIfShouldBeSticky(),this.listenTo(Mt.window,"scroll",()=>{this._checkIfShouldBeSticky()}),this.listenTo(this,"change:isActive",()=>{this._checkIfShouldBeSticky()})}_checkIfShouldBeSticky(){const i=this._panelRect=this._contentPanel.getBoundingClientRect();let o;this.limiterElement?(o=this._limiterRect=this.limiterElement.getBoundingClientRect(),this.isSticky=this.isActive&&o.top<this.viewportTopOffset&&this._panelRect.height+this.limiterBottomOffset<o.height):this.isSticky=!1,this.isSticky?(this._isStickyToTheLimiter=o.bottom<i.height+this.limiterBottomOffset+this.viewportTopOffset,this._hasViewportTopOffset=!this._isStickyToTheLimiter&&!!this.viewportTopOffset,this._marginLeft=this._isStickyToTheLimiter?null:gt(-Mt.window.scrollX)):(this._isStickyToTheLimiter=!1,this._hasViewportTopOffset=!1,this._marginLeft=null)}}class ks{constructor(i){if(Object.assign(this,i),i.actions&&i.keystrokeHandler)for(const o in i.actions){let a=i.actions[o];"string"==typeof a&&(a=[a]);for(const d of a)i.keystrokeHandler.set(d,(h,p)=>{this[o](),p()})}}get first(){return this.focusables.find(vo)||null}get last(){return this.focusables.filter(vo).slice(-1)[0]||null}get next(){return this._getFocusableItem(1)}get previous(){return this._getFocusableItem(-1)}get current(){let i=null;return null===this.focusTracker.focusedElement?null:(this.focusables.find((o,a)=>{const d=o.element===this.focusTracker.focusedElement;return d&&(i=a),d}),i)}focusFirst(){this._focus(this.first)}focusLast(){this._focus(this.last)}focusNext(){this._focus(this.next)}focusPrevious(){this._focus(this.previous)}_focus(i){i&&i.focus()}_getFocusableItem(i){const o=this.current,a=this.focusables.length;if(!a)return null;if(null===o)return this[1===i?"first":"last"];let d=(o+a+i)%a;do{const h=this.focusables.get(d);if(vo(h))return h;d=(d+a+i)%a}while(d!==o);return null}}function vo(c){return!(!c.focus||"none"==Mt.window.getComputedStyle(c.element).display)}class cp extends Ge{constructor(i){super(i),this.setTemplate({tag:"span",attributes:{class:["ck","ck-toolbar__separator"]}})}}class hn{constructor(i,o){hn._observerInstance||hn._createObserver(),this._element=i,this._callback=o,hn._addElementCallback(i,o),hn._observerInstance.observe(i)}destroy(){hn._deleteElementCallback(this._element,this._callback)}static _addElementCallback(i,o){hn._elementCallbacks||(hn._elementCallbacks=new Map);let a=hn._elementCallbacks.get(i);a||(a=new Set,hn._elementCallbacks.set(i,a)),a.add(o)}static _deleteElementCallback(i,o){const a=hn._getElementCallbacks(i);a&&(a.delete(o),a.size||(hn._elementCallbacks.delete(i),hn._observerInstance.unobserve(i))),hn._elementCallbacks&&!hn._elementCallbacks.size&&(hn._observerInstance=null,hn._elementCallbacks=null)}static _getElementCallbacks(i){return hn._elementCallbacks?hn._elementCallbacks.get(i):null}static _createObserver(){let i;i="function"==typeof Mt.window.ResizeObserver?Mt.window.ResizeObserver:fb,hn._observerInstance=new i(o=>{for(const a of o){const d=hn._getElementCallbacks(a.target);if(d)for(const h of d)h(a)}})}}hn._observerInstance=null,hn._elementCallbacks=null;class fb{constructor(i){this._callback=i,this._elements=new Set,this._previousRects=new Map,this._periodicCheckTimeout=null}observe(i){this._elements.add(i),this._checkElementRectsAndExecuteCallback(),1===this._elements.size&&this._startPeriodicCheck()}unobserve(i){this._elements.delete(i),this._previousRects.delete(i),this._elements.size||this._stopPeriodicCheck()}_startPeriodicCheck(){const i=()=>{this._checkElementRectsAndExecuteCallback(),this._periodicCheckTimeout=setTimeout(i,100)};this.listenTo(Mt.window,"resize",()=>{this._checkElementRectsAndExecuteCallback()}),this._periodicCheckTimeout=setTimeout(i,100)}_stopPeriodicCheck(){clearTimeout(this._periodicCheckTimeout),this.stopListening(),this._previousRects.clear()}_checkElementRectsAndExecuteCallback(){const i=[];for(const o of this._elements)this._hasRectChanged(o)&&i.push({target:o,contentRect:this._previousRects.get(o)});i.length&&this._callback(i)}_hasRectChanged(i){if(!i.ownerDocument.body.contains(i))return!1;const o=new Ut(i),a=this._previousRects.get(i),d=!a||!a.isEqual(o);return this._previousRects.set(i,o),d}}Be(fb,us);class cC extends Ge{constructor(i){super(i);const o=this.bindTemplate;this.set("isVisible",!1),this.set("position","se"),this.children=this.createCollection(),this.setTemplate({tag:"div",attributes:{class:["ck","ck-reset","ck-dropdown__panel",o.to("position",a=>`ck-dropdown__panel_${a}`),o.if("isVisible","ck-dropdown__panel-visible")]},children:this.children,on:{selectstart:o.to(a=>a.preventDefault())}})}focus(){this.children.length&&this.children.first.focus()}focusLast(){if(this.children.length){const i=this.children.last;"function"==typeof i.focusLast?i.focusLast():i.focus()}}}function pb({element:c,target:i,positions:o,limiter:a,fitInViewport:d}){ts(i)&&(i=i()),ts(a)&&(a=a());const h=function(T){for(;T&&"html"!=T.tagName.toLowerCase();){if("static"!=Mt.window.getComputedStyle(T).position)return T;T=T.parentElement}return null}(c.parentElement),p=new Ut(c),g=new Ut(i);let _,v;if(a||d){const T=a&&new Ut(a).getVisible(),D=d&&new Ut(Mt.window);[v,_]=function(R,F,$,J,ae){let _e,ut,On=0,Ci=0;const bh=$.getArea();return R.some(Rs=>{const[Hm,vh]=dp(Rs,F,$);let ka,wd;if(J)if(ae){const wy=J.getIntersection(ae);ka=wy?wy.getIntersectionArea(vh):0}else ka=J.getIntersectionArea(vh);function yh(){Ci=wd,On=ka,_e=vh,ut=Hm}return ae&&(wd=ae.getIntersectionArea(vh)),ae&&!J?wd>Ci&&yh():!ae&&J?ka>On&&yh():(wd>Ci&&ka>=On||wd>=Ci&&ka>On)&&yh(),ka===bh}),_e?[ut,_e]:null}(o,g,p,T,D)||dp(o[0],g,p)}else[v,_]=dp(o[0],g,p);let{left:y,top:k}=dC(_);if(h){const T=dC(new Ut(h)),D=Oc(h);y-=T.left,k-=T.top,y+=h.scrollLeft,k+=h.scrollTop,y-=D.left,k-=D.top}return{left:y,top:k,name:v}}function dp(c,i,o){const{left:a,top:d,name:h}=c(i,o);return[h,o.clone().moveTo(a,d)]}function dC({left:c,top:i}){const{scrollX:o,scrollY:a}=Mt.window;return{left:c+o,top:i+a}}P(23);class qc extends Ge{constructor(i,o,a){super(i);const d=this.bindTemplate;this.buttonView=o,this.panelView=a,this.set("isOpen",!1),this.set("isEnabled",!0),this.set("class"),this.set("id"),this.set("panelPosition","auto"),this.focusTracker=new sr,this.keystrokes=new wi,this.setTemplate({tag:"div",attributes:{class:["ck","ck-dropdown",d.to("class"),d.if("isEnabled","ck-disabled",h=>!h)],id:d.to("id"),"aria-describedby":d.to("ariaDescribedById")},children:[o,a]}),o.extendTemplate({attributes:{class:["ck-dropdown__button"]}})}render(){super.render(),this.listenTo(this.buttonView,"open",()=>{this.isOpen=!this.isOpen}),this.panelView.bind("isVisible").to(this,"isOpen"),this.on("change:isOpen",()=>{this.isOpen&&(this.panelView.position="auto"===this.panelPosition?qc._getOptimalPosition({element:this.panelView.element,target:this.buttonView.element,fitInViewport:!0,positions:this._panelPositions}).name:this.panelPosition)}),this.keystrokes.listenTo(this.element),this.focusTracker.add(this.element);const i=(o,a)=>{this.isOpen&&(this.buttonView.focus(),this.isOpen=!1,a())};this.keystrokes.set("arrowdown",(o,a)=>{this.buttonView.isEnabled&&!this.isOpen&&(this.isOpen=!0,a())}),this.keystrokes.set("arrowright",(o,a)=>{this.isOpen&&a()}),this.keystrokes.set("arrowleft",i),this.keystrokes.set("esc",i)}focus(){this.buttonView.focus()}get _panelPositions(){const{southEast:i,southWest:o,northEast:a,northWest:d}=qc.defaultPanelPositions;return"ltr"===this.locale.uiLanguageDirection?[i,o,a,d]:[o,i,d,a]}}qc.defaultPanelPositions={southEast:c=>({top:c.bottom,left:c.left,name:"se"}),southWest:(c,i)=>({top:c.bottom,left:c.left-i.width+c.width,name:"sw"}),northEast:(c,i)=>({top:c.top-i.height,left:c.left,name:"ne"}),northWest:(c,i)=>({top:c.bottom-i.height,left:c.left-i.width+c.width,name:"nw"})},qc._getOptimalPosition=pb,P(25);class ua extends Ge{constructor(){super();const i=this.bindTemplate;this.set("content",""),this.set("viewBox","0 0 20 20"),this.set("fillColor",""),this.setTemplate({tag:"svg",ns:"http://www.w3.org/2000/svg",attributes:{class:["ck","ck-icon"],viewBox:i.to("viewBox")}})}render(){super.render(),this._updateXMLContent(),this._colorFillPaths(),this.on("change:content",()=>{this._updateXMLContent(),this._colorFillPaths()}),this.on("change:fillColor",()=>{this._colorFillPaths()})}_updateXMLContent(){if(this.content){const i=(new DOMParser).parseFromString(this.content.trim(),"image/svg+xml").querySelector("svg"),o=i.getAttribute("viewBox");for(o&&(this.viewBox=o),this.element.innerHTML="";i.childNodes.length>0;)this.element.appendChild(i.childNodes[0])}}_colorFillPaths(){this.fillColor&&this.element.querySelectorAll(".ck-icon__fill").forEach(i=>{i.style.fill=this.fillColor})}}P(27);class Oi extends Ge{constructor(i){super(i),this.set("text",""),this.set("position","s");const o=this.bindTemplate;this.setTemplate({tag:"span",attributes:{class:["ck","ck-tooltip",o.to("position",a=>"ck-tooltip_"+a),o.if("text","ck-hidden",a=>!a.trim())]},children:[{tag:"span",attributes:{class:["ck","ck-tooltip__text"]},children:[{text:o.to("text")}]}]})}}P(29);class Bt extends Ge{constructor(i){super(i);const o=this.bindTemplate,a=Nr();this.set("class"),this.set("labelStyle"),this.set("icon"),this.set("isEnabled",!0),this.set("isOn",!1),this.set("isVisible",!0),this.set("isToggleable",!1),this.set("keystroke"),this.set("label"),this.set("tabindex",-1),this.set("tooltip"),this.set("tooltipPosition","s"),this.set("type","button"),this.set("withText",!1),this.set("withKeystroke",!1),this.children=this.createCollection(),this.tooltipView=this._createTooltipView(),this.labelView=this._createLabelView(a),this.iconView=new ua,this.iconView.extendTemplate({attributes:{class:"ck-button__icon"}}),this.keystrokeView=this._createKeystrokeView(),this.bind("_tooltipString").to(this,"tooltip",this,"label",this,"keystroke",this._getTooltipString.bind(this)),this.setTemplate({tag:"button",attributes:{class:["ck","ck-button",o.to("class"),o.if("isEnabled","ck-disabled",d=>!d),o.if("isVisible","ck-hidden",d=>!d),o.to("isOn",d=>d?"ck-on":"ck-off"),o.if("withText","ck-button_with-text"),o.if("withKeystroke","ck-button_with-keystroke")],type:o.to("type",d=>d||"button"),tabindex:o.to("tabindex"),"aria-labelledby":`ck-editor__aria-label_${a}`,"aria-disabled":o.if("isEnabled",!0,d=>!d),"aria-pressed":o.to("isOn",d=>!!this.isToggleable&&String(d))},children:this.children,on:{mousedown:o.to(d=>{d.preventDefault()}),click:o.to(d=>{this.isEnabled?this.fire("execute"):d.preventDefault()})}})}render(){super.render(),this.icon&&(this.iconView.bind("content").to(this,"icon"),this.children.add(this.iconView)),this.children.add(this.tooltipView),this.children.add(this.labelView),this.withKeystroke&&this.children.add(this.keystrokeView)}focus(){this.element.focus()}_createTooltipView(){const i=new Oi;return i.bind("text").to(this,"_tooltipString"),i.bind("position").to(this,"tooltipPosition"),i}_createLabelView(i){const o=new Ge;return o.setTemplate({tag:"span",attributes:{class:["ck","ck-button__label"],style:this.bindTemplate.to("labelStyle"),id:`ck-editor__aria-label_${i}`},children:[{text:this.bindTemplate.to("label")}]}),o}_createKeystrokeView(){const i=new Ge;return i.setTemplate({tag:"span",attributes:{class:["ck","ck-button__keystroke"]},children:[{text:this.bindTemplate.to("keystroke",o=>v_(o))}]}),i}_getTooltipString(i,o,a){return i?"string"==typeof i?i:(a&&(a=v_(a)),i instanceof Function?i(o,a):`${o}${a?` (${a})`:""}`):""}}class up extends Bt{constructor(i){super(i),this.arrowView=this._createArrowView(),this.extendTemplate({attributes:{"aria-haspopup":!0}}),this.delegate("execute").to(this,"open")}render(){super.render(),this.children.add(this.arrowView)}_createArrowView(){const i=new ua;return i.content='<svg viewBox="0 0 10 10" xmlns="http://www.w3.org/2000/svg"><path d="M.941 4.523a.75.75 0 111.06-1.06l3.006 3.005 3.005-3.005a.75.75 0 111.06 1.06l-3.549 3.55a.75.75 0 01-1.168-.136L.941 4.523z"/></svg>',i.extendTemplate({attributes:{class:"ck-dropdown__arrow"}}),i}}P(31);class hp extends Ge{constructor(){super(),this.items=this.createCollection(),this.focusTracker=new sr,this.keystrokes=new wi,this._focusCycler=new ks({focusables:this.items,focusTracker:this.focusTracker,keystrokeHandler:this.keystrokes,actions:{focusPrevious:"arrowup",focusNext:"arrowdown"}}),this.setTemplate({tag:"ul",attributes:{class:["ck","ck-reset","ck-list"]},children:this.items})}render(){super.render();for(const i of this.items)this.focusTracker.add(i.element);this.items.on("add",(i,o)=>{this.focusTracker.add(o.element)}),this.items.on("remove",(i,o)=>{this.focusTracker.remove(o.element)}),this.keystrokes.listenTo(this.element)}focus(){this._focusCycler.focusFirst()}focusLast(){this._focusCycler.focusLast()}}class ui extends Ge{constructor(i){super(i),this.children=this.createCollection(),this.setTemplate({tag:"li",attributes:{class:["ck","ck-list__item"]},children:this.children})}focus(){this.children.first.focus()}}class Gc extends Ge{constructor(i){super(i),this.setTemplate({tag:"li",attributes:{class:["ck","ck-list__separator"]}})}}P(33);class Kc extends Bt{constructor(i){super(i),this.isToggleable=!0,this.toggleSwitchView=this._createToggleView(),this.extendTemplate({attributes:{class:"ck-switchbutton"}})}render(){super.render(),this.children.add(this.toggleSwitchView)}_createToggleView(){const i=new Ge;return i.setTemplate({tag:"span",attributes:{class:["ck","ck-button__toggle"]},children:[{tag:"span",attributes:{class:["ck","ck-button__toggle__inner"]}}]}),i}}function Qc({emitter:c,activator:i,callback:o,contextElements:a}){c.listenTo(document,"mousedown",(d,{target:h})=>{if(i()){for(const p of a)if(p.contains(h))return;o()}})}function yo(c,i=up){const o=new i(c),a=new cC(c),d=new qc(c,o,a);return o.bind("isEnabled").to(d),o instanceof up?o.bind("isOn").to(d,"isOpen"):o.arrowView.bind("isOn").to(d,"isOpen"),(p=h=d).on("render",()=>{Qc({emitter:p,activator:()=>p.isOpen,callback:()=>{p.isOpen=!1},contextElements:[p.element]})}),function(p){p.on("execute",g=>{g.source instanceof Kc||(p.isOpen=!1)})}(h),function(p){p.keystrokes.set("arrowdown",(g,_)=>{p.isOpen&&(p.panelView.focus(),_())}),p.keystrokes.set("arrowup",(g,_)=>{p.isOpen&&(p.panelView.focusLast(),_())})}(h),d;var h,p}function fp(c,i){const o=c.locale,a=o.t,d=c.toolbarView=new Zc(o);d.set("ariaLabel",a("cb")),c.extendTemplate({attributes:{class:["ck-toolbar-dropdown"]}}),i.map(h=>d.items.add(h)),c.panelView.children.add(d),d.items.delegate("execute").to(c)}function Yc(c,i){const o=c.locale,a=c.listView=new hp(o);a.items.bindTo(i).using(({type:d,model:h})=>{if("separator"===d)return new Gc(o);if("button"===d||"switchbutton"===d){const p=new ui(o);let g;return g="button"===d?new Bt(o):new Kc(o),g.bind(...Object.keys(h)).to(h),g.delegate("execute").to(p),p.children.add(g),p}}),c.panelView.children.add(a),a.items.delegate("execute").to(c)}P(35),P(37),P(39);class Zc extends Ge{constructor(i,o){super(i);const a=this.bindTemplate,d=this.t;var h;this.options=o||{},this.set("ariaLabel",d("bx")),this.items=this.createCollection(),this.focusTracker=new sr,this.keystrokes=new wi,this.set("class"),this.set("isCompact",!1),this.itemsView=new uC(i),this.children=this.createCollection(),this.children.add(this.itemsView),this.focusables=this.createCollection(),this._focusCycler=new ks({focusables:this.focusables,focusTracker:this.focusTracker,keystrokeHandler:this.keystrokes,actions:{focusPrevious:["arrowleft","arrowup"],focusNext:["arrowright","arrowdown"]}}),this.setTemplate({tag:"div",attributes:{class:["ck","ck-toolbar",a.to("class"),a.if("isCompact","ck-toolbar_compact")],role:"toolbar","aria-label":a.to("ariaLabel")},children:this.children,on:{mousedown:(h=this,h.bindTemplate.to(p=>{p.target===h.element&&p.preventDefault()}))}}),this._behavior=this.options.shouldGroupWhenFull?new hC(this):new mb(this)}render(){super.render();for(const i of this.items)this.focusTracker.add(i.element);this.items.on("add",(i,o)=>{this.focusTracker.add(o.element)}),this.items.on("remove",(i,o)=>{this.focusTracker.remove(o.element)}),this.keystrokes.listenTo(this.element),this._behavior.render(this)}destroy(){return this._behavior.destroy(),super.destroy()}focus(){this._focusCycler.focusFirst()}focusLast(){this._focusCycler.focusLast()}fillFromConfig(i,o){i.map(a=>{"|"==a?this.items.add(new cp):o.has(a)?this.items.add(o.create(a)):console.warn(Object(z.a)("toolbarview-item-unavailable: The requested toolbar item is unavailable."),{name:a})})}}class uC extends Ge{constructor(i){super(i),this.children=this.createCollection(),this.setTemplate({tag:"div",attributes:{class:["ck","ck-toolbar__items"]},children:this.children})}}class mb{constructor(i){const o=i.bindTemplate;i.set("isVertical",!1),i.itemsView.children.bindTo(i.items).using(a=>a),i.focusables.bindTo(i.items).using(a=>a),i.extendTemplate({attributes:{class:[o.if("isVertical","ck-toolbar_vertical")]}})}render(){}destroy(){}}class hC{constructor(i){this.viewChildren=i.children,this.viewFocusables=i.focusables,this.viewItemsView=i.itemsView,this.viewFocusTracker=i.focusTracker,this.viewLocale=i.locale,this.ungroupedItems=i.createCollection(),this.groupedItems=i.createCollection(),this.groupedItemsDropdown=this._createGroupedItemsDropdown(),this.resizeObserver=null,this.cachedPadding=null,i.itemsView.children.bindTo(this.ungroupedItems).using(o=>o),this.ungroupedItems.on("add",this._updateFocusCycleableItems.bind(this)),this.ungroupedItems.on("remove",this._updateFocusCycleableItems.bind(this)),i.children.on("add",this._updateFocusCycleableItems.bind(this)),i.children.on("remove",this._updateFocusCycleableItems.bind(this)),i.items.on("add",(o,a,d)=>{d>this.ungroupedItems.length?this.groupedItems.add(a,d-this.ungroupedItems.length):this.ungroupedItems.add(a,d),this._updateGrouping()}),i.items.on("remove",(o,a,d)=>{d>this.ungroupedItems.length?this.groupedItems.remove(a):this.ungroupedItems.remove(a),this._updateGrouping()}),i.extendTemplate({attributes:{class:["ck-toolbar_grouping"]}})}render(i){this.viewElement=i.element,this._enableGroupingOnResize()}destroy(){this.groupedItemsDropdown.destroy(),this.resizeObserver.destroy()}_updateGrouping(){if(!this.viewElement.ownerDocument.body.contains(this.viewElement))return;let i;for(;this._areItemsOverflowing;)this._groupLastItem(),i=!0;if(!i&&this.groupedItems.length){for(;this.groupedItems.length&&!this._areItemsOverflowing;)this._ungroupFirstItem();this._areItemsOverflowing&&this._groupLastItem()}}get _areItemsOverflowing(){if(!this.ungroupedItems.length)return!1;const i=this.viewElement,o=this.viewLocale.uiLanguageDirection,a=new Ut(i.lastChild),d=new Ut(i);if(!this.cachedPadding){const h=Mt.window.getComputedStyle(i);this.cachedPadding=Number.parseInt(h["ltr"===o?"paddingRight":"paddingLeft"])}return"ltr"===o?a.right>d.right-this.cachedPadding:a.left<d.left+this.cachedPadding}_enableGroupingOnResize(){let i;this.resizeObserver=new hn(this.viewElement,o=>{i&&i===o.contentRect.width||(this._updateGrouping(),i=o.contentRect.width)}),this._updateGrouping()}_groupLastItem(){this.groupedItems.length||(this.viewChildren.add(new cp),this.viewChildren.add(this.groupedItemsDropdown),this.viewFocusTracker.add(this.groupedItemsDropdown.element)),this.groupedItems.add(this.ungroupedItems.remove(this.ungroupedItems.last),0)}_ungroupFirstItem(){this.ungroupedItems.add(this.groupedItems.remove(this.groupedItems.first)),this.groupedItems.length||(this.viewChildren.remove(this.groupedItemsDropdown),this.viewChildren.remove(this.viewChildren.last),this.viewFocusTracker.remove(this.groupedItemsDropdown.element))}_createGroupedItemsDropdown(){const i=this.viewLocale,o=i.t,a=yo(i);return a.class="ck-toolbar__grouped-dropdown",a.panelPosition="ltr"===i.uiLanguageDirection?"sw":"se",fp(a,[]),a.buttonView.set({label:o("by"),tooltip:!0,icon:'<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><circle cx="9.5" cy="4.5" r="1.5"/><circle cx="9.5" cy="10.5" r="1.5"/><circle cx="9.5" cy="16.5" r="1.5"/></svg>'}),a.toolbarView.items.bindTo(this.groupedItems).using(d=>d),a}_updateFocusCycleableItems(){this.viewFocusables.clear(),this.ungroupedItems.map(i=>{this.viewFocusables.add(i)}),this.groupedItems.length&&this.viewFocusables.add(this.groupedItemsDropdown)}}P(41);class fC extends Uu{constructor(i,o,a={}){super(i),this.stickyPanel=new hb(i),this.toolbar=new Zc(i,{shouldGroupWhenFull:a.shouldToolbarGroupWhenFull}),this.editable=new ap(i,o)}render(){super.render(),this.stickyPanel.content.add(this.toolbar),this.top.add(this.stickyPanel),this.main.add(this.editable)}}class Xc extends nb{constructor(i,o){super(o),Po(i)&&(this.sourceElement=i),this.data.processor=new Wi,this.model.document.createRoot();const a=!this.config.get("toolbar.shouldNotGroupWhenFull"),d=new fC(this.locale,this.editing.view,{shouldToolbarGroupWhenFull:a});this.ui=new nC(this,d),function(h){if(!ts(h.updateSourceElement))throw new z.b("attachtoform-missing-elementapi-interface: Editor passed to attachToForm() must implement ElementApi.",h);const p=h.sourceElement;if(p&&"textarea"===p.tagName.toLowerCase()&&p.form){let g;const _=p.form,v=()=>h.updateSourceElement();ts(_.submit)&&(g=_.submit,_.submit=()=>{v(),g.apply(_)}),_.addEventListener("submit",v),h.on("destroy",()=>{_.removeEventListener("submit",v),g&&(_.submit=g)})}}(this)}destroy(){return this.sourceElement&&this.updateSourceElement(),this.ui.destroy(),super.destroy()}static create(i,o={}){return new Promise(a=>{const d=new this(i,o);a(d.initPlugins().then(()=>d.ui.init(Po(i)?i:null)).then(()=>{if(!Po(i)&&o.initialData)throw new z.b("editor-create-initial-data: The config.initialData option cannot be used together with initial data passed in Editor.create().",null);const h=o.initialData||(Po(p=i)?(g=p)instanceof HTMLTextAreaElement?g.value:g.innerHTML:p);var p,g;return d.data.init(h)}).then(()=>d.fire("ready")).then(()=>d))})}}Be(Xc,Zk),Be(Xc,Xk);class le{constructor(i){this.editor=i,this.set("isEnabled",!0),this._disableStack=new Set}forceDisabled(i){this._disableStack.add(i),1==this._disableStack.size&&(this.on("set:isEnabled",gb,{priority:"highest"}),this.isEnabled=!1)}clearForceDisabled(i){this._disableStack.delete(i),0==this._disableStack.size&&(this.off("set:isEnabled",gb),this.isEnabled=!0)}destroy(){this.stopListening()}static get isContextPlugin(){return!1}}function gb(c){c.return=!1,c.stop()}Be(le,tn);class pp{constructor(i){this.files=function(o){const a=o.files?Array.from(o.files):[],d=o.items?Array.from(o.items):[];return a.length?a:d.filter(h=>"file"===h.kind).map(h=>h.getAsFile())}(i),this._native=i}get types(){return this._native.types}getData(i){return this._native.getData(i)}setData(i,o){this._native.setData(i,o)}}class pC extends ho{constructor(i){super(i);const o=this.document;function a(d,h){h.preventDefault();const p=h.dropRange?[h.dropRange]:Array.from(o.selection.getRanges()),g=new zi(o,"clipboardInput");o.fire(g,{dataTransfer:h.dataTransfer,targetRanges:p}),g.stop.called&&h.stopPropagation()}this.domEventType=["paste","copy","cut","drop","dragover"],this.listenTo(o,"paste",a,{priority:"low"}),this.listenTo(o,"drop",a,{priority:"low"})}onDomEvent(i){const o={dataTransfer:new pp(i.clipboardData?i.clipboardData:i.dataTransfer)};"drop"==i.type&&(o.dropRange=function(a,d){const h=d.target.ownerDocument,p=d.clientX,g=d.clientY;let _;return h.caretRangeFromPoint&&h.caretRangeFromPoint(p,g)?_=h.caretRangeFromPoint(p,g):d.rangeParent&&(_=h.createRange(),_.setStart(d.rangeParent,d.rangeOffset),_.collapse(!0)),_?a.domConverter.domRangeToView(_):a.document.selection.getFirstRange()}(this.view,i)),this.fire(i.type,i,o)}}const _b=["figcaption","li"];class qr extends le{static get pluginName(){return"Clipboard"}init(){const i=this.editor,o=i.model.document,a=i.editing.view,d=a.document;function h(p,g){const _=g.dataTransfer;g.preventDefault();const v=i.data.toView(i.model.getSelectedContent(o.selection));d.fire("clipboardOutput",{dataTransfer:_,content:v,method:p.name})}this._htmlDataProcessor=new Wi,a.addObserver(pC),this.listenTo(d,"clipboardInput",p=>{i.isReadOnly&&p.stop()},{priority:"highest"}),this.listenTo(d,"clipboardInput",(p,g)=>{const _=g.dataTransfer;let v="";var y;_.getData("text/html")?v=_.getData("text/html").replace(/<span(?: class="Apple-converted-space"|)>(\s+)<\/span>/g,(T,D)=>1==D.length?" ":D):_.getData("text/plain")&&((y=(y=_.getData("text/plain")).replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/\n/g,"</p><p>").replace(/^\s/,"&nbsp;").replace(/\s$/,"&nbsp;").replace(/\s\s/g," &nbsp;")).indexOf("</p><p>")>-1&&(y=`<p>${y}</p>`),v=y),v=this._htmlDataProcessor.toView(v),this.fire("inputTransformation",{content:v,dataTransfer:_}),a.scrollToTheSelection()},{priority:"low"}),this.listenTo(this,"inputTransformation",(p,g)=>{if(!g.content.isEmpty){const v=this.editor.model,y=this.editor.data.toModel(g.content,"$clipboardHolder");if(0==y.childCount)return;v.insertContent(y)}},{priority:"low"}),this.listenTo(d,"copy",h,{priority:"low"}),this.listenTo(d,"cut",(p,g)=>{i.isReadOnly?g.preventDefault():h(p,g)},{priority:"low"}),this.listenTo(d,"clipboardOutput",(p,g)=>{g.content.isEmpty||(g.dataTransfer.setData("text/html",this._htmlDataProcessor.toData(g.content)),g.dataTransfer.setData("text/plain",function _(v){let y="";if(v.is("text")||v.is("textProxy"))y=v.data;else if(v.is("img")&&v.hasAttribute("alt"))y=v.getAttribute("alt");else{let k=null;for(const T of v.getChildren()){const D=_(T);k&&(k.is("containerElement")||T.is("containerElement"))&&(_b.includes(k.name)||_b.includes(T.name)?y+="\n":y+="\n\n"),y+=D,k=T}}return y}(g.content))),"cut"==g.method&&i.model.deleteContent(o.selection)},{priority:"low"})}}class At{constructor(i){this.editor=i,this.set("value",void 0),this.set("isEnabled",!1),this._disableStack=new Set,this.decorate("execute"),this.listenTo(this.editor.model.document,"change",()=>{this.refresh()}),this.on("execute",o=>{this.isEnabled||o.stop()},{priority:"high"}),this.listenTo(i,"change:isReadOnly",(o,a,d)=>{d?this.forceDisabled("readOnlyMode"):this.clearForceDisabled("readOnlyMode")})}refresh(){this.isEnabled=!0}forceDisabled(i){this._disableStack.add(i),1==this._disableStack.size&&(this.on("set:isEnabled",bb,{priority:"highest"}),this.isEnabled=!1)}clearForceDisabled(i){this._disableStack.delete(i),0==this._disableStack.size&&(this.off("set:isEnabled",bb),this.refresh())}execute(){}destroy(){this.stopListening()}}function bb(c){c.return=!1,c.stop()}function*vb(c,i){for(const o of i)o&&c.getAttributeProperties(o[0]).copyOnEnter&&(yield o)}Be(At,tn);class mC extends At{execute(){const i=this.editor.model,o=i.document;i.change(a=>{(function(d,h,p,g){const _=p.isCollapsed,v=p.getFirstRange(),y=v.start.parent,k=v.end.parent;if(g.isLimit(y)||g.isLimit(k))_||y!=k||d.deleteContent(p);else if(_){const T=vb(h.model.schema,p.getAttributes());yb(h,v.start),h.setSelectionAttribute(T)}else{const T=!(v.start.isAtStart&&v.end.isAtEnd),D=y==k;d.deleteContent(p,{leaveUnmerged:T}),T&&(D?yb(h,p.focus):h.setSelection(k,0))}})(this.editor.model,a,o.selection,i.schema),this.fire("afterExecute",{writer:a})})}}function yb(c,i){c.split(i),c.setSelection(i.parent.nextSibling,0)}class mp extends uo{constructor(i){super(i);const o=this.document;o.on("keydown",(a,d)=>{if(this.isEnabled&&d.keyCode==ct.enter){let h;o.once("enter",p=>h=p,{priority:"highest"}),o.fire("enter",new ll(o,d.domEvent,{isSoft:d.shiftKey})),h&&h.stop.called&&a.stop()}})}observe(){}}class gC extends le{static get pluginName(){return"Enter"}init(){const i=this.editor,o=i.editing.view,a=o.document;o.addObserver(mp),i.commands.add("enter",new mC(i)),this.listenTo(a,"enter",(d,h)=>{h.preventDefault(),h.isSoft||(i.execute("enter"),o.scrollToTheSelection())},{priority:"low"})}}class _C extends At{execute(){const i=this.editor.model,o=i.document;i.change(a=>{(function(d,h,p){const g=p.isCollapsed,_=p.getFirstRange(),y=_.end.parent,k=_.start.parent==y;if(g){const T=vb(d.schema,p.getAttributes());wb(d,h,_.end),h.removeSelectionAttribute(p.getAttributeKeys()),h.setSelectionAttribute(T)}else{const T=!(_.start.isAtStart&&_.end.isAtEnd);d.deleteContent(p,{leaveUnmerged:T}),k?wb(d,h,p.focus):T&&h.setSelection(y,0)}})(i,a,o.selection),this.fire("afterExecute",{writer:a})})}refresh(){const i=this.editor.model;this.isEnabled=function(a,d){if(d.rangeCount>1)return!1;const h=d.anchor;if(!h||!a.checkChild(h,"softBreak"))return!1;const p=d.getFirstRange(),g=p.start.parent,_=p.end.parent;return!((gp(g,a)||gp(_,a))&&g!==_)}(i.schema,i.document.selection)}}function wb(c,i,o){const a=i.createElement("softBreak");c.insertContent(a,o),i.setSelection(a,"after")}function gp(c,i){return!c.is("rootElement")&&(i.isLimit(c)||gp(c.parent,i))}class bC extends le{static get pluginName(){return"ShiftEnter"}init(){const i=this.editor,a=i.conversion,d=i.editing.view,h=d.document;i.model.schema.register("softBreak",{allowWhere:"$text",isInline:!0}),a.for("upcast").elementToElement({model:"softBreak",view:"br"}),a.for("downcast").elementToElement({model:"softBreak",view:(p,g)=>g.createEmptyElement("br")}),d.addObserver(mp),i.commands.add("shiftEnter",new _C(i)),this.listenTo(h,"enter",(p,g)=>{g.preventDefault(),g.isSoft&&(i.execute("shiftEnter"),d.scrollToTheSelection())},{priority:"low"})}}class kb{constructor(i,o=20){this.model=i,this.size=0,this.limit=o,this.isLocked=!1,this._changeCallback=(a,d)=>{"transparent"!=d.type&&d!==this._batch&&this._reset(!0)},this._selectionChangeCallback=()=>{this._reset()},this.model.document.on("change",this._changeCallback),this.model.document.selection.on("change:range",this._selectionChangeCallback),this.model.document.selection.on("change:attribute",this._selectionChangeCallback)}get batch(){return this._batch||(this._batch=this.model.createBatch()),this._batch}input(i){this.size+=i,this.size>=this.limit&&this._reset(!0)}lock(){this.isLocked=!0}unlock(){this.isLocked=!1}destroy(){this.model.document.off("change",this._changeCallback),this.model.document.selection.off("change:range",this._selectionChangeCallback),this.model.document.selection.off("change:attribute",this._selectionChangeCallback)}_reset(i){this.isLocked&&!i||(this._batch=null,this.size=0)}}class vC extends At{constructor(i,o){super(i),this._buffer=new kb(i.model,o),this._batches=new WeakSet}get buffer(){return this._buffer}destroy(){super.destroy(),this._buffer.destroy()}execute(i={}){const o=this.editor.model,a=o.document,d=i.text||"",h=d.length,p=i.range||a.selection.getFirstRange(),g=i.resultRange;o.enqueueChange(this._buffer.batch,_=>{const v=p.isCollapsed;this._buffer.lock(),o.deleteContent(o.createSelection(p)),d&&o.insertContent(_.createText(d,a.selection.getAttributes()),p.start),g?_.setSelection(g):v&&_.setSelection(p.start.getShiftedBy(h)),this._buffer.unlock(),this._buffer.input(h),this._batches.add(this._buffer.batch)})}}function yC(c){let i=null;const o=c.model,a=c.editing.view,d=c.commands.get("input");function p(){const g=d.buffer;g.lock(),o.enqueueChange(g.batch,()=>{o.deleteContent(o.document.selection)}),g.unlock()}a.document.on(yi_isAndroid?"beforeinput":"keydown",(g,_)=>function h(g){const _=o.document,v=a.document.isComposing,y=i&&i.isEqual(_.selection);var k;i=null,d.isEnabled&&((k=g).ctrlKey||ha.includes(k.keyCode)||_.selection.isCollapsed||v&&229===g.keyCode||!v&&229===g.keyCode&&y||p())}(_),{priority:"lowest"}),a.document.on("compositionstart",function(){const g=o.document,_=1!==g.selection.rangeCount||g.selection.getFirstRange().isFlat;g.selection.isCollapsed||_||p()},{priority:"lowest"}),a.document.on("compositionend",()=>{i=o.createSelection(o.document.selection)},{priority:"lowest"})}const ha=[Bo("arrowUp"),Bo("arrowRight"),Bo("arrowDown"),Bo("arrowLeft"),9,16,17,18,19,20,27,33,34,35,36,45,91,93,144,145,173,174,175,176,177,178,179,255];for(let c=112;c<=135;c++)ha.push(c);function Gr(c){if(c.newChildren.length-c.oldChildren.length!=1)return;const i=function(a,d){const h=[];let p,g=0;return a.forEach(y=>{"equal"==y?(_(),g++):"insert"==y?(v("insert")?p.values.push(d[g]):(_(),p={type:"insert",index:g,values:[d[g]]}),g++):v("delete")?p.howMany++:(_(),p={type:"delete",index:g,howMany:1})}),_(),h;function _(){p&&(h.push(p),p=null)}function v(y){return p&&p.type==y}}(wr(c.oldChildren,c.newChildren,hD),c.newChildren);if(i.length>1)return;const o=i[0];return o.values[0]&&o.values[0].is("text")?o:void 0}function hD(c,i){return c&&c.is("text")&&i&&i.is("text")?c.data===i.data:c===i}class fD{constructor(i){this.editor=i,this.editing=this.editor.editing}handle(i,o){if(function(a){if(0==a.length)return!1;for(const d of a)if("children"===d.type&&!Gr(d))return!0;return!1}(i))this._handleContainerChildrenMutations(i,o);else for(const a of i)this._handleTextMutation(a,o),this._handleTextNodeInsertion(a)}_handleContainerChildrenMutations(i,o){const a=function(Ci){const bh=Ci.map(Rs=>Rs.node).reduce((Rs,Hm)=>Rs.getCommonAncestor(Hm,{includeSelf:!0}));if(bh)return bh.getAncestors({includeSelf:!0,parentFirst:!0}).find(Rs=>Rs.is("containerElement")||Rs.is("rootElement"))}(i);if(!a)return;const d=this.editor.editing.view.domConverter.mapViewToDom(a),h=new kr,p=this.editor.data.toModel(h.domToView(d)).getChild(0),g=this.editor.editing.mapper.toModelElement(a);if(!g)return;const _=Array.from(p.getChildren()),v=Array.from(g.getChildren()),y=_[_.length-1],k=v[v.length-1];y&&y.is("softBreak")&&k&&!k.is("softBreak")&&_.pop();const T=this.editor.model.schema;if(!_p(_,T)||!_p(v,T))return;const D=_.map(Ci=>Ci.is("text")?Ci.data:"@").join("").replace(/\u00A0/g," "),R=v.map(Ci=>Ci.is("text")?Ci.data:"@").join("").replace(/\u00A0/g," ");if(R===D)return;const F=wr(R,D),{firstChangeAt:$,insertions:J,deletions:ae}=wC(F);let _e=null;o&&(_e=this.editing.mapper.toModelRange(o.getFirstRange()));const ut=D.substr($,J),On=this.editor.model.createRange(this.editor.model.createPositionAt(g,$),this.editor.model.createPositionAt(g,$+ae));this.editor.execute("input",{text:ut,range:On,resultRange:_e})}_handleTextMutation(i,o){if("text"!=i.type)return;const a=i.newText.replace(/\u00A0/g," "),d=i.oldText.replace(/\u00A0/g," ");if(d===a)return;const h=wr(d,a),{firstChangeAt:p,insertions:g,deletions:_}=wC(h);let v=null;o&&(v=this.editing.mapper.toModelRange(o.getFirstRange()));const y=this.editing.view.createPositionAt(i.node,p),k=this.editing.mapper.toModelPosition(y),T=this.editor.model.createRange(k,k.getShiftedBy(_)),D=a.substr(p,g);this.editor.execute("input",{text:D,range:T,resultRange:v})}_handleTextNodeInsertion(i){if("children"!=i.type)return;const o=Gr(i),a=this.editing.view.createPositionAt(i.node,o.index),d=this.editing.mapper.toModelPosition(a);this.editor.execute("input",{text:o.values[0].data.replace(/\u00A0/g," "),range:this.editor.model.createRange(d)})}}function _p(c,i){return c.every(o=>i.isInline(o))}function wC(c){let i=null,o=null;for(let h=0;h<c.length;h++)"equal"!=c[h]&&(i=null===i?h:i,o=h);let a=0,d=0;for(let h=i;h<=o;h++)"insert"!=c[h]&&a++,"delete"!=c[h]&&d++;return{insertions:d,deletions:a,firstChangeAt:i}}class ar extends le{static get pluginName(){return"Input"}init(){const i=this.editor,o=new vC(i,i.config.get("typing.undoStep")||20);var a;i.commands.add("input",o),yC(i),(a=i).editing.view.document.on("mutations",(d,h,p)=>{new fD(a).handle(h,p)})}isInput(i){return this.editor.commands.get("input")._batches.has(i)}}class $u extends At{constructor(i,o){super(i),this.direction=o,this._buffer=new kb(i.model,i.config.get("typing.undoStep"))}get buffer(){return this._buffer}execute(i={}){const o=this.editor.model,a=o.document;o.enqueueChange(this._buffer.batch,d=>{this._buffer.lock();const h=d.createSelection(i.selection||a.selection),p=h.isCollapsed;if(h.isCollapsed&&o.modifySelection(h,{direction:this.direction,unit:i.unit}),this._shouldEntireContentBeReplacedWithParagraph(i.sequence||1))return void this._replaceEntireContentWithParagraph(d);if(h.isCollapsed)return;let g=0;h.getFirstRange().getMinimalFlatRanges().forEach(_=>{g+=kc(_.getWalker({singleCharacters:!0,ignoreElementEnd:!0,shallow:!0}))}),o.deleteContent(h,{doNotResetEntireContent:p}),this._buffer.input(g),d.setSelection(h),this._buffer.unlock()})}_shouldEntireContentBeReplacedWithParagraph(i){if(i>1)return!1;const o=this.editor.model,a=o.document.selection,d=o.schema.getLimitElement(a);if(!a.isCollapsed||!a.containsEntireContent(d)||!o.schema.checkChild(d,"paragraph"))return!1;const h=d.getChild(0);return!h||"paragraph"!==h.name}_replaceEntireContentWithParagraph(i){const o=this.editor.model,d=o.schema.getLimitElement(o.document.selection),h=i.createElement("paragraph");i.remove(i.createRangeIn(d)),i.insert(h,d),i.setSelection(h,0)}}class bp extends uo{constructor(i){super(i);const o=i.document;let a=0;function d(h,p,g){let _;o.once("delete",v=>_=v,{priority:Number.POSITIVE_INFINITY}),o.fire("delete",new ll(o,p,g)),_&&_.stop.called&&h.stop()}o.on("keyup",(h,p)=>{p.keyCode!=ct.delete&&p.keyCode!=ct.backspace||(a=0)}),o.on("keydown",(h,p)=>{const g={};if(p.keyCode==ct.delete)g.direction="forward",g.unit="character";else{if(p.keyCode!=ct.backspace)return;g.direction="backward",g.unit="codePoint"}g.unit=(yi_isMac?p.altKey:p.ctrlKey)?"word":g.unit,g.sequence=++a,d(h,p.domEvent,g)}),yi_isAndroid&&o.on("beforeinput",(h,p)=>{if("deleteContentBackward"!=p.domEvent.inputType)return;const g={unit:"codepoint",direction:"backward",sequence:1},_=p.domTarget.ownerDocument.defaultView.getSelection();_.anchorNode==_.focusNode&&_.anchorOffset+1!=_.focusOffset&&(g.selectionToRemove=i.domConverter.domSelectionToView(_)),d(h,p.domEvent,g)})}observe(){}}class kC extends le{static get pluginName(){return"Delete"}init(){const i=this.editor,o=i.editing.view,a=o.document;if(o.addObserver(bp),i.commands.add("forwardDelete",new $u(i,"forward")),i.commands.add("delete",new $u(i,"backward")),this.listenTo(a,"delete",(d,h)=>{const p={unit:h.unit,sequence:h.sequence};if(h.selectionToRemove){const g=i.model.createSelection(),_=[];for(const v of h.selectionToRemove.getRanges())_.push(i.editing.mapper.toModelRange(v));g.setTo(_),p.selection=g}i.execute("forward"==h.direction?"forwardDelete":"delete",p),h.preventDefault(),o.scrollToTheSelection()}),yi_isAndroid){let d=null;this.listenTo(a,"delete",(h,p)=>{const g=p.domTarget.ownerDocument.defaultView.getSelection();d={anchorNode:g.anchorNode,anchorOffset:g.anchorOffset,focusNode:g.focusNode,focusOffset:g.focusOffset}},{priority:"lowest"}),this.listenTo(a,"keyup",(h,p)=>{if(d){const g=p.domTarget.ownerDocument.defaultView.getSelection();g.collapse(d.anchorNode,d.anchorOffset),g.extend(d.focusNode,d.focusOffset),d=null}})}}}class Cb extends le{static get requires(){return[ar,kC]}static get pluginName(){return"Typing"}}const fa=new Map;function It(c,i,o){let a=fa.get(c);a||(a=new Map,fa.set(c,a)),a.set(i,o)}function xb(c){return[c]}function Wu(c,i,o={}){const a=function(d,h){const p=fa.get(d);return p&&p.has(h)?p.get(h):xb}(c.constructor,i.constructor);try{return a(c=c.clone(),i,o)}catch(d){throw d}}function vp(c,i,o){c=c.slice(),i=i.slice();const a=new Tb(o.document,o.useRelations,o.forceWeakRemove);a.setOriginalOperations(c),a.setOriginalOperations(i);const d=a.originalOperations;if(0==c.length||0==i.length)return{operationsA:c,operationsB:i,originalOperations:d};const h=new WeakMap;for(const _ of c)h.set(_,0);const p={nextBaseVersionA:c[c.length-1].baseVersion+1,nextBaseVersionB:i[i.length-1].baseVersion+1,originalOperationsACount:c.length,originalOperationsBCount:i.length};let g=0;for(;g<c.length;){const _=c[g],v=h.get(_);if(v==i.length){g++;continue}const y=i[v],k=Wu(_,y,a.getContext(_,y,!0)),T=Wu(y,_,a.getContext(y,_,!1));a.updateRelation(_,y),a.setOriginalOperations(k,_),a.setOriginalOperations(T,y);for(const D of k)h.set(D,v+T.length);c.splice(g,1,...k),i.splice(v,1,...T)}if(o.padWithNoOps){const _=c.length-p.originalOperationsACount,v=i.length-p.originalOperationsBCount;pa(c,v-_),pa(i,_-v)}return CC(c,p.nextBaseVersionB),CC(i,p.nextBaseVersionA),{operationsA:c,operationsB:i,originalOperations:d}}class Tb{constructor(i,o,a=!1){this.originalOperations=new Map,this._history=i.history,this._useRelations=o,this._forceWeakRemove=!!a,this._relations=new Map}setOriginalOperations(i,o=null){const a=o?this.originalOperations.get(o):null;for(const d of i)this.originalOperations.set(d,a||d)}updateRelation(i,o){switch(i.constructor){case Gt:switch(o.constructor){case Rn:i.targetPosition.isEqual(o.sourcePosition)||o.movedRange.containsPosition(i.targetPosition)?this._setRelation(i,o,"insertAtSource"):i.targetPosition.isEqual(o.deletionPosition)?this._setRelation(i,o,"insertBetween"):i.targetPosition.isAfter(o.sourcePosition)&&this._setRelation(i,o,"moveTargetAfter");break;case Gt:i.targetPosition.isEqual(o.sourcePosition)||i.targetPosition.isBefore(o.sourcePosition)?this._setRelation(i,o,"insertBefore"):this._setRelation(i,o,"insertAfter")}break;case Lt:switch(o.constructor){case Rn:i.splitPosition.isBefore(o.sourcePosition)&&this._setRelation(i,o,"splitBefore");break;case Gt:(i.splitPosition.isEqual(o.sourcePosition)||i.splitPosition.isBefore(o.sourcePosition))&&this._setRelation(i,o,"splitBefore")}break;case Rn:switch(o.constructor){case Rn:i.targetPosition.isEqual(o.sourcePosition)||this._setRelation(i,o,"mergeTargetNotMoved"),i.sourcePosition.isEqual(o.targetPosition)&&this._setRelation(i,o,"mergeSourceNotMoved"),i.sourcePosition.isEqual(o.sourcePosition)&&this._setRelation(i,o,"mergeSameElement");break;case Lt:i.sourcePosition.isEqual(o.splitPosition)&&this._setRelation(i,o,"splitAtSource")}break;case Ri:{const a=i.newRange;if(!a)return;switch(o.constructor){case Gt:{const d=Z._createFromPositionAndShift(o.sourcePosition,o.howMany),h=d.containsPosition(a.start)||d.start.isEqual(a.start),p=d.containsPosition(a.end)||d.end.isEqual(a.end);!h&&!p||d.containsRange(a)||this._setRelation(i,o,{side:h?"left":"right",path:h?a.start.path.slice():a.end.path.slice()});break}case Rn:{const d=a.start.isEqual(o.targetPosition),h=a.start.isEqual(o.deletionPosition),p=a.end.isEqual(o.deletionPosition),g=a.end.isEqual(o.sourcePosition);(d||h||p||g)&&this._setRelation(i,o,{wasInLeftElement:d,wasStartBeforeMergedElement:h,wasEndBeforeMergedElement:p,wasInRightElement:g});break}}break}}}getContext(i,o,a){return{aIsStrong:a,aWasUndone:this._wasUndone(i),bWasUndone:this._wasUndone(o),abRelation:this._useRelations?this._getRelation(i,o):null,baRelation:this._useRelations?this._getRelation(o,i):null,forceWeakRemove:this._forceWeakRemove}}_wasUndone(i){const o=this.originalOperations.get(i);return o.wasUndone||this._history.isUndoneOperation(o)}_getRelation(i,o){const a=this.originalOperations.get(o),d=this._history.getUndoneOperation(a);if(!d)return null;const h=this.originalOperations.get(i),p=this._relations.get(h);return p&&p.get(d)||null}_setRelation(i,o,a){const d=this.originalOperations.get(i),h=this.originalOperations.get(o);let p=this._relations.get(d);p||(p=new Map,this._relations.set(d,p)),p.set(h,a)}}function CC(c,i){for(const o of c)o.baseVersion=i++}function pa(c,i){for(let o=0;o<i;o++)c.push(new Xn(0))}function qu(c,i,o){const a=c.nodes.getNode(0).getAttribute(i);if(a==o)return null;const d=new Z(c.position,c.position.getShiftedBy(c.howMany));return new Pn(d,i,a,o,0)}function yp(c,i){return null===c.targetPosition._getTransformedByDeletion(i.sourcePosition,i.howMany)}function wl(c,i){const o=[];for(let a=0;a<c.length;a++){const d=c[a],h=new Gt(d.start,d.end.offset-d.start.offset,i,0);o.push(h);for(let p=a+1;p<c.length;p++)c[p]=c[p]._getTransformedByMove(h.sourcePosition,h.targetPosition,h.howMany)[0];i=i._getTransformedByMove(h.sourcePosition,h.targetPosition,h.howMany)}return o}It(Pn,Pn,(c,i,o)=>{if(c.key===i.key){const a=c.range.getDifference(i.range).map(h=>new Pn(h,c.key,c.oldValue,c.newValue,0)),d=c.range.getIntersection(i.range);return d&&o.aIsStrong&&a.push(new Pn(d,i.key,i.newValue,c.newValue,0)),0==a.length?[new Xn(0)]:a}return[c]}),It(Pn,Sn,(c,i)=>{if(c.range.start.hasSameParentAs(i.position)&&c.range.containsPosition(i.position)){const o=c.range._getTransformedByInsertion(i.position,i.howMany,!i.shouldReceiveAttributes).map(a=>new Pn(a,c.key,c.oldValue,c.newValue,c.baseVersion));if(i.shouldReceiveAttributes){const a=qu(i,c.key,c.oldValue);a&&o.unshift(a)}return o}return c.range=c.range._getTransformedByInsertion(i.position,i.howMany,!1)[0],[c]}),It(Pn,Rn,(c,i)=>{const o=[];c.range.start.hasSameParentAs(i.deletionPosition)&&(c.range.containsPosition(i.deletionPosition)||c.range.start.isEqual(i.deletionPosition))&&o.push(Z._createFromPositionAndShift(i.graveyardPosition,1));const a=c.range._getTransformedByMergeOperation(i);return a.isCollapsed||o.push(a),o.map(d=>new Pn(d,c.key,c.oldValue,c.newValue,c.baseVersion))}),It(Pn,Gt,(c,i)=>function(o,a){const d=Z._createFromPositionAndShift(a.sourcePosition,a.howMany);let h=null,p=[];d.containsRange(o,!0)?h=o:o.start.hasSameParentAs(d.start)?(p=o.getDifference(d),h=o.getIntersection(d)):p=[o];const g=[];for(let _ of p){_=_._getTransformedByDeletion(a.sourcePosition,a.howMany);const v=a.getMovedRangeStart(),y=_.start.hasSameParentAs(v);_=_._getTransformedByInsertion(v,a.howMany,y),g.push(..._)}return h&&g.push(h._getTransformedByMove(a.sourcePosition,a.targetPosition,a.howMany,!1)[0]),g}(c.range,i).map(o=>new Pn(o,c.key,c.oldValue,c.newValue,c.baseVersion))),It(Pn,Lt,(c,i)=>{if(c.range.end.isEqual(i.insertionPosition))return i.graveyardPosition||c.range.end.offset++,[c];if(c.range.start.hasSameParentAs(i.splitPosition)&&c.range.containsPosition(i.splitPosition)){const o=c.clone();return o.range=new Z(i.moveTargetPosition.clone(),c.range.end._getCombined(i.splitPosition,i.moveTargetPosition)),c.range.end=i.splitPosition.clone(),c.range.end.stickiness="toPrevious",[c,o]}return c.range=c.range._getTransformedBySplitOperation(i),[c]}),It(Sn,Pn,(c,i)=>{const o=[c];if(c.shouldReceiveAttributes&&c.position.hasSameParentAs(i.range.start)&&i.range.containsPosition(c.position)){const a=qu(c,i.key,i.newValue);a&&o.push(a)}return o}),It(Sn,Sn,(c,i,o)=>(c.position.isEqual(i.position)&&o.aIsStrong||(c.position=c.position._getTransformedByInsertOperation(i)),[c])),It(Sn,Gt,(c,i)=>(c.position=c.position._getTransformedByMoveOperation(i),[c])),It(Sn,Lt,(c,i)=>(c.position=c.position._getTransformedBySplitOperation(i),[c])),It(Sn,Rn,(c,i)=>(c.position=c.position._getTransformedByMergeOperation(i),[c])),It(Ri,Sn,(c,i)=>(c.oldRange&&(c.oldRange=c.oldRange._getTransformedByInsertOperation(i)[0]),c.newRange&&(c.newRange=c.newRange._getTransformedByInsertOperation(i)[0]),[c])),It(Ri,Ri,(c,i,o)=>{if(c.name==i.name){if(!o.aIsStrong)return[new Xn(0)];c.oldRange=i.newRange?i.newRange.clone():null}return[c]}),It(Ri,Rn,(c,i)=>(c.oldRange&&(c.oldRange=c.oldRange._getTransformedByMergeOperation(i)),c.newRange&&(c.newRange=c.newRange._getTransformedByMergeOperation(i)),[c])),It(Ri,Gt,(c,i,o)=>{if(c.oldRange&&(c.oldRange=Z._createFromRanges(c.oldRange._getTransformedByMoveOperation(i))),c.newRange){if(o.abRelation){const a=Z._createFromRanges(c.newRange._getTransformedByMoveOperation(i));if("left"==o.abRelation.side&&i.targetPosition.isEqual(c.newRange.start))return c.newRange.start.path=o.abRelation.path,c.newRange.end=a.end,[c];if("right"==o.abRelation.side&&i.targetPosition.isEqual(c.newRange.end))return c.newRange.start=a.start,c.newRange.end.path=o.abRelation.path,[c]}c.newRange=Z._createFromRanges(c.newRange._getTransformedByMoveOperation(i))}return[c]}),It(Ri,Lt,(c,i,o)=>{if(c.oldRange&&(c.oldRange=c.oldRange._getTransformedBySplitOperation(i)),c.newRange){if(o.abRelation){const a=c.newRange._getTransformedBySplitOperation(i);return c.newRange.start.isEqual(i.splitPosition)&&o.abRelation.wasStartBeforeMergedElement?c.newRange.start=te._createAt(i.insertionPosition):c.newRange.start.isEqual(i.splitPosition)&&!o.abRelation.wasInLeftElement&&(c.newRange.start=te._createAt(i.moveTargetPosition)),c.newRange.end=c.newRange.end.isEqual(i.splitPosition)&&o.abRelation.wasInRightElement?te._createAt(i.moveTargetPosition):c.newRange.end.isEqual(i.splitPosition)&&o.abRelation.wasEndBeforeMergedElement?te._createAt(i.insertionPosition):a.end,[c]}c.newRange=c.newRange._getTransformedBySplitOperation(i)}return[c]}),It(Rn,Sn,(c,i)=>(c.sourcePosition.hasSameParentAs(i.position)&&(c.howMany+=i.howMany),c.sourcePosition=c.sourcePosition._getTransformedByInsertOperation(i),c.targetPosition=c.targetPosition._getTransformedByInsertOperation(i),[c])),It(Rn,Rn,(c,i,o)=>{if(c.sourcePosition.isEqual(i.sourcePosition)&&c.targetPosition.isEqual(i.targetPosition)){if(o.bWasUndone){const a=i.graveyardPosition.path.slice();return a.push(0),c.sourcePosition=new te(i.graveyardPosition.root,a),c.howMany=0,[c]}return[new Xn(0)]}if(c.sourcePosition.isEqual(i.sourcePosition)&&!c.targetPosition.isEqual(i.targetPosition)&&!o.bWasUndone&&"splitAtSource"!=o.abRelation){const a="$graveyard"==c.targetPosition.root.rootName,d="$graveyard"==i.targetPosition.root.rootName;if(d&&!a||(!a||d)&&o.aIsStrong){const p=i.targetPosition._getTransformedByMergeOperation(i),g=c.targetPosition._getTransformedByMergeOperation(i);return[new Gt(p,c.howMany,g,0)]}return[new Xn(0)]}return c.sourcePosition.hasSameParentAs(i.targetPosition)&&(c.howMany+=i.howMany),c.sourcePosition=c.sourcePosition._getTransformedByMergeOperation(i),c.targetPosition=c.targetPosition._getTransformedByMergeOperation(i),c.graveyardPosition.isEqual(i.graveyardPosition)&&o.aIsStrong||(c.graveyardPosition=c.graveyardPosition._getTransformedByMergeOperation(i)),[c]}),It(Rn,Gt,(c,i,o)=>{const a=Z._createFromPositionAndShift(i.sourcePosition,i.howMany);return"remove"==i.type&&!o.bWasUndone&&!o.forceWeakRemove&&c.deletionPosition.hasSameParentAs(i.sourcePosition)&&a.containsPosition(c.sourcePosition)?[new Xn(0)]:(c.sourcePosition.hasSameParentAs(i.targetPosition)&&(c.howMany+=i.howMany),c.sourcePosition.hasSameParentAs(i.sourcePosition)&&(c.howMany-=i.howMany),c.sourcePosition=c.sourcePosition._getTransformedByMoveOperation(i),c.targetPosition=c.targetPosition._getTransformedByMoveOperation(i),c.graveyardPosition.isEqual(i.targetPosition)||(c.graveyardPosition=c.graveyardPosition._getTransformedByMoveOperation(i)),[c])}),It(Rn,Lt,(c,i,o)=>{if(i.graveyardPosition&&(c.graveyardPosition=c.graveyardPosition._getTransformedByDeletion(i.graveyardPosition,1),c.deletionPosition.isEqual(i.graveyardPosition)&&(c.howMany=i.howMany)),c.targetPosition.isEqual(i.splitPosition)){const a=0!=i.howMany,d=i.graveyardPosition&&c.deletionPosition.isEqual(i.graveyardPosition);if(a||d||"mergeTargetNotMoved"==o.abRelation)return c.sourcePosition=c.sourcePosition._getTransformedBySplitOperation(i),[c]}if(c.sourcePosition.isEqual(i.splitPosition)){if("mergeSourceNotMoved"==o.abRelation)return c.howMany=0,c.targetPosition=c.targetPosition._getTransformedBySplitOperation(i),[c];if("mergeSameElement"==o.abRelation||c.sourcePosition.offset>0)return c.sourcePosition=i.moveTargetPosition.clone(),c.targetPosition=c.targetPosition._getTransformedBySplitOperation(i),[c]}return c.sourcePosition.hasSameParentAs(i.splitPosition)&&(c.howMany=i.splitPosition.offset),c.sourcePosition=c.sourcePosition._getTransformedBySplitOperation(i),c.targetPosition=c.targetPosition._getTransformedBySplitOperation(i),[c]}),It(Gt,Sn,(c,i)=>{const o=Z._createFromPositionAndShift(c.sourcePosition,c.howMany)._getTransformedByInsertOperation(i,!1)[0];return c.sourcePosition=o.start,c.howMany=o.end.offset-o.start.offset,c.targetPosition.isEqual(i.position)||(c.targetPosition=c.targetPosition._getTransformedByInsertOperation(i)),[c]}),It(Gt,Gt,(c,i,o)=>{const a=Z._createFromPositionAndShift(c.sourcePosition,c.howMany),d=Z._createFromPositionAndShift(i.sourcePosition,i.howMany);let h,p=o.aIsStrong,g=!o.aIsStrong;if("insertBefore"==o.abRelation||"insertAfter"==o.baRelation?g=!0:"insertAfter"!=o.abRelation&&"insertBefore"!=o.baRelation||(g=!1),h=c.targetPosition.isEqual(i.targetPosition)&&g?c.targetPosition._getTransformedByDeletion(i.sourcePosition,i.howMany):c.targetPosition._getTransformedByMove(i.sourcePosition,i.targetPosition,i.howMany),yp(c,i)&&yp(i,c))return[i.getReversed()];if(a.containsPosition(i.targetPosition)&&a.containsRange(d,!0))return a.start=a.start._getTransformedByMove(i.sourcePosition,i.targetPosition,i.howMany),a.end=a.end._getTransformedByMove(i.sourcePosition,i.targetPosition,i.howMany),wl([a],h);if(d.containsPosition(c.targetPosition)&&d.containsRange(a,!0))return a.start=a.start._getCombined(i.sourcePosition,i.getMovedRangeStart()),a.end=a.end._getCombined(i.sourcePosition,i.getMovedRangeStart()),wl([a],h);const _=_i(c.sourcePosition.getParentPath(),i.sourcePosition.getParentPath());if("prefix"==_||"extension"==_)return a.start=a.start._getTransformedByMove(i.sourcePosition,i.targetPosition,i.howMany),a.end=a.end._getTransformedByMove(i.sourcePosition,i.targetPosition,i.howMany),wl([a],h);"remove"!=c.type||"remove"==i.type||o.aWasUndone||o.forceWeakRemove?"remove"==c.type||"remove"!=i.type||o.bWasUndone||o.forceWeakRemove||(p=!1):p=!0;const v=[],y=a.getDifference(d);for(const T of y){T.start=T.start._getTransformedByDeletion(i.sourcePosition,i.howMany),T.end=T.end._getTransformedByDeletion(i.sourcePosition,i.howMany);const D="same"==_i(T.start.getParentPath(),i.getMovedRangeStart().getParentPath()),R=T._getTransformedByInsertion(i.getMovedRangeStart(),i.howMany,D);v.push(...R)}const k=a.getIntersection(d);return null!==k&&p&&(k.start=k.start._getCombined(i.sourcePosition,i.getMovedRangeStart()),k.end=k.end._getCombined(i.sourcePosition,i.getMovedRangeStart()),0===v.length?v.push(k):1==v.length?d.start.isBefore(a.start)||d.start.isEqual(a.start)?v.unshift(k):v.push(k):v.splice(1,0,k)),0===v.length?[new Xn(c.baseVersion)]:wl(v,h)}),It(Gt,Lt,(c,i,o)=>{let a=c.targetPosition.clone();c.targetPosition.isEqual(i.insertionPosition)&&i.graveyardPosition&&"moveTargetAfter"!=o.abRelation||(a=c.targetPosition._getTransformedBySplitOperation(i));const d=Z._createFromPositionAndShift(c.sourcePosition,c.howMany);if(d.end.isEqual(i.insertionPosition))return i.graveyardPosition||c.howMany++,c.targetPosition=a,[c];if(d.start.hasSameParentAs(i.splitPosition)&&d.containsPosition(i.splitPosition)){let p=new Z(i.splitPosition,d.end);return p=p._getTransformedBySplitOperation(i),wl([new Z(d.start,i.splitPosition),p],a)}c.targetPosition.isEqual(i.splitPosition)&&"insertAtSource"==o.abRelation&&(a=i.moveTargetPosition),c.targetPosition.isEqual(i.insertionPosition)&&"insertBetween"==o.abRelation&&(a=c.targetPosition);const h=[d._getTransformedBySplitOperation(i)];if(i.graveyardPosition){const p=d.start.isEqual(i.graveyardPosition)||d.containsPosition(i.graveyardPosition);c.howMany>1&&p&&!o.aWasUndone&&h.push(Z._createFromPositionAndShift(i.insertionPosition,1))}return wl(h,a)}),It(Gt,Rn,(c,i,o)=>{const a=Z._createFromPositionAndShift(c.sourcePosition,c.howMany);if(i.deletionPosition.hasSameParentAs(c.sourcePosition)&&a.containsPosition(i.sourcePosition))if("remove"!=c.type||o.forceWeakRemove){if(1==c.howMany)return o.bWasUndone?(c.sourcePosition=i.graveyardPosition.clone(),c.targetPosition=c.targetPosition._getTransformedByMergeOperation(i),[c]):[new Xn(0)]}else if(!o.aWasUndone){const h=[];let p=i.graveyardPosition.clone(),g=i.targetPosition._getTransformedByMergeOperation(i);c.howMany>1&&(h.push(new Gt(c.sourcePosition,c.howMany-1,c.targetPosition,0)),p=p._getTransformedByMove(c.sourcePosition,c.targetPosition,c.howMany-1),g=g._getTransformedByMove(c.sourcePosition,c.targetPosition,c.howMany-1));const _=i.deletionPosition._getCombined(c.sourcePosition,c.targetPosition),v=new Gt(p,1,_,0),y=v.getMovedRangeStart().path.slice();y.push(0);const k=new te(v.targetPosition.root,y);g=g._getTransformedByMove(p,_,1);const T=new Gt(g,i.howMany,k,0);return h.push(v),h.push(T),h}const d=Z._createFromPositionAndShift(c.sourcePosition,c.howMany)._getTransformedByMergeOperation(i);return c.sourcePosition=d.start,c.howMany=d.end.offset-d.start.offset,c.targetPosition=c.targetPosition._getTransformedByMergeOperation(i),[c]}),It(Ui,Sn,(c,i)=>(c.position=c.position._getTransformedByInsertOperation(i),[c])),It(Ui,Rn,(c,i)=>c.position.isEqual(i.deletionPosition)?(c.position=i.graveyardPosition.clone(),c.position.stickiness="toNext",[c]):(c.position=c.position._getTransformedByMergeOperation(i),[c])),It(Ui,Gt,(c,i)=>(c.position=c.position._getTransformedByMoveOperation(i),[c])),It(Ui,Ui,(c,i,o)=>{if(c.position.isEqual(i.position)){if(!o.aIsStrong)return[new Xn(0)];c.oldName=i.newName}return[c]}),It(Ui,Lt,(c,i)=>{if("same"==_i(c.position.path,i.splitPosition.getParentPath())&&!i.graveyardPosition){const o=new Ui(c.position.getShiftedBy(1),c.oldName,c.newName,0);return[c,o]}return c.position=c.position._getTransformedBySplitOperation(i),[c]}),It(L,L,(c,i,o)=>{if(c.root===i.root&&c.key===i.key){if(!o.aIsStrong||c.newValue===i.newValue)return[new Xn(0)];c.oldValue=i.newValue}return[c]}),It(Lt,Sn,(c,i)=>(c.splitPosition.hasSameParentAs(i.position)&&c.splitPosition.offset<i.position.offset&&(c.howMany+=i.howMany),c.splitPosition=c.splitPosition._getTransformedByInsertOperation(i),c.insertionPosition=Lt.getInsertionPosition(c.splitPosition),[c])),It(Lt,Rn,(c,i,o)=>{if(!c.graveyardPosition&&!o.bWasUndone&&c.splitPosition.hasSameParentAs(i.sourcePosition)){const a=i.graveyardPosition.path.slice();a.push(0);const d=new te(i.graveyardPosition.root,a),h=Lt.getInsertionPosition(new te(i.graveyardPosition.root,a)),p=new Lt(d,0,null,0);return p.insertionPosition=h,c.splitPosition=c.splitPosition._getTransformedByMergeOperation(i),c.insertionPosition=Lt.getInsertionPosition(c.splitPosition),c.graveyardPosition=p.insertionPosition.clone(),c.graveyardPosition.stickiness="toNext",[p,c]}return c.splitPosition.hasSameParentAs(i.deletionPosition)&&!c.splitPosition.isAfter(i.deletionPosition)&&c.howMany--,c.splitPosition.hasSameParentAs(i.targetPosition)&&(c.howMany+=i.howMany),c.splitPosition=c.splitPosition._getTransformedByMergeOperation(i),c.insertionPosition=Lt.getInsertionPosition(c.splitPosition),c.graveyardPosition&&(c.graveyardPosition=c.graveyardPosition._getTransformedByMergeOperation(i)),[c]}),It(Lt,Gt,(c,i,o)=>{const a=Z._createFromPositionAndShift(i.sourcePosition,i.howMany);if(c.graveyardPosition){const d=a.start.isEqual(c.graveyardPosition)||a.containsPosition(c.graveyardPosition);if(!o.bWasUndone&&d){const h=c.splitPosition._getTransformedByMoveOperation(i),p=c.graveyardPosition._getTransformedByMoveOperation(i),g=p.path.slice();g.push(0);const _=new te(p.root,g);return[new Gt(h,c.howMany,_,0)]}c.graveyardPosition=c.graveyardPosition._getTransformedByMoveOperation(i)}return c.splitPosition.hasSameParentAs(i.sourcePosition)&&a.containsPosition(c.splitPosition)?(c.howMany-=i.howMany-(c.splitPosition.offset-i.sourcePosition.offset),c.splitPosition.hasSameParentAs(i.targetPosition)&&c.splitPosition.offset<i.targetPosition.offset&&(c.howMany+=i.howMany),c.splitPosition=i.sourcePosition.clone(),c.insertionPosition=Lt.getInsertionPosition(c.splitPosition),[c]):!c.splitPosition.isEqual(i.targetPosition)||"insertAtSource"!=o.baRelation&&"splitBefore"!=o.abRelation?(i.sourcePosition.isEqual(i.targetPosition)||(c.splitPosition.hasSameParentAs(i.sourcePosition)&&c.splitPosition.offset<=i.sourcePosition.offset&&(c.howMany-=i.howMany),c.splitPosition.hasSameParentAs(i.targetPosition)&&c.splitPosition.offset<i.targetPosition.offset&&(c.howMany+=i.howMany)),c.splitPosition.stickiness="toNone",c.splitPosition=c.splitPosition._getTransformedByMoveOperation(i),c.splitPosition.stickiness="toNext",c.insertionPosition=c.graveyardPosition?c.insertionPosition._getTransformedByMoveOperation(i):Lt.getInsertionPosition(c.splitPosition),[c]):(c.howMany+=i.howMany,c.splitPosition=c.splitPosition._getTransformedByDeletion(i.sourcePosition,i.howMany),c.insertionPosition=Lt.getInsertionPosition(c.splitPosition),[c])}),It(Lt,Lt,(c,i,o)=>{if(c.splitPosition.isEqual(i.splitPosition)){if(!c.graveyardPosition&&!i.graveyardPosition)return[new Xn(0)];if(c.graveyardPosition&&i.graveyardPosition&&c.graveyardPosition.isEqual(i.graveyardPosition))return[new Xn(0)];if("splitBefore"==o.abRelation)return c.howMany=0,c.graveyardPosition=c.graveyardPosition._getTransformedBySplitOperation(i),[c]}if(c.graveyardPosition&&i.graveyardPosition&&c.graveyardPosition.isEqual(i.graveyardPosition)){const a="$graveyard"==c.splitPosition.root.rootName,d="$graveyard"==i.splitPosition.root.rootName;if(d&&!a||(!a||d)&&o.aIsStrong){const p=[];return i.howMany&&p.push(new Gt(i.moveTargetPosition,i.howMany,i.splitPosition,0)),c.howMany&&p.push(new Gt(c.splitPosition,c.howMany,c.moveTargetPosition,0)),p}return[new Xn(0)]}if(c.graveyardPosition&&(c.graveyardPosition=c.graveyardPosition._getTransformedBySplitOperation(i)),c.splitPosition.isEqual(i.insertionPosition)&&"splitBefore"==o.abRelation)return c.howMany++,[c];if(i.splitPosition.isEqual(c.insertionPosition)&&"splitBefore"==o.baRelation){const a=i.insertionPosition.path.slice();a.push(0);const d=new te(i.insertionPosition.root,a);return[c,new Gt(c.insertionPosition,1,d,0)]}return c.splitPosition.hasSameParentAs(i.splitPosition)&&c.splitPosition.offset<i.splitPosition.offset&&(c.howMany-=i.howMany),c.splitPosition=c.splitPosition._getTransformedBySplitOperation(i),c.insertionPosition=Lt.getInsertionPosition(c.splitPosition),[c]});class Gu extends At{constructor(i){super(i),this._stack=[],this._createdBatches=new WeakSet,this.refresh()}refresh(){this.isEnabled=this._stack.length>0}addBatch(i){const o=this.editor.model.document.selection,a={ranges:o.hasOwnRange?Array.from(o.getRanges()):[],isBackward:o.isBackward};this._stack.push({batch:i,selection:a}),this.refresh()}clearStack(){this._stack=[],this.refresh()}_restoreSelection(i,o,a){const d=this.editor.model,h=d.document,p=[];for(const g of i){const _=xC(g,a).find(v=>v.start.root!=h.graveyard);_&&p.push(_)}p.length&&d.change(g=>{g.setSelection(p,{backward:o})})}_undo(i,o){const a=this.editor.model,d=a.document;this._createdBatches.add(o);const h=i.operations.slice().filter(p=>p.isDocumentOperation);h.reverse();for(const p of h){const _=Array.from(d.history.getOperations(p.baseVersion+1)),v=vp([p.getReversed()],_,{useRelations:!0,document:this.editor.model.document,padWithNoOps:!1,forceWeakRemove:!0}).operationsA;for(const y of v)o.addOperation(y),a.applyOperation(y),d.history.setOperationAsUndone(p,y)}}}function xC(c,i){const o=c.getTransformedByOperations(i);o.sort((a,d)=>a.start.isBefore(d.start)?-1:1);for(let a=1;a<o.length;a++){const d=o[a-1],h=o[a];d.end.isTouching(h.start)&&(d.end=h.end,o.splice(a,1),a--)}return o}class TC extends Gu{execute(i=null){const o=i?this._stack.findIndex(h=>h.batch==i):this._stack.length-1,a=this._stack.splice(o,1)[0],d=this.editor.model.createBatch("transparent");this.editor.model.enqueueChange(d,()=>{this._undo(a.batch,d);const h=this.editor.model.document.history.getOperations(a.batch.baseVersion);this._restoreSelection(a.selection.ranges,a.selection.isBackward,h),this.fire("revert",a.batch,d)}),this.refresh()}}class EC extends Gu{execute(){const i=this._stack.pop(),o=this.editor.model.createBatch("transparent");this.editor.model.enqueueChange(o,()=>{const d=this.editor.model.document.history.getOperations(i.batch.operations[i.batch.operations.length-1].baseVersion+1);this._restoreSelection(i.selection.ranges,i.selection.isBackward,d),this._undo(i.batch,o)}),this.refresh()}}class SC extends le{static get pluginName(){return"UndoEditing"}constructor(i){super(i),this._batchRegistry=new WeakSet}init(){const i=this.editor;this._undoCommand=new TC(i),this._redoCommand=new EC(i),i.commands.add("undo",this._undoCommand),i.commands.add("redo",this._redoCommand),this.listenTo(i.model,"applyOperation",(o,a)=>{const d=a[0];if(!d.isDocumentOperation)return;const h=d.batch,p=this._redoCommand._createdBatches.has(h),g=this._undoCommand._createdBatches.has(h);this._batchRegistry.has(h)||"transparent"==h.type&&!p&&!g||(p?this._undoCommand.addBatch(h):g||(this._undoCommand.addBatch(h),this._redoCommand.clearStack()),this._batchRegistry.add(h))},{priority:"highest"}),this.listenTo(this._undoCommand,"revert",(o,a,d)=>{this._redoCommand.addBatch(d)}),i.keystrokes.set("CTRL+Z","undo"),i.keystrokes.set("CTRL+Y","redo"),i.keystrokes.set("CTRL+SHIFT+Z","redo")}}var Eb='<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M5.042 9.367l2.189 1.837a.75.75 0 01-.965 1.149l-3.788-3.18a.747.747 0 01-.21-.284.75.75 0 01.17-.945L6.23 4.762a.75.75 0 11.964 1.15L4.863 7.866h8.917A.75.75 0 0114 7.9a4 4 0 11-1.477 7.718l.344-1.489a2.5 2.5 0 101.094-4.73l.008-.032H5.042z"/></svg>',Sb='<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M14.958 9.367l-2.189 1.837a.75.75 0 00.965 1.149l3.788-3.18a.747.747 0 00.21-.284.75.75 0 00-.17-.945L13.77 4.762a.75.75 0 10-.964 1.15l2.331 1.955H6.22A.75.75 0 006 7.9a4 4 0 101.477 7.718l-.344-1.489A2.5 2.5 0 116.039 9.4l-.008-.032h8.927z"/></svg>';class Db extends le{init(){const i=this.editor,o=i.locale,a=i.t,d="ltr"==o.uiLanguageDirection?Eb:Sb,h="ltr"==o.uiLanguageDirection?Sb:Eb;this._addButton("undo",a("cv"),"CTRL+Z",d),this._addButton("redo",a("cw"),"CTRL+Y",h)}_addButton(i,o,a,d){const h=this.editor;h.ui.componentFactory.add(i,p=>{const g=h.commands.get(i),_=new Bt(p);return _.set({label:o,icon:d,keystroke:a,tooltip:!0}),_.bind("isEnabled").to(g,"isEnabled"),this.listenTo(_,"execute",()=>{h.execute(i),h.editing.view.focus()}),_})}}class wp extends le{static get requires(){return[SC,Db]}static get pluginName(){return"Undo"}}class kl{static get pluginName(){return"BlockAutoformatEditing"}constructor(i,o,a){let d,h=null;"function"==typeof a?d=a:(h=i.commands.get(a),d=()=>{i.execute(a)}),i.model.document.on("change",(p,g)=>{if(h&&!h.isEnabled||"transparent"==g.type)return;const _=Array.from(i.model.document.differ.getChanges()),v=_[0];if(1!=_.length||"insert"!==v.type||"$text"!=v.name||1!=v.length)return;const y=v.position.parent;if(!y.is("paragraph")||1!==y.childCount)return;const k=o.exec(y.getChild(0).data);k&&i.model.enqueueChange(T=>{const D=T.createPositionAt(y,0),R=T.createPositionAt(y,k[0].length),F=new Cr(D,R);!1!==d({match:k})&&T.remove(F),F.detach()})})}}function Ku(c,i){let o=c.start;return{text:Array.from(c.getItems()).reduce((a,d)=>d.is("text")||d.is("textProxy")?a+d.data:(o=i.createPositionAfter(d),""),""),range:i.createRange(o,c.end)}}class Jc{static get pluginName(){return"InlineAutoformatEditing"}constructor(i,o,a){let d,h,p,g;o instanceof RegExp?d=o:p=o,"string"==typeof a?h=a:g=a,p=p||(_=>{let v;const y=[],k=[];for(;null!==(v=d.exec(_))&&!(v&&v.length<4);){let{index:T,1:D,2:R,3:F}=v;T+=v[0].length-(D+R+F).length;const ae=[T+D.length+R.length,T+D.length+R.length+F.length];y.push([T,T+D.length]),y.push(ae),k.push([T+D.length,T+D.length+R.length])}return{remove:y,format:k}}),g=g||((_,v)=>{const y=i.model.schema.getValidRanges(v,h);for(const k of y)_.setAttribute(h,!0,k);_.removeSelectionAttribute(h)}),i.model.document.on("change",(_,v)=>{if("transparent"==v.type)return;const y=i.model,k=y.document.selection;if(!k.isCollapsed)return;const T=Array.from(y.document.differ.getChanges()),D=T[0];if(1!=T.length||"insert"!==D.type||"$text"!=D.name||1!=D.length)return;const R=k.focus,F=R.parent,{text:$,range:J}=Ku(y.createRange(y.createPositionAt(F,0),R),y),ae=p($),_e=Mb(J.start,ae.format,y),ut=Mb(J.start,ae.remove,y);_e.length&&ut.length&&y.enqueueChange(On=>{if(!1!==g(On,_e))for(const Ci of ut.reverse())On.remove(Ci)})})}}function Mb(c,i,o){return i.filter(a=>void 0!==a[0]&&void 0!==a[1]).map(a=>o.createRange(c.getShiftedBy(a[0]),c.getShiftedBy(a[1])))}function Qu(c,i){return(o,a)=>{if(!c.commands.get(i).isEnabled)return!1;const d=c.model.schema.getValidRanges(a,i);for(const h of d)o.setAttribute(i,!0,h);o.removeSelectionAttribute(i)}}class ed extends At{constructor(i,o){super(i),this.attributeKey=o}refresh(){const i=this.editor.model,o=i.document;this.value=this._getValueFromFirstAllowedNode(),this.isEnabled=i.schema.checkAttributeInSelection(o.selection,this.attributeKey)}execute(i={}){const o=this.editor.model,a=o.document.selection,d=void 0===i.forceValue?!this.value:i.forceValue;o.change(h=>{if(a.isCollapsed)d?h.setSelectionAttribute(this.attributeKey,!0):h.removeSelectionAttribute(this.attributeKey);else{const p=o.schema.getValidRanges(a.getRanges(),this.attributeKey);for(const g of p)d?h.setAttribute(this.attributeKey,d,g):h.removeAttribute(this.attributeKey,g)}})}_getValueFromFirstAllowedNode(){const i=this.editor.model,o=i.schema,a=i.document.selection;if(a.isCollapsed)return a.hasAttribute(this.attributeKey);for(const d of a.getRanges())for(const h of d.getItems())if(o.checkAttribute(h,this.attributeKey))return h.hasAttribute(this.attributeKey);return!1}}class ma extends le{static get pluginName(){return"BoldEditing"}init(){const i=this.editor;i.model.schema.extend("$text",{allowAttributes:"bold"}),i.model.schema.setAttributeProperties("bold",{isFormatting:!0,copyOnEnter:!0}),i.conversion.attributeToElement({model:"bold",view:"strong",upcastAlso:["b",o=>{const a=o.getStyle("font-weight");return a?"bold"==a||Number(a)>=600?{name:!0,styles:["font-weight"]}:void 0:null}]}),i.commands.add("bold",new ed(i,"bold")),i.keystrokes.set("CTRL+B","bold")}}class Ab extends le{init(){const i=this.editor,o=i.t;i.ui.componentFactory.add("bold",a=>{const d=i.commands.get("bold"),h=new Bt(a);return h.set({label:o("m"),icon:'<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M10.187 17H5.773c-.637 0-1.092-.138-1.364-.415-.273-.277-.409-.718-.409-1.323V4.738c0-.617.14-1.062.419-1.332.279-.27.73-.406 1.354-.406h4.68c.69 0 1.288.041 1.793.124.506.083.96.242 1.36.478.341.197.644.447.906.75a3.262 3.262 0 01.808 2.162c0 1.401-.722 2.426-2.167 3.075C15.05 10.175 16 11.315 16 13.01a3.756 3.756 0 01-2.296 3.504 6.1 6.1 0 01-1.517.377c-.571.073-1.238.11-2 .11zm-.217-6.217H7v4.087h3.069c1.977 0 2.965-.69 2.965-2.072 0-.707-.256-1.22-.768-1.537-.512-.319-1.277-.478-2.296-.478zM7 5.13v3.619h2.606c.729 0 1.292-.067 1.69-.2a1.6 1.6 0 00.91-.765c.165-.267.247-.566.247-.897 0-.707-.26-1.176-.778-1.409-.519-.232-1.31-.348-2.375-.348H7z"/></svg>',keystroke:"CTRL+B",tooltip:!0,isToggleable:!0}),h.bind("isOn","isEnabled").to(d,"value","isEnabled"),this.listenTo(h,"execute",()=>{i.execute("bold"),i.editing.view.focus()}),h})}}class Ib extends le{static get pluginName(){return"ItalicEditing"}init(){const i=this.editor;i.model.schema.extend("$text",{allowAttributes:"italic"}),i.model.schema.setAttributeProperties("italic",{isFormatting:!0,copyOnEnter:!0}),i.conversion.attributeToElement({model:"italic",view:"i",upcastAlso:["em",{styles:{"font-style":"italic"}}]}),i.commands.add("italic",new ed(i,"italic")),i.keystrokes.set("CTRL+I","italic")}}class DC extends le{init(){const i=this.editor,o=i.t;i.ui.componentFactory.add("italic",a=>{const d=i.commands.get("italic"),h=new Bt(a);return h.set({label:o("p"),icon:'<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M9.586 14.633l.021.004c-.036.335.095.655.393.962.082.083.173.15.274.201h1.474a.6.6 0 110 1.2H5.304a.6.6 0 010-1.2h1.15c.474-.07.809-.182 1.005-.334.157-.122.291-.32.404-.597l2.416-9.55a1.053 1.053 0 00-.281-.823 1.12 1.12 0 00-.442-.296H8.15a.6.6 0 010-1.2h6.443a.6.6 0 110 1.2h-1.195c-.376.056-.65.155-.823.296-.215.175-.423.439-.623.79l-2.366 9.347z"/></svg>',keystroke:"CTRL+I",tooltip:!0,isToggleable:!0}),h.bind("isOn","isEnabled").to(d,"value","isEnabled"),this.listenTo(h,"execute",()=>{i.execute("italic"),i.editing.view.focus()}),h})}}function lr(c){const i=c.next();return i.done?null:i.value}class MC extends At{refresh(){this.value=this._getValue(),this.isEnabled=this._checkEnabled()}execute(i={}){const o=this.editor.model,a=o.schema,h=Array.from(o.document.selection.getSelectedBlocks()),p=void 0===i.forceValue?!this.value:i.forceValue;o.change(g=>{if(p){const _=h.filter(v=>td(v)||Cp(a,v));this._applyQuote(g,_)}else this._removeQuote(g,h.filter(td))})}_getValue(){const i=lr(this.editor.model.document.selection.getSelectedBlocks());return!(!i||!td(i))}_checkEnabled(){if(this.value)return!0;const o=this.editor.model.schema,a=lr(this.editor.model.document.selection.getSelectedBlocks());return!!a&&Cp(o,a)}_removeQuote(i,o){kp(i,o).reverse().forEach(a=>{if(a.start.isAtStart&&a.end.isAtEnd)return void i.unwrap(a.start.parent);if(a.start.isAtStart){const h=i.createPositionBefore(a.start.parent);return void i.move(a,h)}a.end.isAtEnd||i.split(a.end);const d=i.createPositionAfter(a.end.parent);i.move(a,d)})}_applyQuote(i,o){const a=[];kp(i,o).reverse().forEach(d=>{let h=td(d.start);h||(h=i.createElement("blockQuote"),i.wrap(d,h)),a.push(h)}),a.reverse().reduce((d,h)=>d.nextSibling==h?(i.merge(i.createPositionAfter(d)),d):h)}}function td(c){return"blockQuote"==c.parent.name?c.parent:null}function kp(c,i){let o,a=0;const d=[];for(;a<i.length;){const h=i[a],p=i[a+1];o||(o=c.createPositionBefore(h)),p&&h.nextSibling==p||(d.push(c.createRange(o,c.createPositionAfter(h))),o=null),a++}return d}function Cp(c,i){const o=c.checkChild(i.parent,"blockQuote"),a=c.checkChild(["$root","blockQuote"],i);return o&&a}class xp extends le{static get pluginName(){return"BlockQuoteEditing"}init(){const i=this.editor,o=i.model.schema;i.commands.add("blockQuote",new MC(i)),o.register("blockQuote",{allowWhere:"$block",allowContentOf:"$root"}),o.addChildCheck((a,d)=>{if(a.endsWith("blockQuote")&&"blockQuote"==d.name)return!1}),i.conversion.elementToElement({model:"blockQuote",view:"blockquote"}),i.model.document.registerPostFixer(a=>{const d=i.model.document.differ.getChanges();for(const h of d)if("insert"==h.type){const p=h.position.nodeAfter;if(!p)continue;if(p.is("blockQuote")&&p.isEmpty)return a.remove(p),!0;if(p.is("blockQuote")&&!o.checkChild(h.position,p))return a.unwrap(p),!0;if(p.is("element")){const g=a.createRangeIn(p);for(const _ of g.getItems())if(_.is("blockQuote")&&!o.checkChild(a.createPositionBefore(_),_))return a.unwrap(_),!0}}else if("remove"==h.type){const p=h.position.parent;if(p.is("blockQuote")&&p.isEmpty)return a.remove(p),!0}return!1})}afterInit(){const i=this.editor.commands.get("blockQuote");this.listenTo(this.editor.editing.view.document,"enter",(o,a)=>{const d=this.editor.model.document,h=d.selection.getLastPosition().parent;d.selection.isCollapsed&&h.isEmpty&&i.value&&(this.editor.execute("blockQuote"),this.editor.editing.view.scrollToTheSelection(),a.preventDefault(),o.stop())})}}P(43);class Pb extends le{init(){const i=this.editor,o=i.t;i.ui.componentFactory.add("blockQuote",a=>{const d=i.commands.get("blockQuote"),h=new Bt(a);return h.set({label:o("c"),icon:'<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M3 10.423a6.5 6.5 0 016.056-6.408l.038.67C6.448 5.423 5.354 7.663 5.22 10H9c.552 0 .5.432.5.986v4.511c0 .554-.448.503-1 .503h-5c-.552 0-.5-.449-.5-1.003v-4.574zm8 0a6.5 6.5 0 016.056-6.408l.038.67c-2.646.739-3.74 2.979-3.873 5.315H17c.552 0 .5.432.5.986v4.511c0 .554-.448.503-1 .503h-5c-.552 0-.5-.449-.5-1.003v-4.574z"/></svg>',tooltip:!0,isToggleable:!0}),h.bind("isOn","isEnabled").to(d,"value","isEnabled"),this.listenTo(h,"execute",()=>{i.execute("blockQuote"),i.editing.view.focus()}),h})}}class Yu extends le{static get pluginName(){return"CKFinderUI"}init(){const i=this.editor,a=i.t;i.ui.componentFactory.add("ckfinder",d=>{const h=i.commands.get("ckfinder"),p=new Bt(d);return p.set({label:a("l"),icon:'<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M11.627 16.5zm5.873-.196zm0-7.001V8h-13v8.5h4.341c.191.54.457 1.044.785 1.5H2a1.5 1.5 0 01-1.5-1.5v-13A1.5 1.5 0 012 2h4.5a1.5 1.5 0 011.06.44L9.122 4H16a1.5 1.5 0 011.5 1.5v1A1.5 1.5 0 0119 8v2.531a6.027 6.027 0 00-1.5-1.228zM16 6.5v-1H8.5l-2-2H2v13h1V8a1.5 1.5 0 011.5-1.5H16z"/><path d="M14.5 19.5a5 5 0 110-10 5 5 0 010 10zM15 14v-2h-1v2h-2v1h2v2h1v-2h2v-1h-2z"/></svg>',tooltip:!0}),p.bind("isEnabled").to(h),p.on("execute",()=>{i.execute("ckfinder"),i.editing.view.focus()}),p})}}class Zu extends uo{observe(i){this.listenTo(i,"load",(o,a)=>{"IMG"==a.target.tagName&&this._fireEvents(a)},{useCapture:!0})}_fireEvents(i){this.isEnabled&&(this.document.fire("layoutChanged"),this.document.fire("imageLoaded",i))}}function Tp(c){return o=>{o.on(`attribute:${c}:image`,i)};function i(o,a,d){if(!d.consumable.consume(a.item,o.name))return;const h=d.writer,p=d.mapper.toViewElement(a.item).getChild(0);null!==a.attributeNewValue?h.setAttribute(a.attributeKey,a.attributeNewValue,p):h.removeAttribute(a.attributeKey,p)}}class Xu{constructor(){this._stack=[]}add(i,o){const a=this._stack,d=a[0];this._insertDescriptor(i);const h=a[0];d===h||Ju(d,h)||this.fire("change:top",{oldDescriptor:d,newDescriptor:h,writer:o})}remove(i,o){const a=this._stack,d=a[0];this._removeDescriptor(i);const h=a[0];d===h||Ju(d,h)||this.fire("change:top",{oldDescriptor:d,newDescriptor:h,writer:o})}_insertDescriptor(i){const o=this._stack,a=o.findIndex(h=>h.id===i.id);if(Ju(i,o[a]))return;a>-1&&o.splice(a,1);let d=0;for(;o[d]&&Ep(o[d],i);)d++;o.splice(d,0,i)}_removeDescriptor(i){const o=this._stack,a=o.findIndex(d=>d.id===i);a>-1&&o.splice(a,1)}}function Ju(c,i){return c&&i&&c.priority==i.priority&&Cs(c.classes)==Cs(i.classes)}function Ep(c,i){return c.priority>i.priority||!(c.priority<i.priority)&&Cs(c.classes)>Cs(i.classes)}function Cs(c){return Array.isArray(c)?c.sort().join(","):c}function xs(c){return!!c.is("element")&&!!c.getCustomProperty("widget")}function Sp(c,i,o={}){return yi_isEdge||i.setAttribute("contenteditable","false",c),i.addClass("ck-widget",c),i.setCustomProperty("widget",!0,c),c.getFillerOffset=Dp,o.label&&i.setCustomProperty("widgetLabel",o.label,c),o.hasSelectionHandle&&function(d,h){const p=h.createUIElement("div",{class:"ck ck-widget__selection-handle"},function(g){const _=this.toDomElement(g),v=new ua;return v.set("content",'<svg viewBox="0 0 16 16" xmlns="http://www.w3.org/2000/svg"><path d="M4 0v1H1v3H0V.5A.5.5 0 01.5 0H4zm8 0h3.5a.5.5 0 01.5.5V4h-1V1h-3V0zM4 16H.5a.5.5 0 01-.5-.5V12h1v3h3v1zm8 0v-1h3v-3h1v3.5a.5.5 0 01-.5.5H12z"/><path fill-opacity=".256" d="M1 1h14v14H1z"/><g class="ck-icon__selected-indicator"><path d="M7 0h2v1H7V0zM0 7h1v2H0V7zm15 0h1v2h-1V7zm-8 8h2v1H7v-1z"/><path fill-opacity=".254" d="M1 1h14v14H1z"/></g></svg>'),v.render(),_.appendChild(v.element),_});h.insert(h.createPositionAt(d,0),p),h.addClass(["ck-widget_with-selection-handle"],d)}(c,i),function(d,h,p,g){const _=new Xu;_.on("change:top",(v,y)=>{y.oldDescriptor&&((d,h,p)=>{p.removeClass(a(h.classes),d)})(d,y.oldDescriptor,y.writer),y.newDescriptor&&((d,h,p)=>{p.addClass(a(h.classes),d)})(d,y.newDescriptor,y.writer)}),h.setCustomProperty("addHighlight",(v,y,k)=>_.add(y,k),d),h.setCustomProperty("removeHighlight",(v,y,k)=>_.remove(y,k),d)}(c,i),c;function a(d){return Array.isArray(d)?d:[d]}}function AC(c){const i=c.getCustomProperty("widgetLabel");return i?"function"==typeof i?i():i:""}function Rb(c,i){return i.addClass(["ck-editor__editable","ck-editor__nested-editable"],c),yi_isEdge||(i.setAttribute("contenteditable",c.isReadOnly?"false":"true",c),c.on("change:isReadOnly",(o,a,d)=>{i.setAttribute("contenteditable",d?"false":"true",c)})),c.on("change:isFocused",(o,a,d)=>{d?i.addClass("ck-editor__nested-editable_focused",c):i.removeClass("ck-editor__nested-editable_focused",c)}),c}function eh(c,i){const o=c.getSelectedElement();if(o&&i.schema.isBlock(o))return i.createPositionAfter(o);const a=c.getSelectedBlocks().next().value;if(a){if(a.isEmpty)return i.createPositionAt(a,0);const d=i.createPositionAfter(a);return c.focus.isTouching(d)?d:i.createPositionBefore(a)}return c.focus}function Dp(){return null}function th(c){const i=c.getSelectedElement();return i&&function(o){return!!o.getCustomProperty("image")&&xs(o)}(i)?i:null}function Mp(c){return!!c&&c.is("image")}function Ap(c,i,o={}){const a=c.createElement("image",o),d=eh(i.document.selection,i);i.insertContent(a,d),a.parent&&c.setSelection(a,"on")}function Ob(c){const i=c.schema,o=c.document.selection;return function(a,d,h){const p=function(g,_){const v=eh(g,_).parent;return v.isEmpty&&!v.is("$root")?v.parent:v}(a,h);return d.checkChild(p,"image")}(o,i,c)&&!function(a,d){const h=a.getSelectedElement();return h&&d.isObject(h)}(o,i)&&[...o.focus.getAncestors()].every(d=>!d.is("image"))}Be(Xu,_n);class Fb extends At{refresh(){this.isEnabled=Ob(this.editor.model)}execute(i){const o=this.editor.model;o.change(a=>{const d=Array.isArray(i.source)?i.source:[i.source];for(const h of d)Ap(a,o,{src:h})})}}class Nb extends le{static get pluginName(){return"ImageEditing"}init(){const i=this.editor,o=i.model.schema,a=i.t,d=i.conversion;i.editing.view.addObserver(Zu),o.register("image",{isObject:!0,isBlock:!0,allowWhere:"$block",allowAttributes:["alt","src","srcset"]}),d.for("dataDowncast").elementToElement({model:"image",view:(h,p)=>Lb(p)}),d.for("editingDowncast").elementToElement({model:"image",view:(h,p)=>{return g=Lb(p),_=p,v=a("f"),_.setCustomProperty("image",!0,g),Sp(g,_,{label:function(){const y=g.getChild(0).getAttribute("alt");return y?`${y} ${v}`:v}});var g,_,v}}),d.for("downcast").add(Tp("src")).add(Tp("alt")).add(function(){return p=>{p.on("attribute:srcset:image",h)};function h(p,g,_){if(!_.consumable.consume(g.item,p.name))return;const v=_.writer,y=_.mapper.toViewElement(g.item).getChild(0);if(null===g.attributeNewValue){const k=g.attributeOldValue;k.data&&(v.removeAttribute("srcset",y),v.removeAttribute("sizes",y),k.width&&v.removeAttribute("width",y))}else{const k=g.attributeNewValue;k.data&&(v.setAttribute("srcset",k.data,y),v.setAttribute("sizes","100vw",y),k.width&&v.setAttribute("width",k.width,y))}}}()),d.for("upcast").elementToElement({view:{name:"img",attributes:{src:!0}},model:(h,p)=>p.createElement("image",{src:h.getAttribute("src")})}).attributeToAttribute({view:{name:"img",key:"alt"},model:"alt"}).attributeToAttribute({view:{name:"img",key:"srcset"},model:{key:"srcset",value:h=>{const p={data:h.getAttribute("srcset")};return h.hasAttribute("width")&&(p.width=h.getAttribute("width")),p}}}).add(function(){return p=>{p.on("element:figure",h)};function h(p,g,_){if(!_.consumable.test(g.viewItem,{name:!0,classes:"image"}))return;const v=Array.from(g.viewItem.getChildren()).find(T=>T.is("img"));if(!v||!v.hasAttribute("src")||!_.consumable.test(v,{name:!0}))return;const y=_.convertItem(v,g.modelCursor),k=lr(y.modelRange.getItems());k&&(_.convertChildren(g.viewItem,_.writer.createPositionAt(k,0)),g.modelRange=y.modelRange,g.modelCursor=y.modelCursor)}}()),i.commands.add("imageInsert",new Fb(i))}}function Lb(c){const i=c.createEmptyElement("img"),o=c.createContainerElement("figure",{class:"image"});return c.insert(c.createPositionAt(o,0),i),o}function cr(c,i,o){return o.createRange(Bb(c,i,!0,o),Bb(c,i,!1,o))}function Bb(c,i,o,a){let d=c.textNode||(o?c.nodeBefore:c.nodeAfter),h=null;for(;d&&d.getAttribute("linkHref")==i;)h=d,d=o?d.previousSibling:d.nextSibling;return h?a.createPositionAt(h,o?"before":"after"):c}class Vb extends At{constructor(i){super(i),this.manualDecorators=new $n}restoreManualDecoratorStates(){for(const i of this.manualDecorators)i.value=this._getDecoratorStateFromModel(i.id)}refresh(){const i=this.editor.model,o=i.document;this.value=o.selection.getAttribute("linkHref");for(const a of this.manualDecorators)a.value=this._getDecoratorStateFromModel(a.id);this.isEnabled=i.schema.checkAttributeInSelection(o.selection,"linkHref")}execute(i,o={}){const a=this.editor.model,d=a.document.selection,h=[],p=[];for(const g in o)o[g]?h.push(g):p.push(g);a.change(g=>{if(d.isCollapsed){const _=d.getFirstPosition();if(d.hasAttribute("linkHref")){const v=cr(_,d.getAttribute("linkHref"),a);g.setAttribute("linkHref",i,v),h.forEach(y=>{g.setAttribute(y,!0,v)}),p.forEach(y=>{g.removeAttribute(y,v)}),g.setSelection(v)}else if(""!==i){const v=se(d.getAttributes());v.set("linkHref",i),h.forEach(k=>{v.set(k,!0)});const y=g.createText(i,v);a.insertContent(y,_),g.setSelection(g.createRangeOn(y))}}else{const _=a.schema.getValidRanges(d.getRanges(),"linkHref");for(const v of _)g.setAttribute("linkHref",i,v),h.forEach(y=>{g.setAttribute(y,!0,v)}),p.forEach(y=>{g.removeAttribute(y,v)})}})}_getDecoratorStateFromModel(i){return this.editor.model.document.selection.getAttribute(i)||!1}}class IC extends At{refresh(){this.isEnabled=this.editor.model.document.selection.hasAttribute("linkHref")}execute(){const o=this.editor.model,a=o.document.selection,d=this.editor.commands.get("link");o.change(h=>{const p=a.isCollapsed?[cr(a.getFirstPosition(),a.getAttribute("linkHref"),o)]:a.getRanges();for(const g of p)if(h.removeAttribute("linkHref",g),d)for(const _ of d.manualDecorators)h.removeAttribute(_.id,g)})}}var RC=RegExp("[\\u200d\\ud800-\\udfff\\u0300-\\u036f\\ufe20-\\ufe2f\\u20d0-\\u20ff\\ufe0e\\ufe0f]"),jb=function(c){return RC.test(c)},Ip="[\\u0300-\\u036f\\ufe20-\\ufe2f\\u20d0-\\u20ff]",Pp="\\ud83c[\\udffb-\\udfff]",tt="[^\\ud800-\\udfff]",Y="(?:\\ud83c[\\udde6-\\uddff]){2}",Rp="[\\ud800-\\udbff][\\udc00-\\udfff]",Op="(?:"+Ip+"|"+Pp+")?",nh="[\\ufe0e\\ufe0f]?"+Op+"(?:\\u200d(?:"+[tt,Y,Rp].join("|")+")[\\ufe0e\\ufe0f]?"+Op+")*",Kr="(?:"+[tt+Ip+"?",Ip,Y,Rp,"[\\ud800-\\udfff]"].join("|")+")",Hb=RegExp(Pp+"(?="+Pp+")|"+Kr+nh,"g"),Fp=function(c){return jb(c)?function(c){return c.match(Hb)||[]}(c):function(c){return c.split("")}(c)},zo=function(i){i=an(i);var o=jb(i)?Fp(i):void 0,a=o?o[0]:i.charAt(0),d=o?function(c,i,o){var a=c.length;return o=void 0===o?a:o,!i&&o>=a?c:Cn(c,i,o)}(o,1).join(""):i.slice(1);return a.toUpperCase()+d};const Np=/[\u0000-\u0020\u00A0\u1680\u180E\u2000-\u2029\u205f\u3000]/g,Ub=/^(?:(?:https?|ftps?|mailto):|[^a-z]|[a-z+.-]+(?:[^a-z+.:-]|$))/i;function ih(c,i){const o=i.createAttributeElement("a",{href:c},{priority:5});return i.setCustomProperty("link",!0,o),o}function NC(c){return function(i){return i.replace(Np,"").match(Ub)}(c=String(c))?c:"#"}class $b{constructor(){this._definitions=new Set}get length(){return this._definitions.size}add(i){Array.isArray(i)?i.forEach(o=>this._definitions.add(o)):this._definitions.add(i)}getDispatcher(){return i=>{i.on("attribute:linkHref",(o,a,d)=>{if(!d.consumable.test(a.item,"attribute:linkHref"))return;const h=d.writer,p=h.document.selection;for(const g of this._definitions){const _=h.createAttributeElement("a",g.attributes,{priority:5});h.setCustomProperty("link",!0,_),g.callback(a.attributeNewValue)?a.item.is("selection")?h.wrap(p.getFirstRange(),_):h.wrap(d.mapper.toViewRange(a.range),_):h.unwrap(d.mapper.toViewRange(a.range),_)}},{priority:"high"})}}}class LC{constructor({id:i,label:o,attributes:a}){this.id=i,this.set("value"),this.label=o,this.attributes=a}}Be(LC,tn);class rh{constructor(i,o,a){this.model=i,this.attribute=a,this._modelSelection=i.document.selection,this._overrideUid=null,this._isNextGravityRestorationSkipped=!1,o.listenTo(this._modelSelection,"change:range",(d,h)=>{this._isNextGravityRestorationSkipped?this._isNextGravityRestorationSkipped=!1:this._isGravityOverridden&&(!h.directChange&&nd(this._modelSelection.getFirstPosition(),a)||this._restoreGravity())})}handleForwardMovement(i,o){const a=this.attribute;if(!(this._isGravityOverridden||i.isAtStart&&this._hasSelectionAttribute))return rd(i,a)&&this._hasSelectionAttribute?(this._preventCaretMovement(o),this._removeSelectionAttribute(),!0):oh(i,a)||id(i,a)&&this._hasSelectionAttribute?(this._preventCaretMovement(o),this._overrideGravity(),!0):void 0}handleBackwardMovement(i,o){const a=this.attribute;return this._isGravityOverridden?rd(i,a)&&this._hasSelectionAttribute?(this._preventCaretMovement(o),this._restoreGravity(),this._removeSelectionAttribute(),!0):(this._preventCaretMovement(o),this._restoreGravity(),i.isAtStart&&this._removeSelectionAttribute(),!0):rd(i,a)&&!this._hasSelectionAttribute?(this._preventCaretMovement(o),this._setSelectionAttributeFromTheNodeBefore(i),!0):i.isAtEnd&&id(i,a)?this._hasSelectionAttribute?void(BC(i,a)&&(this._skipNextAutomaticGravityRestoration(),this._overrideGravity())):(this._preventCaretMovement(o),this._setSelectionAttributeFromTheNodeBefore(i),!0):i.isAtStart?this._hasSelectionAttribute?(this._removeSelectionAttribute(),this._preventCaretMovement(o),!0):void 0:void(BC(i,a)&&(this._skipNextAutomaticGravityRestoration(),this._overrideGravity()))}get _isGravityOverridden(){return!!this._overrideUid}get _hasSelectionAttribute(){return this._modelSelection.hasAttribute(this.attribute)}_overrideGravity(){this._overrideUid=this.model.change(i=>i.overrideSelectionGravity())}_restoreGravity(){this.model.change(i=>{i.restoreSelectionGravity(this._overrideUid),this._overrideUid=null})}_preventCaretMovement(i){i.preventDefault()}_removeSelectionAttribute(){this.model.change(i=>{i.removeSelectionAttribute(this.attribute)})}_setSelectionAttributeFromTheNodeBefore(i){const o=this.attribute;this.model.change(a=>{a.setSelectionAttribute(this.attribute,i.nodeBefore.getAttribute(o))})}_skipNextAutomaticGravityRestoration(){this._isNextGravityRestorationSkipped=!0}}function nd(c,i){return oh(c,i)||id(c,i)}function oh(c,i){const{nodeBefore:o,nodeAfter:a}=c,d=!!o&&o.hasAttribute(i);return!!a&&a.hasAttribute(i)&&(!d||o.getAttribute(i)!==a.getAttribute(i))}function id(c,i){const{nodeBefore:o,nodeAfter:a}=c,d=!!o&&o.hasAttribute(i),h=!!a&&a.hasAttribute(i);return d&&(!h||o.getAttribute(i)!==a.getAttribute(i))}function rd(c,i){const{nodeBefore:o,nodeAfter:a}=c,d=!!o&&o.hasAttribute(i);if(a&&a.hasAttribute(i)&&d)return a.getAttribute(i)!==o.getAttribute(i)}function BC(c,i){return nd(c.getShiftedBy(-1),i)}P(45);const VC=/^(https?:)?\/\//;class Wb extends le{static get pluginName(){return"LinkEditing"}constructor(i){super(i),i.config.define("link",{addTargetToExternalLinks:!1})}init(){const i=this.editor,o=i.locale;i.model.schema.extend("$text",{allowAttributes:"linkHref"}),i.conversion.for("dataDowncast").attributeToElement({model:"linkHref",view:ih}),i.conversion.for("editingDowncast").attributeToElement({model:"linkHref",view:(d,h)=>ih(NC(d),h)}),i.conversion.for("upcast").elementToAttribute({view:{name:"a",attributes:{href:!0}},model:{key:"linkHref",value:d=>d.getAttribute("href")}}),i.commands.add("link",new Vb(i)),i.commands.add("unlink",new IC(i));const a=function(d,h){const p={"Open in a new tab":d("bm"),Downloadable:d("bn")};return h.forEach(g=>(g.label&&p[g.label]&&(g.label=p[g.label]),g)),h}(i.t,function(d){const h=[];if(d)for(const[p,g]of Object.entries(d)){const _=Object.assign({},g,{id:`link${zo(p)}`});h.push(_)}return h}(i.config.get("link.decorators")));this._enableAutomaticDecorators(a.filter(d=>"automatic"===d.mode)),this._enableManualDecorators(a.filter(d=>"manual"===d.mode)),function({view:d,model:h,emitter:p,attribute:g,locale:_}){const v=new rh(h,p,g),y=h.document.selection;p.listenTo(d.document,"keydown",(k,T)=>{if(!y.isCollapsed||T.shiftKey||T.altKey||T.ctrlKey)return;const D=T.keyCode==ct.arrowright,R=T.keyCode==ct.arrowleft;if(!D&&!R)return;const F=y.getFirstPosition(),$=_.contentLanguageDirection;let J;J="ltr"===$&&D||"rtl"===$&&R?v.handleForwardMovement(F,T):v.handleBackwardMovement(F,T),J&&k.stop()},{priority:er.get("high")+1})}({view:i.editing.view,model:i.model,emitter:this,attribute:"linkHref",locale:o}),this._setupLinkHighlight()}_enableAutomaticDecorators(i){const o=this.editor,a=new $b;o.config.get("link.addTargetToExternalLinks")&&a.add({id:"linkIsExternal",mode:"automatic",callback:d=>VC.test(d),attributes:{target:"_blank",rel:"noopener noreferrer"}}),a.add(i),a.length&&o.conversion.for("downcast").add(a.getDispatcher())}_enableManualDecorators(i){if(!i.length)return;const o=this.editor,a=o.commands.get("link").manualDecorators;i.forEach(d=>{o.model.schema.extend("$text",{allowAttributes:d.id}),a.add(new LC(d)),o.conversion.for("downcast").attributeToElement({model:d.id,view:(h,p)=>{if(h){const g=a.get(d.id).attributes,_=p.createAttributeElement("a",g,{priority:5});return p.setCustomProperty("link",!0,_),_}}}),o.conversion.for("upcast").elementToAttribute({view:{name:"a",attributes:a.get(d.id).attributes},model:{key:d.id}})})}_setupLinkHighlight(){const i=this.editor,o=i.editing.view,a=new Set;o.document.registerPostFixer(d=>{const h=i.model.document.selection;let p=!1;if(h.hasAttribute("linkHref")){const g=cr(h.getFirstPosition(),h.getAttribute("linkHref"),i.model),_=i.editing.mapper.toViewRange(g);for(const v of _.getItems())v.is("a")&&!v.hasClass("ck-link_selected")&&(d.addClass("ck-link_selected",v),a.add(v),p=!0)}return p}),i.conversion.for("editingDowncast").add(d=>{function h(){o.change(p=>{for(const g of a.values())p.removeClass("ck-link_selected",g),a.delete(g)})}d.on("insert",h,{priority:"highest"}),d.on("remove",h,{priority:"highest"}),d.on("attribute",h,{priority:"highest"}),d.on("selection",h,{priority:"highest"})})}}class Lp{constructor(i){this.context=i}destroy(){this.stopListening()}static get isContextPlugin(){return!0}}Be(Lp,tn);class Bp extends Lp{static get pluginName(){return"Notification"}init(){this.on("show:warning",(i,o)=>{window.alert(o.message)},{priority:"lowest"})}showSuccess(i,o={}){this._showNotification({message:i,type:"success",namespace:o.namespace,title:o.title})}showInfo(i,o={}){this._showNotification({message:i,type:"info",namespace:o.namespace,title:o.title})}showWarning(i,o={}){this._showNotification({message:i,type:"warning",namespace:o.namespace,title:o.title})}_showNotification(i){this.fire(`show:${i.type}`+(i.namespace?`:${i.namespace}`:""),{message:i.message,type:i.type,title:i.title||""})}}class qb extends At{constructor(i){super(i),this.stopListening(this.editor.model.document,"change"),this.listenTo(this.editor.model.document,"change",()=>this.refresh(),{priority:"low"})}refresh(){const i=this.editor.commands.get("imageInsert"),o=this.editor.commands.get("link");this.isEnabled=i.isEnabled||o.isEnabled}execute(){const i=this.editor,o=this.editor.config.get("ckfinder.openerMethod")||"modal";if("popup"!=o&&"modal"!=o)throw new z.b('ckfinder-unknown-openerMethod: The openerMethod config option must by "popup" or "modal".',i);const a=this.editor.config.get("ckfinder.options")||{};a.chooseFiles=!0;const d=a.onInit;a.language||(a.language=i.locale.uiLanguage),a.onInit=h=>{d&&d(h),h.on("files:choose",p=>{const g=p.data.files.toArray(),_=g.filter(k=>!k.isImage()),v=g.filter(k=>k.isImage());for(const k of _)i.execute("link",k.getUrl());const y=[];for(const k of v){const T=k.getUrl();y.push(T||h.request("file:getProxyUrl",{file:k}))}y.length&&jC(i,y)}),h.on("file:choose:resizedImage",p=>{const g=p.data.resizedUrl;if(g)jC(i,[g]);else{const _=i.plugins.get("Notification"),v=i.locale.t;_.showWarning(v("bi"),{title:v("bj"),namespace:"ckfinder"})}})},window.CKFinder[o](a)}}function jC(c,i){if(c.commands.get("imageInsert").isEnabled)c.execute("imageInsert",{source:i});else{const o=c.plugins.get("Notification"),a=c.locale.t;o.showWarning(a("bk"),{title:a("bl"),namespace:"ckfinder"})}}class zC extends le{static get pluginName(){return"CKFinderEditing"}static get requires(){return[Bp,Nb,Wb]}init(){const i=this.editor;i.commands.add("ckfinder",new qb(i))}}class HC extends Lp{static get pluginName(){return"PendingActions"}init(){this.set("hasAny",!1),this._actions=new $n({idProperty:"_id"}),this._actions.delegate("add","remove").to(this)}add(i){if("string"!=typeof i)throw new z.b("pendingactions-add-invalid-message: The message must be a string.",this);const o=Object.create(tn);return o.set("message",i),this._actions.add(o),this.hasAny=!0,o}remove(i){this._actions.remove(i),this.hasAny=!!this._actions.length}get first(){return this._actions.get(0)}[Symbol.iterator](){return this._actions[Symbol.iterator]()}}class Vp{constructor(){const i=new window.FileReader;this._reader=i,this._data=void 0,this.set("loaded",0),i.onprogress=o=>{this.loaded=o.loaded}}get error(){return this._reader.error}get data(){return this._data}read(i){const o=this._reader;return this.total=i.size,new Promise((a,d)=>{o.onload=()=>{const h=o.result;this._data=h,a(h)},o.onerror=()=>{d("error")},o.onabort=()=>{d("aborted")},this._reader.readAsDataURL(i)})}abort(){this._reader.abort()}}Be(Vp,tn);class Qr extends le{static get pluginName(){return"FileRepository"}static get requires(){return[HC]}init(){this.loaders=new $n,this.loaders.on("add",()=>this._updatePendingAction()),this.loaders.on("remove",()=>this._updatePendingAction()),this._loadersMap=new Map,this._pendingAction=null,this.set("uploaded",0),this.set("uploadTotal",null),this.bind("uploadedPercent").to(this,"uploaded",this,"uploadTotal",(i,o)=>o?i/o*100:0)}getLoader(i){return this._loadersMap.get(i)||null}createLoader(i){if(!this.createUploadAdapter)return console.warn(Object(z.a)("filerepository-no-upload-adapter: Upload adapter is not defined.")),null;const o=new jp(Promise.resolve(i),this.createUploadAdapter);return this.loaders.add(o),this._loadersMap.set(i,o),i instanceof Promise&&o.file.then(a=>{this._loadersMap.set(a,o)}).catch(()=>{}),o.on("change:uploaded",()=>{let a=0;for(const d of this.loaders)a+=d.uploaded;this.uploaded=a}),o.on("change:uploadTotal",()=>{let a=0;for(const d of this.loaders)d.uploadTotal&&(a+=d.uploadTotal);this.uploadTotal=a}),o}destroyLoader(i){const o=i instanceof jp?i:this.getLoader(i);o._destroy(),this.loaders.remove(o),this._loadersMap.forEach((a,d)=>{a===o&&this._loadersMap.delete(d)})}_updatePendingAction(){const i=this.editor.plugins.get(HC);if(this.loaders.length){if(!this._pendingAction){const o=this.editor.t,a=d=>`${o("bg")} ${parseInt(d)}%.`;this._pendingAction=i.add(a(this.uploadedPercent)),this._pendingAction.bind("message").to(this,"uploadedPercent",a)}}else i.remove(this._pendingAction),this._pendingAction=null}}Be(Qr,tn);class jp{constructor(i,o){this.id=Nr(),this._filePromiseWrapper=this._createFilePromiseWrapper(i),this._adapter=o(this),this._reader=new Vp,this.set("status","idle"),this.set("uploaded",0),this.set("uploadTotal",null),this.bind("uploadedPercent").to(this,"uploaded",this,"uploadTotal",(a,d)=>d?a/d*100:0),this.set("uploadResponse",null)}get file(){return this._filePromiseWrapper?this._filePromiseWrapper.promise.then(i=>this._filePromiseWrapper?i:null):Promise.resolve(null)}get data(){return this._reader.data}read(){if("idle"!=this.status)throw new z.b("filerepository-read-wrong-status: You cannot call read if the status is different than idle.",this);return this.status="reading",this.file.then(i=>this._reader.read(i)).then(i=>(this.status="idle",i)).catch(i=>{throw"aborted"===i?(this.status="aborted","aborted"):(this.status="error",this._reader.error?this._reader.error:i)})}upload(){if("idle"!=this.status)throw new z.b("filerepository-upload-wrong-status: You cannot call upload if the status is different than idle.",this);return this.status="uploading",this.file.then(()=>this._adapter.upload()).then(i=>(this.uploadResponse=i,this.status="idle",i)).catch(i=>{throw"aborted"===this.status?"aborted":(this.status="error",i)})}abort(){const i=this.status;this.status="aborted",this._filePromiseWrapper.isFulfilled?"reading"==i?this._reader.abort():"uploading"==i&&this._adapter.abort&&this._adapter.abort():(this._filePromiseWrapper.promise.catch(()=>{}),this._filePromiseWrapper.rejecter("aborted")),this._destroy()}_destroy(){this._filePromiseWrapper=void 0,this._reader=void 0,this._adapter=void 0,this.uploadResponse=void 0}_createFilePromiseWrapper(i){const o={};return o.promise=new Promise((a,d)=>{o.rejecter=d,o.isFulfilled=!1,i.then(h=>{o.isFulfilled=!0,a(h)}).catch(h=>{o.isFulfilled=!0,d(h)})}),o}}Be(jp,tn);class pD extends le{static get requires(){return[Qr]}static get pluginName(){return"CKFinderUploadAdapter"}init(){const i=this.editor.config.get("ckfinder.uploadUrl");i&&(this.editor.plugins.get(Qr).createUploadAdapter=o=>new mD(o,i,this.editor.t))}}class mD{constructor(i,o,a){this.loader=i,this.url=o,this.t=a}upload(){return this.loader.file.then(i=>new Promise((o,a)=>{this._initRequest(),this._initListeners(o,a,i),this._sendRequest(i)}))}abort(){this.xhr&&this.xhr.abort()}_initRequest(){const i=this.xhr=new XMLHttpRequest;i.open("POST",this.url,!0),i.responseType="json"}_initListeners(i,o,a){const d=this.xhr,h=this.loader,p=(0,this.t)("ba")+` ${a.name}.`;d.addEventListener("error",()=>o(p)),d.addEventListener("abort",()=>o()),d.addEventListener("load",()=>{const g=d.response;if(!g||!g.uploaded)return o(g&&g.error&&g.error.message?g.error.message:p);i({default:g.url})}),d.upload&&d.upload.addEventListener("progress",g=>{g.lengthComputable&&(h.uploadTotal=g.total,h.uploaded=g.loaded)})}_sendRequest(i){const o=new FormData;o.append("upload",i),o.append("ckCsrfToken",function zp(){let c=function(a){a=a.toLowerCase();const d=document.cookie.split(";");for(const h of d){const p=h.split("=");if(decodeURIComponent(p[0].trim().toLowerCase())===a)return decodeURIComponent(p[1])}return null}("ckCsrfToken");var o;return c&&40==c.length||(c=function(a){let d="";const h=new Uint8Array(40);window.crypto.getRandomValues(h);for(let p=0;p<h.length;p++){const g="abcdefghijklmnopqrstuvwxyz0123456789".charAt(h[p]%36);d+=Math.random()>.5?g.toUpperCase():g}return d}(),o=c,document.cookie=encodeURIComponent("ckCsrfToken")+"="+encodeURIComponent(o)+";path=/"),c}()),this.xhr.send(o)}}class gD extends At{refresh(){const i=this.editor.model,o=lr(i.document.selection.getSelectedBlocks());this.value=!!o&&o.is("paragraph"),this.isEnabled=!!o&&UC(o,i.schema)}execute(i={}){const o=this.editor.model,a=o.document;o.change(d=>{const h=(i.selection||a.selection).getSelectedBlocks();for(const p of h)!p.is("paragraph")&&UC(p,o.schema)&&d.rename(p,"paragraph")})}}function UC(c,i){return i.checkChild(c.parent,"paragraph")&&!i.isObject(c)}class od extends le{static get pluginName(){return"Paragraph"}init(){const i=this.editor,o=i.model,a=i.data;i.commands.add("paragraph",new gD(i)),o.schema.register("paragraph",{inheritAllFrom:"$block"}),i.conversion.elementToElement({model:"paragraph",view:"p"}),i.conversion.for("upcast").elementToElement({model:(d,h)=>od.paragraphLikeElements.has(d.name)?d.isEmpty?null:h.createElement("paragraph"):null,converterPriority:"low"}),a.upcastDispatcher.on("element",(d,h,p)=>{p.consumable.test(h.viewItem,{name:h.viewItem.name})&&WC(h.viewItem,h.modelCursor,p.schema)&&Object.assign(h,$C(h.viewItem,h.modelCursor,p))},{priority:"low"}),a.upcastDispatcher.on("text",(d,h,p)=>{h.modelRange||WC(h.viewItem,h.modelCursor,p.schema)&&Object.assign(h,$C(h.viewItem,h.modelCursor,p))},{priority:"lowest"}),o.document.registerPostFixer(d=>this._autoparagraphEmptyRoots(d)),i.data.on("ready",()=>{o.enqueueChange("transparent",d=>this._autoparagraphEmptyRoots(d))},{priority:"lowest"})}_autoparagraphEmptyRoots(i){const o=this.editor.model;for(const a of o.document.getRootNames()){const d=o.document.getRoot(a);if(d.isEmpty&&"$graveyard"!=d.rootName&&o.schema.checkChild(d,"paragraph"))return i.insertElement("paragraph",d),!0}}}function $C(c,i,o){const a=o.writer.createElement("paragraph");return o.writer.insert(a,i),o.convertItem(c,o.writer.createPositionAt(a,0))}function WC(c,i,o){const a=o.createContext(i);return!!o.checkChild(a,"paragraph")&&!!o.checkChild(a.push("paragraph"),c)}od.paragraphLikeElements=new Set(["blockquote","dd","div","dt","h1","h2","h3","h4","h5","h6","li","p","td"]);class _D extends At{constructor(i,o){super(i),this.modelElements=o}refresh(){const i=lr(this.editor.model.document.selection.getSelectedBlocks());this.value=!!i&&this.modelElements.includes(i.name)&&i.name,this.isEnabled=!!i&&this.modelElements.some(o=>qC(i,o,this.editor.model.schema))}execute(i){const o=this.editor.model,a=o.document,d=i.value;o.change(h=>{const p=Array.from(a.selection.getSelectedBlocks()).filter(g=>qC(g,d,o.schema));for(const g of p)g.is(d)||h.rename(g,d)})}}function qC(c,i,o){return o.checkChild(c.parent,i)&&!o.isObject(c)}class bD extends le{static get pluginName(){return"HeadingEditing"}constructor(i){super(i),i.config.define("heading",{options:[{model:"paragraph",title:"Paragraph",class:"ck-heading_paragraph"},{model:"heading1",view:"h2",title:"Heading 1",class:"ck-heading_heading1"},{model:"heading2",view:"h3",title:"Heading 2",class:"ck-heading_heading2"},{model:"heading3",view:"h4",title:"Heading 3",class:"ck-heading_heading3"}]})}static get requires(){return[od]}init(){const i=this.editor,o=i.config.get("heading.options"),a=[];for(const d of o)"paragraph"!==d.model&&(i.model.schema.register(d.model,{inheritAllFrom:"$block"}),i.conversion.elementToElement(d),a.push(d.model));this._addDefaultH1Conversion(i),i.commands.add("heading",new _D(i,a))}afterInit(){const i=this.editor,o=i.commands.get("enter"),a=i.config.get("heading.options");o&&this.listenTo(o,"afterExecute",(d,h)=>{const p=i.model.document.selection.getFirstPosition().parent;a.some(g=>p.is(g.model))&&!p.is("paragraph")&&0===p.childCount&&h.writer.rename(p,"paragraph")})}_addDefaultH1Conversion(i){i.conversion.for("upcast").elementToElement({model:"heading1",view:"h1",converterPriority:er.get("low")+1})}}class dr{constructor(i,o){o&&wc(this,o),i&&this.set(i)}}Be(dr,tn),P(11);class Hp extends le{init(){const i=this.editor,o=i.t,a=function(p){const g=p.t,_={Paragraph:g("du"),"Heading 1":g("dv"),"Heading 2":g("dw"),"Heading 3":g("dx"),"Heading 4":g("dy"),"Heading 5":g("dz"),"Heading 6":g("ea")};return p.config.get("heading.options").map(v=>{const y=_[v.title];return y&&y!=v.title&&(v.title=y),v})}(i),d=o("n"),h=o("o");i.ui.componentFactory.add("heading",p=>{const g={},_=new $n,v=i.commands.get("heading"),y=i.commands.get("paragraph"),k=[v];for(const D of a){const R={type:"button",model:new dr({label:D.title,class:D.class,withText:!0})};"paragraph"===D.model?(R.model.bind("isOn").to(y,"value"),R.model.set("commandName","paragraph"),k.push(y)):(R.model.bind("isOn").to(v,"value",F=>F===D.model),R.model.set({commandName:"heading",commandValue:D.model})),_.add(R),g[D.model]=D.title}const T=yo(p);return Yc(T,_),T.buttonView.set({isOn:!1,withText:!0,tooltip:h}),T.extendTemplate({attributes:{class:["ck-heading-dropdown"]}}),T.bind("isEnabled").toMany(k,"isEnabled",(...D)=>D.some(R=>R)),T.buttonView.bind("label").to(v,"value",y,"value",(D,R)=>{const F=D||R&&"paragraph";return g[F]?g[F]:d}),this.listenTo(T,"execute",D=>{i.execute(D.source.commandName,D.source.commandValue?{value:D.source.commandValue}:void 0),i.editing.view.focus()}),T})}}class GC extends ho{constructor(i){super(i),this.domEventType="mousedown"}onDomEvent(i){this.fire(i.type,i)}}P(48);const Gb=In("Ctrl+A");class sh extends le{static get pluginName(){return"Widget"}init(){const i=this.editor.editing.view,o=i.document;this._previouslySelected=new Set,this.editor.editing.downcastDispatcher.on("selection",(a,d,h)=>{this._clearPreviouslySelectedWidgets(h.writer);const p=h.writer,g=p.document.selection,_=g.getSelectedElement();let v=null;for(const y of g.getRanges())for(const k of y){const T=k.item;xs(T)&&!Kb(T,v)&&(p.addClass("ck-widget_selected",T),this._previouslySelected.add(T),v=T,T==_&&p.setSelection(g.getRanges(),{fake:!0,label:AC(_)}))}},{priority:"low"}),i.addObserver(GC),this.listenTo(o,"mousedown",(...a)=>this._onMousedown(...a)),this.listenTo(o,"keydown",(...a)=>this._onKeydown(...a),{priority:"high"}),this.listenTo(o,"delete",(a,d)=>{this._handleDelete("forward"==d.direction)&&(d.preventDefault(),a.stop())},{priority:"high"})}_onMousedown(i,o){const a=this.editor,d=a.editing.view,h=d.document;let p=o.target;if(function(_){for(;_;){if(_.is("editableElement")&&!_.is("rootElement"))return!0;if(xs(_))return!1;_=_.parent}return!1}(p)){if(yi_isSafari&&o.domEvent.detail>=3){const _=a.editing.mapper.toModelElement(p);this.editor.model.change(v=>{o.preventDefault(),v.setSelection(_,"in")})}return}if(!xs(p)&&(p=p.findAncestor(xs),!p))return;o.preventDefault(),h.isFocused||d.focus();const g=a.editing.mapper.toModelElement(p);this._setSelectionOverElement(g)}_onKeydown(i,o){const a=o.keyCode;let p=!1;var g;(g=a)==ct.arrowright||g==ct.arrowleft||g==ct.arrowup||g==ct.arrowdown?p=this._handleArrowKeys(a==ct.arrowdown||a==ct["ltr"===this.editor.locale.contentLanguageDirection?"arrowright":"arrowleft"]):function(g){return Bo(g)==Gb}(o)?p=this._selectAllNestedEditableContent()||this._selectAllContent():a===ct.enter&&(p=this._handleEnterKey(o.shiftKey)),p&&(o.preventDefault(),i.stop())}_handleDelete(i){if(this.editor.isReadOnly)return;const o=this.editor.model.document.selection;if(!o.isCollapsed)return;const a=this._getObjectElementNextToSelection(i);return a?(this.editor.model.change(d=>{let h=o.anchor.parent;for(;h.isEmpty;){const p=h;h=p.parent,d.remove(p)}this._setSelectionOverElement(a)}),!0):void 0}_handleArrowKeys(i){const o=this.editor.model,a=o.schema,d=o.document.selection,h=d.getSelectedElement();if(h&&a.isObject(h)){const g=i?d.getLastPosition():d.getFirstPosition(),_=a.getNearestSelectionRange(g,i?"forward":"backward");return _&&o.change(v=>{v.setSelection(_)}),!0}if(!d.isCollapsed)return;const p=this._getObjectElementNextToSelection(i);return p&&a.isObject(p)?(this._setSelectionOverElement(p),!0):void 0}_handleEnterKey(i){const o=this.editor.model,a=o.document.selection.getSelectedElement();if(h=o.schema,(d=a)&&h.isObject(d)&&!h.isInline(d))return o.change(p=>{let g=p.createPositionAt(a,i?"before":"after");const _=p.createElement("paragraph");if(o.schema.isBlock(a.parent)){const v=o.schema.findAllowedParent(g,_);g=p.split(g,v).position}p.insert(_,g),p.setSelection(_,"in")}),!0;var d,h}_selectAllNestedEditableContent(){const i=this.editor.model,o=i.document.selection,a=i.schema.getLimitElement(o);return o.getFirstRange().root!=a&&(i.change(d=>{d.setSelection(d.createRangeIn(a))}),!0)}_selectAllContent(){const i=this.editor.model,o=this.editor.editing,a=o.view.document.selection.getSelectedElement();if(a&&xs(a)){const d=o.mapper.toModelElement(a.parent);return i.change(h=>{h.setSelection(h.createRangeIn(d))}),!0}return!1}_setSelectionOverElement(i){this.editor.model.change(o=>{o.setSelection(o.createRangeOn(i))})}_getObjectElementNextToSelection(i){const o=this.editor.model,a=o.schema,h=o.createSelection(o.document.selection);o.modifySelection(h,{direction:i?"forward":"backward"});const p=i?h.focus.nodeBefore:h.focus.nodeAfter;return p&&a.isObject(p)?p:null}_clearPreviouslySelectedWidgets(i){for(const o of this._previouslySelected)i.removeClass("ck-widget_selected",o);this._previouslySelected.clear()}}function Kb(c,i){return!!i&&Array.from(c.getAncestors()).includes(i)}class Up extends At{refresh(){const i=this.editor.model.document.selection.getSelectedElement();this.isEnabled=Mp(i),this.value=!(!Mp(i)||!i.hasAttribute("alt"))&&i.getAttribute("alt")}execute(i){const o=this.editor.model,a=o.document.selection.getSelectedElement();o.change(d=>{d.setAttribute("alt",i.newValue,a)})}}class KC extends le{static get pluginName(){return"ImageTextAlternativeEditing"}init(){this.editor.commands.add("imageTextAlternative",new Up(this.editor))}}P(50);class Ho extends Ge{constructor(i,o){super(i);const a=`ck-input-${Nr()}`,d=`ck-status-${Nr()}`;this.set("label"),this.set("value"),this.set("isReadOnly",!1),this.set("errorText",null),this.set("infoText",null),this.labelView=this._createLabelView(a),this.inputView=this._createInputView(o,a,d),this.statusView=this._createStatusView(d),this.bind("_statusText").to(this,"errorText",this,"infoText",(p,g)=>p||g),this.setTemplate({tag:"div",attributes:{class:["ck","ck-labeled-input",this.bindTemplate.if("isReadOnly","ck-disabled")]},children:[this.labelView,this.inputView,this.statusView]})}_createLabelView(i){const o=new ws(this.locale);return o.for=i,o.bind("text").to(this,"label"),o}_createInputView(i,o,a){const d=new i(this.locale,a);return d.id=o,d.ariaDescribedById=a,d.bind("value").to(this),d.bind("isReadOnly").to(this),d.bind("hasError").to(this,"errorText",h=>!!h),d.on("input",()=>{this.errorText=null}),d}_createStatusView(i){const o=new Ge(this.locale),a=this.bindTemplate;return o.setTemplate({tag:"div",attributes:{class:["ck","ck-labeled-input__status",a.if("errorText","ck-labeled-input__status_error"),a.if("_statusText","ck-hidden",d=>!d)],id:i,role:a.if("errorText","alert")},children:[{text:a.to("_statusText")}]}),o}select(){this.inputView.select()}focus(){this.inputView.focus()}}P(52);class sd extends Ge{constructor(i){super(i),this.set("value"),this.set("id"),this.set("placeholder"),this.set("isReadOnly",!1),this.set("hasError",!1),this.set("ariaDescribedById");const o=this.bindTemplate;this.setTemplate({tag:"input",attributes:{type:"text",class:["ck","ck-input","ck-input-text",o.if("hasError","ck-error")],id:o.to("id"),placeholder:o.to("placeholder"),readonly:o.to("isReadOnly"),"aria-invalid":o.if("hasError",!0),"aria-describedby":o.to("ariaDescribedById")},on:{input:o.to("input")}})}render(){super.render();const i=o=>{this.element.value=o||0===o?o:""};i(this.value),this.on("change:value",(o,a,d)=>{i(d)})}select(){this.element.select()}focus(){this.element.focus()}}function $p({view:c}){c.listenTo(c.element,"submit",(i,o)=>{o.preventDefault(),c.fire("submit")},{useCapture:!0})}var ad='<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M6.972 16.615a.997.997 0 01-.744-.292l-4.596-4.596a1 1 0 111.414-1.414l3.926 3.926 9.937-9.937a1 1 0 011.414 1.415L7.717 16.323a.997.997 0 01-.745.292z"/></svg>',Wp='<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M11.591 10.177l4.243 4.242a1 1 0 01-1.415 1.415l-4.242-4.243-4.243 4.243a1 1 0 01-1.414-1.415l4.243-4.242L4.52 5.934A1 1 0 015.934 4.52l4.243 4.243 4.242-4.243a1 1 0 111.415 1.414l-4.243 4.243z"/></svg>';P(54);class Qb extends Ge{constructor(i){super(i);const o=this.locale.t;this.focusTracker=new sr,this.keystrokes=new wi,this.labeledInput=this._createLabeledInputView(),this.saveButtonView=this._createButton(o("bs"),ad,"ck-button-save"),this.saveButtonView.type="submit",this.cancelButtonView=this._createButton(o("bt"),Wp,"ck-button-cancel","cancel"),this._focusables=new da,this._focusCycler=new ks({focusables:this._focusables,focusTracker:this.focusTracker,keystrokeHandler:this.keystrokes,actions:{focusPrevious:"shift + tab",focusNext:"tab"}}),this.setTemplate({tag:"form",attributes:{class:["ck","ck-text-alternative-form"],tabindex:"-1"},children:[this.labeledInput,this.saveButtonView,this.cancelButtonView]})}render(){super.render(),this.keystrokes.listenTo(this.element),$p({view:this}),[this.labeledInput,this.saveButtonView,this.cancelButtonView].forEach(i=>{this._focusables.add(i),this.focusTracker.add(i.element)})}_createButton(i,o,a,d){const h=new Bt(this.locale);return h.set({label:i,icon:o,tooltip:!0}),h.extendTemplate({attributes:{class:a}}),d&&h.delegate("execute").to(this,d),h}_createLabeledInputView(){const i=this.locale.t,o=new Ho(this.locale,sd);return o.label=i("cf"),o.inputView.placeholder=i("cf"),o}}P(56);const Yb=lp("px"),Zb=Mt.document.body;class Kt extends Ge{constructor(i){super(i);const o=this.bindTemplate;this.set("top",0),this.set("left",0),this.set("position","arrow_nw"),this.set("isVisible",!1),this.set("withArrow",!0),this.set("class"),this.content=this.createCollection(),this.setTemplate({tag:"div",attributes:{class:["ck","ck-balloon-panel",o.to("position",a=>`ck-balloon-panel_${a}`),o.if("isVisible","ck-balloon-panel_visible"),o.if("withArrow","ck-balloon-panel_with-arrow"),o.to("class")],style:{top:o.to("top",Yb),left:o.to("left",Yb)}},children:this.content})}show(){this.isVisible=!0}hide(){this.isVisible=!1}attachTo(i){this.show();const o=Kt.defaultPositions,a=Object.assign({},{element:this.element,positions:[o.southArrowNorth,o.southArrowNorthWest,o.southArrowNorthEast,o.northArrowSouth,o.northArrowSouthWest,o.northArrowSouthEast],limiter:Zb,fitInViewport:!0},i),d=Kt._getOptimalPosition(a),h=parseInt(d.left),p=parseInt(d.top);Object.assign(this,{top:p,left:h,position:d.name})}pin(i){this.unpin(),this._pinWhenIsVisibleCallback=()=>{this.isVisible?this._startPinning(i):this._stopPinning()},this._startPinning(i),this.listenTo(this,"change:isVisible",this._pinWhenIsVisibleCallback)}unpin(){this._pinWhenIsVisibleCallback&&(this._stopPinning(),this.stopListening(this,"change:isVisible",this._pinWhenIsVisibleCallback),this._pinWhenIsVisibleCallback=null,this.hide())}_startPinning(i){this.attachTo(i);const o=Ts(i.target),a=i.limiter?Ts(i.limiter):Zb;this.listenTo(Mt.document,"scroll",(d,h)=>{const p=h.target,g=o&&p.contains(o),_=a&&p.contains(a);!g&&!_&&o&&a||this.attachTo(i)},{useCapture:!0}),this.listenTo(Mt.window,"resize",()=>{this.attachTo(i)})}_stopPinning(){this.stopListening(Mt.document,"scroll"),this.stopListening(Mt.window,"resize")}}function Ts(c){return Po(c)?c:cl(c)?c.commonAncestorContainer:"function"==typeof c?Ts(c()):null}function Yr(c,i){return c.top-i.height-Kt.arrowVerticalOffset}function qi(c){return c.bottom+Kt.arrowVerticalOffset}Kt.arrowHorizontalOffset=25,Kt.arrowVerticalOffset=10,Kt._getOptimalPosition=pb,Kt.defaultPositions={northArrowSouth:(c,i)=>({top:Yr(c,i),left:c.left+c.width/2-i.width/2,name:"arrow_s"}),northArrowSouthEast:(c,i)=>({top:Yr(c,i),left:c.left+c.width/2-i.width+Kt.arrowHorizontalOffset,name:"arrow_se"}),northArrowSouthWest:(c,i)=>({top:Yr(c,i),left:c.left+c.width/2-Kt.arrowHorizontalOffset,name:"arrow_sw"}),northWestArrowSouth:(c,i)=>({top:Yr(c,i),left:c.left-i.width/2,name:"arrow_s"}),northWestArrowSouthWest:(c,i)=>({top:Yr(c,i),left:c.left-Kt.arrowHorizontalOffset,name:"arrow_sw"}),northWestArrowSouthEast:(c,i)=>({top:Yr(c,i),left:c.left-i.width+Kt.arrowHorizontalOffset,name:"arrow_se"}),northEastArrowSouth:(c,i)=>({top:Yr(c,i),left:c.right-i.width/2,name:"arrow_s"}),northEastArrowSouthEast:(c,i)=>({top:Yr(c,i),left:c.right-i.width+Kt.arrowHorizontalOffset,name:"arrow_se"}),northEastArrowSouthWest:(c,i)=>({top:Yr(c,i),left:c.right-Kt.arrowHorizontalOffset,name:"arrow_sw"}),southArrowNorth:(c,i)=>({top:qi(c),left:c.left+c.width/2-i.width/2,name:"arrow_n"}),southArrowNorthEast:(c,i)=>({top:qi(c),left:c.left+c.width/2-i.width+Kt.arrowHorizontalOffset,name:"arrow_ne"}),southArrowNorthWest:(c,i)=>({top:qi(c),left:c.left+c.width/2-Kt.arrowHorizontalOffset,name:"arrow_nw"}),southWestArrowNorth:(c,i)=>({top:qi(c),left:c.left-i.width/2,name:"arrow_n"}),southWestArrowNorthWest:(c,i)=>({top:qi(c),left:c.left-Kt.arrowHorizontalOffset,name:"arrow_nw"}),southWestArrowNorthEast:(c,i)=>({top:qi(c),left:c.left-i.width+Kt.arrowHorizontalOffset,name:"arrow_ne"}),southEastArrowNorth:(c,i)=>({top:qi(c),left:c.right-i.width/2,name:"arrow_n"}),southEastArrowNorthEast:(c,i)=>({top:qi(c),left:c.right-i.width+Kt.arrowHorizontalOffset,name:"arrow_ne"}),southEastArrowNorthWest:(c,i)=>({top:qi(c),left:c.right-Kt.arrowHorizontalOffset,name:"arrow_nw"})},P(58),P(60);const Es=lp("px");class ur extends le{static get pluginName(){return"ContextualBalloon"}constructor(i){super(i),this.positionLimiter=()=>{const o=this.editor.editing.view,a=o.document.selection.editableElement;return a?o.domConverter.mapViewToDom(a.root):null},this.set("visibleView",null),this.view=new Kt(i.locale),i.ui.view.body.add(this.view),i.ui.focusTracker.add(this.view.element),this._viewToStack=new Map,this._idToStack=new Map,this.set("_numberOfStacks",0),this.set("_singleViewMode",!1),this._rotatorView=this._createRotatorView(),this._fakePanelsView=this._createFakePanelsView()}hasView(i){return Array.from(this._viewToStack.keys()).includes(i)}add(i){if(this.hasView(i.view))throw new z.b("contextualballoon-add-view-exist: Cannot add configuration of the same view twice.",[this,i]);const o=i.stackId||"main";if(!this._idToStack.has(o))return this._idToStack.set(o,new Map([[i.view,i]])),this._viewToStack.set(i.view,this._idToStack.get(o)),this._numberOfStacks=this._idToStack.size,void(this._visibleStack&&!i.singleViewMode||this.showStack(o));const a=this._idToStack.get(o);i.singleViewMode&&this.showStack(o),a.set(i.view,i),this._viewToStack.set(i.view,a),a===this._visibleStack&&this._showView(i)}remove(i){if(!this.hasView(i))throw new z.b("contextualballoon-remove-view-not-exist: Cannot remove the configuration of a non-existent view.",[this,i]);const o=this._viewToStack.get(i);this._singleViewMode&&this.visibleView===i&&(this._singleViewMode=!1),this.visibleView===i&&(1===o.size?this._idToStack.size>1?this._showNextStack():(this.view.hide(),this.visibleView=null,this._rotatorView.hideView()):this._showView(Array.from(o.values())[o.size-2])),1===o.size?(this._idToStack.delete(this._getStackId(o)),this._numberOfStacks=this._idToStack.size):o.delete(i),this._viewToStack.delete(i)}updatePosition(i){i&&(this._visibleStack.get(this.visibleView).position=i),this.view.pin(this._getBalloonPosition()),this._fakePanelsView.updatePosition()}showStack(i){this.visibleStack=i;const o=this._idToStack.get(i);if(!o)throw new z.b("contextualballoon-showstack-stack-not-exist: Cannot show a stack that does not exist.",this);this._visibleStack!==o&&this._showView(Array.from(o.values()).pop())}get _visibleStack(){return this._viewToStack.get(this.visibleView)}_getStackId(i){return Array.from(this._idToStack.entries()).find(o=>o[1]===i)[0]}_showNextStack(){const i=Array.from(this._idToStack.values());let o=i.indexOf(this._visibleStack)+1;i[o]||(o=0),this.showStack(this._getStackId(i[o]))}_showPrevStack(){const i=Array.from(this._idToStack.values());let o=i.indexOf(this._visibleStack)-1;i[o]||(o=i.length-1),this.showStack(this._getStackId(i[o]))}_createRotatorView(){const i=new QC(this.editor.locale),o=this.editor.locale.t;return this.view.content.add(i),i.bind("isNavigationVisible").to(this,"_numberOfStacks",this,"_singleViewMode",(a,d)=>!d&&a>1),i.on("change:isNavigationVisible",()=>this.updatePosition(),{priority:"low"}),i.bind("counter").to(this,"visibleView",this,"_numberOfStacks",(a,d)=>{if(d<2)return"";const h=Array.from(this._idToStack.values()).indexOf(this._visibleStack)+1;return o("cc",[h,d])}),i.buttonNextView.on("execute",()=>{i.focusTracker.isFocused&&this.editor.editing.view.focus(),this._showNextStack()}),i.buttonPrevView.on("execute",()=>{i.focusTracker.isFocused&&this.editor.editing.view.focus(),this._showPrevStack()}),i}_createFakePanelsView(){const i=new Xb(this.editor.locale,this.view);return i.bind("numberOfPanels").to(this,"_numberOfStacks",this,"_singleViewMode",(o,a)=>!a&&o>=2?Math.min(o-1,2):0),i.listenTo(this.view,"change:top",()=>i.updatePosition()),i.listenTo(this.view,"change:left",()=>i.updatePosition()),this.editor.ui.view.body.add(i),i}_showView({view:i,balloonClassName:o="",withArrow:a=!0,singleViewMode:d=!1}){this.view.class=o,this.view.withArrow=a,this._rotatorView.showView(i),this.visibleView=i,this.view.pin(this._getBalloonPosition()),this._fakePanelsView.updatePosition(),d&&(this._singleViewMode=!0)}_getBalloonPosition(){let i=Array.from(this._visibleStack.values()).pop().position;return i&&!i.limiter&&(i=Object.assign({},i,{limiter:this.positionLimiter})),i}}class QC extends Ge{constructor(i){super(i);const o=i.t,a=this.bindTemplate;this.set("isNavigationVisible",!0),this.focusTracker=new sr,this.buttonPrevView=this._createButtonView(o("cd"),'<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M11.463 5.187a.888.888 0 111.254 1.255L9.16 10l3.557 3.557a.888.888 0 11-1.254 1.255L7.26 10.61a.888.888 0 01.16-1.382l4.043-4.042z"/></svg>'),this.buttonNextView=this._createButtonView(o("ce"),'<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M8.537 14.813a.888.888 0 11-1.254-1.255L10.84 10 7.283 6.442a.888.888 0 111.254-1.255L12.74 9.39a.888.888 0 01-.16 1.382l-4.043 4.042z"/></svg>'),this.content=this.createCollection(),this.setTemplate({tag:"div",attributes:{class:["ck","ck-balloon-rotator"],"z-index":"-1"},children:[{tag:"div",attributes:{class:["ck-balloon-rotator__navigation",a.to("isNavigationVisible",d=>d?"":"ck-hidden")]},children:[this.buttonPrevView,{tag:"span",attributes:{class:["ck-balloon-rotator__counter"]},children:[{text:a.to("counter")}]},this.buttonNextView]},{tag:"div",attributes:{class:"ck-balloon-rotator__content"},children:this.content}]})}render(){super.render(),this.focusTracker.add(this.element)}showView(i){this.hideView(),this.content.add(i)}hideView(){this.content.clear()}_createButtonView(i,o){const a=new Bt(this.locale);return a.set({label:i,icon:o,tooltip:!0}),a}}class Xb extends Ge{constructor(i,o){super(i);const a=this.bindTemplate;this.set("top",0),this.set("left",0),this.set("height",0),this.set("width",0),this.set("numberOfPanels",0),this.content=this.createCollection(),this._balloonPanelView=o,this.setTemplate({tag:"div",attributes:{class:["ck-fake-panel",a.to("numberOfPanels",d=>d?"":"ck-hidden")],style:{top:a.to("top",Es),left:a.to("left",Es),width:a.to("width",Es),height:a.to("height",Es)}},children:this.content}),this.on("change:numberOfPanels",(d,h,p,g)=>{p>g?this._addPanels(p-g):this._removePanels(g-p),this.updatePosition()})}_addPanels(i){for(;i--;){const o=new Ge;o.setTemplate({tag:"div"}),this.content.add(o),this.registerChild(o)}}_removePanels(i){for(;i--;){const o=this.content.last;this.content.remove(o),this.deregisterChild(o),o.destroy()}}updatePosition(){if(this.numberOfPanels){const{top:i,left:o}=this._balloonPanelView,{width:a,height:d}=new Ut(this._balloonPanelView.element);Object.assign(this,{top:i,left:o,width:a,height:d})}}}function qp(c){const i=c.editing.view,o=Kt.defaultPositions;return{target:i.domConverter.viewToDom(i.document.selection.getSelectedElement()),positions:[o.northArrowSouth,o.northArrowSouthWest,o.northArrowSouthEast,o.southArrowNorth,o.southArrowNorthWest,o.southArrowNorthEast]}}class Gp extends le{static get requires(){return[ur]}static get pluginName(){return"ImageTextAlternativeUI"}init(){this._createButton(),this._createForm()}destroy(){super.destroy(),this._form.destroy()}_createButton(){const i=this.editor,o=i.t;i.ui.componentFactory.add("imageTextAlternative",a=>{const d=i.commands.get("imageTextAlternative"),h=new Bt(a);return h.set({label:o("bh"),icon:'<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M5.085 6.22L2.943 4.078a.75.75 0 111.06-1.06l2.592 2.59A11.094 11.094 0 0110 5.068c4.738 0 8.578 3.101 8.578 5.083 0 1.197-1.401 2.803-3.555 3.887l1.714 1.713a.75.75 0 01-.09 1.138.488.488 0 01-.15.084.75.75 0 01-.821-.16L6.17 7.304c-.258.11-.51.233-.757.365l6.239 6.24-.006.005.78.78c-.388.094-.78.166-1.174.215l-1.11-1.11h.011L4.55 8.197a7.2 7.2 0 00-.665.514l-.112.098 4.897 4.897-.005.006 1.276 1.276a10.164 10.164 0 01-1.477-.117l-.479-.479-.009.009-4.863-4.863-.022.031a2.563 2.563 0 00-.124.2c-.043.077-.08.158-.108.241a.534.534 0 00-.028.133.29.29 0 00.008.072.927.927 0 00.082.226c.067.133.145.26.234.379l3.242 3.365.025.01.59.623c-3.265-.918-5.59-3.155-5.59-4.668 0-1.194 1.448-2.838 3.663-3.93zm7.07.531a4.632 4.632 0 011.108 5.992l.345.344.046-.018a9.313 9.313 0 002-1.112c.256-.187.5-.392.727-.613.137-.134.27-.277.392-.431.072-.091.141-.185.203-.286.057-.093.107-.19.148-.292a.72.72 0 00.036-.12.29.29 0 00.008-.072.492.492 0 00-.028-.133.999.999 0 00-.036-.096 2.165 2.165 0 00-.071-.145 2.917 2.917 0 00-.125-.2 3.592 3.592 0 00-.263-.335 5.444 5.444 0 00-.53-.523 7.955 7.955 0 00-1.054-.768 9.766 9.766 0 00-1.879-.891c-.337-.118-.68-.219-1.027-.301zm-2.85.21l-.069.002a.508.508 0 00-.254.097.496.496 0 00-.104.679.498.498 0 00.326.199l.045.005c.091.003.181.003.272.012a2.45 2.45 0 012.017 1.513c.024.061.043.125.069.185a.494.494 0 00.45.287h.008a.496.496 0 00.35-.158.482.482 0 00.13-.335.638.638 0 00-.048-.219 3.379 3.379 0 00-.36-.723 3.438 3.438 0 00-2.791-1.543l-.028-.001h-.013z"/></svg>',tooltip:!0}),h.bind("isEnabled").to(d,"isEnabled"),this.listenTo(h,"execute",()=>{this._showForm()}),h})}_createForm(){const i=this.editor,o=i.editing.view.document;this._balloon=this.editor.plugins.get("ContextualBalloon"),this._form=new Qb(i.locale),this._form.render(),this.listenTo(this._form,"submit",()=>{i.execute("imageTextAlternative",{newValue:this._form.labeledInput.inputView.element.value}),this._hideForm(!0)}),this.listenTo(this._form,"cancel",()=>{this._hideForm(!0)}),this._form.keystrokes.set("Esc",(a,d)=>{this._hideForm(!0),d()}),this.listenTo(i.ui,"update",()=>{th(o.selection)?this._isVisible&&function(a){const d=a.plugins.get("ContextualBalloon");if(th(a.editing.view.document.selection)){const h=qp(a);d.updatePosition(h)}}(i):this._hideForm(!0)}),Qc({emitter:this._form,activator:()=>this._isVisible,contextElements:[this._balloon.view.element],callback:()=>this._hideForm()})}_showForm(){if(this._isVisible)return;const i=this.editor,o=i.commands.get("imageTextAlternative"),a=this._form.labeledInput;this._isInBalloon||this._balloon.add({view:this._form,position:qp(i)}),a.value=a.inputView.element.value=o.value||"",this._form.labeledInput.select()}_hideForm(i){this._isInBalloon&&(this._form.focusTracker.isFocused&&this._form.saveButtonView.focus(),this._balloon.remove(this._form),i&&this.editor.editing.view.focus())}get _isVisible(){return this._balloon.visibleView===this._form}get _isInBalloon(){return this._balloon.hasView(this._form)}}class Kp extends le{static get requires(){return[KC,Gp]}static get pluginName(){return"ImageTextAlternative"}}P(62);class ld extends le{static get requires(){return[ur]}static get pluginName(){return"WidgetToolbarRepository"}init(){const i=this.editor;if(i.plugins.has("BalloonToolbar")){const o=i.plugins.get("BalloonToolbar");this.listenTo(o,"show",a=>{(function(d){const h=d.getSelectedElement();return!(!h||!xs(h))})(i.editing.view.document.selection)&&a.stop()},{priority:"high"})}this._toolbarDefinitions=new Map,this._balloon=this.editor.plugins.get("ContextualBalloon"),this.on("change:isEnabled",()=>{this._updateToolbarsVisibility()}),this.listenTo(i.ui,"update",()=>{this._updateToolbarsVisibility()}),this.listenTo(i.ui.focusTracker,"change:isFocused",()=>{this._updateToolbarsVisibility()},{priority:"low"})}destroy(){super.destroy();for(const i of this._toolbarDefinitions.values())i.view.destroy()}register(i,{ariaLabel:o,items:a,getRelatedElement:d,balloonClassName:h="ck-toolbar-container"}){const p=this.editor,g=p.t,_=new Zc(p.locale);if(_.ariaLabel=o||g("az"),this._toolbarDefinitions.has(i))throw new z.b("widget-toolbar-duplicated: Toolbar with the given id was already added.",this,{toolbarId:i});_.fillFromConfig(a,p.ui.componentFactory),this._toolbarDefinitions.set(i,{view:_,getRelatedElement:d,balloonClassName:h})}_updateToolbarsVisibility(){let i=0,o=null,a=null;for(const d of this._toolbarDefinitions.values()){const h=d.getRelatedElement(this.editor.editing.view.document.selection);if(this.isEnabled&&h)if(this.editor.ui.focusTracker.isFocused){const p=h.getAncestors().length;p>i&&(i=p,o=h,a=d)}else this._isToolbarVisible(d)&&this._hideToolbar(d);else this._isToolbarInBalloon(d)&&this._hideToolbar(d)}a&&this._showToolbar(a,o)}_hideToolbar(i){this._balloon.remove(i.view),this.stopListening(this._balloon,"change:visibleView")}_showToolbar(i,o){this._isToolbarVisible(i)?cd(this.editor,o):this._isToolbarInBalloon(i)||(this._balloon.add({view:i.view,position:Jb(this.editor,o),balloonClassName:i.balloonClassName}),this.listenTo(this._balloon,"change:visibleView",()=>{for(const a of this._toolbarDefinitions.values())if(this._isToolbarVisible(a)){const d=a.getRelatedElement(this.editor.editing.view.document.selection);cd(this.editor,d)}}))}_isToolbarVisible(i){return this._balloon.visibleView===i.view}_isToolbarInBalloon(i){return this._balloon.hasView(i.view)}}function cd(c,i){const o=c.plugins.get("ContextualBalloon"),a=Jb(c,i);o.updatePosition(a)}function Jb(c,i){const a=Kt.defaultPositions;return{target:c.editing.view.domConverter.mapViewToDom(i),positions:[a.northArrowSouth,a.northArrowSouthWest,a.northArrowSouthEast,a.southArrowNorth,a.southArrowNorthWest,a.southArrowNorthEast]}}class ev extends Ge{constructor(i){super(i),this.buttonView=new Bt(i),this._fileInputView=new vD(i),this._fileInputView.bind("acceptedType").to(this),this._fileInputView.bind("allowMultipleFiles").to(this),this._fileInputView.delegate("done").to(this),this.setTemplate({tag:"span",attributes:{class:"ck-file-dialog-button"},children:[this.buttonView,this._fileInputView]}),this.buttonView.on("execute",()=>{this._fileInputView.open()})}focus(){this.buttonView.focus()}}class vD extends Ge{constructor(i){super(i),this.set("acceptedType"),this.set("allowMultipleFiles",!1);const o=this.bindTemplate;this.setTemplate({tag:"input",attributes:{class:["ck-hidden"],type:"file",tabindex:"-1",accept:o.to("acceptedType"),multiple:o.to("allowMultipleFiles")},on:{change:o.to(()=>{this.element&&this.element.files&&this.element.files.length&&this.fire("done",this.element.files),this.element.value=""})}})}open(){this.element.click()}}function Qp(c){const i=c.map(o=>o.replace("+","\\+"));return new RegExp(`^image\\/(${i.join("|")})$`)}function tv(c){return new Promise((i,o)=>{const a=c.getAttribute("src");fetch(a).then(d=>d.blob()).then(d=>{const h=(_=a,(g=d).type?g.type:_.match(/data:(image\/\w+);base64/)?_.match(/data:(image\/\w+);base64/)[1].toLowerCase():"image/jpeg"),p=function(g,_,v){try{return new File([g],_,{type:v})}catch(y){return null}}(d,`image.${h.replace("image/","")}`,h);var g,_;p?i(p):o()}).catch(o)})}class YC extends le{init(){const i=this.editor,o=i.t;i.ui.componentFactory.add("imageUpload",a=>{const d=new ev(a),h=i.commands.get("imageUpload"),p=i.config.get("image.upload.types"),g=Qp(p);return d.set({acceptedType:p.map(_=>`image/${_}`).join(","),allowMultipleFiles:!0}),d.buttonView.set({label:o("d"),icon:'<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M6.91 10.54c.26-.23.64-.21.88.03l3.36 3.14 2.23-2.06a.64.64 0 01.87 0l2.52 2.97V4.5H3.2v10.12l3.71-4.08zm10.27-7.51c.6 0 1.09.47 1.09 1.05v11.84c0 .59-.49 1.06-1.09 1.06H2.79c-.6 0-1.09-.47-1.09-1.06V4.08c0-.58.49-1.05 1.1-1.05h14.38zm-5.22 5.56a1.96 1.96 0 113.4-1.96 1.96 1.96 0 01-3.4 1.96z"/></svg>',tooltip:!0}),d.buttonView.bind("isEnabled").to(h),d.on("done",(_,v)=>{const y=Array.from(v).filter(k=>g.test(k.type));y.length&&i.execute("imageUpload",{file:y})}),d})}}P(64),P(66),P(68);class nv extends le{constructor(i){super(i),this.placeholder="data:image/svg+xml;utf8,"+encodeURIComponent('<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 700 250"><rect rx="4"/></svg>')}init(){this.editor.editing.downcastDispatcher.on("attribute:uploadStatus:image",(...i)=>this.uploadStatusChange(...i))}uploadStatusChange(i,o,a){const d=this.editor,h=o.item,p=h.getAttribute("uploadId");if(!a.consumable.consume(o.item,i.name))return;const g=d.plugins.get(Qr),_=p?o.attributeNewValue:null,v=this.placeholder,y=d.editing.mapper.toViewElement(h),k=a.writer;if("reading"==_)return iv(y,k),void rv(v,y,k);if("uploading"==_){const T=g.loaders.get(p);return iv(y,k),void(T?(Gi(y,k),function(D,R,F,$){const J=function(ae){const _e=ae.createUIElement("div",{class:"ck-progress-bar"});return ae.setCustomProperty("progressBar",!0,_e),_e}(R);R.insert(R.createPositionAt(D,"end"),J),F.on("change:uploadedPercent",(ae,_e,ut)=>{$.change(On=>{On.setStyle("width",ut+"%",J)})})}(y,k,T,d.editing.view),function(D,R,F){if(F.data){const $=D.getChild(0);R.setAttribute("src",F.data,$)}}(y,k,T)):rv(v,y,k))}"complete"==_&&g.loaders.get(p)&&!yi_isEdge&&function(T,D,R){const F=D.createUIElement("div",{class:"ck-image-upload-complete-icon"});D.insert(D.createPositionAt(T,"end"),F),setTimeout(()=>{R.change($=>$.remove($.createRangeOn(F)))},3e3)}(y,k,d.editing.view),sv(y,k,"progressBar"),Gi(y,k),k.removeClass("ck-appear",y)}}function iv(c,i){c.hasClass("ck-appear")||i.addClass("ck-appear",c)}function rv(c,i,o){i.hasClass("ck-image-upload-placeholder")||o.addClass("ck-image-upload-placeholder",i);const a=i.getChild(0);a.getAttribute("src")!==c&&o.setAttribute("src",c,a),ov(i,"placeholder")||o.insert(o.createPositionAfter(a),function(d){const h=d.createUIElement("div",{class:"ck-upload-placeholder-loader"});return d.setCustomProperty("placeholder",!0,h),h}(o))}function Gi(c,i){c.hasClass("ck-image-upload-placeholder")&&i.removeClass("ck-image-upload-placeholder",c),sv(c,i,"placeholder")}function ov(c,i){for(const o of c.getChildren())if(o.getCustomProperty(i))return o}function sv(c,i,o){const a=ov(c,o);a&&i.remove(i.createRangeOn(a))}class Yp{createDocumentFragment(i){return new cs(i)}createElement(i,o,a){return new vr(i,o,a)}createText(i){return new ue(i)}clone(i,o=!1){return i._clone(o)}appendChild(i,o){return o._appendChild(i)}insertChild(i,o,a){return a._insertChild(i,o)}removeChildren(i,o,a){return a._removeChildren(i,o)}remove(i){const o=i.parent;return o?this.removeChildren(o.getChildIndex(i),1,o):[]}replace(i,o){const a=i.parent;if(a){const d=a.getChildIndex(i);return this.removeChildren(d,1,a),this.insertChild(d,o,a),!0}return!1}unwrapElement(i){const o=i.parent;if(o){const a=o.getChildIndex(i);this.remove(i),this.insertChild(a,i.getChildren(),o)}}rename(i,o){const a=new vr(i,o.getAttributes(),o.getChildren());return this.replace(o,a)?a:null}setAttribute(i,o,a){a._setAttribute(i,o)}removeAttribute(i,o){o._removeAttribute(i)}addClass(i,o){o._addClass(i)}removeClass(i,o){o._removeClass(i)}setStyle(i,o,a){Ae(i)&&void 0===a&&(a=o),a._setStyle(i,o)}removeStyle(i,o){o._removeStyle(i)}setCustomProperty(i,o,a){a._setCustomProperty(i,o)}removeCustomProperty(i,o){return o._removeCustomProperty(i)}createPositionAt(i,o){return he._createAt(i,o)}createPositionAfter(i){return he._createAfter(i)}createPositionBefore(i){return he._createBefore(i)}createRange(i,o){return new Ye(i,o)}createRangeOn(i){return Ye._createOn(i)}createRangeIn(i){return Ye._createIn(i)}createSelection(i,o,a){return new zr(i,o,a)}}class yD extends At{refresh(){this.isEnabled=Ob(this.editor.model)}execute(i){const o=this.editor,a=o.model,d=o.plugins.get(Qr);a.change(h=>{const p=Array.isArray(i.file)?i.file:[i.file];for(const g of p)av(h,a,d,g)})}}function av(c,i,o,a){const d=o.createLoader(a);d&&Ap(c,i,{uploadId:d.id})}class wD extends le{static get requires(){return[Qr,Bp,qr]}static get pluginName(){return"ImageUploadEditing"}constructor(i){super(i),i.config.define("image",{upload:{types:["jpeg","png","gif","bmp","webp","tiff"]}})}init(){const i=this.editor,o=i.model.document,a=i.model.schema,d=i.conversion,h=i.plugins.get(Qr),p=Qp(i.config.get("image.upload.types"));a.extend("image",{allowAttributes:["uploadId","uploadStatus"]}),i.commands.add("imageUpload",new yD(i)),d.for("upcast").attributeToAttribute({view:{name:"img",key:"uploadId"},model:"uploadId"}),this.listenTo(i.editing.view.document,"clipboardInput",(g,_)=>{if(v=_.dataTransfer,Array.from(v.types).includes("text/html")&&""!==v.getData("text/html"))return;var v;const y=Array.from(_.dataTransfer.files).filter(T=>!!T&&p.test(T.type)),k=_.targetRanges.map(T=>i.editing.mapper.toModelRange(T));i.model.change(T=>{T.setSelection(k),y.length&&(g.stop(),i.model.enqueueChange("default",()=>{i.execute("imageUpload",{file:y})}))})}),this.listenTo(i.plugins.get(qr),"inputTransformation",(g,_)=>{const v=Array.from(i.editing.view.createRangeIn(_.content)).filter(k=>{return!(!(T=k.item).is("element","img")||!T.getAttribute("src"))&&(T.getAttribute("src").match(/^data:image\/\w+;base64,/g)||T.getAttribute("src").match(/^blob:/g))&&!k.item.getAttribute("uploadProcessed");var T}).map(k=>({promise:tv(k.item),imageElement:k.item}));if(!v.length)return;const y=new Yp;for(const k of v){y.setAttribute("uploadProcessed",!0,k.imageElement);const T=h.createLoader(k.promise);T&&(y.setAttribute("src","",k.imageElement),y.setAttribute("uploadId",T.id,k.imageElement))}}),i.editing.view.document.on("dragover",(g,_)=>{_.preventDefault()}),o.on("change",()=>{const g=o.differ.getChanges({includeChangesInGraveyard:!0});for(const _ of g)if("insert"==_.type&&"$text"!=_.name){const v=_.position.nodeAfter,y="$graveyard"==_.position.root.rootName;for(const k of ZC(i,v)){const T=k.getAttribute("uploadId");if(!T)continue;const D=h.loaders.get(T);D&&(y?D.abort():"idle"==D.status&&this._readAndUpload(D,k))}}})}_readAndUpload(i,o){const a=this.editor,d=a.model,h=a.locale.t,p=a.plugins.get(Qr),g=a.plugins.get(Bp);return d.enqueueChange("transparent",v=>{v.setAttribute("uploadStatus","reading",o)}),i.read().then(()=>{const v=i.upload();if(yi_isSafari){const y=a.editing.mapper.toViewElement(o).getChild(0);a.editing.view.once("render",()=>{if(!y.parent)return;const k=a.editing.view.domConverter.mapViewToDom(y.parent);if(!k)return;const T=k.style.display;k.style.display="none",k._ckHack=k.offsetHeight,k.style.display=T})}return d.enqueueChange("transparent",y=>{y.setAttribute("uploadStatus","uploading",o)}),v}).then(v=>{d.enqueueChange("transparent",y=>{y.setAttributes({uploadStatus:"complete",src:v.default},o),this._parseAndSetSrcsetAttributeOnImage(v,o,y)}),_()}).catch(v=>{if("error"!==i.status&&"aborted"!==i.status)throw v;"error"==i.status&&v&&g.showWarning(v,{title:h("e"),namespace:"upload"}),_(),d.enqueueChange("transparent",y=>{y.remove(o)})});function _(){d.enqueueChange("transparent",v=>{v.removeAttribute("uploadId",o),v.removeAttribute("uploadStatus",o)}),p.destroyLoader(i)}}_parseAndSetSrcsetAttributeOnImage(i,o,a){let d=0;const h=Object.keys(i).filter(p=>{const g=parseInt(p,10);if(!isNaN(g))return d=Math.max(d,g),!0}).map(p=>`${i[p]} ${p}w`).join(", ");""!=h&&a.setAttribute("srcset",{data:h,width:d},o)}}function ZC(c,i){return Array.from(c.model.createRangeOn(i)).filter(o=>o.item.is("image")).map(o=>o.item)}class ah extends At{constructor(i){super(i),this._childCommands=[]}refresh(){}execute(...i){this._getFirstEnabledCommand().execute(i)}registerChildCommand(i){this._childCommands.push(i),i.on("change:isEnabled",()=>this._checkEnabled()),this._checkEnabled()}_checkEnabled(){this.isEnabled=!!this._getFirstEnabledCommand()}_getFirstEnabledCommand(){return this._childCommands.find(i=>i.isEnabled)}}class lv extends le{static get pluginName(){return"IndentEditing"}init(){const i=this.editor;i.commands.add("indent",new ah(i)),i.commands.add("outdent",new ah(i))}}var cv='<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M2 3.75c0 .414.336.75.75.75h14.5a.75.75 0 100-1.5H2.75a.75.75 0 00-.75.75zm5 6c0 .414.336.75.75.75h9.5a.75.75 0 100-1.5h-9.5a.75.75 0 00-.75.75zM2.75 16.5h14.5a.75.75 0 100-1.5H2.75a.75.75 0 100 1.5zM1.632 6.95L5.02 9.358a.4.4 0 01-.013.661l-3.39 2.207A.4.4 0 011 11.892V7.275a.4.4 0 01.632-.326z"/></svg>',dv='<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M2 3.75c0 .414.336.75.75.75h14.5a.75.75 0 100-1.5H2.75a.75.75 0 00-.75.75zm5 6c0 .414.336.75.75.75h9.5a.75.75 0 100-1.5h-9.5a.75.75 0 00-.75.75zM2.75 16.5h14.5a.75.75 0 100-1.5H2.75a.75.75 0 100 1.5zM4.368 6.95L.98 9.358a.4.4 0 00.013.661l3.39 2.207A.4.4 0 005 11.892V7.275a.4.4 0 00-.632-.326z"/></svg>';class XC extends le{static get pluginName(){return"IndentUI"}init(){const i=this.editor,o=i.locale,a=i.t,d="ltr"==o.uiLanguageDirection?cv:dv,h="ltr"==o.uiLanguageDirection?dv:cv;this._defineButton("indent",a("s"),d),this._defineButton("outdent",a("t"),h)}_defineButton(i,o,a){const d=this.editor;d.ui.componentFactory.add(i,h=>{const p=d.commands.get(i),g=new Bt(h);return g.set({label:o,icon:a,tooltip:!0}),g.bind("isOn","isEnabled").to(p,"value","isEnabled"),this.listenTo(g,"execute",()=>{d.execute(i),d.editing.view.focus()}),g})}}class uv extends ho{constructor(i){super(i),this.domEventType="click"}onDomEvent(i){this.fire(i.type,i)}}P(70);class JC extends Ge{constructor(i,o=[]){super(i);const a=i.t;this.focusTracker=new sr,this.keystrokes=new wi,this.urlInputView=this._createUrlInput(),this.saveButtonView=this._createButton(a("bs"),ad,"ck-button-save"),this.saveButtonView.type="submit",this.cancelButtonView=this._createButton(a("bt"),Wp,"ck-button-cancel","cancel"),this._manualDecoratorSwitches=this._createManualDecoratorSwitches(o),this.children=this._createFormChildren(o),this._focusables=new da,this._focusCycler=new ks({focusables:this._focusables,focusTracker:this.focusTracker,keystrokeHandler:this.keystrokes,actions:{focusPrevious:"shift + tab",focusNext:"tab"}});const d=["ck","ck-link-form"];o.length&&d.push("ck-link-form_layout-vertical"),this.setTemplate({tag:"form",attributes:{class:d,tabindex:"-1"},children:this.children})}getDecoratorSwitchesState(){return Array.from(this._manualDecoratorSwitches).reduce((i,o)=>(i[o.name]=o.isOn,i),{})}render(){super.render(),$p({view:this}),[this.urlInputView,...this._manualDecoratorSwitches,this.saveButtonView,this.cancelButtonView].forEach(i=>{this._focusables.add(i),this.focusTracker.add(i.element)}),this.keystrokes.listenTo(this.element)}focus(){this._focusCycler.focusFirst()}_createUrlInput(){const i=this.locale.t,o=new Ho(this.locale,sd);return o.label=i("bu"),o.inputView.placeholder="https://example.com",o}_createButton(i,o,a,d){const h=new Bt(this.locale);return h.set({label:i,icon:o,tooltip:!0}),h.extendTemplate({attributes:{class:a}}),d&&h.delegate("execute").to(this,d),h}_createManualDecoratorSwitches(i){const o=this.createCollection();for(const a of i){const d=new Kc(this.locale);d.set({name:a.id,label:a.label,withText:!0}),d.bind("isOn").to(a,"value"),d.on("execute",()=>{a.set("value",!d.isOn)}),o.add(d)}return o}_createFormChildren(i){const o=this.createCollection();if(o.add(this.urlInputView),i.length){const a=new Ge;a.setTemplate({tag:"ul",children:this._manualDecoratorSwitches.map(d=>({tag:"li",children:[d],attributes:{class:["ck","ck-list__item"]}})),attributes:{class:["ck","ck-reset","ck-list"]}}),o.add(a)}return o.add(this.saveButtonView),o.add(this.cancelButtonView),o}}P(72);class hv extends Ge{constructor(i){super(i);const o=i.t;this.focusTracker=new sr,this.keystrokes=new wi,this.previewButtonView=this._createPreviewButton(),this.unlinkButtonView=this._createButton(o("bo"),'<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M11.077 15l.991-1.416a.75.75 0 111.229.86l-1.148 1.64a.748.748 0 01-.217.206 5.251 5.251 0 01-8.503-5.955.741.741 0 01.12-.274l1.147-1.639a.75.75 0 111.228.86L4.933 10.7l.006.003a3.75 3.75 0 006.132 4.294l.006.004zm5.494-5.335a.748.748 0 01-.12.274l-1.147 1.639a.75.75 0 11-1.228-.86l.86-1.23a3.75 3.75 0 00-6.144-4.301l-.86 1.229a.75.75 0 01-1.229-.86l1.148-1.64a.748.748 0 01.217-.206 5.251 5.251 0 018.503 5.955zm-4.563-2.532a.75.75 0 01.184 1.045l-3.155 4.505a.75.75 0 11-1.229-.86l3.155-4.506a.75.75 0 011.045-.184zm4.919 10.562l-1.414 1.414a.75.75 0 11-1.06-1.06l1.414-1.415-1.415-1.414a.75.75 0 011.061-1.06l1.414 1.414 1.414-1.415a.75.75 0 011.061 1.061l-1.414 1.414 1.414 1.415a.75.75 0 01-1.06 1.06l-1.415-1.414z"/></svg>',"unlink"),this.editButtonView=this._createButton(o("bp"),'<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M7.3 17.37l-.061.088a1.518 1.518 0 01-.934.535l-4.178.663-.806-4.153a1.495 1.495 0 01.187-1.058l.056-.086L8.77 2.639c.958-1.351 2.803-1.076 4.296-.03 1.497 1.047 2.387 2.693 1.433 4.055L7.3 17.37zM9.14 4.728l-5.545 8.346 3.277 2.294 5.544-8.346L9.14 4.728zM6.07 16.512l-3.276-2.295.53 2.73 2.746-.435zM9.994 3.506L13.271 5.8c.316-.452-.16-1.333-1.065-1.966-.905-.634-1.895-.78-2.212-.328zM8 18.5L9.375 17H19v1.5H8z"/></svg>',"edit"),this.set("href"),this._focusables=new da,this._focusCycler=new ks({focusables:this._focusables,focusTracker:this.focusTracker,keystrokeHandler:this.keystrokes,actions:{focusPrevious:"shift + tab",focusNext:"tab"}}),this.setTemplate({tag:"div",attributes:{class:["ck","ck-link-actions"],tabindex:"-1"},children:[this.previewButtonView,this.editButtonView,this.unlinkButtonView]})}render(){super.render(),[this.previewButtonView,this.editButtonView,this.unlinkButtonView].forEach(i=>{this._focusables.add(i),this.focusTracker.add(i.element)}),this.keystrokes.listenTo(this.element)}focus(){this._focusCycler.focusFirst()}_createButton(i,o,a){const d=new Bt(this.locale);return d.set({label:i,icon:o,tooltip:!0}),d.delegate("execute").to(this,a),d}_createPreviewButton(){const i=new Bt(this.locale),o=this.bindTemplate,a=this.t;return i.set({withText:!0,tooltip:a("bq")}),i.extendTemplate({attributes:{class:["ck","ck-link-actions__preview"],href:o.to("href",d=>d&&NC(d)),target:"_blank",rel:"noopener noreferrer"}}),i.bind("label").to(this,"href",d=>d||a("br")),i.bind("isEnabled").to(this,"href",d=>!!d),i.template.tag="a",i.template.eventListeners={},i}}class ex extends le{static get requires(){return[ur]}static get pluginName(){return"LinkUI"}init(){const i=this.editor;i.editing.view.addObserver(uv),this.actionsView=this._createActionsView(),this.formView=this._createFormView(),this._balloon=i.plugins.get(ur),this._createToolbarLinkButton(),this._enableUserBalloonInteractions()}destroy(){super.destroy(),this.formView.destroy()}_createActionsView(){const i=this.editor,o=new hv(i.locale),a=i.commands.get("link"),d=i.commands.get("unlink");return o.bind("href").to(a,"value"),o.editButtonView.bind("isEnabled").to(a),o.unlinkButtonView.bind("isEnabled").to(d),this.listenTo(o,"edit",()=>{this._addFormView()}),this.listenTo(o,"unlink",()=>{i.execute("unlink"),this._hideUI()}),o.keystrokes.set("Esc",(h,p)=>{this._hideUI(),p()}),o.keystrokes.set("Ctrl+K",(h,p)=>{this._addFormView(),p()}),o}_createFormView(){const i=this.editor,o=i.commands.get("link"),a=new JC(i.locale,o.manualDecorators);return a.urlInputView.bind("value").to(o,"value"),a.urlInputView.bind("isReadOnly").to(o,"isEnabled",d=>!d),a.saveButtonView.bind("isEnabled").to(o),this.listenTo(a,"submit",()=>{i.execute("link",a.urlInputView.inputView.element.value,a.getDecoratorSwitchesState()),this._closeFormView()}),this.listenTo(a,"cancel",()=>{this._closeFormView()}),a.keystrokes.set("Esc",(d,h)=>{this._closeFormView(),h()}),a}_createToolbarLinkButton(){const i=this.editor,o=i.commands.get("link"),a=i.t;i.keystrokes.set("Ctrl+K",(d,h)=>{h(),this._showUI(!0)}),i.ui.componentFactory.add("link",d=>{const h=new Bt(d);return h.isEnabled=!0,h.label=a("w"),h.icon='<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M11.077 15l.991-1.416a.75.75 0 111.229.86l-1.148 1.64a.748.748 0 01-.217.206 5.251 5.251 0 01-8.503-5.955.741.741 0 01.12-.274l1.147-1.639a.75.75 0 111.228.86L4.933 10.7l.006.003a3.75 3.75 0 006.132 4.294l.006.004zm5.494-5.335a.748.748 0 01-.12.274l-1.147 1.639a.75.75 0 11-1.228-.86l.86-1.23a3.75 3.75 0 00-6.144-4.301l-.86 1.229a.75.75 0 01-1.229-.86l1.148-1.64a.748.748 0 01.217-.206 5.251 5.251 0 018.503 5.955zm-4.563-2.532a.75.75 0 01.184 1.045l-3.155 4.505a.75.75 0 11-1.229-.86l3.155-4.506a.75.75 0 011.045-.184z"/></svg>',h.keystroke="Ctrl+K",h.tooltip=!0,h.isToggleable=!0,h.bind("isEnabled").to(o,"isEnabled"),h.bind("isOn").to(o,"value",p=>!!p),this.listenTo(h,"execute",()=>this._showUI(!0)),h})}_enableUserBalloonInteractions(){this.listenTo(this.editor.editing.view.document,"click",()=>{this._getSelectedLinkElement()&&this._showUI()}),this.editor.keystrokes.set("Tab",(o,a)=>{this._areActionsVisible&&!this.actionsView.focusTracker.isFocused&&(this.actionsView.focus(),a())},{priority:"high"}),this.editor.keystrokes.set("Esc",(o,a)=>{this._isUIVisible&&(this._hideUI(),a())}),Qc({emitter:this.formView,activator:()=>this._isUIInPanel,contextElements:[this._balloon.view.element],callback:()=>this._hideUI()})}_addActionsView(){this._areActionsInPanel||this._balloon.add({view:this.actionsView,position:this._getBalloonPositionData()})}_addFormView(){if(this._isFormInPanel)return;const i=this.editor.commands.get("link");this._balloon.add({view:this.formView,position:this._getBalloonPositionData()}),this._balloon.visibleView===this.formView&&this.formView.urlInputView.select(),this.formView.urlInputView.inputView.element.value=i.value||""}_closeFormView(){const i=this.editor.commands.get("link");i.restoreManualDecoratorStates(),void 0!==i.value?this._removeFormView():this._hideUI()}_removeFormView(){this._isFormInPanel&&(this.formView.saveButtonView.focus(),this._balloon.remove(this.formView),this.editor.editing.view.focus())}_showUI(i=!1){this._getSelectedLinkElement()?(this._areActionsVisible?this._addFormView():this._addActionsView(),i&&this._balloon.showStack("main")):(this._addActionsView(),i&&this._balloon.showStack("main"),this._addFormView()),this._startUpdatingUI()}_hideUI(){if(!this._isUIInPanel)return;const i=this.editor;this.stopListening(i.ui,"update"),this.stopListening(this._balloon,"change:visibleView"),i.editing.view.focus(),this._removeFormView(),this._balloon.remove(this.actionsView)}_startUpdatingUI(){const i=this.editor,o=i.editing.view.document;let a=this._getSelectedLinkElement(),d=p();const h=()=>{const g=this._getSelectedLinkElement(),_=p();a&&!g||!a&&_!==d?this._hideUI():this._isUIVisible&&this._balloon.updatePosition(this._getBalloonPositionData()),a=g,d=_};function p(){return o.selection.focus.getAncestors().reverse().find(g=>g.is("element"))}this.listenTo(i.ui,"update",h),this.listenTo(this._balloon,"change:visibleView",h)}get _isFormInPanel(){return this._balloon.hasView(this.formView)}get _areActionsInPanel(){return this._balloon.hasView(this.actionsView)}get _areActionsVisible(){return this._balloon.visibleView===this.actionsView}get _isUIInPanel(){return this._isFormInPanel||this._areActionsInPanel}get _isUIVisible(){return this._balloon.visibleView==this.formView||this._areActionsVisible}_getBalloonPositionData(){const i=this.editor.editing.view,o=i.document,a=this._getSelectedLinkElement();return{target:a?i.domConverter.mapViewToDom(a):i.domConverter.viewRangeToDom(o.selection.getFirstRange())}}_getSelectedLinkElement(){const i=this.editor.editing.view,o=i.document.selection;if(o.isCollapsed)return Zp(o.getFirstPosition());{const a=o.getFirstRange().getTrimmed(),d=Zp(a.start),h=Zp(a.end);return d&&d==h&&i.createRangeIn(d).getTrimmed().isEqual(a)?d:null}}}function Zp(c){return c.getAncestors().find(i=>{return(o=i).is("attributeElement")&&!!o.getCustomProperty("link");var o})}class Xp extends At{constructor(i,o){super(i),this.type=o}refresh(){this.value=this._getValue(),this.isEnabled=this._checkEnabled()}execute(){const i=this.editor.model,a=Array.from(i.document.selection.getSelectedBlocks()).filter(h=>fv(h,i.schema)),d=!0===this.value;i.change(h=>{if(d){let p=a[a.length-1].nextSibling,g=Number.POSITIVE_INFINITY,_=[];for(;p&&"listItem"==p.name&&0!==p.getAttribute("listIndent");){const v=p.getAttribute("listIndent");v<g&&(g=v),_.push({element:p,listIndent:v-g}),p=p.nextSibling}_=_.reverse();for(const v of _)h.setAttribute("listIndent",v.listIndent,v.element)}if(!d){let p=Number.POSITIVE_INFINITY;for(const g of a)g.is("listItem")&&g.getAttribute("listIndent")<p&&(p=g.getAttribute("listIndent"));p=0===p?1:p,Jp(a,!0,p),Jp(a,!1,p)}for(const p of a.reverse())d&&"listItem"==p.name?h.rename(p,"paragraph"):d||"listItem"==p.name?d||"listItem"!=p.name||p.getAttribute("listType")==this.type||h.setAttribute("listType",this.type,p):(h.setAttributes({listType:this.type,listIndent:0},p),h.rename(p,"listItem"))})}_getValue(){const i=lr(this.editor.model.document.selection.getSelectedBlocks());return!!i&&i.is("listItem")&&i.getAttribute("listType")==this.type}_checkEnabled(){if(this.value)return!0;const o=this.editor.model.schema,a=lr(this.editor.model.document.selection.getSelectedBlocks());return!!a&&fv(a,o)}}function Jp(c,i,o){const a=i?c[0]:c[c.length-1];if(a.is("listItem")){let d=a[i?"previousSibling":"nextSibling"],h=a.getAttribute("listIndent");for(;d&&d.is("listItem")&&d.getAttribute("listIndent")>=o;)h>d.getAttribute("listIndent")&&(h=d.getAttribute("listIndent")),d.getAttribute("listIndent")==h&&c[i?"unshift":"push"](d),d=d[i?"previousSibling":"nextSibling"]}}function fv(c,i){return i.checkChild(c.parent,"listItem")&&!i.isObject(c)}class Zr extends At{constructor(i,o){super(i),this._indentBy="forward"==o?1:-1}refresh(){this.isEnabled=this._checkEnabled()}execute(){const i=this.editor.model;let a=Array.from(i.document.selection.getSelectedBlocks());i.change(d=>{const h=a[a.length-1];let p=h.nextSibling;for(;p&&"listItem"==p.name&&p.getAttribute("listIndent")>h.getAttribute("listIndent");)a.push(p),p=p.nextSibling;this._indentBy<0&&(a=a.reverse());for(const g of a){const _=g.getAttribute("listIndent")+this._indentBy;_<0?d.rename(g,"paragraph"):d.setAttribute("listIndent",_,g)}})}_checkEnabled(){const i=lr(this.editor.model.document.selection.getSelectedBlocks());if(!i||!i.is("listItem"))return!1;if(this._indentBy>0){const o=i.getAttribute("listIndent"),a=i.getAttribute("listType");let d=i.previousSibling;for(;d&&d.is("listItem")&&d.getAttribute("listIndent")>=o;){if(d.getAttribute("listIndent")==o)return d.getAttribute("listType")==a;d=d.previousSibling}return!1}return!0}}function pv(c,i,o,a){const d=i.parent,h=o.mapper,p=o.writer;let g=h.toViewPosition(a.createPositionBefore(c));const _=tm(c.previousSibling,{sameIndent:!0,smallerIndent:!0,listIndent:c.getAttribute("listIndent")}),v=c.previousSibling;if(_&&_.getAttribute("listIndent")==c.getAttribute("listIndent")){const y=h.toViewElement(_);g=p.breakContainer(p.createPositionAfter(y))}else g=h.toViewPosition(v&&"listItem"==v.name?a.createPositionAt(v,"end"):a.createPositionBefore(c));if(g=tx(g),p.insert(g,d),v&&"listItem"==v.name){const y=h.toViewElement(v),k=p.createRange(p.createPositionAt(y,0),g).getWalker({ignoreElementEnd:!0});for(const T of k)if(T.item.is("li")){const D=p.breakContainer(p.createPositionBefore(T.item)),R=T.item.parent,F=p.createPositionAt(i,"end");Dr(p,F.nodeBefore,F.nodeAfter),p.move(p.createRangeOn(R),F),k.position=D}}else{const y=d.nextSibling;if(y&&(y.is("ul")||y.is("ol"))){let k=null;for(const T of y.getChildren()){const D=h.toModelElement(T);if(!(D&&D.getAttribute("listIndent")>c.getAttribute("listIndent")))break;k=T}k&&(p.breakContainer(p.createPositionAfter(k)),p.move(p.createRangeOn(k.parent),p.createPositionAt(i,"end")))}}Dr(p,d,d.nextSibling),Dr(p,d.previousSibling,d)}function Dr(c,i,o){return!i||!o||"ul"!=i.name&&"ol"!=i.name||i.name!=o.name||i.getAttribute("class")!==o.getAttribute("class")?null:c.mergeContainers(c.createPositionAfter(i))}function tx(c){return c.getLastMatchingPosition(i=>i.item.is("uiElement"))}function tm(c,i){const o=!!i.sameIndent,a=!!i.smallerIndent,d=i.listIndent;let h=c;for(;h&&"listItem"==h.name;){const p=h.getAttribute("listIndent");if(o&&d==p||a&&d>p)return h;h=h.previousSibling}return null}function mv(c,i,o,a){c.ui.componentFactory.add(i,d=>{const h=c.commands.get(i),p=new Bt(d);return p.set({label:o,icon:a,tooltip:!0,isToggleable:!0}),p.bind("isOn","isEnabled").to(h,"value","isEnabled"),p.on("execute",()=>{c.execute(i),c.editing.view.focus()}),p})}function nx(){const c=!this.isEmpty&&("ul"==this.getChild(0).name||"ol"==this.getChild(0).name);return this.isEmpty||c?0:vk.call(this)}function gv(c){return(i,o,a)=>{const d=a.consumable;if(!d.test(o.item,"insert")||!d.test(o.item,"attribute:listType")||!d.test(o.item,"attribute:listIndent"))return;d.consume(o.item,"insert"),d.consume(o.item,"attribute:listType"),d.consume(o.item,"attribute:listIndent");const h=o.item;pv(h,function em(c,i){const o=i.mapper,a=i.writer,d="numbered"==c.getAttribute("listType")?"ol":"ul",h=function(g){const _=g.createContainerElement("li");return _.getFillerOffset=nx,_}(a),p=a.createContainerElement(d,null);return a.insert(a.createPositionAt(p,0),h),o.bindElements(c,h),h}(h,a),a,c)}}function nm(c,i,o){if(!o.consumable.consume(i.item,"attribute:listType"))return;const a=o.mapper.toViewElement(i.item),d=o.writer;d.breakContainer(d.createPositionBefore(a)),d.breakContainer(d.createPositionAfter(a)),d.rename("numbered"==i.attributeNewValue?"ol":"ul",a.parent)}function ix(c,i,o){const a=o.mapper.toViewElement(i.item).parent,d=o.writer;Dr(d,a,a.nextSibling),Dr(d,a.previousSibling,a);for(const h of i.item.getChildren())o.consumable.consume(h,"insert")}function _v(c,i,o){if("listItem"!=i.item.name){let a=o.mapper.toViewPosition(i.range.start);const d=o.writer,h=[];for(;("ul"==a.parent.name||"ol"==a.parent.name)&&(a=d.breakContainer(a),"li"==a.parent.name);){const p=a,g=d.createPositionAt(a.parent,"end");if(!p.isEqual(g)){const _=d.remove(d.createRange(p,g));h.push(_)}a=d.createPositionAfter(a.parent)}if(h.length>0){for(let p=0;p<h.length;p++){const g=a.nodeBefore;if(a=d.insert(a,h[p]).end,p>0){const _=Dr(d,g,g.nextSibling);_&&_.parent==g&&a.offset--}}Dr(d,a.nodeBefore,a.nodeAfter)}}}function lh(c,i,o){const a=o.mapper.toViewPosition(i.position);Dr(o.writer,a.nodeBefore,a.nodeAfter)}function im(c,i,o){if(o.consumable.consume(i.viewItem,{name:!0})){const a=o.writer,d=a.createElement("listItem"),h=function(v){let y=0,k=v.parent;for(;k;){if(k.is("li"))y++;else{const T=k.previousSibling;T&&T.is("li")&&y++}k=k.parent}return y}(i.viewItem);a.setAttribute("listIndent",h,d),a.setAttribute("listType",i.viewItem.parent&&"ol"==i.viewItem.parent.name?"numbered":"bulleted",d);const g=o.splitToAllowedParent(d,i.modelCursor);if(!g)return;a.insert(d,g.position);const _=function(v,y,k){const{writer:T,schema:D}=k;let R=T.createPositionAfter(v);for(const F of y)if("ul"==F.name||"ol"==F.name)R=k.convertItem(F,R).modelCursor;else{const $=k.convertItem(F,T.createPositionAt(v,"end")),J=$.modelRange.start.nodeAfter;J&&J.is("element")&&!D.checkChild(v,J.name)&&(v=$.modelCursor.parent.is("listItem")?$.modelCursor.parent:rx($.modelCursor),R=T.createPositionAfter(v))}return R}(d,i.viewItem.getChildren(),o);i.modelRange=a.createRange(i.modelCursor,_),i.modelCursor=g.cursorParent?a.createPositionAt(g.cursorParent,0):i.modelRange.end}}function bv(c,i,o){if(o.consumable.test(i.viewItem,{name:!0})){const a=Array.from(i.viewItem.getChildren());for(const d of a)!d.is("li")&&!Uo(d)&&d._remove()}}function rm(c,i,o){if(o.consumable.test(i.viewItem,{name:!0})){if(0===i.viewItem.childCount)return;const a=[...i.viewItem.getChildren()];let d=!1,h=!0;for(const p of a)d&&!Uo(p)&&p._remove(),p.is("text")?(h&&(p._data=p.data.replace(/^\s+/,"")),p.nextSibling&&!Uo(p.nextSibling)||(p._data=p.data.replace(/\s+$/,""))):Uo(p)&&(d=!0),h=!1}}function ch(c){return(i,o)=>{if(o.isPhantom)return;const a=o.modelPosition.nodeBefore;if(a&&a.is("listItem")){const d=o.mapper.toViewElement(a),h=d.getAncestors().find(Uo),p=c.createPositionAt(d,0).getWalker();for(const g of p){if("elementStart"==g.type&&g.item.is("li")){o.viewPosition=g.previousPosition;break}if("elementEnd"==g.type&&g.item==h){o.viewPosition=g.nextPosition;break}}}}}function vv(c,[i,o]){let a,d=i.is("documentFragment")?i.getChild(0):i;if(a=o?this.createSelection(o):this.document.selection,d&&d.is("listItem")){const h=a.getFirstPosition();let p=null;if(h.parent.is("listItem")?p=h.parent:h.nodeBefore&&h.nodeBefore.is("listItem")&&(p=h.nodeBefore),p){const g=p.getAttribute("listIndent");if(g>0)for(;d&&d.is("listItem");)d._setAttribute("listIndent",d.getAttribute("listIndent")+g),d=d.nextSibling}}}function rx(c){const i=new mo({startPosition:c});let o;do{o=i.next()}while(!o.value.item.is("listItem"));return o.value.item}function yv(c,i,o,a,d,h){const p=tm(i.nodeBefore,{sameIndent:!0,smallerIndent:!0,listIndent:c,foo:"b"}),g=d.mapper,_=d.writer,v=p?p.getAttribute("listIndent"):null;let y;if(p)if(v==c){const k=g.toViewElement(p).parent;y=_.createPositionAfter(k)}else{const k=h.createPositionAt(p,"end");y=g.toViewPosition(k)}else y=o;y=tx(y);for(const k of[...a.getChildren()])Uo(k)&&(y=_.move(_.createRangeOn(k),y).end,Dr(_,k,k.nextSibling),Dr(_,k.previousSibling,k))}function Uo(c){return c.is("ol")||c.is("ul")}class kD extends le{static get pluginName(){return"ListEditing"}static get requires(){return[od]}init(){const i=this.editor;i.model.schema.register("listItem",{inheritAllFrom:"$block",allowAttributes:["listType","listIndent"]});const o=i.data,a=i.editing;var d;i.model.document.registerPostFixer(g=>function(_,v){const y=_.document.differ.getChanges(),k=new Map;let T=!1;for(const $ of y)if("insert"==$.type&&"listItem"==$.name)D($.position);else if("insert"==$.type&&"listItem"!=$.name){if("$text"!=$.name){const J=$.position.nodeAfter;J.hasAttribute("listIndent")&&(v.removeAttribute("listIndent",J),T=!0),J.hasAttribute("listType")&&(v.removeAttribute("listType",J),T=!0);for(const ae of Array.from(_.createRangeIn(J)).filter(_e=>_e.item.is("listItem")))D(ae.previousPosition)}D($.position.getShiftedBy($.length))}else"remove"==$.type&&"listItem"==$.name?D($.position):("attribute"==$.type&&"listIndent"==$.attributeKey||"attribute"==$.type&&"listType"==$.attributeKey)&&D($.range.start);for(const $ of k.values())R($),F($);return T;function D($){const J=$.nodeBefore;if(J&&J.is("listItem")){let ae=J;if(k.has(ae))return;for(;ae.previousSibling&&ae.previousSibling.is("listItem");)if(ae=ae.previousSibling,k.has(ae))return;k.set($.nodeBefore,ae)}else{const ae=$.nodeAfter;ae&&ae.is("listItem")&&k.set(ae,ae)}}function R($){let J=0,ae=null;for(;$&&$.is("listItem");){const _e=$.getAttribute("listIndent");if(_e>J){let ut;null===ae?(ae=_e-J,ut=J):(ae>_e&&(ae=_e),ut=_e-ae),v.setAttribute("listIndent",ut,$),T=!0}else ae=null,J=$.getAttribute("listIndent")+1;$=$.nextSibling}}function F($){let J=[],ae=null;for(;$&&$.is("listItem");){const _e=$.getAttribute("listIndent");if(ae&&ae.getAttribute("listIndent")>_e&&(J=J.slice(0,_e+1)),0!=_e)if(J[_e]){const ut=J[_e];$.getAttribute("listType")!=ut&&(v.setAttribute("listType",ut,$),T=!0)}else J[_e]=$.getAttribute("listType");ae=$,$=$.nextSibling}}}(i.model,g)),a.mapper.registerViewToModelLength("li",om),o.mapper.registerViewToModelLength("li",om),a.mapper.on("modelToViewPosition",ch(a.view)),a.mapper.on("viewToModelPosition",(d=i.model,(g,_)=>{const v=_.viewPosition,y=v.parent,k=_.mapper;if("ul"==y.name||"ol"==y.name){if(v.isAtEnd){const T=k.toModelElement(v.nodeBefore),D=k.getModelLength(v.nodeBefore);_.modelPosition=d.createPositionBefore(T).getShiftedBy(D)}else{const T=k.toModelElement(v.nodeAfter);_.modelPosition=d.createPositionBefore(T)}g.stop()}else if("li"==y.name&&v.nodeBefore&&("ul"==v.nodeBefore.name||"ol"==v.nodeBefore.name)){const T=k.toModelElement(y);let D=1,R=v.nodeBefore;for(;R&&Uo(R);)D+=k.getModelLength(R),R=R.previousSibling;_.modelPosition=d.createPositionBefore(T).getShiftedBy(D),g.stop()}})),o.mapper.on("modelToViewPosition",ch(a.view)),i.conversion.for("editingDowncast").add(g=>{var _;g.on("insert",_v,{priority:"high"}),g.on("insert:listItem",gv(i.model)),g.on("attribute:listType:listItem",nm,{priority:"high"}),g.on("attribute:listType:listItem",ix,{priority:"low"}),g.on("attribute:listIndent:listItem",(_=i.model,(v,y,k)=>{if(!k.consumable.consume(y.item,"attribute:listIndent"))return;const T=k.mapper.toViewElement(y.item),D=k.writer;D.breakContainer(D.createPositionBefore(T)),D.breakContainer(D.createPositionAfter(T));const R=T.parent,F=R.previousSibling,$=D.createRangeOn(R);D.remove($),F&&F.nextSibling&&Dr(D,F,F.nextSibling),yv(y.attributeOldValue+1,y.range.start,$.start,T,k,_),pv(y.item,T,k,_);for(const J of y.item.getChildren())k.consumable.consume(J,"insert")})),g.on("remove:listItem",function(_){return(v,y,k)=>{const T=k.mapper.toViewPosition(y.position).getLastMatchingPosition(ae=>!ae.item.is("li")).nodeAfter,D=k.writer;D.breakContainer(D.createPositionBefore(T)),D.breakContainer(D.createPositionAfter(T));const R=T.parent,F=R.previousSibling,$=D.createRangeOn(R),J=D.remove($);F&&F.nextSibling&&Dr(D,F,F.nextSibling),yv(k.mapper.toModelElement(T).getAttribute("listIndent")+1,y.position,$.start,T,k,_);for(const ae of D.createRangeIn(J).getItems())k.mapper.unbindViewElement(ae);v.stop()}}(i.model)),g.on("remove",lh,{priority:"low"})}),i.conversion.for("dataDowncast").add(g=>{g.on("insert",_v,{priority:"high"}),g.on("insert:listItem",gv(i.model))}),i.conversion.for("upcast").add(g=>{g.on("element:ul",bv,{priority:"high"}),g.on("element:ol",bv,{priority:"high"}),g.on("element:li",rm,{priority:"high"}),g.on("element:li",im)}),i.model.on("insertContent",vv,{priority:"high"}),i.commands.add("numberedList",new Xp(i,"numbered")),i.commands.add("bulletedList",new Xp(i,"bulleted")),i.commands.add("indentList",new Zr(i,"forward")),i.commands.add("outdentList",new Zr(i,"backward"));const h=a.view.document;this.listenTo(h,"enter",(g,_)=>{const v=this.editor.model.document,y=v.selection.getLastPosition().parent;v.selection.isCollapsed&&"listItem"==y.name&&y.isEmpty&&(this.editor.execute("outdentList"),_.preventDefault(),g.stop())}),this.listenTo(h,"delete",(g,_)=>{if("backward"!==_.direction)return;const v=this.editor.model.document.selection;if(!v.isCollapsed)return;const y=v.getFirstPosition();if(!y.isAtStart)return;const k=y.parent;"listItem"===k.name&&(k.previousSibling&&"listItem"===k.previousSibling.name||(this.editor.execute("outdentList"),_.preventDefault(),g.stop()))},{priority:"high"});const p=g=>(_,v)=>{this.editor.commands.get(g).isEnabled&&(this.editor.execute(g),v())};i.keystrokes.set("Tab",p("indentList")),i.keystrokes.set("Shift+Tab",p("outdentList"))}afterInit(){const i=this.editor.commands,o=i.get("indent"),a=i.get("outdent");o&&o.registerChildCommand(i.get("indentList")),a&&a.registerChildCommand(i.get("outdentList"))}}function om(c){let i=1;for(const o of c.getChildren())if("ul"==o.name||"ol"==o.name)for(const a of o.getChildren())i+=om(a);return i}class wv extends le{init(){const i=this.editor.t;mv(this.editor,"numberedList",i("u"),'<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M7 5.75c0 .414.336.75.75.75h9.5a.75.75 0 100-1.5h-9.5a.75.75 0 00-.75.75zM3.5 3v5H2V3.7H1v-1h2.5V3zM.343 17.857l2.59-3.257H2.92a.6.6 0 10-1.04 0H.302a2 2 0 113.995 0h-.001c-.048.405-.16.734-.333.988-.175.254-.59.692-1.244 1.312H4.3v1h-4l.043-.043zM7 14.75a.75.75 0 01.75-.75h9.5a.75.75 0 110 1.5h-9.5a.75.75 0 01-.75-.75z"/></svg>'),mv(this.editor,"bulletedList",i("v"),'<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M7 5.75c0 .414.336.75.75.75h9.5a.75.75 0 100-1.5h-9.5a.75.75 0 00-.75.75zm-6 0C1 4.784 1.777 4 2.75 4c.966 0 1.75.777 1.75 1.75 0 .966-.777 1.75-1.75 1.75C1.784 7.5 1 6.723 1 5.75zm6 9c0 .414.336.75.75.75h9.5a.75.75 0 100-1.5h-9.5a.75.75 0 00-.75.75zm-6 0c0-.966.777-1.75 1.75-1.75.966 0 1.75.777 1.75 1.75 0 .966-.777 1.75-1.75 1.75-.966 0-1.75-.777-1.75-1.75z"/></svg>')}}function Cv(c){const i={},o=c.getStyle("mso-list");if(o){const a=o.match(/(^|\s+)l(\d+)/i),d=o.match(/\s*lfo(\d+)/i),h=o.match(/\s*level(\d+)/i);a&&d&&h&&(i.id=a[2],i.order=d[1],i.indent=h[1])}return i}const xv=/id=("|')docs-internal-guid-[-0-9a-f]+("|')/i;class Tv{isActive(i){return xv.test(i)}execute(i){const o=new Yp;(function(a,d){for(const h of a.getChildren())if(h.is("b")&&"normal"===h.getStyle("font-weight")){const p=a.getChildIndex(h);d.remove(h),d.insertChild(p,h.getChildren(),a)}})(i.content,o),function(a,d){for(const h of d.createRangeIn(a)){const p=h.item;if(p.is("li")){const g=p.getChild(0);g.is("p")&&d.unwrapElement(g)}}}(i.content,o)}}function wo(c){return c.replace(/<span(?: class="Apple-converted-space"|)>(\s+)<\/span>/g,(i,o)=>1===o.length?" ":Array(o.length+1).join("\xa0 ").substr(0,o.length))}const sx=/<meta\s*name="?generator"?\s*content="?microsoft\s*word\s*\d+"?\/?>/i,CD=/xmlns:o="urn:schemas-microsoft-com/i;class sm{isActive(i){return sx.test(i)||CD.test(i)}execute(i){const{body:o,stylesString:a}=function dh(c){const i=new DOMParser,o=wo(wo(function(g){const _=g.match(/<\/body>(.*?)(<\/html>|$)/);return _&&_[1]&&(g=g.slice(0,_.index)+g.slice(_.index).replace(_[1],"")),g}(c=c.replace(/<!--\[if gte vml 1]>/g,"")))).replace(/(<span\s+style=['"]mso-spacerun:yes['"]>[\s]*?)[\r\n]+(\s*<\/span>)/g,"$1$2").replace(/<span\s+style=['"]mso-spacerun:yes['"]><\/span>/g,"").replace(/ <\//g,"\xa0</").replace(/ <o:p><\/o:p>/g,"\xa0<o:p></o:p>").replace(/<o:p>(&nbsp;|\u00A0)<\/o:p>/g,"").replace(/>(\s*[\r\n]\s*)</g,"><"),a=i.parseFromString(o,"text/html");a.querySelectorAll("span[style*=spacerun]").forEach(_=>{const v=_.childNodes&&_.childNodes[0]&&_.childNodes[0].data&&_.childNodes[0].data.length||0;_.innerHTML=Array(v+1).join("\xa0 ").substr(0,v)});const d=a.body.innerHTML,h=function(g){const _=new kr({blockFillerMode:"nbsp"}),v=g.createDocumentFragment(),y=g.body.childNodes;for(;y.length>0;)v.appendChild(y[0]);return _.domToView(v)}(a),p=function(g){const _=[],v=[],y=Array.from(g.getElementsByTagName("style"));for(const k of y)k.sheet&&k.sheet.cssRules&&k.sheet.cssRules.length&&(_.push(k.sheet),v.push(k.innerHTML));return{styles:_,stylesString:v.join(" ")}}(a);return{body:h,bodyString:d,styles:p.styles,stylesString:p.stylesString}}(i.dataTransfer.getData("text/html"));(function kv(c,i){if(!c.childCount)return;const o=new Yp,a=function(h,p){const g=p.createRangeIn(h),_=new un({name:/^p|h\d+$/,styles:{"mso-list":/.*/}}),v=[];for(const y of g)if("elementStart"===y.type&&_.match(y.item)){const k=Cv(y.item);v.push({element:y.item,id:k.id,order:k.order,indent:k.indent})}return v}(c,o);if(!a.length)return;let d=null;a.forEach((h,p)=>{if(!d||function(_,v){if(_.id!==v.id)return!0;const y=v.element.previousSibling;return!y||!((k=y).is("ol")||k.is("ul"));var k}(a[p-1],h)){const _=function(v,y){const T=/mso-level-number-format:([^;]*);/gi,D=new RegExp(`@list l${v.id}:level${v.indent}\\s*({[^}]*)`,"gi").exec(y);let R="decimal";if(D&&D[1]){const F=T.exec(D[1]);F&&F[1]&&(R=F[1].trim())}return{type:"bullet"!==R&&"image"!==R?"ol":"ul",style:R}}(h,i);d=function(v,y,k){const T=new vr(v.type),D=y.parent.getChildIndex(y);return k.insertChild(D,T,y.parent),T}(_,h.element,o)}const g=(function(y,k){const T=new un({name:"span",styles:{"mso-list":"Ignore"}}),D=k.createRangeIn(y);for(const R of D)"elementStart"===R.type&&T.match(R.item)&&k.remove(R.item)}(_=h.element,v=o),v.rename("li",_));var _,v;o.appendChild(g,d)})})(o,a),function ox(c,i){if(!c.childCount)return;const o=new Yp;(function(d,h,p){const g=p.createRangeIn(h),_=new un({name:"img"}),v=[];for(const y of g)if(_.match(y.item)){const k=y.item,T=k.getAttribute("v:shapes")?k.getAttribute("v:shapes").split(" "):[];T.length&&T.every(D=>d.indexOf(D)>-1)?v.push(k):k.getAttribute("src")||v.push(k)}for(const y of v)p.remove(y)})(function(d,h){const p=h.createRangeIn(d),g=new un({name:/v:(.+)/}),_=[];for(const v of p){const y=v.item,k=y.previousSibling&&y.previousSibling.name||null;g.match(y)&&y.getAttribute("o:gfxdata")&&"v:shapetype"!==k&&_.push(v.item.getAttribute("id"))}return _}(c,o),c,o),function(d,h){const p=h.createRangeIn(d),g=new un({name:/v:(.+)/}),_=[];for(const v of p)g.match(v.item)&&_.push(v.item);for(const v of _)h.remove(v)}(c,o);const a=function(d,h){const p=h.createRangeIn(d),g=new un({name:"img"}),_=[];for(const v of p)g.match(v.item)&&v.item.getAttribute("src").startsWith("file://")&&_.push(v.item);return _}(c,o);a.length&&function(d,h,p){if(d.length===h.length)for(let _=0;_<d.length;_++){const v=`data:${h[_].type};base64,${g=h[_].hex,btoa(g.match(/\w{2}/g).map(y=>String.fromCharCode(parseInt(y,16))).join(""))}`;p.setAttribute("src",v,d[_])}var g}(a,function(d){if(!d)return[];const h=/{\\pict[\s\S]+?\\bliptag-?\d+(\\blipupi-?\d+)?({\\\*\\blipuid\s?[\da-fA-F]+)?[\s}]*?/,p=new RegExp("(?:("+h.source+"))([\\da-fA-F\\s]+)\\}","g"),g=d.match(p),_=[];if(g)for(const v of g){let y=!1;v.includes("\\pngblip")?y="image/png":v.includes("\\jpegblip")&&(y="image/jpeg"),y&&_.push({hex:v.replace(h,"").replace(/[^\da-fA-F]/g,""),type:y})}return _}(i),o)}(o,i.dataTransfer.getData("text/rtf")),i.content=o}}function ln(c,i){let o=i.parent;for(;o;){if(o.name===c)return o;o=o.parent}}function Fi(c,i,o,a,d=1){i>d?a.setAttribute(c,i,o):a.removeAttribute(c,o)}function Ss(c,i,o={}){const a=c.createElement("tableCell",o);c.insertElement("paragraph",a),c.insert(a,i)}function am(c){if(!c||!An(c))return c;const{top:i,right:o,bottom:a,left:d}=c;return i==o&&o==a&&a==d?i:void 0}function dd(c,i){const o=parseFloat(c);return Number.isNaN(o)||String(o)!==String(c)?c:`${o}${i}`}function lm(c){return i=>{i.on(`element:${c}`,(o,a,d)=>{const h=a.viewItem;if(!d.consumable.test(h,{name:!0}))return;const p=d.writer.createElement("tableCell"),g=d.splitToAllowedParent(p,a.modelCursor);if(!g)return;d.writer.insert(p,g.position),d.consumable.consume(h,{name:!0});const _=d.writer.createPositionAt(p,0);d.convertChildren(h,_),p.childCount||d.writer.insertElement("paragraph",_),a.modelRange=d.writer.createRange(d.writer.createPositionBefore(p),d.writer.createPositionAfter(p)),a.modelCursor=a.modelRange.end})}}function Sv(c){let i=0,o=0;const a=Array.from(c.getChildren()).filter(d=>"th"===d.name||"td"===d.name);for(;o<a.length&&"th"===a[o].name;)i+=parseInt(a[o].getAttribute("colspan")||1),o++;return i}class zn{constructor(i,o={}){this.table=i,this.startRow=o.startRow||0,this.endRow="number"==typeof o.endRow?o.endRow:void 0,this.includeSpanned=!!o.includeSpanned,this.column="number"==typeof o.column?o.column:void 0,this._skipRows=new Set,this._row=0,this._column=0,this._cellIndex=0,this._spannedCells=new Map,this._nextCellAtColumn=-1}[Symbol.iterator](){return this}next(){const i=this.table.getChild(this._row);if(!i||this._isOverEndRow())return{done:!0};let o,a,d;if(this._isSpanned(this._row,this._column))o=this._getSpanned(this._row,this._column),a=!this.includeSpanned||this._shouldSkipRow()||this._shouldSkipColumn(),d=this._formatOutValue(o,this._column,!0);else{if(o=i.getChild(this._cellIndex),!o)return this._row++,this._column=0,this._cellIndex=0,this._nextCellAtColumn=-1,this.next();const h=parseInt(o.getAttribute("colspan")||1),p=parseInt(o.getAttribute("rowspan")||1);(h>1||p>1)&&this._recordSpans(this._row,this._column,p,h,o),this._nextCellAtColumn=this._column+h,a=this._shouldSkipRow()||this._shouldSkipColumn(),d=this._formatOutValue(o,this._column,!1,p,h)}return this._column++,this._column==this._nextCellAtColumn&&this._cellIndex++,a?this.next():d}skipRow(i){this._skipRows.add(i)}_isOverEndRow(){return void 0!==this.endRow&&this._row>this.endRow}_formatOutValue(i,o,a,d=1,h=1){return{done:!1,value:{cell:i,row:this._row,column:o,isSpanned:a,rowspan:d,colspan:h,cellIndex:this._cellIndex}}}_shouldSkipRow(){const i=this._row<this.startRow,o=this._skipRows.has(this._row);return i||o}_shouldSkipColumn(){return void 0!==this.column&&this.column!=this._column}_isSpanned(i,o){return!!this._spannedCells.has(i)&&this._spannedCells.get(i).has(o)}_getSpanned(i,o){return this._spannedCells.get(i).get(o)}_recordSpans(i,o,a,d,h){for(let p=o+1;p<=o+d-1;p++)this._markSpannedCell(i,p,h);for(let p=i+1;p<i+a;p++)for(let g=o;g<=o+d-1;g++)this._markSpannedCell(p,g,h)}_markSpannedCell(i,o,a){this._spannedCells.has(i)||this._spannedCells.set(i,new Map),this._spannedCells.get(i).set(o,a)}}function uh(c){return!!c.getCustomProperty("table")&&xs(c)}function ax(c){const i=c.getSelectedElement();return i&&uh(i)?i:null}function cm(c){const i=ln("table",c.getFirstPosition());return i&&uh(i.parent)?i.parent:null}function dm(c={}){return i=>i.on("insert:table",(o,a,d)=>{const h=a.item;if(!d.consumable.consume(h,"insert"))return;d.consumable.consume(h,"attribute:headingRows:table"),d.consumable.consume(h,"attribute:headingColumns:table");const p=c&&c.asWidget,g=d.writer.createContainerElement("figure",{class:"table"}),_=d.writer.createContainerElement("table");let v;var y,k;d.writer.insert(d.writer.createPositionAt(g,0),_),p&&((k=d.writer).setCustomProperty("table",!0,y=g),v=Sp(y,k,{hasSelectionHandle:!0}));const T=new zn(h),D={headingRows:h.getAttribute("headingRows")||0,headingColumns:h.getAttribute("headingColumns")||0},R=new Map;for(const $ of T){const{row:J,cell:ae}=$,_e=Cl(nn(J,D),_,d),ut=h.getChild(J),On=R.get(J)||Iv(ut,J,_e,d);R.set(J,On),d.consumable.consume(ae,"insert"),hm($,D,d.writer.createPositionAt(On,"end"),d,c)}const F=d.mapper.toViewPosition(a.range.start);d.mapper.bindElements(h,p?v:g),d.writer.insert(F,p?v:g)})}function ga(c={}){return i=>i.on("insert:tableRow",(o,a,d)=>{const h=a.item;if(!d.consumable.consume(h,"insert"))return;const p=h.parent,g=gm(d.mapper.toViewElement(p)),_=p.getChildIndex(h),v=new zn(p,{startRow:_,endRow:_}),y={headingRows:p.getAttribute("headingRows")||0,headingColumns:p.getAttribute("headingColumns")||0},k=new Map;for(const T of v){const D=Cl(nn(_,y),g,d),R=k.get(_)||Iv(h,_,D,d);k.set(_,R),d.consumable.consume(T.cell,"insert"),hm(T,y,d.writer.createPositionAt(R,"end"),d,c)}})}function um(c={}){return i=>i.on("insert:tableCell",(o,a,d)=>{const h=a.item;if(!d.consumable.consume(h,"insert"))return;const p=h.parent,g=p.parent,_=g.getChildIndex(p),v=new zn(g,{startRow:_,endRow:_}),y={headingRows:g.getAttribute("headingRows")||0,headingColumns:g.getAttribute("headingColumns")||0};for(const k of v)if(k.cell===h){const T=d.mapper.toViewElement(p);return void hm(k,y,d.writer.createPositionAt(T,p.getChildIndex(h)),d,c)}})}function Dv(c={}){const i=!!c.asWidget;return o=>o.on("attribute:headingRows:table",(a,d,h)=>{const p=d.item;if(!h.consumable.consume(d.item,a.name))return;const g=gm(h.mapper.toViewElement(p)),_=d.attributeOldValue,v=d.attributeNewValue;if(v>_){const k=Array.from(p.getChildren()).filter(({index:T})=>y(T,_-1,v));mm(k,Cl("thead",g,h),h,"end");for(const T of k)for(const D of T.getChildren())_a(D,"th",h,i);pm("tbody",g,h)}else{mm(Array.from(p.getChildren()).filter(({index:D})=>y(D,v-1,_)).reverse(),Cl("tbody",g,h),h,0);const k=new zn(p,{startRow:v&&v-1,endRow:_-1}),T={headingRows:p.getAttribute("headingRows")||0,headingColumns:p.getAttribute("headingColumns")||0};for(const D of k)Av(D,T,h,i);pm("thead",g,h)}function y(k,T,D){return k>T&&k<D}})}function Mv(c={}){const i=!!c.asWidget;return o=>o.on("attribute:headingColumns:table",(a,d,h)=>{const p=d.item;if(!h.consumable.consume(d.item,a.name))return;const g={headingRows:p.getAttribute("headingRows")||0,headingColumns:p.getAttribute("headingColumns")||0},_=d.attributeOldValue,v=d.attributeNewValue,y=(_>v?_:v)-1;for(const k of new zn(p))k.column>y||Av(k,g,h,i)})}function _a(c,i,o,a){const d=o.writer,h=o.mapper.toViewElement(c);if(!h)return;let p;a?(p=Rb(d.createEditableElement(i,h.getAttributes()),d),d.insert(d.createPositionAfter(h),p),d.move(d.createRangeIn(h),d.createPositionAt(p,0)),d.remove(d.createRangeOn(h))):p=d.rename(i,h),o.mapper.unbindViewElement(h),o.mapper.bindElements(c,p)}function Av(c,i,o,a){const{cell:d}=c,h=Pv(c,i),p=o.mapper.toViewElement(d);p&&p.name!==h&&_a(d,h,o,a)}function hm(c,i,o,a,d){const h=d&&d.asWidget,p=Pv(c,i),g=h?Rb(a.writer.createEditableElement(p),a.writer):a.writer.createContainerElement(p),_=c.cell,v=_.getChild(0),y=1===_.childCount&&"paragraph"===v.name;if(a.writer.insert(o,g),y&&![...v.getAttributeKeys()].length){const k=_.getChild(0),T=a.writer.createPositionAt(g,"end");if(a.consumable.consume(k,"insert"),d.asWidget){const D=a.writer.createContainerElement("span",{style:"display:inline-block"});a.mapper.bindElements(k,D),a.writer.insert(T,D),a.mapper.bindElements(_,g)}else a.mapper.bindElements(_,g),a.mapper.bindElements(k,g)}else a.mapper.bindElements(_,g)}function Iv(c,i,o,a){a.consumable.consume(c,"insert");const d=a.writer.createContainerElement("tr");a.mapper.bindElements(c,d);const h=c.parent.getAttribute("headingRows")||0,g=a.writer.createPositionAt(o,h>0&&i>=h?i-h:i);return a.writer.insert(g,d),d}function Pv(c,i){const{row:o,column:a}=c,{headingColumns:d,headingRows:h}=i;return h&&h>o||d&&d>a?"th":"td"}function nn(c,i){return c<i.headingRows?"thead":"tbody"}function Cl(c,i,o){return fm(c,i)||function(d,h,p){const g=p.writer.createContainerElement(d),_=p.writer.createPositionAt(h,"tbody"==d?"end":0);return p.writer.insert(_,g),g}(c,i,o)}function fm(c,i){for(const o of i.getChildren())if(o.name==c)return o}function pm(c,i,o){const a=fm(c,i);a&&0===a.childCount&&o.writer.remove(o.writer.createRangeOn(a))}function mm(c,i,o,a){for(const d of c){const h=o.mapper.toViewElement(d);h&&o.writer.move(o.writer.createRangeOn(h),o.writer.createPositionAt(i,a))}}function gm(c){for(const i of c.getChildren())if("table"===i.name)return i}class lx extends At{refresh(){const i=this.editor.model,a=i.schema,d=function(h){const p=h.parent;return p===p.root?p:p.parent}(i.document.selection.getFirstPosition());this.isEnabled=a.checkChild(d,"table")}execute(i={}){const o=this.editor.model,a=o.document.selection,d=this.editor.plugins.get("TableUtils"),h=parseInt(i.rows)||2,p=parseInt(i.columns)||2,g=eh(a,o);o.change(_=>{const v=d.createTable(_,h,p);o.insertContent(v,g),_.setSelection(_.createPositionAt(v.getNodeByPath([0,0,0]),0))})}}class Rv extends At{constructor(i,o={}){super(i),this.order=o.order||"below"}refresh(){const i=ln("table",this.editor.model.document.selection.getFirstPosition());this.isEnabled=!!i}execute(){const i=this.editor,o=i.model.document.selection,a=i.plugins.get("TableUtils"),d=ln("tableCell",o.getFirstPosition()).parent,h=d.parent,p=h.getChildIndex(d);a.insertRows(h,{rows:1,at:"below"===this.order?p+1:p})}}class Ov extends At{constructor(i,o={}){super(i),this.order=o.order||"right"}refresh(){const i=ln("table",this.editor.model.document.selection.getFirstPosition());this.isEnabled=!!i}execute(){const i=this.editor,o=i.model.document.selection,a=i.plugins.get("TableUtils"),d=ln("tableCell",o.getFirstPosition()),h=d.parent.parent,{column:p}=a.getCellLocation(d);a.insertColumns(h,{columns:1,at:"right"===this.order?p+1:p})}}class Fv extends At{constructor(i,o={}){super(i),this.direction=o.direction||"horizontally"}refresh(){const i=ln("tableCell",this.editor.model.document.selection.getFirstPosition());this.isEnabled=!!i}execute(){const i=ln("tableCell",this.editor.model.document.selection.getFirstPosition()),o="horizontally"===this.direction,a=this.editor.plugins.get("TableUtils");o?a.splitCellHorizontally(i,2):a.splitCellVertically(i,2)}}class ud extends At{constructor(i,o){super(i),this.direction=o.direction,this.isHorizontal="right"==this.direction||"left"==this.direction}refresh(){const i=this._getMergeableCell();this.value=i,this.isEnabled=!!i}execute(){const i=this.editor.model,o=ln("tableCell",i.document.selection.getFirstPosition()),a=this.value,d=this.direction;i.change(h=>{const p="right"==d||"down"==d,g=p?o:a,_=p?a:o,v=_.parent;var D,R,F;R=g,F=h,cx(D=_)||(cx(R)&&F.remove(F.createRangeIn(R)),F.move(F.createRangeIn(D),F.createPositionAt(R,"end"))),F.remove(D);const y=this.isHorizontal?"colspan":"rowspan",k=parseInt(o.getAttribute(y)||1),T=parseInt(a.getAttribute(y)||1);h.setAttribute(y,k+T,g),h.setSelection(h.createRangeIn(g)),v.childCount||function(D,R){const F=D.parent,$=F.getChildIndex(D);for(const{cell:J,row:ae,rowspan:_e}of new zn(F,{endRow:$}))ae+_e-1>=$&&Fi("rowspan",_e-1,J,R);R.remove(D)}(v,h)})}_getMergeableCell(){const i=ln("tableCell",this.editor.model.document.selection.getFirstPosition());if(!i)return;const o=this.editor.plugins.get("TableUtils"),a=this.isHorizontal?function(p,g,_){const y="right"==g?p.nextSibling:p.previousSibling,k=p.parent.parent.getAttribute("headingColumns")||0;if(!y)return;const T="right"==g?p:y,D="right"==g?y:p,{column:R}=_.getCellLocation(T),{column:F}=_.getCellLocation(D),$=parseInt(T.getAttribute("colspan")||1),J=parseInt(D.getAttribute("colspan")||1);return k&&("right"==g&&F+J>k||"left"==g&&R+$>k-1)?void 0:R+$===F?y:void 0}(i,this.direction,o):function(p,g){const _=p.parent,v=_.parent,y=v.getChildIndex(_);if("down"==g&&y===v.childCount-1||"up"==g&&0===y)return;const k=parseInt(p.getAttribute("rowspan")||1),T=v.getAttribute("headingRows")||0;if(T&&("down"==g&&y+k===T||"up"==g&&y===T))return;const F=parseInt(p.getAttribute("rowspan")||1),$="down"==g?y+F:y,J=[...new zn(v,{endRow:$})],ae=J.find(ut=>ut.cell===p).column,_e=J.find(({row:ut,rowspan:On,column:Ci})=>Ci===ae&&("down"==g?ut===$:$===ut+On));return _e&&_e.cell}(i,this.direction);if(!a)return;const d=this.isHorizontal?"rowspan":"colspan",h=parseInt(i.getAttribute(d)||1);return parseInt(a.getAttribute(d)||1)===h?a:void 0}}function cx(c){return 1==c.childCount&&c.getChild(0).is("paragraph")&&c.getChild(0).isEmpty}class Nv extends At{refresh(){const i=ln("tableCell",this.editor.model.document.selection.getFirstPosition());this.isEnabled=!!i&&i.parent.parent.childCount>1}execute(){const i=this.editor.model,o=ln("tableCell",i.document.selection.getFirstPosition()).parent,a=o.parent,d=a.getChildIndex(o),h=a.getAttribute("headingRows")||0;i.change(p=>{h&&d<=h&&Fi("headingRows",h-1,a,p,0);const g=[...new zn(a,{endRow:d})],_=new Map;g.filter(({row:T,rowspan:D})=>T===d&&D>1).forEach(({column:T,cell:D,rowspan:R})=>_.set(T,{cell:D,rowspanToSet:R-1})),g.filter(({row:T,rowspan:D})=>T<=d-1&&T+D>d).forEach(({cell:T,rowspan:D})=>Fi("rowspan",D-1,T,p));const v=d+1,y=new zn(a,{includeSpanned:!0,startRow:v,endRow:v});let k;for(const{row:T,column:D,cell:R}of[...y])if(_.has(D)){const{cell:F,rowspanToSet:$}=_.get(D),J=k?p.createPositionAfter(k):p.createPositionAt(a.getChild(T),0);p.move(p.createRangeOn(F),J),Fi("rowspan",$,F,p),k=F}else k=R;p.remove(o)})}}class dx extends At{refresh(){const i=this.editor,o=i.model.document.selection,a=i.plugins.get("TableUtils"),d=ln("tableCell",o.getFirstPosition());this.isEnabled=!!d&&a.getColumns(d.parent.parent)>1}execute(){const i=this.editor.model,o=ln("tableCell",i.document.selection.getFirstPosition()),a=o.parent,d=a.parent,h=d.getAttribute("headingColumns")||0,p=d.getChildIndex(a),g=[...new zn(d)],_=g.find(v=>v.cell===o).column;i.change(v=>{h&&p<=h&&v.setAttribute("headingColumns",h-1,d);for(const{cell:y,column:k,colspan:T}of g)k<=_&&T>1&&k+T>_?Fi("colspan",T-1,y,v):k===_&&v.remove(y)})}}class ux extends At{refresh(){const i=ln("tableCell",this.editor.model.document.selection.getFirstPosition()),o=!!i;this.isEnabled=o,this.value=o&&this._isInHeading(i,i.parent.parent)}execute(i={}){const o=this.editor.model,a=ln("tableCell",o.document.selection.getFirstPosition()).parent,d=a.parent,h=d.getAttribute("headingRows")||0,p=a.index;if(i.forceValue===this.value)return;const g=this.value?p:p+1;o.change(_=>{if(g){const v=function(y,k,T){const D=[],R=new zn(y,{startRow:k>T?T:0,endRow:k-1});for(const{row:F,rowspan:$,cell:J}of R)$>1&&F+$>k&&D.push(J);return D}(d,g,h);for(const y of v)xD(y,g,_)}Fi("headingRows",g,d,_,0)})}_isInHeading(i,o){const a=parseInt(o.getAttribute("headingRows")||0);return!!a&&i.parent.index<a}}function xD(c,i,o){const a=c.parent,d=a.parent,h=i-a.index,p={},g=parseInt(c.getAttribute("rowspan"))-h;g>1&&(p.rowspan=g);const _=parseInt(c.getAttribute("colspan")||1);_>1&&(p.colspan=_);const v=d.getChildIndex(a),y=v+h,k=[...new zn(d,{startRow:v,endRow:y,includeSpanned:!0})];let T;for(const{row:D,column:R,cell:F,cellIndex:$}of k)if(F===c&&void 0===T&&(T=R),void 0!==T&&T===R&&D===y){const J=d.getChild(D),ae=o.createPositionAt(J,$);Ss(o,ae,p)}Fi("rowspan",h,c,o)}class TD extends At{refresh(){const i=ln("tableCell",this.editor.model.document.selection.getFirstPosition()),o=!!i;this.isEnabled=o,this.value=o&&this._isInHeading(i,i.parent.parent)}execute(i={}){const o=this.editor.model,a=o.document.selection,d=this.editor.plugins.get("TableUtils"),h=ln("tableCell",a.getFirstPosition()),p=h.parent.parent,{column:g}=d.getCellLocation(h);if(i.forceValue===this.value)return;const _=this.value?g:g+1;o.change(v=>{Fi("headingColumns",_,p,v,0)})}_isInHeading(i,o){const a=parseInt(o.getAttribute("headingColumns")||0),d=this.editor.plugins.get("TableUtils"),{column:h}=d.getCellLocation(i);return!!a&&h<a}}class _m extends le{static get pluginName(){return"TableUtils"}getCellLocation(i){const o=i.parent,a=o.parent,d=a.getChildIndex(o),h=new zn(a,{startRow:d,endRow:d});for(const{cell:p,row:g,column:_}of h)if(p===i)return{row:g,column:_}}createTable(i,o,a){const d=i.createElement("table");return hh(i,d,0,o,a),d}insertRows(i,o={}){const d=o.at||0,h=o.rows||1;this.editor.model.change(p=>{const g=i.getAttribute("headingRows")||0;if(g>d&&p.setAttribute("headingRows",g+h,i),0===d||d===i.childCount)return void hh(p,i,d,h,this.getColumns(i));const _=new zn(i,{endRow:d});let v=0;for(const{row:y,rowspan:k,colspan:T,cell:D}of _){const R=y+k>d;y<d&&R&&p.setAttribute("rowspan",k+h,D),y===d&&(v+=T)}hh(p,i,d,h,v)})}insertColumns(i,o={}){const d=o.at||0,h=o.columns||1;this.editor.model.change(p=>{const g=i.getAttribute("headingColumns");d<g&&p.setAttribute("headingColumns",g+h,i);const _=this.getColumns(i);if(0===d||_===d){for(const y of i.getChildren())ba(h,p,p.createPositionAt(y,d?"end":0));return}const v=new zn(i,{column:d,includeSpanned:!0});for(const{row:y,cell:k,cellIndex:T}of v){const D=parseInt(k.getAttribute("rowspan")||1),R=parseInt(k.getAttribute("colspan")||1);if(k.index!==d&&R>1){if(p.setAttribute("colspan",R+h,k),v.skipRow(y),D>1)for(let F=y+1;F<y+D;F++)v.skipRow(F)}else{const F=p.createPositionAt(i.getChild(y),T);ba(h,p,F)}}})}splitCellVertically(i,o=2){const a=this.editor.model,d=i.parent.parent,h=parseInt(i.getAttribute("rowspan")||1),p=parseInt(i.getAttribute("colspan")||1);a.change(g=>{if(p>1){const{newCellsSpan:_,updatedSpan:v}=bm(p,o);Fi("colspan",v,i,g);const y={};_>1&&(y.colspan=_),h>1&&(y.rowspan=h),ba(p>o?o-1:p-1,g,g.createPositionAfter(i),y)}if(p<o){const _=o-p,v=[...new zn(d)],{column:y}=v.find(({cell:R})=>R===i),k=v.filter(({cell:R,colspan:F,column:$})=>R!==i&&$===y||$<y&&$+F>y);for(const{cell:R,colspan:F}of k)g.setAttribute("colspan",F+_,R);const T={};h>1&&(T.rowspan=h),ba(_,g,g.createPositionAfter(i),T);const D=d.getAttribute("headingColumns")||0;D>y&&Fi("headingColumns",D+_,d,g)}})}splitCellHorizontally(i,o=2){const a=this.editor.model,d=i.parent,h=d.parent,p=h.getChildIndex(d),g=parseInt(i.getAttribute("rowspan")||1),_=parseInt(i.getAttribute("colspan")||1);a.change(v=>{if(g>1){const y=[...new zn(h,{startRow:p,endRow:p+g-1,includeSpanned:!0})],{newCellsSpan:k,updatedSpan:T}=bm(g,o);Fi("rowspan",T,i,v);const{column:D}=y.find(({cell:F})=>F===i),R={};k>1&&(R.rowspan=k),_>1&&(R.colspan=_);for(const{column:F,row:$,cellIndex:J}of y){const ae=F===D,_e=($+p+T)%k==0;if($>=p+T&&ae&&_e){const ut=v.createPositionAt(h.getChild($),J);ba(1,v,ut,R)}}}if(g<o){const y=o-g,k=[...new zn(h,{startRow:0,endRow:p})];for(const{cell:R,rowspan:F,row:$}of k)R!==i&&$+F>p&&v.setAttribute("rowspan",F+y,R);const T={};_>1&&(T.colspan=_),hh(v,h,p+1,y,1,T);const D=h.getAttribute("headingRows")||0;D>p&&Fi("headingRows",D+y,h,v)}})}getColumns(i){return[...i.getChild(0).getChildren()].reduce((o,a)=>o+parseInt(a.getAttribute("colspan")||1),0)}}function hh(c,i,o,a,d,h={}){for(let p=0;p<a;p++){const g=c.createElement("tableRow");c.insert(g,i,o),ba(d,c,c.createPositionAt(g,"end"),h)}}function ba(c,i,o,a={}){for(let d=0;d<c;d++)Ss(i,o,a)}function bm(c,i){if(c<i)return{newCellsSpan:1,updatedSpan:1};const o=Math.floor(c/i);return{newCellsSpan:o,updatedSpan:c-o*i+o}}function Xr(c,i){let o=!1;const a=function(d){const h=parseInt(d.getAttribute("headingRows")||0),p=d.childCount,g=[];for(const{row:_,rowspan:v,cell:y}of new zn(d)){if(v<2)continue;const k=_<h?h:p;_+v>k&&g.push({cell:y,rowspan:k-_})}return g}(c);if(a.length){o=!0;for(const d of a)Fi("rowspan",d.rowspan,d.cell,i,1)}return o}function SD(c,i){let o=!1;const a=function(h){const p={};for(const{row:g}of new zn(h,{includeSpanned:!0}))p[g]||(p[g]=0),p[g]+=1;return p}(c),d=a[0];if(!Object.values(a).every(h=>h===d)){const h=Object.values(a).reduce((p,g)=>g>p?g:p,0);for(const[p,g]of Object.entries(a)){const _=h-g;if(_){for(let v=0;v<_;v++)Ss(i,i.createPositionAt(c.getChild(p),"end"));o=!0}}}return o}function DD(c){const o=c.attributeKey;return"attribute"===c.type&&("headingRows"===o||"colspan"===o||"rowspan"===o)}function Bv(c,i){let o=!1;for(const a of c.getChildren())o=vm(a,i)||o;return o}function vm(c,i){let o=!1;for(const a of c.getChildren())o=ym(a,i)||o;return o}function ym(c,i){if(0==c.childCount)return i.insertElement("paragraph",c),!0;const o=Array.from(c.getChildren()).filter(a=>a.is("text"));for(const a of o)i.wrap(i.createRangeOn(a),"paragraph");return!!o.length}function MD(c){return!(!c.position||!c.position.parent.is("tableCell"))&&("insert"==c.type&&"$text"==c.name||"remove"==c.type)}function Fe(c,i){if(!Array.from(c.getChildren()).some(o=>o.is("paragraph")))return!1;if("attribute"==i){const o=Array.from(c.getChild(0).getAttributeKeys()).length;return 1===c.childCount&&o<2}return c.childCount<=("insert"==i?2:1)}P(74);class jv extends le{static get pluginName(){return"TableEditing"}init(){const i=this.editor,o=i.model,a=o.schema,d=i.conversion;a.register("table",{allowWhere:"$block",allowAttributes:["headingRows","headingColumns"],isLimit:!0,isObject:!0,isBlock:!0}),a.register("tableRow",{allowIn:"table",isLimit:!0}),a.register("tableCell",{allowIn:"tableRow",allowAttributes:["colspan","rowspan"],isLimit:!0}),a.extend("$block",{allowIn:"tableCell"}),a.addChildCheck((h,p)=>{if("table"==p.name&&Array.from(h.getNames()).includes("table"))return!1}),d.for("upcast").add(function Ev(){return c=>{c.on("element:table",(i,o,a)=>{const d=o.viewItem;if(!a.consumable.test(d,{name:!0}))return;const{rows:h,headingRows:p,headingColumns:g}=function(k){const T={headingRows:0,headingColumns:0},D=[],R=[];let F;for(const $ of Array.from(k.getChildren()))if("tbody"===$.name||"thead"===$.name||"tfoot"===$.name){"thead"!==$.name||F||(F=$);const J=Array.from($.getChildren()).filter(ae=>ae.is("element","tr"));for(const ae of J)if("thead"===ae.parent.name&&ae.parent===F)T.headingRows++,D.push(ae);else{R.push(ae);const _e=Sv(ae);_e>T.headingColumns&&(T.headingColumns=_e)}}return T.rows=[...D,...R],T}(d),_={};g&&(_.headingColumns=g),p&&(_.headingRows=p);const v=a.writer.createElement("table",_),y=a.splitToAllowedParent(v,o.modelCursor);if(y){if(a.writer.insert(v,y.position),a.consumable.consume(d,{name:!0}),h.length)h.forEach(k=>a.convertItem(k,a.writer.createPositionAt(v,"end")));else{const k=a.writer.createElement("tableRow");a.writer.insert(k,a.writer.createPositionAt(v,"end")),Ss(a.writer,a.writer.createPositionAt(k,"end"))}o.modelRange=a.writer.createRange(a.writer.createPositionBefore(v),a.writer.createPositionAfter(v)),o.modelCursor=y.cursorParent?a.writer.createPositionAt(y.cursorParent,0):o.modelRange.end}})}}()),d.for("editingDowncast").add(dm({asWidget:!0})),d.for("dataDowncast").add(dm()),d.for("upcast").elementToElement({model:"tableRow",view:"tr"}),d.for("editingDowncast").add(ga({asWidget:!0})),d.for("dataDowncast").add(ga()),d.for("downcast").add(h=>h.on("remove:tableRow",(p,g,_)=>{p.stop();const v=_.writer,y=_.mapper,k=y.toViewPosition(g.position).getLastMatchingPosition(F=>!F.item.is("tr")).nodeAfter,T=k.parent,D=v.createRangeOn(k),R=v.remove(D);for(const F of v.createRangeIn(R).getItems())y.unbindViewElement(F);T.childCount||v.remove(v.createRangeOn(T))},{priority:"higher"})),d.for("upcast").add(lm("td")),d.for("upcast").add(lm("th")),d.for("editingDowncast").add(um({asWidget:!0})),d.for("dataDowncast").add(um()),d.attributeToAttribute({model:"colspan",view:"colspan"}),d.attributeToAttribute({model:"rowspan",view:"rowspan"}),d.for("editingDowncast").add(Mv({asWidget:!0})),d.for("dataDowncast").add(Mv()),d.for("editingDowncast").add(Dv({asWidget:!0})),d.for("dataDowncast").add(Dv()),i.commands.add("insertTable",new lx(i)),i.commands.add("insertTableRowAbove",new Rv(i,{order:"above"})),i.commands.add("insertTableRowBelow",new Rv(i,{order:"below"})),i.commands.add("insertTableColumnLeft",new Ov(i,{order:"left"})),i.commands.add("insertTableColumnRight",new Ov(i,{order:"right"})),i.commands.add("removeTableRow",new Nv(i)),i.commands.add("removeTableColumn",new dx(i)),i.commands.add("splitTableCellVertically",new Fv(i,{direction:"vertically"})),i.commands.add("splitTableCellHorizontally",new Fv(i,{direction:"horizontally"})),i.commands.add("mergeTableCellRight",new ud(i,{direction:"right"})),i.commands.add("mergeTableCellLeft",new ud(i,{direction:"left"})),i.commands.add("mergeTableCellDown",new ud(i,{direction:"down"})),i.commands.add("mergeTableCellUp",new ud(i,{direction:"up"})),i.commands.add("setTableColumnHeader",new TD(i)),i.commands.add("setTableRowHeader",new ux(i)),function ED(c){c.document.registerPostFixer(i=>function(o,a){const d=a.document.differ.getChanges();let h=!1;const p=new Set;for(const g of d){let _;"table"==g.name&&"insert"==g.type&&(_=g.position.nodeAfter),"tableRow"!=g.name&&"tableCell"!=g.name||(_=ln("table",g.position)),DD(g)&&(_=ln("table",g.range.start)),_&&!p.has(_)&&(h=Xr(_,o)||h,h=SD(_,o)||h,p.add(_))}return h}(i,c))}(o),function Vv(c){c.document.registerPostFixer(()=>function(i){const o=i.document.differ,a=new Set;for(const d of o.getChanges()){const h="insert"==d.type||"remove"==d.type?d.position.parent:d.range.start.parent;h.is("tableCell")&&Fe(h,d.type)&&a.add(h)}if(a.size){for(const d of a.values())o.refreshItem(d);return!0}return!1}(c))}(o),function Lv(c){c.document.registerPostFixer(i=>function(o,a){const d=a.document.differ.getChanges();let h=!1;for(const p of d)"insert"==p.type&&"table"==p.name&&(h=Bv(p.position.nodeAfter,o)||h),"insert"==p.type&&"tableRow"==p.name&&(h=vm(p.position.nodeAfter,o)||h),"insert"==p.type&&"tableCell"==p.name&&(h=ym(p.position.nodeAfter,o)||h),MD(p)&&(h=ym(p.position.parent,o)||h);return h}(i,c))}(o),this.editor.keystrokes.set("Tab",(...h)=>this._handleTabOnSelectedTable(...h),{priority:"low"}),this.editor.keystrokes.set("Tab",this._getTabHandler(!0),{priority:"low"}),this.editor.keystrokes.set("Shift+Tab",this._getTabHandler(!1),{priority:"low"})}static get requires(){return[_m]}_handleTabOnSelectedTable(i,o){const a=this.editor,d=a.model.document.selection;if(!d.isCollapsed&&1===d.rangeCount&&d.getFirstRange().isFlat){const h=d.getSelectedElement();if(!h||!h.is("table"))return;o(),a.model.change(p=>{p.setSelection(p.createRangeIn(h.getChild(0).getChild(0)))})}}_getTabHandler(i){const o=this.editor;return(a,d)=>{const h=ln("tableCell",o.model.document.selection.getFirstPosition());if(!h)return;d();const p=h.parent,g=p.parent,_=g.getChildIndex(p),v=p.getChildIndex(h),y=0===v;if(!i&&y&&0===_)return;const k=v===p.childCount-1;if(i&&_===g.childCount-1&&k&&(o.execute("insertTableRowBelow"),_===g.childCount-1))return;let D;if(i&&k)D=g.getChild(_+1).getChild(0);else if(!i&&y){const R=g.getChild(_-1);D=R.getChild(R.childCount-1)}else D=p.getChild(v+(i?1:-1));o.model.change(R=>{R.setSelection(R.createRangeIn(D))})}}}P(76);class wm extends Ge{constructor(i){super(i);const o=this.bindTemplate;this.items=this.createCollection(),this.set("rows",0),this.set("columns",0),this.bind("label").to(this,"columns",this,"rows",(a,d)=>`${d} \xd7 ${a}`),this.setTemplate({tag:"div",attributes:{class:["ck"]},children:[{tag:"div",attributes:{class:["ck-insert-table-dropdown__grid"]},children:this.items},{tag:"div",attributes:{class:["ck-insert-table-dropdown__label"]},children:[{text:o.to("label")}]}],on:{mousedown:o.to(a=>{a.preventDefault()}),click:o.to(()=>{this.fire("execute")})}});for(let a=0;a<100;a++){const d=new hx;d.on("over",()=>{const h=Math.floor(a/10),p=a%10;this.set("rows",h+1),this.set("columns",p+1)}),this.items.add(d)}this.on("change:columns",()=>{this._highlightGridBoxes()}),this.on("change:rows",()=>{this._highlightGridBoxes()})}focus(){}focusLast(){}_highlightGridBoxes(){const i=this.rows,o=this.columns;this.items.map((a,d)=>{const h=Math.floor(d/10)<i&&d%10<o;a.set("isOn",h)})}}class hx extends Ge{constructor(i){super(i);const o=this.bindTemplate;this.set("isOn",!1),this.setTemplate({tag:"div",attributes:{class:["ck-insert-table-dropdown-grid-box",o.if("isOn","ck-on")]},on:{mouseover:o.to("over")}})}}class fx extends le{init(){const i=this.editor,o=this.editor.t,a="ltr"===i.locale.contentLanguageDirection;i.ui.componentFactory.add("insertTable",d=>{const h=i.commands.get("insertTable"),p=yo(d);let g;return p.bind("isEnabled").to(h),p.buttonView.set({icon:'<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M3 6v3h4V6H3zm0 4v3h4v-3H3zm0 4v3h4v-3H3zm5 3h4v-3H8v3zm5 0h4v-3h-4v3zm4-4v-3h-4v3h4zm0-4V6h-4v3h4zm1.5 8a1.5 1.5 0 01-1.5 1.5H3A1.5 1.5 0 011.5 17V4c.222-.863 1.068-1.5 2-1.5h13c.932 0 1.778.637 2 1.5v13zM12 13v-3H8v3h4zm0-4V6H8v3h4z"/></svg>',label:o("x"),tooltip:!0}),p.on("change:isOpen",()=>{g||(g=new wm(d),p.panelView.children.add(g),g.delegate("execute").to(p),p.buttonView.on("open",()=>{g.rows=0,g.columns=0}),p.on("execute",()=>{i.execute("insertTable",{rows:g.rows,columns:g.columns}),i.editing.view.focus()}))}),p}),i.ui.componentFactory.add("tableColumn",d=>{const h=[{type:"switchbutton",model:{commandName:"setTableColumnHeader",label:o("y"),bindIsOn:!0}},{type:"separator"},{type:"button",model:{commandName:a?"insertTableColumnLeft":"insertTableColumnRight",label:o("z")}},{type:"button",model:{commandName:a?"insertTableColumnRight":"insertTableColumnLeft",label:o("aa")}},{type:"button",model:{commandName:"removeTableColumn",label:o("ab")}}];return this._prepareDropdown(o("ac"),'<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M2.5 1h15A1.5 1.5 0 0119 2.5v15a1.5 1.5 0 01-1.5 1.5h-15A1.5 1.5 0 011 17.5v-15A1.5 1.5 0 012.5 1zM2 2v16h16V2H2z" opacity=".6"/><path d="M18 7v1H2V7h16zm0 5v1H2v-1h16z" opacity=".6"/><path d="M14 1v18a1 1 0 01-1 1H7a1 1 0 01-1-1V1a1 1 0 011-1h6a1 1 0 011 1zm-2 1H8v4h4V2zm0 6H8v4h4V8zm0 6H8v4h4v-4z"/></svg>',h,d)}),i.ui.componentFactory.add("tableRow",d=>{const h=[{type:"switchbutton",model:{commandName:"setTableRowHeader",label:o("ad"),bindIsOn:!0}},{type:"separator"},{type:"button",model:{commandName:"insertTableRowBelow",label:o("ae")}},{type:"button",model:{commandName:"insertTableRowAbove",label:o("af")}},{type:"button",model:{commandName:"removeTableRow",label:o("ag")}}];return this._prepareDropdown(o("ah"),'<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M2.5 1h15A1.5 1.5 0 0119 2.5v15a1.5 1.5 0 01-1.5 1.5h-15A1.5 1.5 0 011 17.5v-15A1.5 1.5 0 012.5 1zM2 2v16h16V2H2z" opacity=".6"/><path d="M7 2h1v16H7V2zm5 0h1v16h-1V2z" opacity=".6"/><path d="M1 6h18a1 1 0 011 1v6a1 1 0 01-1 1H1a1 1 0 01-1-1V7a1 1 0 011-1zm1 2v4h4V8H2zm6 0v4h4V8H8zm6 0v4h4V8h-4z"/></svg>',h,d)}),i.ui.componentFactory.add("mergeTableCells",d=>{const h=[{type:"button",model:{commandName:"mergeTableCellUp",label:o("ai")}},{type:"button",model:{commandName:a?"mergeTableCellRight":"mergeTableCellLeft",label:o("aj")}},{type:"button",model:{commandName:"mergeTableCellDown",label:o("ak")}},{type:"button",model:{commandName:a?"mergeTableCellLeft":"mergeTableCellRight",label:o("al")}},{type:"separator"},{type:"button",model:{commandName:"splitTableCellVertically",label:o("am")}},{type:"button",model:{commandName:"splitTableCellHorizontally",label:o("an")}}];return this._prepareDropdown(o("ao"),'<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M2.5 1h15A1.5 1.5 0 0119 2.5v15a1.5 1.5 0 01-1.5 1.5h-15A1.5 1.5 0 011 17.5v-15A1.5 1.5 0 012.5 1zM2 2v16h16V2H2z" opacity=".6"/><path d="M7 2h1v16H7V2zm5 0h1v7h-1V2zm6 5v1H2V7h16zM8 12v1H2v-1h6z" opacity=".6"/><path d="M7 7h12a1 1 0 011 1v11a1 1 0 01-1 1H7a1 1 0 01-1-1V8a1 1 0 011-1zm1 2v9h10V9H8z"/></svg>',h,d)})}_prepareDropdown(i,o,a,d){const h=this.editor,p=yo(d),g=[],_=new $n;for(const v of a)px(v,h,g,_);return Yc(p,_),p.buttonView.set({label:i,icon:o,tooltip:!0}),p.bind("isEnabled").toMany(g,"isEnabled",(...v)=>v.some(y=>y)),this.listenTo(p,"execute",v=>{h.execute(v.source.commandName),h.editing.view.focus()}),p}}function px(c,i,o,a){const d=c.model=new dr(c.model),{commandName:h,bindIsOn:p}=c.model;if("button"===c.type||"switchbutton"===c.type){const g=i.commands.get(h);o.push(g),d.set({commandName:h}),d.bind("isEnabled").to(g),p&&d.bind("isOn").to(g,"value")}d.set({withText:!0}),a.add(c)}P(78);const mx=/^#([0-9a-f]{3,4}|[0-9a-f]{6}|[0-9a-f]{8})$/i,gx=/^rgb\([ ]?([0-9]{1,3}[ %]?,[ ]?){2,3}[0-9]{1,3}[ %]?\)$/i,_x=/^rgba\([ ]?([0-9]{1,3}[ %]?,[ ]?){3}(1|[0-9]+%|[0]?\.?[0-9]+)\)$/i,fh=/^hsl\([ ]?([0-9]{1,3}[ %]?[,]?[ ]*){3}(1|[0-9]+%|[0]?\.?[0-9]+)?\)$/i,xl=/^hsla\([ ]?([0-9]{1,3}[ %]?,[ ]?){2,3}(1|[0-9]+%|[0]?\.?[0-9]+)\)$/i,bx=new Set(["black","silver","gray","white","maroon","red","purple","fuchsia","green","lime","olive","yellow","navy","blue","teal","aqua","orange","aliceblue","antiquewhite","aquamarine","azure","beige","bisque","blanchedalmond","blueviolet","brown","burlywood","cadetblue","chartreuse","chocolate","coral","cornflowerblue","cornsilk","crimson","cyan","darkblue","darkcyan","darkgoldenrod","darkgray","darkgreen","darkgrey","darkkhaki","darkmagenta","darkolivegreen","darkorange","darkorchid","darkred","darksalmon","darkseagreen","darkslateblue","darkslategray","darkslategrey","darkturquoise","darkviolet","deeppink","deepskyblue","dimgray","dimgrey","dodgerblue","firebrick","floralwhite","forestgreen","gainsboro","ghostwhite","gold","goldenrod","greenyellow","grey","honeydew","hotpink","indianred","indigo","ivory","khaki","lavender","lavenderblush","lawngreen","lemonchiffon","lightblue","lightcoral","lightcyan","lightgoldenrodyellow","lightgray","lightgreen","lightgrey","lightpink","lightsalmon","lightseagreen","lightskyblue","lightslategray","lightslategrey","lightsteelblue","lightyellow","limegreen","linen","magenta","mediumaquamarine","mediumblue","mediumorchid","mediumpurple","mediumseagreen","mediumslateblue","mediumspringgreen","mediumturquoise","mediumvioletred","midnightblue","mintcream","mistyrose","moccasin","navajowhite","oldlace","olivedrab","orangered","orchid","palegoldenrod","palegreen","paleturquoise","palevioletred","papayawhip","peachpuff","peru","pink","plum","powderblue","rosybrown","royalblue","saddlebrown","salmon","sandybrown","seagreen","seashell","sienna","skyblue","slateblue","slategray","slategrey","snow","springgreen","steelblue","tan","thistle","tomato","turquoise","violet","wheat","whitesmoke","yellowgreen","rebeccapurple","currentcolor","transparent"]);function Tl(c){return c.startsWith("#")?mx.test(c):c.startsWith("rgb")?gx.test(c)||_x.test(c):c.startsWith("hsl")?fh.test(c)||xl.test(c):bx.has(c.toLowerCase())}const vx=["none","hidden","dotted","dashed","solid","double","groove","ridge","inset","outset"];function yx(c){return vx.includes(c)}const km=/^([+-]?[0-9]*[.]?[0-9]+(px|cm|mm|in|pc|pt|ch|em|ex|rem|vh|vw|vmin|vmax)|0)$/;function Mr(c){return km.test(c)}const hd=/^[+-]?[0-9]*[.]?[0-9]+%$/,ki=["repeat-x","repeat-y","repeat","space","round","no-repeat"],va=["center","top","bottom","left","right"];function ph(c){return va.includes(c)}const Ar=["fixed","scroll","local"];function mt(c){return Ar.includes(c)}const El=/^url\(/;function Sl(c){return El.test(c)}function $o(c=""){if(""===c)return{top:void 0,right:void 0,bottom:void 0,left:void 0};const i=Ms(c),o=i[0],d=i[1]||o;return{top:o,bottom:i[2]||o,right:d,left:i[3]||d}}function Ds(c){return i=>{const{top:o,right:a,bottom:d,left:h}=i,p=[];return[o,a,h,d].every(g=>!!g)?p.push([c,Dl(i)]):(o&&p.push([c+"-top",o]),a&&p.push([c+"-right",a]),d&&p.push([c+"-bottom",d]),h&&p.push([c+"-left",h])),p}}function Dl({top:c,right:i,bottom:o,left:a}){const d=[];return a!==i?d.push(c,i,o,a):o!==c?d.push(c,i,o):i!==c?d.push(c,i):d.push(c),d.join(" ")}function Ms(c){return c.replace(/, /g,",").split(" ").map(i=>i.replace(/,/g,", "))}function Ml(c){c.setNormalizer("border",Al),c.setNormalizer("border-top",Wo("top")),c.setNormalizer("border-right",Wo("right")),c.setNormalizer("border-bottom",Wo("bottom")),c.setNormalizer("border-left",Wo("left")),c.setNormalizer("border-color",mh("color")),c.setNormalizer("border-width",mh("width")),c.setNormalizer("border-style",mh("style")),c.setNormalizer("border-top-color",hr("color","top")),c.setNormalizer("border-top-style",hr("style","top")),c.setNormalizer("border-top-width",hr("width","top")),c.setNormalizer("border-right-color",hr("color","right")),c.setNormalizer("border-right-style",hr("style","right")),c.setNormalizer("border-right-width",hr("width","right")),c.setNormalizer("border-bottom-color",hr("color","bottom")),c.setNormalizer("border-bottom-style",hr("style","bottom")),c.setNormalizer("border-bottom-width",hr("width","bottom")),c.setNormalizer("border-left-color",hr("color","left")),c.setNormalizer("border-left-style",hr("style","left")),c.setNormalizer("border-left-width",hr("width","left")),c.setExtractor("border-top",fd("top")),c.setExtractor("border-right",fd("right")),c.setExtractor("border-bottom",fd("bottom")),c.setExtractor("border-left",fd("left")),c.setExtractor("border-top-color","border.color.top"),c.setExtractor("border-right-color","border.color.right"),c.setExtractor("border-bottom-color","border.color.bottom"),c.setExtractor("border-left-color","border.color.left"),c.setExtractor("border-top-width","border.width.top"),c.setExtractor("border-right-width","border.width.right"),c.setExtractor("border-bottom-width","border.width.bottom"),c.setExtractor("border-left-width","border.width.left"),c.setExtractor("border-top-style","border.style.top"),c.setExtractor("border-right-style","border.style.right"),c.setExtractor("border-bottom-style","border.style.bottom"),c.setExtractor("border-left-style","border.style.left"),c.setReducer("border-color",Ds("border-color")),c.setReducer("border-style",Ds("border-style")),c.setReducer("border-width",Ds("border-width")),c.setReducer("border-top",pd("top")),c.setReducer("border-right",pd("right")),c.setReducer("border-bottom",pd("bottom")),c.setReducer("border-left",pd("left")),c.setReducer("border",Hv),c.setStyleRelation("border",["border-color","border-style","border-width","border-top","border-right","border-bottom","border-left","border-top-color","border-right-color","border-bottom-color","border-left-color","border-top-style","border-right-style","border-bottom-style","border-left-style","border-top-width","border-right-width","border-bottom-width","border-left-width"]),c.setStyleRelation("border-color",["border-top-color","border-right-color","border-bottom-color","border-left-color"]),c.setStyleRelation("border-style",["border-top-style","border-right-style","border-bottom-style","border-left-style"]),c.setStyleRelation("border-width",["border-top-width","border-right-width","border-bottom-width","border-left-width"]),c.setStyleRelation("border-top",["border-top-color","border-top-style","border-top-width"]),c.setStyleRelation("border-right",["border-right-color","border-right-style","border-right-width"]),c.setStyleRelation("border-bottom",["border-bottom-color","border-bottom-style","border-bottom-width"]),c.setStyleRelation("border-left",["border-left-color","border-left-style","border-left-width"])}function Al(c){const{color:i,style:o,width:a}=Cm(c);return{path:"border",value:{color:$o(i),style:$o(o),width:$o(a)}}}function Wo(c){return i=>{const{color:o,style:a,width:d}=Cm(i),h={};return void 0!==o&&(h.color={[c]:o}),void 0!==a&&(h.style={[c]:a}),void 0!==d&&(h.width={[c]:d}),{path:"border",value:h}}}function mh(c){return i=>({path:"border",value:zv(i,c)})}function zv(c,i){return{[i]:$o(c)}}function hr(c,i){return o=>({path:"border",value:{[c]:{[i]:o}}})}function fd(c){return(i,o)=>{if(o.border)return Il(o.border,c)}}function Il(c,i){const o={};return c.width&&c.width[i]&&(o.width=c.width[i]),c.style&&c.style[i]&&(o.style=c.style[i]),c.color&&c.color[i]&&(o.color=c.color[i]),o}function Cm(c){const i={},o=Ms(c);for(const a of o)Mr(a)||/thin|medium|thick/.test(a)?i.width=a:yx(a)?i.style=a:i.color=a;return i}function Hv(c){const i=[];return i.push(...Pl(Il(c,"top"),"top")),i.push(...Pl(Il(c,"right"),"right")),i.push(...Pl(Il(c,"bottom"),"bottom")),i.push(...Pl(Il(c,"left"),"left")),i}function pd(c){return i=>Pl(i,c)}function Pl(c,i){const o=[];return c&&void 0!==c.width&&o.push(c.width),c&&void 0!==c.style&&o.push(c.style),c&&void 0!==c.color&&o.push(c.color),o.length?[[`border-${i}`,o.join(" ")]]:[]}function wx(c){c.setNormalizer("background",pe),c.setNormalizer("background-color",i=>({path:"background.color",value:i})),c.setReducer("background",i=>{const o=[];return o.push(["background-color",i.color]),o})}function pe(c){const i={},o=Ms(c);for(const d of o)ki.includes(d)?(i.repeat=i.repeat||[],i.repeat.push(d)):ph(d)?(i.position=i.position||[],i.position.push(d)):mt(d)?i.attachment=d:Tl(d)?i.color=d:Sl(d)&&(i.image=d);return{path:"background",value:i}}function Uv(c,i,o,a){c.for("upcast").attributeToAttribute({view:{styles:{[a]:/[\s\S]+/}},model:{name:i,key:o,value:d=>d.getNormalizedStyle(a)}})}function hi(c,i,o){c.for("downcast").add(a=>a.on(`attribute:${i}:table`,(d,h,p)=>{const{item:g,attributeNewValue:_}=h,{mapper:v,writer:y}=p;if(!p.consumable.consume(h.item,d.name))return;const k=[...v.toViewElement(g).getChildren()].find(T=>T.is("table"));_?y.setStyle(o,_,k):y.removeStyle(o,k)}))}class As extends At{constructor(i,o){super(i),this.attributeName=o}refresh(){const i=ln("table",this.editor.model.document.selection.getFirstPosition());this.isEnabled=!!i,this.value=this._getValue(i)}execute(i={}){const o=this.editor.model,a=o.document.selection,{value:d,batch:h}=i,p=ln("table",a.getFirstPosition()),g=this._getValueToSet(d);o.enqueueChange(h||"default",_=>{g?_.setAttribute(this.attributeName,g,p):_.removeAttribute(this.attributeName,p)})}_getValue(i){if(i)return i.getAttribute(this.attributeName)}_getValueToSet(i){return i}}class kx extends As{constructor(i){super(i,"backgroundColor")}}class Cx extends As{constructor(i){super(i,"borderColor")}_getValue(i){if(i)return am(i.getAttribute(this.attributeName))}}class $v extends As{constructor(i){super(i,"borderStyle")}_getValue(i){if(i)return am(i.getAttribute(this.attributeName))}}class xx extends As{constructor(i){super(i,"borderWidth")}_getValue(i){if(i)return am(i.getAttribute(this.attributeName))}_getValueToSet(i){return dd(i,"px")}}class Wv extends As{constructor(i){super(i,"width")}_getValueToSet(i){return dd(i,"px")}}class Tx extends As{constructor(i){super(i,"height")}_getValueToSet(i){return dd(i,"px")}}class Ex extends As{constructor(i){super(i,"alignment")}}const AD=/^(left|right)$/;class Sx extends le{static get pluginName(){return"TablePropertiesEditing"}static get requires(){return[jv]}init(){const i=this.editor,o=i.model.schema,a=i.conversion,d=i.editing.view.document;var p;d.addStyleProcessorRules(Ml),p=a,o.extend("table",{allowAttributes:["borderWidth","borderColor","borderStyle"]}),p.for("upcast").add(v=>v.on("element:table",(y,k,T)=>{const D=["border-top","border-right","border-bottom","border-left"].filter($=>k.viewItem.hasStyle($));if(!D.length)return;const R={styles:D};if(!T.consumable.test(k.viewItem,R))return;const F=[...k.modelRange.getItems({shallow:!0})].pop();T.consumable.consume(k.viewItem,R),T.writer.setAttribute("borderStyle",k.viewItem.getNormalizedStyle("border-style"),F),T.writer.setAttribute("borderColor",k.viewItem.getNormalizedStyle("border-color"),F),T.writer.setAttribute("borderWidth",k.viewItem.getNormalizedStyle("border-width"),F)})),hi(p,"borderColor","border-color"),hi(p,"borderStyle","border-style"),hi(p,"borderWidth","border-width"),i.commands.add("tableBorderColor",new Cx(i)),i.commands.add("tableBorderStyle",new $v(i)),i.commands.add("tableBorderWidth",new xx(i)),function(h,p){h.extend("table",{allowAttributes:["alignment"]}),p.attributeToAttribute({model:{name:"table",key:"alignment",values:["left","right"]},view:{left:{key:"style",value:{float:"left"}},right:{key:"style",value:{float:"right"}}},converterPriority:"high"}),p.for("upcast").attributeToAttribute({view:{attributes:{align:AD}},model:{name:"table",key:"alignment",value:g=>g.getAttribute("align")}})}(o,a),i.commands.add("tableAlignment",new Ex(i)),gh(o,a,"width","width"),i.commands.add("tableWidth",new Wv(i)),gh(o,a,"height","height"),i.commands.add("tableHeight",new Tx(i)),d.addStyleProcessorRules(wx),function(h,p,g,_){h.extend("table",{allowAttributes:[g]}),Uv(p,"table",g,_),hi(p,g,_)}(o,a,"backgroundColor","background-color"),i.commands.add("tableBackgroundColor",new kx(i))}}function gh(c,i,o,a){var p,g;c.extend("table",{allowAttributes:[o]}),Uv(i,"table",o,a),p=o,g=a,i.for("downcast").attributeToAttribute({model:{name:"table",key:p},view:_=>({key:"style",value:{[g]:_}})})}P(80);class Is extends Ge{constructor(i,o){super(i);const a=`ck-labeled-view-${Nr()}`,d=`ck-labeled-view-status-${Nr()}`;this.view=o(this,a,d),this.set("label"),this.set("isEnabled",!0),this.set("errorText",null),this.set("infoText",null),this.set("class"),this.labelView=this._createLabelView(a),this.statusView=this._createStatusView(d),this.bind("_statusText").to(this,"errorText",this,"infoText",(p,g)=>p||g);const h=this.bindTemplate;this.setTemplate({tag:"div",attributes:{class:["ck","ck-labeled-view",h.to("class"),h.if("isEnabled","ck-disabled",p=>!p)]},children:[this.labelView,this.view,this.statusView]})}_createLabelView(i){const o=new ws(this.locale);return o.for=i,o.bind("text").to(this,"label"),o}_createStatusView(i){const o=new Ge(this.locale),a=this.bindTemplate;return o.setTemplate({tag:"div",attributes:{class:["ck","ck-labeled-view__status",a.if("errorText","ck-labeled-view__status_error"),a.if("_statusText","ck-hidden",d=>!d)],id:i,role:a.if("errorText","alert")},children:[{text:a.to("_statusText")}]}),o}focus(){this.view.focus()}}function xm(c,i,o){const a=new sd(c.locale);return a.set({id:i,ariaDescribedById:o}),a.bind("isReadOnly").to(c,"isEnabled",d=>!d),a.bind("hasError").to(c,"errorText",d=>!!d),a.on("input",()=>{c.errorText=null}),a}function ID(c,i,o){const a=yo(c.locale);return a.set({id:i,ariaDescribedById:o}),a.bind("isEnabled").to(c),a}class Dx extends Bt{constructor(i){super(i);const o=this.bindTemplate;this.set("color"),this.set("hasBorder"),this.icon='<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path class="ck-icon__fill" d="M16.935 5.328a2 2 0 010 2.829l-7.778 7.778a2 2 0 01-2.829 0L3.5 13.107a1.999 1.999 0 112.828-2.829l.707.707a1 1 0 001.414 0l5.658-5.657a2 2 0 012.828 0z"/><path d="M14.814 6.035L8.448 12.4a1 1 0 01-1.414 0l-1.413-1.415A1 1 0 104.207 12.4l2.829 2.829a1 1 0 001.414 0l7.778-7.778a1 1 0 10-1.414-1.415z"/></svg>',this.extendTemplate({attributes:{style:{backgroundColor:o.to("color")},class:["ck","ck-color-grid__tile",o.if("hasBorder","ck-color-table__color-tile_bordered")]}})}render(){super.render(),this.iconView.fillColor="hsl(0, 0%, 100%)"}}P(82);class qv extends Ge{constructor(i,o){super(i);const a=o&&o.colorDefinitions||[],d={};o&&o.columns&&(d.gridTemplateColumns=`repeat( ${o.columns}, 1fr)`),this.set("selectedColor"),this.items=this.createCollection(),this.focusTracker=new sr,this.keystrokes=new wi,this._focusCycler=new ks({focusables:this.items,focusTracker:this.focusTracker,keystrokeHandler:this.keystrokes,actions:{focusPrevious:"arrowleft",focusNext:"arrowright"}}),this.items.on("add",(h,p)=>{p.isOn=p.color===this.selectedColor}),a.forEach(h=>{const p=new Dx;p.set({color:h.color,label:h.label,tooltip:!0,hasBorder:h.options.hasBorder}),p.on("execute",()=>{this.fire("execute",{value:h.color,hasBorder:h.options.hasBorder,label:h.label})}),this.items.add(p)}),this.setTemplate({tag:"div",children:this.items,attributes:{class:["ck","ck-color-grid"],style:d}}),this.on("change:selectedColor",(h,p,g)=>{for(const _ of this.items)_.isOn=_.color===g})}focus(){this.items.length&&this.items.first.focus()}focusLast(){this.items.length&&this.items.last.focus()}render(){super.render();for(const i of this.items)this.focusTracker.add(i.element);this.items.on("add",(i,o)=>{this.focusTracker.add(o.element)}),this.items.on("remove",(i,o)=>{this.focusTracker.remove(o.element)}),this.keystrokes.listenTo(this.element)}}var Gv='<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M8.636 9.531l-2.758 3.94a.5.5 0 00.122.696l3.224 2.284h1.314l2.636-3.736L8.636 9.53zm.288 8.451L5.14 15.396a2 2 0 01-.491-2.786l6.673-9.53a2 2 0 012.785-.49l3.742 2.62a2 2 0 01.491 2.785l-7.269 10.053-2.147-.066z"/><path d="M4 18h5.523v-1H4zm-2 0h1v-1H2z"/></svg>';P(84);class Kv extends Ge{constructor(i,o){super(i);const a=this.bindTemplate;this.set("value",""),this.set("id"),this.set("isReadOnly",!1),this.set("hasError",!1),this.set("ariaDescribedById"),this.options=o,this._dropdownView=this._createDropdownView(i),this._inputView=this._createInputTextView(i),this.setTemplate({tag:"div",attributes:{class:["ck","ck-input-color",a.if("hasError","ck-error")],id:a.to("id"),"aria-invalid":a.if("hasError",!0),"aria-describedby":a.to("ariaDescribedById")},children:[this._inputView,this._dropdownView]})}focus(){this._inputView.focus()}_createDropdownView(){const i=this.locale,o=this.bindTemplate,a=this._createColorGrid(i),d=yo(i),h=new Ge,p=this._createRemoveColorButton(i);return h.setTemplate({tag:"span",attributes:{class:["ck","ck-input-color__button__preview"],style:{backgroundColor:o.to("value")}},children:[{tag:"span",attributes:{class:["ck","ck-input-color__button__preview__no-color-indicator",o.if("value","ck-hidden",g=>""!=g)]}}]}),d.buttonView.extendTemplate({attributes:{class:"ck-input-color__button"}}),d.buttonView.children.add(h),d.panelPosition="sw",d.panelView.children.add(p),d.panelView.children.add(a),d.bind("isEnabled").to(this,"isReadOnly",g=>!g),d}_createInputTextView(){const o=new sd(this.locale);return o.bind("value").to(this),o.bind("isReadOnly").to(this),o.bind("hasError").to(this),o.on("input",()=>{this.value=o.element.value}),o.delegate("input").to(this),o}_createRemoveColorButton(){const i=this.locale,o=i.t,a=new Bt(i);return a.class="ck-input-color__remove-color",a.withText=!0,a.icon=Gv,a.label=o("bv"),a.on("execute",()=>{this.value="",this._dropdownView.isOpen=!1,this.fire("input")}),a}_createColorGrid(i){const o=new qv(i,{colorDefinitions:this.options.colorDefinitions,columns:this.options.columns});return o.on("execute",(a,d)=>{this.value=d.value,this._dropdownView.isOpen=!1,this.fire("input")}),o.bind("selectedColor").to(this,"value"),o}}const md=Kt.defaultPositions,Qv=[md.northArrowSouth,md.northArrowSouthWest,md.northArrowSouthEast,md.southArrowNorth,md.southArrowNorthWest,md.southArrowNorthEast],Ps=c=>""===c;function Tm(c){const i=ln("table",c.model.document.selection.getFirstPosition()),o=c.editing.mapper.toViewElement(i);return{target:c.editing.view.domConverter.viewToDom(o),positions:Qv}}function Yv(c){return{none:c("cx"),solid:c("cy"),dotted:c("cz"),dashed:c("da"),double:c("db"),groove:c("dc"),ridge:c("dd"),inset:c("de"),outset:c("df")}}function Em(c){return c=c.trim(),Ps(c)||Tl(c)}function gd(c){return c=c.trim(),Ps(c)||Xv(c)||Mr(c)||hd.test(c)}function Ax(c){return c=c.trim(),Ps(c)||Xv(c)||Mr(c)}const Sm=[{color:"hsl(0, 0%, 0%)",label:"Black"},{color:"hsl(0, 0%, 30%)",label:"Dim grey"},{color:"hsl(0, 0%, 60%)",label:"Grey"},{color:"hsl(0, 0%, 90%)",label:"Light grey"},{color:"hsl(0, 0%, 100%)",label:"White",hasBorder:!0},{color:"hsl(0, 75%, 60%)",label:"Red"},{color:"hsl(30, 75%, 60%)",label:"Orange"},{color:"hsl(60, 75%, 60%)",label:"Yellow"},{color:"hsl(90, 75%, 60%)",label:"Light green"},{color:"hsl(120, 75%, 60%)",label:"Green"},{color:"hsl(150, 75%, 60%)",label:"Aquamarine"},{color:"hsl(180, 75%, 60%)",label:"Turquoise"},{color:"hsl(210, 75%, 60%)",label:"Light blue"},{color:"hsl(240, 75%, 60%)",label:"Blue"},{color:"hsl(270, 75%, 60%)",label:"Purple"}];function Zv(c){return(i,o,a)=>{const d=new Kv(i.locale,{colorDefinitions:(h=c.colorConfig,h.map(p=>({color:p.model,label:p.label,options:{hasBorder:p.hasBorder}}))),columns:c.columns});var h;return d.set({id:o,ariaDescribedById:a}),d.bind("isReadOnly").to(i,"isEnabled",p=>!p),d.bind("errorText").to(i),d.on("input",()=>{i.errorText=null}),d}}function Xv(c){const i=parseFloat(c);return!Number.isNaN(i)&&c===String(i)}P(86);class Rl extends Ge{constructor(i,o={}){super(i);const a=this.bindTemplate;this.set("class",o.class||null),this.children=this.createCollection(),o.children&&o.children.forEach(d=>this.children.add(d)),this.set("_role",null),this.set("_ariaLabelledBy",null),o.labelView&&this.set({_role:"group",_ariaLabelledBy:o.labelView.id}),this.setTemplate({tag:"div",attributes:{class:["ck","ck-form__row",a.to("class")],role:a.to("_role"),"aria-labelledby":a.to("_ariaLabelledBy")},children:this.children})}}P(88);class Ix extends Ge{constructor(i,o={}){super(i);const a=this.bindTemplate;this.children=this.createCollection(),this.set("class",o.class||null),this.set("label",o.label||"");const d=new Ge(i);d.setTemplate({tag:"span",attributes:{class:["ck","ck-form__header__label"]},children:[{text:a.to("label")}]}),this.children.add(d),this.setTemplate({tag:"div",attributes:{class:["ck","ck-form__header",a.to("class")]},children:this.children})}}var Dm='<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg" clip-rule="evenodd" stroke-linejoin="round" stroke-miterlimit="1.414"><path d="M18 4.5V3H2v1.5h16zm0 3V6h-5.674v1.5H18zm0 3V9h-5.674v1.5H18zm0 3V12h-5.674v1.5H18zm-8.5-6V12h-6V7.5h6zm.818-1.5H2.682C2.305 6 2 6.407 2 6.91v5.68c0 .503.305.91.682.91h7.636c.377 0 .682-.407.682-.91V6.91c0-.503-.305-.91-.682-.91zM18 16.5V15H2v1.5h16z"/></svg>',_d='<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M2 4.5V3h16v1.5zm0 3V6h5.674v1.5zm0 3V9h5.674v1.5zm0 3V12h5.674v1.5zm8.5-6V12h6V7.5h-6zM9.682 6h7.636c.377 0 .682.407.682.91v5.68c0 .503-.305.91-.682.91H9.682c-.377 0-.682-.407-.682-.91V6.91c0-.503.305-.91.682-.91zM2 16.5V15h16v1.5z"/></svg>',Mm='<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M2 4.5V3h16v1.5zm4.5 3V12h7V7.5h-7zM5.758 6h8.484c.419 0 .758.407.758.91v5.681c0 .502-.34.909-.758.909H5.758c-.419 0-.758-.407-.758-.91V6.91c0-.503.34-.91.758-.91zM2 16.5V15h16v1.5z"/></svg>';P(90),P(92),P(94);const Jv={left:Dm,center:Mm,right:_d};class ey extends Ge{constructor(i,o){super(i),this.set({borderStyle:"",borderWidth:"",borderColor:"",backgroundColor:"",width:"",height:"",alignment:""}),this.options=o;const{borderStyleDropdown:a,borderWidthInput:d,borderColorInput:h,borderRowLabel:p}=this._createBorderFields(),{widthInput:g,operatorLabel:_,heightInput:v,dimensionsLabel:y}=this._createDimensionFields(),{alignmentToolbar:k,alignmentLabel:T}=this._createAlignmentFields();this.focusTracker=new sr,this.keystrokes=new wi,this.children=this.createCollection(),this.borderStyleDropdown=a,this.borderWidthInput=d,this.borderColorInput=h,this.backgroundInput=this._createBackgroundField(),this.widthInput=g,this.heightInput=v,this.alignmentToolbar=k;const{saveButtonView:D,cancelButtonView:R}=this._createActionButtons();this.saveButtonView=D,this.cancelButtonView=R,this._focusables=new da,this._focusCycler=new ks({focusables:this._focusables,focusTracker:this.focusTracker,keystrokeHandler:this.keystrokes,actions:{focusPrevious:"shift + tab",focusNext:"tab"}}),this.children.add(new Ix(i,{label:this.t("Table properties")})),this.children.add(new Rl(i,{labelView:p,children:[p,a,h,d],class:"ck-table-form__border-row"})),this.children.add(new Rl(i,{children:[this.backgroundInput]})),this.children.add(new Rl(i,{children:[new Rl(i,{labelView:y,children:[y,g,_,v],class:"ck-table-form__dimensions-row"}),new Rl(i,{labelView:T,children:[T,k],class:"ck-table-properties-form__alignment-row"})]})),this.children.add(new Rl(i,{children:[this.saveButtonView,this.cancelButtonView],class:"ck-table-form__action-row"})),this.setTemplate({tag:"form",attributes:{class:["ck","ck-form","ck-table-form","ck-table-properties-form"],tabindex:"-1"},children:this.children})}render(){super.render(),$p({view:this}),[this.borderStyleDropdown,this.borderColorInput,this.borderWidthInput,this.backgroundInput,this.widthInput,this.heightInput,this.alignmentToolbar,this.saveButtonView,this.cancelButtonView].forEach(i=>{this._focusables.add(i),this.focusTracker.add(i.element)}),this.keystrokes.listenTo(this.element)}focus(){this._focusCycler.focusFirst()}_createBorderFields(){const i=Zv({colorConfig:this.options.borderColors,columns:5}),o=this.locale,a=this.t,d=new ws(o);d.text=a("di");const h=Yv(this.t),p=new Is(o,ID);p.set({label:a("dj"),class:"ck-table-form__border-style"}),p.view.buttonView.set({isOn:!1,withText:!0,tooltip:a("dj")}),p.view.buttonView.bind("label").to(this,"borderStyle",v=>h[v||"none"]),p.view.on("execute",v=>{this.borderStyle=v.source._borderStyleValue}),Yc(p.view,function(v){const y=new $n,k=Yv(v.t);for(const T in k){const D={type:"button",model:new dr({_borderStyleValue:"none"===T?"":T,label:k[T],withText:!0})};"none"===T?D.model.bind("isOn").to(v,"borderStyle",R=>!R):D.model.bind("isOn").to(v,"borderStyle",R=>R===T),y.add(D)}return y}(this));const g=new Is(o,xm);g.set({label:a("dk"),class:"ck-table-form__border-width"}),g.view.bind("value").to(this,"borderWidth"),g.bind("isEnabled").to(this,"borderStyle",bd),g.view.on("input",()=>{this.borderWidth=g.view.element.value});const _=new Is(o,i);return _.set({label:a("dl"),class:"ck-table-form__border-color"}),_.view.bind("value").to(this,"borderColor"),_.bind("isEnabled").to(this,"borderStyle",bd),_.view.on("input",()=>{this.borderColor=_.view.value}),this.on("change:borderStyle",(v,y,k)=>{bd(k)||(this.borderColor="",this.borderWidth="")}),{borderRowLabel:d,borderStyleDropdown:p,borderColorInput:_,borderWidthInput:g}}_createBackgroundField(){const i=Zv({colorConfig:this.options.backgroundColors,columns:5}),a=this.t,d=new Is(this.locale,i);return d.set({label:a("dm"),class:"ck-table-properties-form__background"}),d.view.bind("value").to(this,"backgroundColor"),d.view.on("input",()=>{this.backgroundColor=d.view.value}),d}_createDimensionFields(){const i=this.locale,o=this.t,a=new ws(i);a.text=o("dn");const d=new Is(i,xm);d.set({label:o("dk"),class:"ck-table-form__dimensions-row__width"}),d.view.bind("value").to(this,"width"),d.view.on("input",()=>{this.width=d.view.element.value});const h=new Ge(i);h.setTemplate({tag:"span",attributes:{class:["ck-table-form__dimension-operator"]},children:[{text:"\xd7"}]});const p=new Is(i,xm);return p.set({label:o("do"),class:"ck-table-form__dimensions-row__height"}),p.view.bind("value").to(this,"height"),p.view.on("input",()=>{this.height=p.view.element.value}),{dimensionsLabel:a,widthInput:d,operatorLabel:h,heightInput:p}}_createAlignmentFields(){const i=this.locale,o=this.t,a=new ws(i);a.text=o("dp");const d=new Zc(i);return d.set({isCompact:!0,ariaLabel:o("dq")}),function({view:h,icons:p,toolbar:g,labels:_,propertyName:v,nameToValue:y}){for(const k in _){const T=new Bt(h.locale);T.set({label:_[k],icon:p[k]}),T.bind("isOn").to(h,v,D=>D===y(k)),T.on("execute",()=>{h[v]=y(k)}),g.items.add(T)}}({view:this,icons:Jv,toolbar:d,labels:this._alignmentLabels,propertyName:"alignment",nameToValue:h=>"center"===h?"":h}),{alignmentLabel:a,alignmentToolbar:d}}_createActionButtons(){const i=this.locale,o=this.t,a=new Bt(i),d=new Bt(i),h=[this.borderWidthInput,this.borderColorInput,this.backgroundInput,this.widthInput,this.heightInput];return a.set({label:o("bs"),icon:ad,class:"ck-button-save",type:"submit",withText:!0}),a.bind("isEnabled").toMany(h,"errorText",(...p)=>p.every(g=>!g)),d.set({label:o("bt"),icon:Wp,class:"ck-button-cancel",type:"cancel",withText:!0}),d.delegate("execute").to(this,"cancel"),{saveButtonView:a,cancelButtonView:d}}get _alignmentLabels(){const i=this.t;return{left:i("dr"),center:i("ds"),right:i("dt")}}}function bd(c){return!!c}function ty(c,i){const o=c.t,a={Black:o("cg"),"Dim grey":o("ch"),Grey:o("ci"),"Light grey":o("cj"),White:o("ck"),Red:o("cl"),Orange:o("cm"),Yellow:o("cn"),"Light green":o("co"),Green:o("cp"),Aquamarine:o("cq"),Turquoise:o("cr"),"Light blue":o("cs"),Blue:o("ct"),Purple:o("cu")};return i.map(d=>{const h=a[d.label];return h&&h!=d.label&&(d.label=h),d})}function vd(c){return c.map(Px).filter(i=>!!i)}function Px(c){return"string"==typeof c?{model:c.replace(/ /g,""),label:c,hasBorder:!1,view:{name:"span",styles:{color:c}}}:{model:c.color.replace(/ /g,""),label:c.label||c.color,hasBorder:void 0!==c.hasBorder&&c.hasBorder,view:{name:"span",styles:{color:`${c.color}`}}}}class PD extends le{static get requires(){return[ur]}static get pluginName(){return"TablePropertiesUI"}constructor(i){super(i),i.config.define("table.tableProperties",{borderColors:Sm,backgroundColors:Sm})}init(){const i=this.editor,o=i.t;this._balloon=i.plugins.get(ur),this.view=this._createPropertiesView(),this._undoStepBatch=null,i.ui.componentFactory.add("tableProperties",a=>{const d=new Bt(a);return d.set({label:o("av"),icon:'<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M8 2v5h4V2h1v5h5v1h-5v4h.021l-.172.351-1.916.28-.151.027c-.287.063-.54.182-.755.341L8 13v5H7v-5H2v-1h5V8H2V7h5V2h1zm4 6H8v4h4V8z" opacity=".6"/><path d="M15.5 11.5l1.323 2.68 2.957.43-2.14 2.085.505 2.946L15.5 18.25l-2.645 1.39.505-2.945-2.14-2.086 2.957-.43L15.5 11.5zM17 1a2 2 0 012 2v9.475l-.85-.124-.857-1.736a2.048 2.048 0 00-.292-.44L17 3H3v14h7.808l.402.392L10.935 19H3a2 2 0 01-2-2V3a2 2 0 012-2h14z"/></svg>',tooltip:!0}),this.listenTo(d,"execute",()=>this._showView()),d})}destroy(){super.destroy(),this.view.destroy()}_createPropertiesView(){const i=this.editor,o=i.editing.view.document,a=i.config.get("table.tableProperties"),d=vd(a.borderColors),h=ty(i.locale,d),p=vd(a.backgroundColors),g=ty(i.locale,p),_=new ey(i.locale,{borderColors:h,backgroundColors:g}),v=i.t;_.render(),this.listenTo(_,"submit",()=>{this._hideView()}),this.listenTo(_,"cancel",()=>{this._undoStepBatch.operations.length&&i.execute("undo",this._undoStepBatch),this._hideView()}),_.keystrokes.set("Esc",(T,D)=>{this._hideView(),D()}),this.listenTo(i.ui,"update",()=>{cm(o.selection)?this._isViewVisible&&function Mx(c,i){const o=c.plugins.get("ContextualBalloon");if(cm(c.editing.view.document.selection)){let a;a="cell"===i?function(d){const h=ln("tableCell",d.model.document.selection.getFirstPosition()),p=d.editing.mapper.toViewElement(h);return{target:d.editing.view.domConverter.viewToDom(p),positions:Qv}}(c):Tm(c),o.updatePosition(a)}}(i,"table"):this._hideView()}),Qc({emitter:_,activator:()=>this._isViewInBalloon,contextElements:[this._balloon.view.element],callback:()=>this._hideView()});const y=v("dg"),k=v("dh");return _.on("change:borderStyle",this._getPropertyChangeCallback("tableBorderStyle")),_.on("change:borderColor",this._getValidatedPropertyChangeCallback({viewField:_.borderColorInput,commandName:"tableBorderColor",errorText:y,validator:Em})),_.on("change:borderWidth",this._getValidatedPropertyChangeCallback({viewField:_.borderWidthInput,commandName:"tableBorderWidth",errorText:k,validator:Ax})),_.on("change:backgroundColor",this._getValidatedPropertyChangeCallback({viewField:_.backgroundInput,commandName:"tableBackgroundColor",errorText:y,validator:Em})),_.on("change:width",this._getValidatedPropertyChangeCallback({viewField:_.widthInput,commandName:"tableWidth",errorText:k,validator:gd})),_.on("change:height",this._getValidatedPropertyChangeCallback({viewField:_.heightInput,commandName:"tableHeight",errorText:k,validator:gd})),_.on("change:alignment",this._getPropertyChangeCallback("tableAlignment")),_}_fillViewFormFromCommandValues(){const i=this.editor.commands;this.view.set({borderStyle:i.get("tableBorderStyle").value||"",borderColor:i.get("tableBorderColor").value||"",borderWidth:i.get("tableBorderWidth").value||"",backgroundColor:i.get("tableBackgroundColor").value||"",width:i.get("tableWidth").value||"",height:i.get("tableHeight").value||"",alignment:i.get("tableAlignment").value||""})}_showView(){const i=this.editor;this._balloon.add({view:this.view,position:Tm(i)}),this._undoStepBatch=i.model.createBatch(),this._fillViewFormFromCommandValues(),this.view.focus()}_hideView(){this._isViewInBalloon&&(this.stopListening(this.editor.ui,"update"),this.view.saveButtonView.focus(),this._balloon.remove(this.view),this.editor.editing.view.focus())}get _isViewVisible(){return this._balloon.visibleView===this.view}get _isViewInBalloon(){return this._balloon.hasView(this.view)}_getPropertyChangeCallback(i){return(o,a,d)=>{this.editor.execute(i,{value:d,batch:this._undoStepBatch})}}_getValidatedPropertyChangeCallback({commandName:i,viewField:o,validator:a,errorText:d}){const h=Rc(()=>{o.errorText=d},500);return(p,g,_)=>{h.cancel(),a(_)?(this.editor.execute(i,{value:_,batch:this._undoStepBatch}),o.errorText=null):h()}}}class M{constructor(i){this.loader=i}upload(){return new Promise((i,o)=>{const a=this.reader=new window.FileReader;a.addEventListener("load",()=>{i({default:a.result})}),a.addEventListener("error",d=>{o(d)}),a.addEventListener("abort",()=>{o()}),this.loader.file.then(d=>{a.readAsDataURL(d)})})}abort(){this.reader.abort()}}class Ol{constructor(i){this.set("activeHandlePosition",null),this.set("proposedWidthPercents",null),this.set("proposedWidth",null),this.set("proposedHeight",null),this.set("proposedHandleHostWidth",null),this.set("proposedHandleHostHeight",null),this._options=i,this._referenceCoordinates=null}begin(i,o,a){const d=new Ut(o);this.activeHandlePosition=function(p){const g=["top-left","top-right","bottom-right","bottom-left"];for(const _ of g)if(p.classList.contains(`ck-widget__resizer__handle-${_}`))return _}(i),this._referenceCoordinates=function(p,g){const _=new Ut(p),v=g.split("-"),y={x:"right"==v[1]?_.right:_.left,y:"bottom"==v[0]?_.bottom:_.top};return y.x+=p.ownerDocument.defaultView.scrollX,y.y+=p.ownerDocument.defaultView.scrollY,y}(o,function(p){const g=p.split("-"),_={top:"bottom",bottom:"top",left:"right",right:"left"};return`${_[g[0]]}-${_[g[1]]}`}(this.activeHandlePosition)),this.originalWidth=d.width,this.originalHeight=d.height,this.aspectRatio=d.width/d.height;const h=a.style.width;this.originalWidthPercents=h&&h.match(/^\d+\.?\d*%$/)?parseFloat(h):function(p,g){const _=p.parentElement,v=parseFloat(_.ownerDocument.defaultView.getComputedStyle(_).width);return g.width/v*100}(a,d)}update(i){this.proposedWidth=i.width,this.proposedHeight=i.height,this.proposedWidthPercents=i.widthPercents,this.proposedHandleHostWidth=i.handleHostWidth,this.proposedHandleHostHeight=i.handleHostHeight}}Be(Ol,tn);class Q{constructor(i){this._options=i,this._domResizerWrapper=null,this._viewResizerWrapper=null,this.set("isEnabled",!0),this.decorate("begin"),this.decorate("cancel"),this.decorate("commit"),this.decorate("updateSize"),this.on("commit",o=>{this.state.proposedWidth||(this._cleanup(),o.stop())},{priority:"high"})}attach(){const i=this,o=this._options.viewElement;this._options.editor.editing.view.change(a=>{const d=a.createUIElement("div",{class:"ck ck-reset_all ck-widget__resizer"},function(h){const p=this.toDomElement(h);return i._appendHandles(p),i._appendSizeUI(p),i._domResizerWrapper=p,i.on("change:isEnabled",(g,_,v)=>{p.style.display=v?"":"none"}),p.style.display=i.isEnabled?"":"none",p});a.insert(a.createPositionAt(o,"end"),d),a.addClass("ck-widget_with-resizer",o),this._viewResizerWrapper=d})}begin(i){this.state=new Ol(this._options),this._sizeUI.bindToState(this._options,this.state),this.state.begin(i,this._getHandleHost(),this._getResizeHost())}updateSize(i){const o=this._proposeNewSize(i);this._options.editor.editing.view.change(p=>{const g=this._options.unit;p.setStyle("width",("%"===g?o.widthPercents:o.width)+g,this._options.viewElement)});const a=this._getHandleHost(),d=new Ut(a);o.handleHostWidth=Math.round(d.width),o.handleHostHeight=Math.round(d.height);const h=new Ut(a);o.width=Math.round(h.width),o.height=Math.round(h.height),this.redraw(d),this.state.update(o)}commit(){this._options.onCommit(("%"===this._options.unit?this.state.proposedWidthPercents:this.state.proposedWidth)+this._options.unit),this._cleanup()}cancel(){this._cleanup()}destroy(){this.cancel()}redraw(i){const o=this._domResizerWrapper;var a;(a=o)&&a.ownerDocument&&a.ownerDocument.contains(a)&&this._options.editor.editing.view.change(d=>{const h=o.parentElement,p=this._getHandleHost(),g=i||new Ut(p);d.setStyle("width",g.width+"px",this._viewResizerWrapper),d.setStyle("height",g.height+"px",this._viewResizerWrapper);const _=p.offsetLeft,v=p.offsetTop,y=p.offsetHeight,k=p.offsetWidth;h.isSameNode(p)||(d.setStyle("left",_+"px",this._viewResizerWrapper),d.setStyle("top",v+"px",this._viewResizerWrapper),d.setStyle("height",y+"px",this._viewResizerWrapper),d.setStyle("width",k+"px",this._viewResizerWrapper))})}containsHandle(i){return this._domResizerWrapper.contains(i)}static isResizeHandle(i){return i.classList.contains("ck-widget__resizer__handle")}_cleanup(){this._sizeUI.dismiss(),this._sizeUI.isVisible=!1}_proposeNewSize(i){const o=this.state,a_x=(d=i).pageX,a_y=d.pageY;var d;const h=!this._options.isCentered||this._options.isCentered(this),p={x:o._referenceCoordinates.x-(a_x+o.originalWidth),y:a_y-o.originalHeight-o._referenceCoordinates.y};h&&o.activeHandlePosition.endsWith("-right")&&(p.x=a_x-(o._referenceCoordinates.x+o.originalWidth)),h&&(p.x*=2);const g={width:Math.abs(o.originalWidth+p.x),height:Math.abs(o.originalHeight+p.y)};g.dominant=g.width/o.aspectRatio>g.height?"width":"height",g.max=g[g.dominant];const _={width:g.width,height:g.height};return"width"==g.dominant?_.height=_.width/o.aspectRatio:_.width=_.height*o.aspectRatio,{width:Math.round(_.width),height:Math.round(_.height),widthPercents:Math.min(Math.round(o.originalWidthPercents/o.originalWidth*_.width*100)/100,100)}}_getResizeHost(){return this._options.getResizeHost(this._domResizerWrapper.parentElement)}_getHandleHost(){return this._options.getHandleHost(this._domResizerWrapper.parentElement)}_appendHandles(i){const o=["top-left","top-right","bottom-right","bottom-left"];for(const a of o)i.appendChild(new Sr({tag:"div",attributes:{class:`ck-widget__resizer__handle ${ny(a)}`}}).render())}_appendSizeUI(i){const o=new Am;o.render(),this._sizeUI=o,i.appendChild(o.element)}_getHandlePosition(i){const o=["top-left","top-right","bottom-right","bottom-left"];for(const a of o)if(i.classList.contains(ny(a)))return a}}Be(Q,tn);class Am extends Ge{constructor(){super();const i=this.bindTemplate;this.setTemplate({tag:"div",attributes:{class:["ck","ck-size-view",i.to("activeHandlePosition",o=>o?`ck-orientation-${o}`:"")],style:{display:i.if("isVisible","none",o=>!o)}},children:[{text:i.to("label")}]})}bindToState(i,o){this.bind("isVisible").to(o,"proposedWidth",o,"proposedHeight",(a,d)=>null!==a&&null!==d),this.bind("label").to(o,"proposedHandleHostWidth",o,"proposedHandleHostHeight",o,"proposedWidthPercents",(a,d,h)=>"px"===i.unit?`${a}\xd7${d}`:`${h}%`),this.bind("activeHandlePosition").to(o)}dismiss(){this.unbind(),this.isVisible=!1}}function ny(c){return`ck-widget__resizer__handle-${c}`}P(96);class B extends le{static get pluginName(){return"WidgetResize"}init(){this.set("_visibleResizer",null),this.set("_activeResizer",null),this._resizers=new Map;const i=Mt.window.document;this.editor.model.schema.setAttributeProperties("width",{isFormatting:!0}),this._observer=Object.create(us),this._observer.listenTo(i,"mousedown",(h,p)=>{if(!Q.isResizeHandle(p.target))return;const g=p.target;this._activeResizer=this._getResizerByHandle(g),this._activeResizer&&this._activeResizer.begin(g)}),this._observer.listenTo(i,"mousemove",(h,p)=>{this._activeResizer&&this._activeResizer.updateSize(p)}),this._observer.listenTo(i,"mouseup",()=>{this._activeResizer&&(this._activeResizer.commit(),this._activeResizer=null)});const o=()=>{this._visibleResizer&&this._visibleResizer.redraw()},a=function(c,i,o){var a=!0,d=!0;if("function"!=typeof c)throw new TypeError("Expected a function");return An(o)&&(a="leading"in o?!!o.leading:a,d="trailing"in o?!!o.trailing:d),Rc(c,i,{leading:a,maxWait:i,trailing:d})}(o,200);this.on("change:_visibleResizer",o),this.editor.ui.on("update",a),this._observer.listenTo(Mt.window,"resize",a);const d=this.editor.editing.view.document.selection;d.on("change",()=>{const h=d.getSelectedElement();this._visibleResizer=this._getResizerByViewElement(h)||null})}destroy(){this._observer.stopListening()}attachTo(i){const o=new Q(i),a=this.editor.plugins;if(o.attach(),a.has("WidgetToolbarRepository")){const d=a.get("WidgetToolbarRepository");o.on("begin",()=>{d.forceDisabled("resize")},{priority:"lowest"}),o.on("cancel",()=>{d.clearForceDisabled("resize")},{priority:"highest"}),o.on("commit",()=>{d.clearForceDisabled("resize")},{priority:"highest"})}return this._resizers.set(i.viewElement,o),o}_getResizerByHandle(i){for(const o of this._resizers.values())if(o.containsHandle(i))return o}_getResizerByViewElement(i){return this._resizers.get(i)}}Be(B,tn);class Me extends At{refresh(){const i=this.editor.model.document.selection.getSelectedElement();this.isEnabled=Mp(i),this.value=i&&i.hasAttribute("width")?{width:i.getAttribute("width"),height:null}:null}execute(i){const o=this.editor.model,a=o.document.selection.getSelectedElement();o.change(d=>{d.setAttribute("width",i.width,a)})}}P(98);const Rx=["left","right","center","justify"];function iy(c){return Rx.includes(c)}function Jt(c,i){return"rtl"==i.contentLanguageDirection?"right"===c:"left"===c}class rn extends At{refresh(){const i=this.editor.locale,o=lr(this.editor.model.document.selection.getSelectedBlocks());this.isEnabled=!!o&&this._canBeAligned(o),this.value=this.isEnabled&&o.hasAttribute("alignment")?o.getAttribute("alignment"):"rtl"===i.contentLanguageDirection?"right":"left"}execute(i={}){const o=this.editor,a=o.locale,d=o.model,h=d.document,p=i.value;d.change(g=>{const _=Array.from(h.selection.getSelectedBlocks()).filter(y=>this._canBeAligned(y)),v=_[0].getAttribute("alignment");Jt(p,a)||v===p||!p?function(y,k){for(const T of y)k.removeAttribute("alignment",T)}(_,g):function(y,k,T){for(const D of y)k.setAttribute("alignment",T,D)}(_,g,p)})}_canBeAligned(i){return this.editor.model.schema.checkAttribute(i,"alignment")}}class ry extends le{static get pluginName(){return"AlignmentEditing"}constructor(i){super(i),i.config.define("alignment",{options:[...Rx]})}init(){const i=this.editor,o=i.locale,a=i.model.schema,d=i.config.get("alignment.options").filter(iy);a.extend("$block",{allowAttributes:"alignment"}),i.model.schema.setAttributeProperties("alignment",{isFormatting:!0});const h=function(p){const g={model:{key:"alignment",values:p.slice()},view:{}};for(const _ of p)g.view[_]={key:"style",value:{"text-align":_}};return g}(d.filter(p=>!Jt(p,o)));i.conversion.attributeToAttribute(h),i.commands.add("alignment",new rn(i))}}var Dn='<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M2 3.75c0 .414.336.75.75.75h14.5a.75.75 0 100-1.5H2.75a.75.75 0 00-.75.75zm0 8c0 .414.336.75.75.75h14.5a.75.75 0 100-1.5H2.75a.75.75 0 00-.75.75zm0 4c0 .414.336.75.75.75h9.929a.75.75 0 100-1.5H2.75a.75.75 0 00-.75.75zm0-8c0 .414.336.75.75.75h9.929a.75.75 0 100-1.5H2.75a.75.75 0 00-.75.75z"/></svg>',Fl='<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M18 3.75a.75.75 0 01-.75.75H2.75a.75.75 0 110-1.5h14.5a.75.75 0 01.75.75zm0 8a.75.75 0 01-.75.75H2.75a.75.75 0 110-1.5h14.5a.75.75 0 01.75.75zm0 4a.75.75 0 01-.75.75H7.321a.75.75 0 110-1.5h9.929a.75.75 0 01.75.75zm0-8a.75.75 0 01-.75.75H7.321a.75.75 0 110-1.5h9.929a.75.75 0 01.75.75z"/></svg>';const oy=new Map([["left",Dn],["right",Fl],["center",'<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M2 3.75c0 .414.336.75.75.75h14.5a.75.75 0 100-1.5H2.75a.75.75 0 00-.75.75zm0 8c0 .414.336.75.75.75h14.5a.75.75 0 100-1.5H2.75a.75.75 0 00-.75.75zm2.286 4c0 .414.336.75.75.75h9.928a.75.75 0 100-1.5H5.036a.75.75 0 00-.75.75zm0-8c0 .414.336.75.75.75h9.928a.75.75 0 100-1.5H5.036a.75.75 0 00-.75.75z"/></svg>'],["justify",'<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M2 3.75c0 .414.336.75.75.75h14.5a.75.75 0 100-1.5H2.75a.75.75 0 00-.75.75zm0 8c0 .414.336.75.75.75h14.5a.75.75 0 100-1.5H2.75a.75.75 0 00-.75.75zm0 4c0 .414.336.75.75.75h9.929a.75.75 0 100-1.5H2.75a.75.75 0 00-.75.75zm0-8c0 .414.336.75.75.75h14.5a.75.75 0 100-1.5H2.75a.75.75 0 00-.75.75z"/></svg>']]);class Im extends le{get localizedOptionTitles(){const i=this.editor.t;return{left:i("ap"),right:i("aq"),center:i("ar"),justify:i("as")}}static get pluginName(){return"AlignmentUI"}init(){const i=this.editor,o=i.ui.componentFactory,a=i.t,d=i.config.get("alignment.options");d.filter(iy).forEach(h=>this._addButton(h)),o.add("alignment",h=>{const p=yo(h),g=d.map(v=>o.create(`alignment:${v}`));fp(p,g),p.buttonView.set({label:a("at"),tooltip:!0}),p.toolbarView.isVertical=!0,p.toolbarView.ariaLabel=a("au"),p.extendTemplate({attributes:{class:"ck-alignment-dropdown"}});const _="rtl"===h.contentLanguageDirection?Fl:Dn;return p.buttonView.bind("icon").toMany(g,"isOn",(...v)=>{const y=v.findIndex(k=>k);return y<0?_:g[y].icon}),p.bind("isEnabled").toMany(g,"isEnabled",(...v)=>v.some(y=>y)),p})}_addButton(i){const o=this.editor;o.ui.componentFactory.add(`alignment:${i}`,a=>{const d=o.commands.get("alignment"),h=new Bt(a);return h.set({label:this.localizedOptionTitles[i],icon:oy.get(i),tooltip:!0,isToggleable:!0}),h.bind("isEnabled").to(d),h.bind("isOn").to(d,"value",p=>p===i),this.listenTo(h,"execute",()=>{o.execute("alignment",{value:i}),o.editing.view.focus()}),h})}}class Ee extends At{constructor(i,o){super(i),this.attributeKey=o}refresh(){const i=this.editor.model,o=i.document;this.value=o.selection.getAttribute(this.attributeKey),this.isEnabled=i.schema.checkAttributeInSelection(o.selection,this.attributeKey)}execute(i={}){const o=this.editor.model,a=o.document.selection,d=i.value;o.change(h=>{if(a.isCollapsed)d?h.setSelectionAttribute(this.attributeKey,d):h.removeSelectionAttribute(this.attributeKey);else{const p=o.schema.getValidRanges(a.getRanges(),this.attributeKey);for(const g of p)d?h.setAttribute(this.attributeKey,d,g):h.removeAttribute(this.attributeKey,g)}})}}class yd extends $n{constructor(i){super(i),this.set("isEmpty",!0)}add(i,o){this.find(a=>a.color===i.color)||(super.add(i,o),this.set("isEmpty",!1))}remove(i){const o=super.remove(i);return 0===this.length&&this.set("isEmpty",!0),o}hasColor(i){return!!this.find(o=>o.color===i)}}Be(yd,tn),P(100);class Ox extends Ge{constructor(i,{colors:o,columns:a,removeButtonLabel:d,documentColorsLabel:h,documentColorsCount:p}){super(i),this.items=this.createCollection(),this.colorDefinitions=o,this.focusTracker=new sr,this.keystrokes=new wi,this.set("selectedColor"),this.removeButtonLabel=d,this.columns=a,this.documentColors=new yd,this.documentColorsCount=p,this._focusCycler=new ks({focusables:this.items,focusTracker:this.focusTracker,keystrokeHandler:this.keystrokes,actions:{focusPrevious:"arrowup",focusNext:"arrowdown"}}),this._documentColorsLabel=h,this.setTemplate({tag:"div",attributes:{class:["ck","ck-color-table"]},children:this.items}),this.items.add(this._removeColorButton())}updateDocumentColors(i,o){const a=i.document,d=this.documentColorsCount;this.documentColors.clear();for(const h of a.getRootNames()){const p=a.getRoot(h),g=i.createRangeIn(p);for(const _ of g.getItems())if(_.is("textProxy")&&_.hasAttribute(o)&&(this._addColorToDocumentColors(_.getAttribute(o)),this.documentColors.length>=d))return}}updateSelectedColors(){const i=this.documentColorsGrid,a=this.selectedColor;this.staticColorsGrid.selectedColor=a,i&&(i.selectedColor=a)}render(){super.render();for(const i of this.items)this.focusTracker.add(i.element);this.keystrokes.listenTo(this.element)}appendGrids(){if(!this.staticColorsGrid&&(this.staticColorsGrid=this._createStaticColorsGrid(),this.items.add(this.staticColorsGrid),this.documentColorsCount)){const i=Sr.bind(this.documentColors,this.documentColors),o=new ws(this.locale);o.text=this._documentColorsLabel,o.extendTemplate({attributes:{class:["ck","ck-color-grid__label",i.if("isEmpty","ck-hidden")]}}),this.items.add(o),this.documentColorsGrid=this._createDocumentColorsGrid(),this.items.add(this.documentColorsGrid)}}focus(){this._focusCycler.focusFirst()}focusLast(){this._focusCycler.focusLast()}_removeColorButton(){const i=new Bt;return i.set({withText:!0,icon:Gv,tooltip:!0,label:this.removeButtonLabel}),i.class="ck-color-table__remove-color",i.on("execute",()=>{this.fire("execute",{value:null})}),i}_createStaticColorsGrid(){const i=new qv(this.locale,{colorDefinitions:this.colorDefinitions,columns:this.columns});return i.delegate("execute").to(this),i}_createDocumentColorsGrid(){const i=Sr.bind(this.documentColors,this.documentColors),o=new qv(this.locale,{columns:this.columns});return o.delegate("execute").to(this),o.extendTemplate({attributes:{class:i.if("isEmpty","ck-hidden")}}),o.items.bindTo(this.documentColors).using(a=>{const d=new Dx;return d.set({color:a.color,hasBorder:a.options&&a.options.hasBorder}),a.label&&d.set({label:a.label,tooltip:!0}),d.on("execute",()=>{this.fire("execute",{value:a.color})}),d}),this.documentColors.on("change:isEmpty",(a,d,h)=>{h&&(o.selectedColor=null)}),o}_addColorToDocumentColors(i){const o=this.colorDefinitions.find(a=>a.color===i);this.documentColors.add(o?Object.assign({},o):{color:i,label:i,options:{hasBorder:!1}})}}function Pm(c,i){const o={model:{key:c,values:[]},view:{},upcastAlso:{}};for(const a of i)o.model.values.push(a.model),o.view[a.model]=a.view,a.upcastAlso&&(o.upcastAlso[a.model]=a.upcastAlso);return o}function sy(c){return(i,o)=>o.createAttributeElement("span",{style:`${c}:${i}`},{priority:7})}class Rm extends Ee{constructor(i){super(i,"fontColor")}}class ce extends le{static get pluginName(){return"FontColorEditing"}constructor(i){super(i),i.config.define("fontColor",{colors:[{color:"hsl(0, 0%, 0%)",label:"Black"},{color:"hsl(0, 0%, 30%)",label:"Dim grey"},{color:"hsl(0, 0%, 60%)",label:"Grey"},{color:"hsl(0, 0%, 90%)",label:"Light grey"},{color:"hsl(0, 0%, 100%)",label:"White",hasBorder:!0},{color:"hsl(0, 75%, 60%)",label:"Red"},{color:"hsl(30, 75%, 60%)",label:"Orange"},{color:"hsl(60, 75%, 60%)",label:"Yellow"},{color:"hsl(90, 75%, 60%)",label:"Light green"},{color:"hsl(120, 75%, 60%)",label:"Green"},{color:"hsl(150, 75%, 60%)",label:"Aquamarine"},{color:"hsl(180, 75%, 60%)",label:"Turquoise"},{color:"hsl(210, 75%, 60%)",label:"Light blue"},{color:"hsl(240, 75%, 60%)",label:"Blue"},{color:"hsl(270, 75%, 60%)",label:"Purple"}],columns:5}),i.conversion.for("upcast").elementToAttribute({view:{name:"span",styles:{color:/[\s\S]+/}},model:{key:"fontColor",value:("color",a=>a.getStyle("color").replace(/\s/g,""))}}),i.conversion.for("downcast").attributeToElement({model:"fontColor",view:sy("color")}),i.commands.add("fontColor",new Rm(i)),i.model.schema.extend("$text",{allowAttributes:"fontColor"}),i.model.schema.setAttributeProperties("fontColor",{isFormatting:!0,copyOnEnter:!0})}}class Fx extends le{constructor(i,{commandName:o,icon:a,componentName:d,dropdownLabel:h}){super(i),this.commandName=o,this.componentName=d,this.icon=a,this.dropdownLabel=h,this.columns=i.config.get(`${this.componentName}.columns`)}init(){const i=this.editor,o=i.locale,a=o.t,d=i.commands.get(this.commandName),h=ty(o,vd(i.config.get(this.componentName).colors)),p=i.config.get(`${this.componentName}.documentColors`);i.ui.componentFactory.add(this.componentName,g=>{const _=yo(g);return this.colorTableView=function({dropdownView:v,colors:y,columns:k,removeButtonLabel:T,documentColorsLabel:D,documentColorsCount:R}){const $=new Ox(v.locale,{colors:y,columns:k,removeButtonLabel:T,documentColorsLabel:D,documentColorsCount:R});return v.colorTableView=$,v.panelView.children.add($),$.delegate("execute").to(v,"execute"),$}({dropdownView:_,colors:h.map(v=>({label:v.label,color:v.model,options:{hasBorder:v.hasBorder}})),columns:this.columns,removeButtonLabel:a("bv"),documentColorsLabel:0!==p?a("bw"):void 0,documentColorsCount:void 0===p?this.columns:p}),this.colorTableView.bind("selectedColor").to(d,"value"),_.buttonView.set({label:this.dropdownLabel,icon:this.icon,tooltip:!0}),_.extendTemplate({attributes:{class:"ck-color-ui-dropdown"}}),_.bind("isEnabled").to(d),_.on("execute",(v,y)=>{i.execute(this.commandName,y),i.editing.view.focus()}),_.on("change:isOpen",(v,y,k)=>{_.colorTableView.appendGrids(),k&&(0!==p&&this.colorTableView.updateDocumentColors(i.model,this.componentName),this.colorTableView.updateSelectedColors())}),_})}}class Mn extends Fx{constructor(i){super(i,{commandName:"fontColor",componentName:"fontColor",icon:'<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M12.4 10.3L10 4.5l-2.4 5.8h4.8zm.5 1.2H7.1L5.7 15H4.2l5-12h1.6l5 12h-1.5L13 11.5zm3.1 7H4a1 1 0 010-2h12a1 1 0 010 2z"/></svg>',dropdownLabel:(0,i.locale.t)("aw")})}static get pluginName(){return"FontColorUI"}}class dt extends Ee{constructor(i){super(i,"fontSize")}}function Om(c){return c.map(ay).filter(i=>!!i)}const _h={tiny:{title:"Tiny",model:"tiny",view:{name:"span",classes:"text-tiny",priority:7}},small:{title:"Small",model:"small",view:{name:"span",classes:"text-small",priority:7}},big:{title:"Big",model:"big",view:{name:"span",classes:"text-big",priority:7}},huge:{title:"Huge",model:"huge",view:{name:"span",classes:"text-huge",priority:7}}};function ay(c){if("object"==typeof c)return c;if(_h[c])return _h[c];if("default"===c)return{model:void 0,title:"Default"};const i=parseFloat(c);var o;return isNaN(i)?void 0:(o=i,{title:String(o),model:o,view:{name:"span",styles:{"font-size":`${o}px`},priority:7}})}class ly extends le{static get pluginName(){return"FontSizeEditing"}constructor(i){super(i),i.config.define("fontSize",{options:["tiny","small","default","big","huge"]});const o=Pm("fontSize",Om(this.editor.config.get("fontSize.options")).filter(a=>a.model));i.conversion.attributeToElement(o),i.commands.add("fontSize",new dt(i))}init(){const i=this.editor;i.model.schema.extend("$text",{allowAttributes:"fontSize"}),i.model.schema.setAttributeProperties("fontSize",{isFormatting:!0,copyOnEnter:!0})}}P(102);class cy extends le{init(){const i=this.editor,o=i.t,a=this._getLocalizedOptions(),d=i.commands.get("fontSize");i.ui.componentFactory.add("fontSize",h=>{const p=yo(h);return Yc(p,function(g,_){const v=new $n;for(const y of g){const k={type:"button",model:new dr({commandName:"fontSize",commandParam:y.model,label:y.title,class:"ck-fontsize-option",withText:!0})};y.view&&y.view.styles&&k.model.set("labelStyle",`font-size:${y.view.styles["font-size"]}`),y.view&&y.view.classes&&k.model.set("class",`${k.model.class} ${y.view.classes}`),k.model.bind("isOn").to(_,"value",T=>T===y.model),v.add(k)}return v}(a,d)),p.buttonView.set({label:o("bb"),icon:'<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M9.816 11.5L7.038 4.785 4.261 11.5h5.555zm.62 1.5H3.641l-1.666 4.028H.312l5.789-14h1.875l5.789 14h-1.663L10.436 13zm7.55 2.279l.779-.779.707.707-2.265 2.265-2.193-2.265.707-.707.765.765V4.825c0-.042 0-.083.002-.123l-.77.77-.707-.707L17.207 2.5l2.265 2.265-.707.707-.782-.782c.002.043.003.089.003.135v10.454z"/></svg>',tooltip:!0}),p.extendTemplate({attributes:{class:["ck-font-size-dropdown"]}}),p.bind("isEnabled").to(d),this.listenTo(p,"execute",g=>{i.execute(g.source.commandName,{value:g.source.commandParam}),i.editing.view.focus()}),p})}_getLocalizedOptions(){const i=this.editor,o=i.t,a={Default:o("ay"),Tiny:o("bc"),Small:o("bd"),Big:o("be"),Huge:o("bf")};return Om(i.config.get("fontSize").options).map(d=>{const h=a[d.title];return h&&h!=d.title&&(d=Object.assign({},d,{title:h})),d})}}class dy extends Ee{constructor(i){super(i,"fontFamily")}}function Fm(c){return c.map(uy).filter(i=>!!i)}function uy(c){return"object"==typeof c?c:"default"===c?{title:"Default",model:void 0}:"string"==typeof c?function(i){const o=i.replace(/"|'/g,"").split(","),a=o[0];return{title:a,model:a,view:{name:"span",styles:{"font-family":o.map(hy).join(", ")},priority:7}}}(c):void 0}function hy(c){return(c=c.trim()).indexOf(" ")>0&&(c=`'${c}'`),c}class fy extends le{static get pluginName(){return"FontFamilyEditing"}constructor(i){super(i),i.config.define("fontFamily",{options:["default","Arial, Helvetica, sans-serif","Courier New, Courier, monospace","Georgia, serif","Lucida Sans Unicode, Lucida Grande, sans-serif","Tahoma, Geneva, sans-serif","Times New Roman, Times, serif","Trebuchet MS, Helvetica, sans-serif","Verdana, Geneva, sans-serif"]})}init(){const i=this.editor;i.model.schema.extend("$text",{allowAttributes:"fontFamily"}),i.model.schema.setAttributeProperties("fontFamily",{isFormatting:!0,copyOnEnter:!0});const o=Pm("fontFamily",Fm(i.config.get("fontFamily.options")).filter(a=>a.model));i.conversion.attributeToElement(o),i.commands.add("fontFamily",new dy(i))}}class RD extends le{init(){const i=this.editor,o=i.t,a=this._getLocalizedOptions(),d=i.commands.get("fontFamily");i.ui.componentFactory.add("fontFamily",h=>{const p=yo(h);return Yc(p,function(g,_){const v=new $n;for(const y of g){const k={type:"button",model:new dr({commandName:"fontFamily",commandParam:y.model,label:y.title,withText:!0})};k.model.bind("isOn").to(_,"value",T=>T===y.model),y.view&&y.view.styles&&k.model.set("labelStyle",`font-family: ${y.view.styles["font-family"]}`),v.add(k)}return v}(a,d)),p.buttonView.set({label:o("ax"),icon:'<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M11.03 3h6.149a.75.75 0 110 1.5h-5.514L11.03 3zm1.27 3h4.879a.75.75 0 110 1.5h-4.244L12.3 6zm1.27 3h3.609a.75.75 0 110 1.5h-2.973L13.57 9zm-2.754 2.5L8.038 4.785 5.261 11.5h5.555zm.62 1.5H4.641l-1.666 4.028H1.312l5.789-14h1.875l5.789 14h-1.663L11.436 13z"/></svg>',tooltip:!0}),p.extendTemplate({attributes:{class:"ck-font-family-dropdown"}}),p.bind("isEnabled").to(d),this.listenTo(p,"execute",g=>{i.execute(g.source.commandName,{value:g.source.commandParam}),i.editing.view.focus()}),p})}_getLocalizedOptions(){const i=this.editor,o=i.t;return Fm(i.config.get("fontFamily").options).map(a=>("Default"===a.title&&(a.title=o("ay")),a))}}class Nx extends At{refresh(){const i=this.editor.model;this.isEnabled=i.schema.checkAttributeInSelection(i.document.selection,"mention")}execute(i){const o=this.editor.model,a=o.document.selection,d="string"==typeof i.mention?{id:i.mention}:i.mention,h=d.id,p=i.range||a.getFirstRange(),g=i.text||h,_=Nm({_text:g,id:h},d);if(1!=i.marker.length)throw new z.b("mentioncommand-incorrect-marker: The marker must be a single character.",this);if(h.charAt(0)!=i.marker)throw new z.b("mentioncommand-incorrect-id: The item id must start with the marker character.",this);o.change(v=>{const y=se(a.getAttributes()),k=new Map(y.entries());k.set("mention",_),o.insertContent(v.createText(g,k),p),o.insertContent(v.createText(" ",y),p.start.getShiftedBy(g.length))})}}class Lx extends le{static get pluginName(){return"MentionEditing"}init(){const i=this.editor,o=i.model,a=o.document;o.schema.extend("$text",{allowAttributes:"mention"}),i.conversion.for("upcast").elementToAttribute({view:{name:"span",key:"data-mention",classes:"mention"},model:{key:"mention",value:py}}),i.conversion.for("downcast").attributeToElement({model:"mention",view:my}),i.conversion.for("downcast").add(qn),a.registerPostFixer(d=>function(h,p,g){const _=p.differ.getChanges();let v=!1;for(const y of _){const k=y.position;if("$text"==y.name){const T=k.textNode&&k.textNode.nextSibling;v=ya(k.textNode,h)||v,v=ya(T,h)||v,v=ya(k.nodeBefore,h)||v,v=ya(k.nodeAfter,h)||v}if("$text"!=y.name&&"insert"==y.type){const T=k.nodeAfter;for(const D of h.createRangeIn(T).getItems())v=ya(D,h)||v}if("insert"==y.type&&g.isInline(y.name)){const T=k.nodeAfter&&k.nodeAfter.nextSibling;v=ya(k.nodeBefore,h)||v,v=ya(T,h)||v}}return v}(d,a,o.schema)),a.registerPostFixer(d=>function(h,p){const g=p.differ.getChanges();let _=!1;for(const v of g)if("attribute"===v.type&&"mention"!=v.attributeKey){const y=v.range.start.nodeBefore,k=v.range.end.nodeAfter;for(const T of[y,k])gy(T)&&T.getAttribute(v.attributeKey)!=v.attributeNewValue&&(h.setAttribute(v.attributeKey,v.attributeNewValue,T),_=!0)}return _}(d,a)),a.registerPostFixer(d=>function(h,p){const g=p.selection,_=g.focus;if(g.isCollapsed&&g.hasAttribute("mention")&&function(v){const y=v.isAtStart;return v.nodeBefore&&v.nodeBefore.is("text")||y}(_))return h.removeSelectionAttribute("mention"),!0}(d,a)),i.commands.add("mention",new Nx(i))}}function Nm(c,i){return Object.assign({_uid:Nr()},c,i||{})}function py(c,i){const o=c.getAttribute("data-mention"),a=c.getChild(0);if(a)return Nm({id:o,_text:a.data},i)}function qn(c){c.on("attribute:mention",(i,o,a)=>{const d=o.attributeNewValue;if(!o.item.is("textProxy")||!d)return;const h=o.range.start;(h.textNode||h.nodeAfter).data!=d._text&&a.consumable.consume(o.item,i.name)},{priority:"highest"})}function my(c,i){if(c)return i.createAttributeElement("span",{class:"mention","data-mention":c.id},{id:c._uid,priority:20})}function gy(c){return!(!c||!c.is("text")&&!c.is("textProxy")||!c.hasAttribute("mention"))&&c.data!=c.getAttribute("mention")._text}function ya(c,i){return!!gy(c)&&(i.removeAttribute("mention",c),!0)}class Lm{constructor(i,o){this.model=i,this.testCallback=o,this.hasMatch=!1,this.set("isEnabled",!0),this.on("change:isEnabled",()=>{this.isEnabled?this._startListening():(this.stopListening(i.document.selection),this.stopListening(i.document))}),this._startListening()}_startListening(){const i=this.model.document;this.listenTo(i.selection,"change:range",(o,{directChange:a})=>{a&&(i.selection.isCollapsed?this._evaluateTextBeforeSelection("selection"):this.hasMatch&&(this.fire("unmatched"),this.hasMatch=!1))}),this.listenTo(i,"change:data",(o,a)=>{"transparent"!=a.type&&this._evaluateTextBeforeSelection("data",{batch:a})})}_evaluateTextBeforeSelection(i,o={}){const a=this.model,d=a.document.selection,h=a.createRange(a.createPositionAt(d.focus.parent,0),d.focus),{text:p,range:g}=Ku(h,a),_=this.testCallback(p);if(!_&&this.hasMatch&&this.fire("unmatched"),this.hasMatch=_,_){const v=Object.assign(o,{text:p,range:g});this.fire(`matched:${i}`,v)}}}Be(Lm,tn),P(104);class Bx extends hp{constructor(i){super(i),this.extendTemplate({attributes:{class:["ck-mentions"],tabindex:"-1"}})}selectFirst(){this.select(0)}selectNext(){const o=this.items.getIndex(this.selected);this.select(o+1)}selectPrevious(){const o=this.items.getIndex(this.selected);this.select(o-1)}select(i){let o=0;i>0&&i<this.items.length?o=i:i<0&&(o=this.items.length-1);const a=this.items.get(o);this.selected!==a&&(this.selected&&this.selected.removeHighlight(),a.highlight(),this.selected=a,this._isItemVisibleInScrolledArea(a)||(this.element.scrollTop=a.element.offsetTop))}executeSelected(){this.selected.fire("execute")}_isItemVisibleInScrolledArea(i){return new Ut(this.element).contains(new Ut(i.element))}}class _y extends Ge{constructor(i,o){super(i),this.template=!1,this.domElement=o,this.domElement.classList.add("ck-button"),this.set("isOn",!1),this.on("change:isOn",(a,d,h)=>{h?(this.domElement.classList.add("ck-on"),this.domElement.classList.remove("ck-off")):(this.domElement.classList.add("ck-off"),this.domElement.classList.remove("ck-on"))}),this.listenTo(this.domElement,"click",()=>{this.fire("execute")})}render(){super.render(),this.element=this.domElement}}class by extends ui{highlight(){this.children.first.isOn=!0}removeHighlight(){this.children.first.isOn=!1}}const Nl=[ct.arrowup,ct.arrowdown,ct.enter,ct.tab,ct.space,ct.esc];class Vx extends le{static get pluginName(){return"MentionUI"}static get requires(){return[ur]}constructor(i){super(i),this._mentionsView=this._createMentionView(),this._mentionsConfigurations=new Map,this._requestFeedDebounced=Rc(this._requestFeed,100),i.config.define("mention",{feeds:[]})}init(){const i=this.editor;this._balloon=i.plugins.get(ur),i.editing.view.document.on("keydown",(a,d)=>{Nl.includes(d.keyCode)&&this._isUIVisible&&(d.preventDefault(),a.stop(),d.keyCode==ct.arrowdown&&this._mentionsView.selectNext(),d.keyCode==ct.arrowup&&this._mentionsView.selectPrevious(),d.keyCode!=ct.enter&&d.keyCode!=ct.tab&&d.keyCode!=ct.space||this._mentionsView.executeSelected(),d.keyCode==ct.esc&&this._hideUIAndRemoveMarker())},{priority:"highest"}),Qc({emitter:this._mentionsView,activator:()=>this._isUIVisible,contextElements:[this._balloon.view.element],callback:()=>this._hideUIAndRemoveMarker()});const o=i.config.get("mention.feeds");for(const a of o){const d=a.feed,h=a.marker;if(!vy(h))throw new z.b("mentionconfig-incorrect-marker: The marker must be provided and it must be a single character.",null);const p=a.minimumCharacters||0,g="function"==typeof d?d.bind(this.editor):zx(d),_={watcher:this._setupTextWatcherForFeed(h,p),marker:h,feedCallback:g,itemRenderer:a.itemRenderer};this._mentionsConfigurations.set(h,_)}this.on("requestFeed:response",(a,d)=>this._handleFeedResponse(d)),this.on("requestFeed:error",()=>this._hideUIAndRemoveMarker())}destroy(){super.destroy(),this._mentionsView.destroy()}get _isUIVisible(){return this._balloon.visibleView===this._mentionsView}_createMentionView(){const i=this.editor.locale,o=new Bx(i);return this._items=new $n,o.items.bindTo(this._items).using(a=>{const{item:d,marker:h}=a,p=new by(i),g=this._renderItem(d,h);return g.delegate("execute").to(p),p.children.add(g),p.item=d,p.marker=h,p.on("execute",()=>{o.fire("execute",{item:d,marker:h})}),p}),o.on("execute",(a,d)=>{const h=this.editor,p=h.model,g=d.item,_=d.marker,v=h.model.markers.get("mention"),y=p.createPositionAt(p.document.selection.focus),k=p.createPositionAt(v.getStart()),T=p.createRange(k,y);this._hideUIAndRemoveMarker(),h.execute("mention",{mention:g,text:g.text,marker:_,range:T}),h.editing.view.focus()}),o}_getItemRenderer(i){const{itemRenderer:o}=this._mentionsConfigurations.get(i);return o}_requestFeed(i,o){this._lastRequested=o;const{feedCallback:a}=this._mentionsConfigurations.get(i),d=a(o);d instanceof Promise?d.then(h=>{this.fire(this._lastRequested==o?"requestFeed:response":"requestFeed:discarded",{feed:h,marker:i,feedText:o})}).catch(h=>{this.fire("requestFeed:error",{error:h}),console.warn(Object(z.a)("mention-feed-callback-error: Could not obtain mention autocomplete feed."))}):this.fire("requestFeed:response",{feed:d,marker:i,feedText:o})}_setupTextWatcherForFeed(i,o){const a=this.editor,d=new Lm(a.model,function(h,p){const g=Bm(h,p);return _=>g.test(_)}(i,o));return d.on("matched",(h,p)=>{const g=a.model.document.selection.focus;if(function(D){const R=D.textNode&&D.textNode.hasAttribute("mention"),F=D.nodeBefore;return R||F&&F.is("text")&&F.hasAttribute("mention")}(g))return void this._hideUIAndRemoveMarker();const _=function(D,R){const F=Bm(D,0);return R.match(F)[2]}(i,p.text),y=g.getShiftedBy(-(i.length+_.length)),k=g.getShiftedBy(-_.length),T=a.model.createRange(y,k);if(yy(a)){const D=a.model.markers.get("mention");a.model.change(R=>{R.updateMarker(D,{range:T})})}else a.model.change(D=>{D.addMarker("mention",{range:T,usingOperation:!1,affectsData:!1})});this._requestFeedDebounced(i,_)}),d.on("unmatched",()=>{this._hideUIAndRemoveMarker()}),d}_handleFeedResponse(i){const{feed:o,marker:a}=i;if(!yy(this.editor))return;this._items.clear();for(const h of o)this._items.add({item:"object"!=typeof h?{id:h,text:h}:h,marker:a});const d=this.editor.model.markers.get("mention");this._items.length?this._showOrUpdateUI(d):this._hideUIAndRemoveMarker()}_showOrUpdateUI(i){this._isUIVisible?this._balloon.updatePosition(this._getBalloonPanelPositionData(i,this._mentionsView.position)):this._balloon.add({view:this._mentionsView,position:this._getBalloonPanelPositionData(i,this._mentionsView.position),withArrow:!1,singleViewMode:!0}),this._mentionsView.position=this._balloon.view.position,this._mentionsView.selectFirst()}_hideUIAndRemoveMarker(){this._balloon.hasView(this._mentionsView)&&this._balloon.remove(this._mentionsView),yy(this.editor)&&this.editor.model.change(i=>i.removeMarker("mention")),this._mentionsView.position=void 0}_renderItem(i,o){const a=this.editor;let d,h=i.id;const p=this._getItemRenderer(o);if(p){const g=p(i);"string"!=typeof g?d=new _y(a.locale,g):h=g}if(!d){const g=new Bt(a.locale);g.label=h,g.withText=!0,d=g}return d}_getBalloonPanelPositionData(i,o){const a=this.editor,d=a.editing,h=d.view.domConverter,p=d.mapper;return{target:()=>{let g=i.getRange();"$graveyard"==g.start.root.rootName&&(g=a.model.document.selection.getFirstRange());const _=p.toViewRange(g);return Ut.getDomRangeRects(h.viewRangeToDom(_)).pop()},limiter:()=>{const g=this.editor.editing.view,_=g.document.selection.editableElement;return _?g.domConverter.mapViewToDom(_.root):null},positions:jx(o)}}}function jx(c){const i={caret_se:o=>({top:o.bottom+3,left:o.right,name:"caret_se"}),caret_ne:(o,a)=>({top:o.top-a.height-3,left:o.right,name:"caret_ne"}),caret_sw:(o,a)=>({top:o.bottom+3,left:o.right-a.width,name:"caret_sw"}),caret_nw:(o,a)=>({top:o.top-a.height-3,left:o.right-a.width,name:"caret_nw"})};return i.hasOwnProperty(c)?[i[c]]:[i.caret_se,i.caret_sw,i.caret_ne,i.caret_nw]}function Bm(c,i){return new RegExp(`(?:^|[ ${yi_features.isRegExpUnicodePropertySupported?"\\p{Ps}\\p{Pi}\"'":"\\(\\[{\"'"}])([${c}])([_${yi_features.isRegExpUnicodePropertySupported?"\\p{L}\\p{N}":"a-zA-Z\xc0-\u017e0-9"}]${0==i?"*":`{${i},}`})$`,"u")}function zx(c){return i=>c.filter(o=>("string"==typeof o?o:String(o.id)).toLowerCase().includes(i.toLowerCase())).slice(0,10)}function vy(c){return c&&1==c.length}function yy(c){return c.model.markers.has("mention")}P(106);class wa extends le{static get pluginName(){return"UnderlineEditing"}init(){const i=this.editor;i.model.schema.extend("$text",{allowAttributes:"underline"}),i.model.schema.setAttributeProperties("underline",{isFormatting:!0,copyOnEnter:!0}),i.conversion.attributeToElement({model:"underline",view:"u",upcastAlso:{styles:{"text-decoration":"underline"}}}),i.commands.add("underline",new ed(i,"underline")),i.keystrokes.set("CTRL+U","underline")}}class kt extends le{init(){const i=this.editor,o=i.t;i.ui.componentFactory.add("underline",a=>{const d=i.commands.get("underline"),h=new Bt(a);return h.set({label:o("q"),icon:'<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M3 18v-1.5h14V18zm2.2-8V3.6c0-.4.4-.6.8-.6.3 0 .7.2.7.6v6.2c0 2 1.3 2.8 3.2 2.8 1.9 0 3.4-.9 3.4-2.9V3.6c0-.3.4-.5.8-.5.3 0 .7.2.7.5V10c0 2.7-2.2 4-4.9 4-2.6 0-4.7-1.2-4.7-4z"/></svg>',keystroke:"CTRL+U",tooltip:!0,isToggleable:!0}),h.bind("isOn","isEnabled").to(d,"value","isEnabled"),this.listenTo(h,"execute",()=>{i.execute("underline"),i.editing.view.focus()}),h})}}class ko extends le{static get pluginName(){return"StrikethroughEditing"}init(){const i=this.editor;i.model.schema.extend("$text",{allowAttributes:"strikethrough"}),i.model.schema.setAttributeProperties("strikethrough",{isFormatting:!0,copyOnEnter:!0}),i.conversion.attributeToElement({model:"strikethrough",view:"s",upcastAlso:["del","strike",{styles:{"text-decoration":"line-through"}}]}),i.commands.add("strikethrough",new ed(i,"strikethrough")),i.keystrokes.set("CTRL+SHIFT+X","strikethrough")}}class Hx extends le{init(){const i=this.editor,o=i.t;i.ui.componentFactory.add("strikethrough",a=>{const d=i.commands.get("strikethrough"),h=new Bt(a);return h.set({label:o("r"),icon:'<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M7 16.4c-.8-.4-1.5-.9-2.2-1.5a.6.6 0 01-.2-.5l.3-.6h1c1 1.2 2.1 1.7 3.7 1.7 1 0 1.8-.3 2.3-.6.6-.4.6-1.2.6-1.3.2-1.2-.9-2.1-.9-2.1h2.1c.3.7.4 1.2.4 1.7v.8l-.6 1.2c-.6.8-1.1 1-1.6 1.2a6 6 0 01-2.4.6c-1 0-1.8-.3-2.5-.6zM6.8 9L6 8.3c-.4-.5-.5-.8-.5-1.6 0-.7.1-1.3.5-1.8.4-.6 1-1 1.6-1.3a6.3 6.3 0 014.7 0 4 4 0 011.7 1l.3.7c0 .1.2.4-.2.7-.4.2-.9.1-1 0a3 3 0 00-1.2-1c-.4-.2-1-.3-2-.4-.7 0-1.4.2-2 .6-.8.6-1 .8-1 1.5 0 .8.5 1 1.2 1.5.6.4 1.1.7 1.9 1H6.8z"/><path d="M3 10.5V9h14v1.5z"/></svg>',keystroke:"CTRL+SHIFT+X",tooltip:!0,isToggleable:!0}),h.bind("isOn","isEnabled").to(d,"value","isEnabled"),this.listenTo(h,"execute",()=>{i.execute("strikethrough"),i.editing.view.focus()}),h})}}class Ux extends At{constructor(i,o){super(i),this.defaultStyle=!1,this.styles=o.reduce((a,d)=>(a[d.name]=d,d.isDefault&&(this.defaultStyle=d.name),a),{})}refresh(){const i=this.editor.model.document.selection.getSelectedElement();if(this.isEnabled=Mp(i),i)if(i.hasAttribute("imageStyle")){const o=i.getAttribute("imageStyle");this.value=!!this.styles[o]&&o}else this.value=this.defaultStyle;else this.value=!1}execute(i){const o=i.value,a=this.editor.model,d=a.document.selection.getSelectedElement();a.change(h=>{this.styles[o].isDefault?h.removeAttribute("imageStyle",d):h.setAttribute("imageStyle",o,d)})}}function Jr(c,i){for(const o of i)if(o.name===c)return o}var Ir='<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M2 4.5V3h16v1.5zm2.5 3V12h11V7.5h-11zM4.061 6H15.94c.586 0 1.061.407 1.061.91v5.68c0 .503-.475.91-1.061.91H4.06c-.585 0-1.06-.407-1.06-.91V6.91C3 6.406 3.475 6 4.061 6zM2 16.5V15h16v1.5z"/></svg>';const Ki={full:{name:"full",title:"Full size image",icon:Ir,isDefault:!0},side:{name:"side",title:"Side image",icon:_d,className:"image-style-side"},alignLeft:{name:"alignLeft",title:"Left aligned image",icon:Dm,className:"image-style-align-left"},alignCenter:{name:"alignCenter",title:"Centered image",icon:Mm,className:"image-style-align-center"},alignRight:{name:"alignRight",title:"Right aligned image",icon:_d,className:"image-style-align-right"}},Vm={full:Ir,left:Dm,right:_d,center:Mm};function jm(c=[]){return c.map($x)}function $x(c){if("string"==typeof c){const i=c;Ki[i]?c=Object.assign({},Ki[i]):(console.warn(Object(z.a)("image-style-not-found: There is no such image style of given name."),{name:i}),c={name:i})}else if(Ki[c.name]){const i=Ki[c.name],o=Object.assign({},c);for(const a in i)c.hasOwnProperty(a)||(o[a]=i[a]);c=o}return"string"==typeof c.icon&&Vm[c.icon]&&(c.icon=Vm[c.icon]),c}class Wx extends le{static get pluginName(){return"ImageStyleEditing"}init(){const i=this.editor,o=i.model.schema,a=i.data,d=i.editing;i.config.define("image.styles",["full","side"]);const h=jm(i.config.get("image.styles"));o.extend("image",{allowAttributes:"imageStyle"});const p=(g=h,(_,v,y)=>{if(!y.consumable.consume(v.item,_.name))return;const k=Jr(v.attributeNewValue,g),T=Jr(v.attributeOldValue,g),D=y.mapper.toViewElement(v.item),R=y.writer;T&&R.removeClass(T.className,D),k&&R.addClass(k.className,D)});var g;d.downcastDispatcher.on("attribute:imageStyle:image",p),a.downcastDispatcher.on("attribute:imageStyle:image",p),a.upcastDispatcher.on("element:figure",function(g){const _=g.filter(v=>!v.isDefault);return(v,y,k)=>{if(!y.modelRange)return;const T=y.viewItem,D=lr(y.modelRange.getItems());if(k.schema.checkAttribute(D,"imageStyle"))for(const R of _)k.consumable.consume(T,{classes:R.className})&&k.writer.setAttribute("imageStyle",R.name,D)}}(h),{priority:"low"}),i.commands.add("imageStyle",new Ux(i,h))}}P(108);class qx extends le{static get pluginName(){return"ImageStyleUI"}get localizedDefaultStylesTitles(){const i=this.editor.t;return{"Full size image":i("g"),"Side image":i("h"),"Left aligned image":i("i"),"Centered image":i("j"),"Right aligned image":i("k")}}init(){const i=function(o,a){for(const d of o)a[d.title]&&(d.title=a[d.title]);return o}(jm(this.editor.config.get("image.styles")),this.localizedDefaultStylesTitles);for(const o of i)this._createButton(o)}_createButton(i){const o=this.editor;o.ui.componentFactory.add(`imageStyle:${i.name}`,d=>{const h=o.commands.get("imageStyle"),p=new Bt(d);return p.set({label:i.title,icon:i.icon,tooltip:!0,isToggleable:!0}),p.bind("isEnabled").to(h,"isEnabled"),p.bind("isOn").to(h,"value",g=>g===i.name),this.listenTo(p,"execute",()=>{o.execute("imageStyle",{value:i.name}),o.editing.view.focus()}),p})}}class zm extends Xc{}zm.builtinPlugins=[class extends le{static get pluginName(){return"Autoformat"}afterInit(){this._addListAutoformats(),this._addBasicStylesAutoformats(),this._addHeadingAutoformats(),this._addBlockQuoteAutoformats(),this._addCodeBlockAutoformats()}_addListAutoformats(){const c=this.editor.commands;c.get("bulletedList")&&new kl(this.editor,/^[*-]\s$/,"bulletedList"),c.get("numberedList")&&new kl(this.editor,/^1[.|)]\s$/,"numberedList")}_addBasicStylesAutoformats(){const c=this.editor.commands;if(c.get("bold")){const i=Qu(this.editor,"bold");new Jc(this.editor,/(\*\*)([^*]+)(\*\*)$/g,i),new Jc(this.editor,/(__)([^_]+)(__)$/g,i)}if(c.get("italic")){const i=Qu(this.editor,"italic");new Jc(this.editor,/(?:^|[^*])(\*)([^*_]+)(\*)$/g,i),new Jc(this.editor,/(?:^|[^_])(_)([^_]+)(_)$/g,i)}if(c.get("code")){const i=Qu(this.editor,"code");new Jc(this.editor,/(`)([^`]+)(`)$/g,i)}}_addHeadingAutoformats(){const c=this.editor.commands.get("heading");c&&c.modelElements.filter(i=>i.match(/^heading[1-6]$/)).forEach(i=>{const a=new RegExp(`^(#{${i[7]}})\\s$`);new kl(this.editor,a,()=>{if(!c.isEnabled)return!1;this.editor.execute("heading",{value:i})})})}_addBlockQuoteAutoformats(){this.editor.commands.get("blockQuote")&&new kl(this.editor,/^>\s$/,"blockQuote")}_addCodeBlockAutoformats(){this.editor.commands.get("codeBlock")&&new kl(this.editor,/^```$/,"codeBlock")}},class extends le{static get pluginName(){return"CKFinder"}static get requires(){return[zC,Yu,pD]}},class extends le{static get pluginName(){return"PasteFromOffice"}static get requires(){return[qr]}init(){const c=this.editor,i=[];i.push(new sm),i.push(new Tv),c.plugins.get("Clipboard").on("inputTransformation",(o,a)=>{if(a.isTransformedWithPasteFromOffice)return;const d=a.dataTransfer.getData("text/html"),h=i.find(p=>p.isActive(d));h&&(h.execute(a),a.isTransformedWithPasteFromOffice=!0)},{priority:"high"})}},class extends le{toMentionAttribute(c,i){return py(c,i)}static get pluginName(){return"Mention"}static get requires(){return[Lx,Vx]}},function(c){c.conversion.for("upcast").elementToAttribute({view:{name:"span",key:"data-mention",classes:"mention",attributes:{"data-ingredient-quantity-id":!0,"data-ingredient-quantity":!0,"data-measurement-unit":!0,"data-ingredient":!0}},model:{key:"mention",value:i=>c.plugins.get("Mention").toMentionAttribute(i,{ingredientQuantityId:i.getAttribute("data-ingredient-quantity-id"),quantity:i.getAttribute("data-ingredient-quantity"),measurementUnit:i.getAttribute("data-measurement-unit"),ingredient:i.getAttribute("data-ingredient")})},converterPriority:"high"}),c.conversion.for("downcast").attributeToElement({model:"mention",view:(i,o)=>{if(i)return o.createAttributeElement("span",{class:"mention","data-mention":i.id,"data-ingredient-quantity-id":i.ingredientQuantityId,"data-ingredient-quantity":i.quantity,"data-measurement-unit":i.measurementUnit,"data-ingredient":i.ingredient})},converterPriority:"high"})},class extends le{static get requires(){return[qr,gC,bC,Cb,wp]}static get pluginName(){return"Essentials"}},od,class extends le{static get requires(){return[ly,cy]}static get pluginName(){return"FontSize"}},class extends le{static get requires(){return[fy,RD]}static get pluginName(){return"FontFamily"}},class extends le{static get requires(){return[ma,Ab]}static get pluginName(){return"Bold"}},class extends le{static get requires(){return[Ib,DC]}static get pluginName(){return"Italic"}},class extends le{static get requires(){return[wa,kt]}static get pluginName(){return"Underline"}},class extends le{static get requires(){return[ko,Hx]}static get pluginName(){return"Strikethrough"}},class extends le{static get requires(){return[ce,Mn]}static get pluginName(){return"FontColor"}},class extends le{static get requires(){return[ry,Im]}static get pluginName(){return"Alignment"}},class extends le{static get requires(){return[kD,wv]}static get pluginName(){return"List"}},class extends le{static get pluginName(){return"Indent"}static get requires(){return[lv,XC]}},class extends le{static get requires(){return[bD,Hp]}static get pluginName(){return"Heading"}},class extends le{static get requires(){return[Wb,ex]}static get pluginName(){return"Link"}},class extends le{static get requires(){return[xp,Pb]}static get pluginName(){return"BlockQuote"}},class extends le{static get requires(){return[Nb,sh,Kp]}static get pluginName(){return"Image"}},class extends le{static get requires(){return[B]}static get pluginName(){return"ImageResize"}init(){const c=this.editor,i=new Me(c);this._registerSchema(),this._registerConverters(),c.commands.add("imageResize",i),c.editing.downcastDispatcher.on("insert:image",(o,a,d)=>{const h=d.mapper.toViewElement(a.item),p=c.plugins.get(B).attachTo({unit:c.config.get("image.resizeUnit")||"%",modelElement:a.item,viewElement:h,editor:c,getHandleHost:g=>g.querySelector("img"),getResizeHost:g=>g,isCentered(){const g=a.item.getAttribute("imageStyle");return!g||"full"==g||"alignCenter"==g},onCommit(g){c.execute("imageResize",{width:g})}});p.on("updateSize",()=>{h.hasClass("image_resized")||c.editing.view.change(g=>{g.addClass("image_resized",h)})}),p.bind("isEnabled").to(i)},{priority:"low"})}_registerSchema(){this.editor.model.schema.extend("image",{allowAttributes:"width"})}_registerConverters(){const c=this.editor;c.conversion.for("downcast").add(i=>i.on("attribute:width:image",(o,a,d)=>{if(!d.consumable.consume(a.item,o.name))return;const h=d.writer,p=d.mapper.toViewElement(a.item);null!==a.attributeNewValue?(h.setStyle("width",a.attributeNewValue,p),h.addClass("image_resized",p)):(h.removeStyle("width",p),h.removeClass("image_resized",p))})),c.conversion.for("upcast").attributeToAttribute({view:{name:"figure",styles:{width:/.+/}},model:{key:"width",value:i=>i.getStyle("width")}})}},class extends le{static get requires(){return[Wx,qx]}static get pluginName(){return"ImageStyle"}},class extends le{static get requires(){return[ld]}static get pluginName(){return"ImageToolbar"}afterInit(){const c=this.editor,i=c.t;c.plugins.get(ld).register("image",{ariaLabel:i("a"),items:c.config.get("image.toolbar")||[],getRelatedElement:th})}},class extends le{static get pluginName(){return"ImageUpload"}static get requires(){return[wD,YC,nv]}},class extends le{static get requires(){return[Qr]}static get pluginName(){return"Base64UploadAdapter"}init(){this.editor.plugins.get(Qr).createUploadAdapter=c=>new M(c)}},class extends le{static get requires(){return[jv,fx,sh]}static get pluginName(){return"Table"}},class extends le{static get requires(){return[ld]}static get pluginName(){return"TableToolbar"}afterInit(){const c=this.editor,i=c.t,o=c.plugins.get(ld),a=c.config.get("table.contentToolbar"),d=c.config.get("table.tableToolbar");a&&o.register("tableContent",{ariaLabel:i("b"),items:a,getRelatedElement:cm}),d&&o.register("table",{ariaLabel:i("b"),items:d,getRelatedElement:ax})}},class extends le{static get pluginName(){return"TableProperties"}static get requires(){return[Sx,PD]}}],zm.defaultConfig={toolbar:{alignment:{options:["left","right","center","justify"]},fontSize:{options:["tiny","default","big"]},items:["fontFamily","fontSize","|","bold","italic","underline","strikethrough","fontColor","|","alignment","bulletedList","numberedList","indent","outdent","|","heading","|","link","blockQuote","imageUpload","insertTable"]},image:{toolbar:["imageStyle:alignLeft","imageStyle:alignCenter","imageStyle:alignRight"],styles:["alignLeft","alignCenter","alignRight"]},table:{contentToolbar:["tableColumn","tableRow","mergeTableCells","tableProperties"]},language:"en"}}]).default},901:(Et,Ot,A)=>{var j=A(366),P=A(678),O=A(278),C=A(457),U=A(594),q=A(35),Re=A(507);Re.alea=j,Re.xor128=P,Re.xorwow=O,Re.xorshift7=C,Re.xor4096=U,Re.tychei=q,Et.exports=Re},366:function(Et,Ot,A){var j;!function(P,O,C){function U(W){var ie=this,me=function de(){var W=4022871197;return function(me){me=String(me);for(var X=0;X<me.length;X++){var ne=.02519603282416938*(W+=me.charCodeAt(X));ne-=W=ne>>>0,W=(ne*=W)>>>0,W+=4294967296*(ne-=W)}return 2.3283064365386963e-10*(W>>>0)}}();ie.next=function(){var X=2091639*ie.s0+2.3283064365386963e-10*ie.c;return ie.s0=ie.s1,ie.s1=ie.s2,ie.s2=X-(ie.c=0|X)},ie.c=1,ie.s0=me(" "),ie.s1=me(" "),ie.s2=me(" "),ie.s0-=me(W),ie.s0<0&&(ie.s0+=1),ie.s1-=me(W),ie.s1<0&&(ie.s1+=1),ie.s2-=me(W),ie.s2<0&&(ie.s2+=1),me=null}function q(W,ie){return ie.c=W.c,ie.s0=W.s0,ie.s1=W.s1,ie.s2=W.s2,ie}function Re(W,ie){var me=new U(W),X=ie&&ie.state,ne=me.next;return ne.int32=function(){return 4294967296*me.next()|0},ne.double=function(){return ne()+11102230246251565e-32*(2097152*ne()|0)},ne.quick=ne,X&&("object"==typeof X&&q(X,me),ne.state=function(){return q(me,{})}),ne}O&&O.exports?O.exports=Re:A.amdD&&A.amdO?void 0!==(j=function(){return Re}.call(Ot,A,Ot,O))&&(O.exports=j):this.alea=Re}(0,Et=A.nmd(Et))},35:function(Et,Ot,A){var j;!function(P,O,C){function U(de){var W=this,ie="";W.next=function(){var X=W.b,ne=W.c,ke=W.d,De=W.a;return X=X<<25^X>>>7^ne,ne=ne-ke|0,ke=ke<<24^ke>>>8^De,De=De-X|0,W.b=X=X<<20^X>>>12^ne,W.c=ne=ne-ke|0,W.d=ke<<16^ne>>>16^De,W.a=De-X|0},W.a=0,W.b=0,W.c=-1640531527,W.d=1367130551,de===Math.floor(de)?(W.a=de/4294967296|0,W.b=0|de):ie+=de;for(var me=0;me<ie.length+20;me++)W.b^=0|ie.charCodeAt(me),W.next()}function q(de,W){return W.a=de.a,W.b=de.b,W.c=de.c,W.d=de.d,W}function Re(de,W){var ie=new U(de),me=W&&W.state,X=function(){return(ie.next()>>>0)/4294967296};return X.double=function(){do{var De=((ie.next()>>>11)+(ie.next()>>>0)/4294967296)/(1<<21)}while(0===De);return De},X.int32=ie.next,X.quick=X,me&&("object"==typeof me&&q(me,ie),X.state=function(){return q(ie,{})}),X}O&&O.exports?O.exports=Re:A.amdD&&A.amdO?void 0!==(j=function(){return Re}.call(Ot,A,Ot,O))&&(O.exports=j):this.tychei=Re}(0,Et=A.nmd(Et))},678:function(Et,Ot,A){var j;!function(P,O,C){function U(de){var W=this,ie="";W.x=0,W.y=0,W.z=0,W.w=0,W.next=function(){var X=W.x^W.x<<11;return W.x=W.y,W.y=W.z,W.z=W.w,W.w^=W.w>>>19^X^X>>>8},de===(0|de)?W.x=de:ie+=de;for(var me=0;me<ie.length+64;me++)W.x^=0|ie.charCodeAt(me),W.next()}function q(de,W){return W.x=de.x,W.y=de.y,W.z=de.z,W.w=de.w,W}function Re(de,W){var ie=new U(de),me=W&&W.state,X=function(){return(ie.next()>>>0)/4294967296};return X.double=function(){do{var De=((ie.next()>>>11)+(ie.next()>>>0)/4294967296)/(1<<21)}while(0===De);return De},X.int32=ie.next,X.quick=X,me&&("object"==typeof me&&q(me,ie),X.state=function(){return q(ie,{})}),X}O&&O.exports?O.exports=Re:A.amdD&&A.amdO?void 0!==(j=function(){return Re}.call(Ot,A,Ot,O))&&(O.exports=j):this.xor128=Re}(0,Et=A.nmd(Et))},594:function(Et,Ot,A){var j;!function(P,O,C){function U(de){var W=this;W.next=function(){var ke,De,me=W.w,X=W.X,ne=W.i;return W.w=me=me+1640531527|0,De=X[ne+34&127],ke=X[ne=ne+1&127],De^=De<<13,ke^=ke<<17,De=X[ne]=(De^=De>>>15)^(ke^=ke>>>12),W.i=ne,De+(me^me>>>16)|0},function ie(me,X){var ne,ke,De,Ht,Pe,Ne=[],Xe=128;for(X===(0|X)?(ke=X,X=null):(X+="\0",ke=0,Xe=Math.max(Xe,X.length)),De=0,Ht=-32;Ht<Xe;++Ht)X&&(ke^=X.charCodeAt((Ht+32)%X.length)),0===Ht&&(Pe=ke),ke^=ke<<10,ke^=ke>>>15,ke^=ke<<4,ke^=ke>>>13,Ht>=0&&(De=0==(ne=Ne[127&Ht]^=ke+(Pe=Pe+1640531527|0))?De+1:0);for(De>=128&&(Ne[127&(X&&X.length||0)]=-1),De=127,Ht=512;Ht>0;--Ht)ke=Ne[De+34&127],ne=Ne[De=De+1&127],ke^=ke<<13,ne^=ne<<17,Ne[De]=(ke^=ke>>>15)^(ne^=ne>>>12);me.w=Pe,me.X=Ne,me.i=De}(W,de)}function q(de,W){return W.i=de.i,W.w=de.w,W.X=de.X.slice(),W}function Re(de,W){null==de&&(de=+new Date);var ie=new U(de),me=W&&W.state,X=function(){return(ie.next()>>>0)/4294967296};return X.double=function(){do{var De=((ie.next()>>>11)+(ie.next()>>>0)/4294967296)/(1<<21)}while(0===De);return De},X.int32=ie.next,X.quick=X,me&&(me.X&&q(me,ie),X.state=function(){return q(ie,{})}),X}O&&O.exports?O.exports=Re:A.amdD&&A.amdO?void 0!==(j=function(){return Re}.call(Ot,A,Ot,O))&&(O.exports=j):this.xor4096=Re}(0,Et=A.nmd(Et))},457:function(Et,Ot,A){var j;!function(P,O,C){function U(de){var W=this;W.next=function(){var ne,ke,me=W.x,X=W.i;return ne=me[X],ke=(ne^=ne>>>7)^ne<<24,ke^=(ne=me[X+1&7])^ne>>>10,ke^=(ne=me[X+3&7])^ne>>>3,ke^=(ne=me[X+4&7])^ne<<7,ne=me[X+7&7],me[X]=ke^=(ne^=ne<<13)^ne<<9,W.i=X+1&7,ke},function ie(me,X){var ne,De=[];if(X===(0|X))De[0]=X;else for(X=""+X,ne=0;ne<X.length;++ne)De[7&ne]=De[7&ne]<<15^X.charCodeAt(ne)+De[ne+1&7]<<13;for(;De.length<8;)De.push(0);for(ne=0;ne<8&&0===De[ne];++ne);for(8==ne&&(De[7]=-1),me.x=De,me.i=0,ne=256;ne>0;--ne)me.next()}(W,de)}function q(de,W){return W.x=de.x.slice(),W.i=de.i,W}function Re(de,W){null==de&&(de=+new Date);var ie=new U(de),me=W&&W.state,X=function(){return(ie.next()>>>0)/4294967296};return X.double=function(){do{var De=((ie.next()>>>11)+(ie.next()>>>0)/4294967296)/(1<<21)}while(0===De);return De},X.int32=ie.next,X.quick=X,me&&(me.x&&q(me,ie),X.state=function(){return q(ie,{})}),X}O&&O.exports?O.exports=Re:A.amdD&&A.amdO?void 0!==(j=function(){return Re}.call(Ot,A,Ot,O))&&(O.exports=j):this.xorshift7=Re}(0,Et=A.nmd(Et))},278:function(Et,Ot,A){var j;!function(P,O,C){function U(de){var W=this,ie="";W.next=function(){var X=W.x^W.x>>>2;return W.x=W.y,W.y=W.z,W.z=W.w,W.w=W.v,(W.d=W.d+362437|0)+(W.v=W.v^W.v<<4^X^X<<1)|0},W.x=0,W.y=0,W.z=0,W.w=0,W.v=0,de===(0|de)?W.x=de:ie+=de;for(var me=0;me<ie.length+64;me++)W.x^=0|ie.charCodeAt(me),me==ie.length&&(W.d=W.x<<10^W.x>>>4),W.next()}function q(de,W){return W.x=de.x,W.y=de.y,W.z=de.z,W.w=de.w,W.v=de.v,W.d=de.d,W}function Re(de,W){var ie=new U(de),me=W&&W.state,X=function(){return(ie.next()>>>0)/4294967296};return X.double=function(){do{var De=((ie.next()>>>11)+(ie.next()>>>0)/4294967296)/(1<<21)}while(0===De);return De},X.int32=ie.next,X.quick=X,me&&("object"==typeof me&&q(me,ie),X.state=function(){return q(ie,{})}),X}O&&O.exports?O.exports=Re:A.amdD&&A.amdO?void 0!==(j=function(){return Re}.call(Ot,A,Ot,O))&&(O.exports=j):this.xorwow=Re}(0,Et=A.nmd(Et))},507:function(Et,Ot,A){var j;!function(P,O,C){var ne,U=256,W=C.pow(U,6),ie=C.pow(2,52),me=2*ie,X=255;function ke(Le,Ae,pt){var St=[],wt=Ne(Pe((Ae=1==Ae?{entropy:!0}:Ae||{}).entropy?[Le,yt(O)]:null==Le?function Xe(){try{var Le;return ne&&(Le=ne.randomBytes)?Le=Le(U):(Le=new Uint8Array(U),(P.crypto||P.msCrypto).getRandomValues(Le)),yt(Le)}catch(St){var Ae=P.navigator,pt=Ae&&Ae.plugins;return[+new Date,P,pt,P.screen,yt(O)]}}():Le,3),St),Qn=new De(St),Yn=function(){for(var Vi=Qn.g(6),Xi=W,Un=0;Vi<ie;)Vi=(Vi+Un)*U,Xi*=U,Un=Qn.g(1);for(;Vi>=me;)Vi/=2,Xi/=2,Un>>>=1;return(Vi+Un)/Xi};return Yn.int32=function(){return 0|Qn.g(4)},Yn.quick=function(){return Qn.g(4)/4294967296},Yn.double=Yn,Ne(yt(Qn.S),O),(Ae.pass||pt||function(Vi,Xi,Un,ji){return ji&&(ji.S&&Ht(ji,Qn),Vi.state=function(){return Ht(Qn,{})}),Un?(C.random=Vi,Xi):Vi})(Yn,wt,"global"in Ae?Ae.global:this==C,Ae.state)}function De(Le){var Ae,pt=Le.length,St=this,wt=0,Qn=St.i=St.j=0,Yn=St.S=[];for(pt||(Le=[pt++]);wt<U;)Yn[wt]=wt++;for(wt=0;wt<U;wt++)Yn[wt]=Yn[Qn=X&Qn+Le[wt%pt]+(Ae=Yn[wt])],Yn[Qn]=Ae;(St.g=function(Vi){for(var Xi,Un=0,ji=St.i,ao=St.j,Ft=St.S;Vi--;)Xi=Ft[ji=X&ji+1],Un=Un*U+Ft[X&(Ft[ji]=Ft[ao=X&ao+Xi])+(Ft[ao]=Xi)];return St.i=ji,St.j=ao,Un})(U)}function Ht(Le,Ae){return Ae.i=Le.i,Ae.j=Le.j,Ae.S=Le.S.slice(),Ae}function Pe(Le,Ae){var wt,pt=[],St=typeof Le;if(Ae&&"object"==St)for(wt in Le)try{pt.push(Pe(Le[wt],Ae-1))}catch(Qn){}return pt.length?pt:"string"==St?Le:Le+"\0"}function Ne(Le,Ae){for(var St,pt=Le+"",wt=0;wt<pt.length;)Ae[X&wt]=X&(St^=19*Ae[X&wt])+pt.charCodeAt(wt++);return yt(Ae)}function yt(Le){return String.fromCharCode.apply(0,Le)}if(Ne(C.random(),O),Et.exports){Et.exports=ke;try{ne=A(42)}catch(Le){}}else void 0!==(j=function(){return ke}.call(Ot,A,Ot,Et))&&(Et.exports=j)}("undefined"!=typeof self?self:this,[],Math)},201:(Et,Ot,A)=>{"use strict";function j(n){return"function"==typeof n}function P(n){const e=n(r=>{Error.call(r),r.stack=(new Error).stack});return e.prototype=Object.create(Error.prototype),e.prototype.constructor=e,e}const O=P(n=>function(e){n(this),this.message=e?`${e.length} errors occurred during unsubscription:\n${e.map((r,s)=>`${s+1}) ${r.toString()}`).join("\n  ")}`:"",this.name="UnsubscriptionError",this.errors=e});function C(n,t){if(n){const e=n.indexOf(t);0<=e&&n.splice(e,1)}}class U{constructor(t){this.initialTeardown=t,this.closed=!1,this._parentage=null,this._finalizers=null}unsubscribe(){let t;if(!this.closed){this.closed=!0;const{_parentage:e}=this;if(e)if(this._parentage=null,Array.isArray(e))for(const l of e)l.remove(this);else e.remove(this);const{initialTeardown:r}=this;if(j(r))try{r()}catch(l){t=l instanceof O?l.errors:[l]}const{_finalizers:s}=this;if(s){this._finalizers=null;for(const l of s)try{de(l)}catch(u){t=null!=t?t:[],u instanceof O?t=[...t,...u.errors]:t.push(u)}}if(t)throw new O(t)}}add(t){var e;if(t&&t!==this)if(this.closed)de(t);else{if(t instanceof U){if(t.closed||t._hasParent(this))return;t._addParent(this)}(this._finalizers=null!==(e=this._finalizers)&&void 0!==e?e:[]).push(t)}}_hasParent(t){const{_parentage:e}=this;return e===t||Array.isArray(e)&&e.includes(t)}_addParent(t){const{_parentage:e}=this;this._parentage=Array.isArray(e)?(e.push(t),e):e?[e,t]:t}_removeParent(t){const{_parentage:e}=this;e===t?this._parentage=null:Array.isArray(e)&&C(e,t)}remove(t){const{_finalizers:e}=this;e&&C(e,t),t instanceof U&&t._removeParent(this)}}U.EMPTY=(()=>{const n=new U;return n.closed=!0,n})();const q=U.EMPTY;function Re(n){return n instanceof U||n&&"closed"in n&&j(n.remove)&&j(n.add)&&j(n.unsubscribe)}function de(n){j(n)?n():n.unsubscribe()}const W={onUnhandledError:null,onStoppedNotification:null,Promise:void 0,useDeprecatedSynchronousErrorHandling:!1,useDeprecatedNextContext:!1},ie={setTimeout(n,t,...e){const{delegate:r}=ie;return(null==r?void 0:r.setTimeout)?r.setTimeout(n,t,...e):setTimeout(n,t,...e)},clearTimeout(n){const{delegate:t}=ie;return((null==t?void 0:t.clearTimeout)||clearTimeout)(n)},delegate:void 0};function me(n){ie.setTimeout(()=>{const{onUnhandledError:t}=W;if(!t)throw n;t(n)})}function X(){}const ne=Ht("C",void 0,void 0);function Ht(n,t,e){return{kind:n,value:t,error:e}}let Pe=null;function Ne(n){if(W.useDeprecatedSynchronousErrorHandling){const t=!Pe;if(t&&(Pe={errorThrown:!1,error:null}),n(),t){const{errorThrown:e,error:r}=Pe;if(Pe=null,e)throw r}}else n()}class yt extends U{constructor(t){super(),this.isStopped=!1,t?(this.destination=t,Re(t)&&t.add(this)):this.destination=Vi}static create(t,e,r){return new St(t,e,r)}next(t){this.isStopped?Yn(function De(n){return Ht("N",n,void 0)}(t),this):this._next(t)}error(t){this.isStopped?Yn(function ke(n){return Ht("E",void 0,n)}(t),this):(this.isStopped=!0,this._error(t))}complete(){this.isStopped?Yn(ne,this):(this.isStopped=!0,this._complete())}unsubscribe(){this.closed||(this.isStopped=!0,super.unsubscribe(),this.destination=null)}_next(t){this.destination.next(t)}_error(t){try{this.destination.error(t)}finally{this.unsubscribe()}}_complete(){try{this.destination.complete()}finally{this.unsubscribe()}}}const Le=Function.prototype.bind;function Ae(n,t){return Le.call(n,t)}class pt{constructor(t){this.partialObserver=t}next(t){const{partialObserver:e}=this;if(e.next)try{e.next(t)}catch(r){wt(r)}}error(t){const{partialObserver:e}=this;if(e.error)try{e.error(t)}catch(r){wt(r)}else wt(t)}complete(){const{partialObserver:t}=this;if(t.complete)try{t.complete()}catch(e){wt(e)}}}class St extends yt{constructor(t,e,r){let s;if(super(),j(t)||!t)s={next:null!=t?t:void 0,error:null!=e?e:void 0,complete:null!=r?r:void 0};else{let l;this&&W.useDeprecatedNextContext?(l=Object.create(t),l.unsubscribe=()=>this.unsubscribe(),s={next:t.next&&Ae(t.next,l),error:t.error&&Ae(t.error,l),complete:t.complete&&Ae(t.complete,l)}):s=t}this.destination=new pt(s)}}function wt(n){W.useDeprecatedSynchronousErrorHandling?function Xe(n){W.useDeprecatedSynchronousErrorHandling&&Pe&&(Pe.errorThrown=!0,Pe.error=n)}(n):me(n)}function Yn(n,t){const{onStoppedNotification:e}=W;e&&ie.setTimeout(()=>e(n,t))}const Vi={closed:!0,next:X,error:function Qn(n){throw n},complete:X},Xi="function"==typeof Symbol&&Symbol.observable||"@@observable";function Un(n){return n}let Ft=(()=>{class n{constructor(e){e&&(this._subscribe=e)}lift(e){const r=new n;return r.source=this,r.operator=e,r}subscribe(e,r,s){const l=function U0(n){return n&&n instanceof yt||function H0(n){return n&&j(n.next)&&j(n.error)&&j(n.complete)}(n)&&Re(n)}(e)?e:new St(e,r,s);return Ne(()=>{const{operator:u,source:f}=this;l.add(u?u.call(l,f):f?this._subscribe(l):this._trySubscribe(l))}),l}_trySubscribe(e){try{return this._subscribe(e)}catch(r){e.error(r)}}forEach(e,r){return new(r=Yg(r))((s,l)=>{const u=new St({next:f=>{try{e(f)}catch(m){l(m),u.unsubscribe()}},error:l,complete:s});this.subscribe(u)})}_subscribe(e){var r;return null===(r=this.source)||void 0===r?void 0:r.subscribe(e)}[Xi](){return this}pipe(...e){return function ao(n){return 0===n.length?Un:1===n.length?n[0]:function(e){return n.reduce((r,s)=>s(r),e)}}(e)(this)}toPromise(e){return new(e=Yg(e))((r,s)=>{let l;this.subscribe(u=>l=u,u=>s(u),()=>r(l))})}}return n.create=t=>new n(t),n})();function Yg(n){var t;return null!==(t=null!=n?n:W.Promise)&&void 0!==t?t:Promise}const An=P(n=>function(){n(this),this.name="ObjectUnsubscribedError",this.message="object unsubscribed"});let Oe=(()=>{class n extends Ft{constructor(){super(),this.closed=!1,this.currentObservers=null,this.observers=[],this.isStopped=!1,this.hasError=!1,this.thrownError=null}lift(e){const r=new ts(this,this);return r.operator=e,r}_throwIfClosed(){if(this.closed)throw new An}next(e){Ne(()=>{if(this._throwIfClosed(),!this.isStopped){this.currentObservers||(this.currentObservers=Array.from(this.observers));for(const r of this.currentObservers)r.next(e)}})}error(e){Ne(()=>{if(this._throwIfClosed(),!this.isStopped){this.hasError=this.isStopped=!0,this.thrownError=e;const{observers:r}=this;for(;r.length;)r.shift().error(e)}})}complete(){Ne(()=>{if(this._throwIfClosed(),!this.isStopped){this.isStopped=!0;const{observers:e}=this;for(;e.length;)e.shift().complete()}})}unsubscribe(){this.isStopped=this.closed=!0,this.observers=this.currentObservers=null}get observed(){var e;return(null===(e=this.observers)||void 0===e?void 0:e.length)>0}_trySubscribe(e){return this._throwIfClosed(),super._trySubscribe(e)}_subscribe(e){return this._throwIfClosed(),this._checkFinalizedStatuses(e),this._innerSubscribe(e)}_innerSubscribe(e){const{hasError:r,isStopped:s,observers:l}=this;return r||s?q:(this.currentObservers=null,l.push(e),new U(()=>{this.currentObservers=null,C(l,e)}))}_checkFinalizedStatuses(e){const{hasError:r,thrownError:s,isStopped:l}=this;r?e.error(s):l&&e.complete()}asObservable(){const e=new Ft;return e.source=this,e}}return n.create=(t,e)=>new ts(t,e),n})();class ts extends Oe{constructor(t,e){super(),this.destination=t,this.source=e}next(t){var e,r;null===(r=null===(e=this.destination)||void 0===e?void 0:e.next)||void 0===r||r.call(e,t)}error(t){var e,r;null===(r=null===(e=this.destination)||void 0===e?void 0:e.error)||void 0===r||r.call(e,t)}complete(){var t,e;null===(e=null===(t=this.destination)||void 0===t?void 0:t.complete)||void 0===e||e.call(t)}_subscribe(t){var e,r;return null!==(r=null===(e=this.source)||void 0===e?void 0:e.subscribe(t))&&void 0!==r?r:q}}function ru(n){return j(null==n?void 0:n.lift)}function mn(n){return t=>{if(ru(t))return t.lift(function(e){try{return n(e,this)}catch(r){this.error(r)}});throw new TypeError("Unable to lift unknown Observable type")}}function on(n,t,e,r,s){return new $0(n,t,e,r,s)}class $0 extends yt{constructor(t,e,r,s,l,u){super(t),this.onFinalize=l,this.shouldUnsubscribe=u,this._next=e?function(f){try{e(f)}catch(m){t.error(m)}}:super._next,this._error=s?function(f){try{s(f)}catch(m){t.error(m)}finally{this.unsubscribe()}}:super._error,this._complete=r?function(){try{r()}catch(f){t.error(f)}finally{this.unsubscribe()}}:super._complete}unsubscribe(){var t;if(!this.shouldUnsubscribe||this.shouldUnsubscribe()){const{closed:e}=this;super.unsubscribe(),!e&&(null===(t=this.onFinalize)||void 0===t||t.call(this))}}}function Te(n,t){return mn((e,r)=>{let s=0;e.subscribe(on(r,l=>{r.next(n.call(t,l,s++))}))})}function lc(n,t,e,r){return new(e||(e=Promise))(function(l,u){function f(w){try{b(r.next(w))}catch(x){u(x)}}function m(w){try{b(r.throw(w))}catch(x){u(x)}}function b(w){w.done?l(w.value):function s(l){return l instanceof e?l:new e(function(u){u(l)})}(w.value).then(f,m)}b((r=r.apply(n,t||[])).next())})}function Ws(n){return this instanceof Ws?(this.v=n,this):new Ws(n)}function q0(n,t,e){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var s,r=e.apply(n,t||[]),l=[];return s={},u("next"),u("throw"),u("return"),s[Symbol.asyncIterator]=function(){return this},s;function u(E){r[E]&&(s[E]=function(S){return new Promise(function(I,N){l.push([E,S,I,N])>1||f(E,S)})})}function f(E,S){try{!function m(E){E.value instanceof Ws?Promise.resolve(E.value.v).then(b,w):x(l[0][2],E)}(r[E](S))}catch(I){x(l[0][3],I)}}function b(E){f("next",E)}function w(E){f("throw",E)}function x(E,S){E(S),l.shift(),l.length&&f(l[0][0],l[0][1])}}function Jg(n){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var e,t=n[Symbol.asyncIterator];return t?t.call(n):(n=function Xg(n){var t="function"==typeof Symbol&&Symbol.iterator,e=t&&n[t],r=0;if(e)return e.call(n);if(n&&"number"==typeof n.length)return{next:function(){return n&&r>=n.length&&(n=void 0),{value:n&&n[r++],done:!n}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")}(n),e={},r("next"),r("throw"),r("return"),e[Symbol.asyncIterator]=function(){return this},e);function r(l){e[l]=n[l]&&function(u){return new Promise(function(f,m){!function s(l,u,f,m){Promise.resolve(m).then(function(b){l({value:b,done:f})},u)}(f,m,(u=n[l](u)).done,u.value)})}}}const lf=n=>n&&"number"==typeof n.length&&"function"!=typeof n;function qs(n){return j(null==n?void 0:n.then)}function dc(n){return j(n[Xi])}function e_(n){return Symbol.asyncIterator&&j(null==n?void 0:n[Symbol.asyncIterator])}function Gs(n){return new TypeError(`You provided ${null!==n&&"object"==typeof n?"an invalid object":`'${n}'`} where a stream was expected. You can provide an Observable, Promise, ReadableStream, Array, AsyncIterable, or Iterable.`)}const t_=function uc(){return"function"==typeof Symbol&&Symbol.iterator?Symbol.iterator:"@@iterator"}();function hc(n){return j(null==n?void 0:n[t_])}function su(n){return q0(this,arguments,function*(){const e=n.getReader();try{for(;;){const{value:r,done:s}=yield Ws(e.read());if(s)return yield Ws(void 0);yield yield Ws(r)}}finally{e.releaseLock()}})}function n_(n){return j(null==n?void 0:n.getReader)}function gi(n){if(n instanceof Ft)return n;if(null!=n){if(dc(n))return function Za(n){return new Ft(t=>{const e=n[Xi]();if(j(e.subscribe))return e.subscribe(t);throw new TypeError("Provided object does not correctly implement Symbol.observable")})}(n);if(lf(n))return function K0(n){return new Ft(t=>{for(let e=0;e<n.length&&!t.closed;e++)t.next(n[e]);t.complete()})}(n);if(qs(n))return function i_(n){return new Ft(t=>{n.then(e=>{t.closed||(t.next(e),t.complete())},e=>t.error(e)).then(null,me)})}(n);if(e_(n))return o_(n);if(hc(n))return function r_(n){return new Ft(t=>{for(const e of n)if(t.next(e),t.closed)return;t.complete()})}(n);if(n_(n))return function Q0(n){return o_(su(n))}(n)}throw Gs(n)}function o_(n){return new Ft(t=>{(function cf(n,t){var e,r,s,l;return lc(this,void 0,void 0,function*(){try{for(e=Jg(n);!(r=yield e.next()).done;)if(t.next(r.value),t.closed)return}catch(u){s={error:u}}finally{try{r&&!r.done&&(l=e.return)&&(yield l.call(e))}finally{if(s)throw s.error}}t.complete()})})(n,t).catch(e=>t.error(e))})}function gn(n,t,e,r=0,s=!1){const l=t.schedule(function(){e(),s?n.add(this.schedule(null,r)):this.unsubscribe()},r);if(n.add(l),!s)return l}function Ln(n,t,e=1/0){return j(t)?Ln((r,s)=>Te((l,u)=>t(r,l,s,u))(gi(n(r,s))),e):("number"==typeof t&&(e=t),mn((r,s)=>function fc(n,t,e,r,s,l,u,f){const m=[];let b=0,w=0,x=!1;const E=()=>{x&&!m.length&&!b&&t.complete()},S=N=>b<r?I(N):m.push(N),I=N=>{l&&t.next(N),b++;let K=!1;gi(e(N,w++)).subscribe(on(t,G=>{null==s||s(G),l?S(G):t.next(G)},()=>{K=!0},void 0,()=>{if(K)try{for(b--;m.length&&b<r;){const G=m.shift();u?gn(t,u,()=>I(G)):I(G)}E()}catch(G){t.error(G)}}))};return n.subscribe(on(t,S,()=>{x=!0,E()})),()=>{null==f||f()}}(r,s,n,e)))}function Ks(n=1/0){return Ln(Un,n)}const Fr=new Ft(n=>n.complete());function au(n){return n&&j(n.schedule)}function ns(n){return n[n.length-1]}function df(n){return j(ns(n))?n.pop():void 0}function Qs(n){return au(ns(n))?n.pop():void 0}function uf(n,t=0){return mn((e,r)=>{e.subscribe(on(r,s=>gn(r,n,()=>r.next(s),t),()=>gn(r,n,()=>r.complete(),t),s=>gn(r,n,()=>r.error(s),t)))})}function s_(n,t=0){return mn((e,r)=>{r.add(n.schedule(()=>e.subscribe(r),t))})}function pc(n,t){if(!n)throw new Error("Iterable cannot be null");return new Ft(e=>{gn(e,t,()=>{const r=n[Symbol.asyncIterator]();gn(e,t,()=>{r.next().then(s=>{s.done?e.complete():e.next(s.value)})},0,!0)})})}function Zn(n,t){return t?function tk(n,t){if(null!=n){if(dc(n))return function hf(n,t){return gi(n).pipe(s_(t),uf(t))}(n,t);if(lf(n))return function J0(n,t){return new Ft(e=>{let r=0;return t.schedule(function(){r===n.length?e.complete():(e.next(n[r++]),e.closed||this.schedule())})})}(n,t);if(qs(n))return function X0(n,t){return gi(n).pipe(s_(t),uf(t))}(n,t);if(e_(n))return pc(n,t);if(hc(n))return function ek(n,t){return new Ft(e=>{let r;return gn(e,t,()=>{r=n[t_](),gn(e,t,()=>{let s,l;try{({value:s,done:l}=r.next())}catch(u){return void e.error(u)}l?e.complete():e.next(s)},0,!0)}),()=>j(null==r?void 0:r.return)&&r.return()})}(n,t);if(n_(n))return function ff(n,t){return pc(su(n),t)}(n,t)}throw Gs(n)}(n,t):gi(n)}function lo(...n){const t=Qs(n),e=function Z0(n,t){return"number"==typeof ns(n)?n.pop():t}(n,1/0),r=n;return r.length?1===r.length?gi(r[0]):Ks(e)(Zn(r,t)):Fr}function si(n){return n<=0?()=>Fr:mn((t,e)=>{let r=0;t.subscribe(on(e,s=>{++r<=n&&(e.next(s),n<=r&&e.complete())}))})}function Xa(n={}){const{connector:t=(()=>new Oe),resetOnError:e=!0,resetOnComplete:r=!0,resetOnRefCountZero:s=!0}=n;return l=>{let u=null,f=null,m=null,b=0,w=!1,x=!1;const E=()=>{null==f||f.unsubscribe(),f=null},S=()=>{E(),u=m=null,w=x=!1},I=()=>{const N=u;S(),null==N||N.unsubscribe()};return mn((N,K)=>{b++,!x&&!w&&E();const G=m=null!=m?m:t();K.add(()=>{b--,0===b&&!x&&!w&&(f=pf(I,s))}),G.subscribe(K),u||(u=new St({next:H=>G.next(H),error:H=>{x=!0,E(),f=pf(S,e,H),G.error(H)},complete:()=>{w=!0,E(),f=pf(S,r),G.complete()}}),Zn(N).subscribe(u))})(l)}}function pf(n,t,...e){return!0===t?(n(),null):!1===t?null:t(...e).pipe(si(1)).subscribe(()=>n())}function Yt(n){for(let t in n)if(n[t]===Yt)return t;throw Error("Could not find renamed property on target object.")}function lu(n,t){for(const e in t)t.hasOwnProperty(e)&&!n.hasOwnProperty(e)&&(n[e]=t[e])}function $t(n){if("string"==typeof n)return n;if(Array.isArray(n))return"["+n.map($t).join(", ")+"]";if(null==n)return""+n;if(n.overriddenName)return`${n.overriddenName}`;if(n.name)return`${n.name}`;const t=n.toString();if(null==t)return""+t;const e=t.indexOf("\n");return-1===e?t:t.substring(0,e)}function cu(n,t){return null==n||""===n?null===t?"":t:null==t||""===t?n:n+" "+t}const nk=Yt({__forward_ref__:Yt});function Nt(n){return n.__forward_ref__=Nt,n.toString=function(){return $t(this())},n}function rt(n){return a_(n)?n():n}function a_(n){return"function"==typeof n&&n.hasOwnProperty(nk)&&n.__forward_ref__===Nt}class ye extends Error{constructor(t,e){super(function mf(n,t){return`NG0${Math.abs(n)}${t?": "+t:""}`}(t,e)),this.code=t}}function et(n){return"string"==typeof n?n:null==n?"":String(n)}function ai(n){return"function"==typeof n?n.name||n.toString():"object"==typeof n&&null!=n&&"function"==typeof n.type?n.type.name||n.type.toString():et(n)}function Ja(n,t){const e=t?` in ${t}`:"";throw new ye(-201,`No provider for ${ai(n)} found${e}`)}function sn(n,t,e,r){throw new Error(`ASSERTION ERROR: ${n}`+(null==r?"":` [Expected=> ${e} ${r} ${t} <=Actual]`))}function oe(n){return{token:n.token,providedIn:n.providedIn||null,factory:n.factory,value:void 0}}function Se(n){return{providers:n.providers||[],imports:n.imports||[]}}function bf(n){return vf(n,uu)||vf(n,h_)}function vf(n,t){return n.hasOwnProperty(t)?n[t]:null}function u_(n){return n&&(n.hasOwnProperty(hu)||n.hasOwnProperty(en))?n[hu]:null}const uu=Yt({\u0275prov:Yt}),hu=Yt({\u0275inj:Yt}),h_=Yt({ngInjectableDef:Yt}),en=Yt({ngInjectorDef:Yt});var Qe=(()=>((Qe=Qe||{})[Qe.Default=0]="Default",Qe[Qe.Host=1]="Host",Qe[Qe.Self=2]="Self",Qe[Qe.SkipSelf=4]="SkipSelf",Qe[Qe.Optional=8]="Optional",Qe))();let fu;function Ro(n){const t=fu;return fu=n,t}function yf(n,t,e){const r=bf(n);return r&&"root"==r.providedIn?void 0===r.value?r.value=r.factory():r.value:e&Qe.Optional?null:void 0!==t?t:void Ja($t(n),"Injector")}function Oo(n){return{toString:n}.toString()}var zi=(()=>((zi=zi||{})[zi.OnPush=0]="OnPush",zi[zi.Default=1]="Default",zi))(),er=(()=>{return(n=er||(er={}))[n.Emulated=0]="Emulated",n[n.None=2]="None",n[n.ShadowDom=3]="ShadowDom",er;var n})();const z="undefined"!=typeof globalThis&&globalThis,is="undefined"!=typeof window&&window,wf="undefined"!=typeof self&&"undefined"!=typeof WorkerGlobalScope&&self instanceof WorkerGlobalScope&&self,Wt=z||"undefined"!=typeof global&&global||is||wf,rs={},Zt=[],tl=Yt({\u0275cmp:Yt}),Be=Yt({\u0275dir:Yt}),$n=Yt({\u0275pipe:Yt}),pu=Yt({\u0275mod:Yt}),Fo=Yt({\u0275fac:Yt}),mc=Yt({__NG_ELEMENT_ID__:Yt});let uk=0;function Ie(n){return Oo(()=>{const e={},r={type:n.type,providersResolver:null,decls:n.decls,vars:n.vars,factory:null,template:n.template||null,consts:n.consts||null,ngContentSelectors:n.ngContentSelectors,hostBindings:n.hostBindings||null,hostVars:n.hostVars||0,hostAttrs:n.hostAttrs||null,contentQueries:n.contentQueries||null,declaredInputs:e,inputs:null,outputs:null,exportAs:n.exportAs||null,onPush:n.changeDetection===zi.OnPush,directiveDefs:null,pipeDefs:null,selectors:n.selectors||Zt,viewQuery:n.viewQuery||null,features:n.features||null,data:n.data||{},encapsulation:n.encapsulation||er.Emulated,id:"c",styles:n.styles||Zt,_:null,setInput:null,schemas:n.schemas||null,tView:null},s=n.directives,l=n.features,u=n.pipes;return r.id+=uk++,r.inputs=_r(n.inputs,e),r.outputs=_r(n.outputs),l&&l.forEach(f=>f(r)),r.directiveDefs=s?()=>("function"==typeof s?s():s).map(_i):null,r.pipeDefs=u?()=>("function"==typeof u?u():u).map(kf):null,r})}function _i(n){return li(n)||function Lr(n){return n[Be]||null}(n)}function kf(n){return function Ys(n){return n[$n]||null}(n)}const No={};function ue(n){return Oo(()=>{const t={type:n.type,bootstrap:n.bootstrap||Zt,declarations:n.declarations||Zt,imports:n.imports||Zt,exports:n.exports||Zt,transitiveCompileScopes:null,schemas:n.schemas||null,id:n.id||null};return null!=n.id&&(No[n.id]=n.type),t})}function _r(n,t){if(null==n)return rs;const e={};for(const r in n)if(n.hasOwnProperty(r)){let s=n[r],l=s;Array.isArray(s)&&(l=s[1],s=s[0]),e[s]=r,t&&(t[s]=l)}return e}const se=Ie;function un(n){return{type:n.type,name:n.name,factory:null,pure:!1!==n.pure,onDestroy:n.type.prototype.ngOnDestroy||null}}function li(n){return n[tl]||null}function br(n,t){const e=n[pu]||null;if(!e&&!0===t)throw new Error(`Type ${$t(n)} does not have '\u0275mod' property.`);return e}function co(n){return Array.isArray(n)&&"object"==typeof n[1]}function Vr(n){return Array.isArray(n)&&!0===n[1]}function xf(n){return 0!=(8&n.flags)}function _u(n){return 2==(2&n.flags)}function bu(n){return 1==(1&n.flags)}function jr(n){return null!==n.template}function mk(n){return 0!=(512&n[2])}function ls(n,t){return n.hasOwnProperty(Fo)?n[Fo]:null}class Mf{constructor(t,e,r){this.previousValue=t,this.currentValue=e,this.firstChange=r}isFirstChange(){return this.firstChange}}function xn(){return Af}function Af(n){return n.type.prototype.ngOnChanges&&(n.setInput=Js),kk}function kk(){const n=Ye(this),t=null==n?void 0:n.current;if(t){const e=n.previous;if(e===rs)n.previous=t;else for(let r in t)e[r]=t[r];n.current=null,this.ngOnChanges(t)}}function Js(n,t,e,r){const s=Ye(n)||function yu(n,t){return n[he]=t}(n,{previous:rs,current:null}),l=s.current||(s.current={}),u=s.previous,f=this.declaredInputs[e],m=u[f];l[f]=new Mf(m&&m.currentValue,t,u===rs),n[r]=t}xn.ngInherit=!0;const he="__ngSimpleChanges__";function Ye(n){return n[he]||null}let Rf;function yi(){return void 0!==Rf?Rf:"undefined"!=typeof document?document:void 0}function Tn(n){return!!n.listen}const ct={createRenderer:(n,t)=>yi()};function In(n){for(;Array.isArray(n);)n=n[0];return n}function Tc(n,t){return In(t[n])}function yr(n,t){return In(t[n.index])}function cs(n,t){return n.data[t]}function ta(n,t){return n[t]}function Ii(n,t){const e=t[n];return co(e)?e:e[0]}function y_(n){return 4==(4&n[2])}function wu(n){return 128==(128&n[2])}function Vo(n,t){return null==t?null:n[t]}function k_(n){n[18]=0}function Ec(n,t){n[5]+=t;let e=n,r=n[3];for(;null!==r&&(1===t&&1===e[5]||-1===t&&0===e[5]);)r[5]+=t,e=r,r=r[3]}const je={lFrame:D_(null),bindingsEnabled:!0,isInCheckNoChangesMode:!1};function Sc(){return je.bindingsEnabled}function ee(){return je.lFrame.lView}function Dt(){return je.lFrame.tView}function it(n){return je.lFrame.contextLView=n,n[8]}function Vn(){let n=Of();for(;null!==n&&64===n.type;)n=n.parent;return n}function Of(){return je.lFrame.currentTNode}function wr(){const n=je.lFrame,t=n.currentTNode;return n.isParent?t:t.parent}function Hr(n,t){const e=je.lFrame;e.currentTNode=n,e.isParent=t}function Cu(){return je.lFrame.isParent}function ds(){je.lFrame.isParent=!1}function Dc(){return je.isInCheckNoChangesMode}function xu(n){je.isInCheckNoChangesMode=n}function Mt(){const n=je.lFrame;let t=n.bindingRootIndex;return-1===t&&(t=n.bindingRootIndex=n.tView.bindingStartIndex),t}function sl(){return je.lFrame.bindingIndex++}function Nf(n){je.lFrame.inI18n=n}function T_(n,t){const e=je.lFrame;e.bindingIndex=e.bindingRootIndex=n,us(t)}function us(n){je.lFrame.currentDirectiveIndex=n}function Mc(n){const t=je.lFrame.currentDirectiveIndex;return-1===t?null:n[t]}function Lf(){return je.lFrame.currentQueryIndex}function uo(n){je.lFrame.currentQueryIndex=n}function Dk(n){const t=n[1];return 2===t.type?t.declTNode:1===t.type?n[6]:null}function E_(n,t,e){if(e&Qe.SkipSelf){let s=t,l=n;for(;!(s=s.parent,null!==s||e&Qe.Host||(s=Dk(l),null===s||(l=l[15],10&s.type))););if(null===s)return!1;t=s,n=l}const r=je.lFrame=S_();return r.currentTNode=t,r.lView=n,!0}function na(n){const t=S_(),e=n[1];je.lFrame=t,t.currentTNode=e.firstChild,t.lView=n,t.tView=e,t.contextLView=n,t.bindingIndex=e.bindingStartIndex,t.inI18n=!1}function S_(){const n=je.lFrame,t=null===n?null:n.child;return null===t?D_(n):t}function D_(n){const t={currentTNode:null,isParent:!0,lView:null,tView:null,selectedIndex:-1,contextLView:null,elementDepthCount:0,currentNamespace:null,currentDirectiveIndex:-1,bindingRootIndex:-1,bindingIndex:-1,currentQueryIndex:0,parent:n,child:null,inI18n:!1};return null!==n&&(n.child=t),t}function M_(){const n=je.lFrame;return je.lFrame=n.parent,n.currentTNode=null,n.lView=null,n}const Bf=M_;function Eu(){const n=M_();n.isParent=!0,n.tView=null,n.selectedIndex=-1,n.contextLView=null,n.elementDepthCount=0,n.currentDirectiveIndex=-1,n.currentNamespace=null,n.bindingRootIndex=-1,n.bindingIndex=-1,n.currentQueryIndex=0}function di(){return je.lFrame.selectedIndex}function hs(n){je.lFrame.selectedIndex=n}function En(){const n=je.lFrame;return cs(n.tView,n.selectedIndex)}function al(){je.lFrame.currentNamespace="svg"}function Vf(){!function P_(){je.lFrame.currentNamespace=null}()}function ll(n,t){for(let e=t.directiveStart,r=t.directiveEnd;e<r;e++){const l=n.data[e].type.prototype,{ngAfterContentInit:u,ngAfterContentChecked:f,ngAfterViewInit:m,ngAfterViewChecked:b,ngOnDestroy:w}=l;u&&(n.contentHooks||(n.contentHooks=[])).push(-e,u),f&&((n.contentHooks||(n.contentHooks=[])).push(e,f),(n.contentCheckHooks||(n.contentCheckHooks=[])).push(e,f)),m&&(n.viewHooks||(n.viewHooks=[])).push(-e,m),b&&((n.viewHooks||(n.viewHooks=[])).push(e,b),(n.viewCheckHooks||(n.viewCheckHooks=[])).push(e,b)),null!=w&&(n.destroyHooks||(n.destroyHooks=[])).push(e,w)}}function ho(n,t,e){O_(n,t,3,e)}function Su(n,t,e,r){(3&n[2])===e&&O_(n,t,e,r)}function Ac(n,t){let e=n[2];(3&e)===t&&(e&=2047,e+=1,n[2]=e)}function O_(n,t,e,r){const l=null!=r?r:-1,u=t.length-1;let f=0;for(let m=void 0!==r?65535&n[18]:0;m<u;m++)if("number"==typeof t[m+1]){if(f=t[m],null!=r&&f>=r)break}else t[m]<0&&(n[18]+=65536),(f<l||-1==l)&&(Ik(n,e,t,m),n[18]=(4294901760&n[18])+m+2),m++}function Ik(n,t,e,r){const s=e[r]<0,l=e[r+1],f=n[s?-e[r]:e[r]];if(s){if(n[2]>>11<n[18]>>16&&(3&n[2])===t){n[2]+=2048;try{l.call(f)}finally{}}}else try{l.call(f)}finally{}}class Ic{constructor(t,e,r){this.factory=t,this.resolving=!1,this.canSeeViewProviders=e,this.injectImpl=r}}function Du(n,t,e){const r=Tn(n);let s=0;for(;s<e.length;){const l=e[s];if("number"==typeof l){if(0!==l)break;s++;const u=e[s++],f=e[s++],m=e[s++];r?n.setAttribute(t,f,m,u):t.setAttributeNS(u,f,m)}else{const u=l,f=e[++s];cl(u)?r&&n.setProperty(t,u,f):r?n.setAttribute(t,u,f):t.setAttribute(u,f),s++}}return s}function N_(n){return 3===n||4===n||6===n}function cl(n){return 64===n.charCodeAt(0)}function Oc(n,t){if(null!==t&&0!==t.length)if(null===n||0===n.length)n=t.slice();else{let e=-1;for(let r=0;r<t.length;r++){const s=t[r];"number"==typeof s?e=s:0===e||zf(n,e,s,null,-1===e||2===e?t[++r]:null)}}return n}function zf(n,t,e,r,s){let l=0,u=n.length;if(-1===t)u=-1;else for(;l<n.length;){const f=n[l++];if("number"==typeof f){if(f===t){u=-1;break}if(f>t){u=l-1;break}}}for(;l<n.length;){const f=n[l];if("number"==typeof f)break;if(f===e){if(null===r)return void(null!==s&&(n[l+1]=s));if(r===n[l+1])return void(n[l+2]=s)}l++,null!==r&&l++,null!==s&&l++}-1!==u&&(n.splice(u,0,t),l=u+1),n.splice(l++,0,e),null!==r&&n.splice(l++,0,r),null!==s&&n.splice(l++,0,s)}function Ut(n){return-1!==n}function ps(n){return 32767&n}function ia(n,t){let e=function L_(n){return n>>16}(n),r=t;for(;e>0;)r=r[15],e--;return r}let Hf=!0;function Fc(n){const t=Hf;return Hf=n,t}let B_=0;function dl(n,t){const e=Au(n,t);if(-1!==e)return e;const r=t[1];r.firstCreatePass&&(n.injectorIndex=t.length,Mu(r.data,n),Mu(t,null),Mu(r.blueprint,null));const s=fo(n,t),l=n.injectorIndex;if(Ut(s)){const u=ps(s),f=ia(s,t),m=f[1].data;for(let b=0;b<8;b++)t[l+b]=f[u+b]|m[u+b]}return t[l+8]=s,l}function Mu(n,t){n.push(0,0,0,0,0,0,0,0,t)}function Au(n,t){return-1===n.injectorIndex||n.parent&&n.parent.injectorIndex===n.injectorIndex||null===t[n.injectorIndex+8]?-1:n.injectorIndex}function fo(n,t){if(n.parent&&-1!==n.parent.injectorIndex)return n.parent.injectorIndex;let e=0,r=null,s=t;for(;null!==s;){const l=s[1],u=l.type;if(r=2===u?l.declTNode:1===u?s[6]:null,null===r)return-1;if(e++,s=s[15],-1!==r.injectorIndex)return r.injectorIndex|e<<16}return-1}function Vt(n,t,e){!function Wf(n,t,e){let r;"string"==typeof e?r=e.charCodeAt(0)||0:e.hasOwnProperty(mc)&&(r=e[mc]),null==r&&(r=e[mc]=B_++);const s=255&r;t.data[n+(s>>5)]|=1<<s}(n,t,e)}function ra(n,t,e){if(e&Qe.Optional)return n;Ja(t,"NodeInjector")}function qt(n,t,e,r){if(e&Qe.Optional&&void 0===r&&(r=null),0==(e&(Qe.Self|Qe.Host))){const s=n[9],l=Ro(void 0);try{return s?s.get(t,r,e&Qe.Optional):yf(t,r,e&Qe.Optional)}finally{Ro(l)}}return ra(r,t,e)}function mo(n,t,e,r=Qe.Default,s){if(null!==n){const l=function Iu(n){if("string"==typeof n)return n.charCodeAt(0)||0;const t=n.hasOwnProperty(mc)?n[mc]:void 0;return"number"==typeof t?t>=0?255&t:te:t}(e);if("function"==typeof l){if(!E_(t,n,r))return r&Qe.Host?ra(s,e,r):qt(t,e,r,s);try{const u=l(r);if(null!=u||r&Qe.Optional)return u;Ja(e)}finally{Bf()}}else if("number"==typeof l){let u=null,f=Au(n,t),m=-1,b=r&Qe.Host?t[16][6]:null;for((-1===f||r&Qe.SkipSelf)&&(m=-1===f?fo(n,t):t[f+8],-1!==m&&V_(r,!1)?(u=t[1],f=ps(m),t=ia(m,t)):f=-1);-1!==f;){const w=t[1];if(Pu(l,f,w.data)){const x=Z(f,t,e,u,r,b);if(x!==ms)return x}m=t[f+8],-1!==m&&V_(r,t[1].data[f+8]===b)&&Pu(l,f,t)?(u=w,f=ps(m),t=ia(m,t)):f=-1}}}return qt(t,e,r,s)}const ms={};function te(){return new Pi(Vn(),ee())}function Z(n,t,e,r,s,l){const u=t[1],f=u.data[n+8],w=ul(f,u,e,null==r?_u(f)&&Hf:r!=u&&0!=(3&f.type),s&Qe.Host&&l===f);return null!==w?gs(t,u,w,f):ms}function ul(n,t,e,r,s){const l=n.providerIndexes,u=t.data,f=1048575&l,m=n.directiveStart,w=l>>20,E=s?f+w:n.directiveEnd;for(let S=r?f:f+w;S<E;S++){const I=u[S];if(S<m&&e===I||S>=m&&I.type===e)return S}if(s){const S=u[m];if(S&&jr(S)&&S.type===e)return m}return null}function gs(n,t,e,r){let s=n[e];const l=t.data;if(function Pk(n){return n instanceof Ic}(s)){const u=s;u.resolving&&function rk(n,t){const e=t?`. Dependency path: ${t.join(" > ")} > ${n}`:"";throw new ye(-200,`Circular dependency in DI detected for ${n}${e}`)}(ai(l[e]));const f=Fc(u.canSeeViewProviders);u.resolving=!0;const m=u.injectImpl?Ro(u.injectImpl):null;E_(n,r,Qe.Default);try{s=n[e]=u.factory(void 0,l,n,r),t.firstCreatePass&&e>=r.directiveStart&&function R_(n,t,e){const{ngOnChanges:r,ngOnInit:s,ngDoCheck:l}=t.type.prototype;if(r){const u=Af(t);(e.preOrderHooks||(e.preOrderHooks=[])).push(n,u),(e.preOrderCheckHooks||(e.preOrderCheckHooks=[])).push(n,u)}s&&(e.preOrderHooks||(e.preOrderHooks=[])).push(0-n,s),l&&((e.preOrderHooks||(e.preOrderHooks=[])).push(n,l),(e.preOrderCheckHooks||(e.preOrderCheckHooks=[])).push(n,l))}(e,l[e],t)}finally{null!==m&&Ro(m),Fc(f),u.resolving=!1,Bf()}}return s}function Pu(n,t,e){return!!(e[t+(n>>5)]&1<<n)}function V_(n,t){return!(n&Qe.Self||n&Qe.Host&&t)}class Pi{constructor(t,e){this._tNode=t,this._lView=e}get(t,e,r){return mo(this._tNode,this._lView,t,r,e)}}function Wn(n){return Oo(()=>{const t=n.prototype.constructor,e=t[Fo]||qf(t),r=Object.prototype;let s=Object.getPrototypeOf(n.prototype).constructor;for(;s&&s!==r;){const l=s[Fo]||qf(s);if(l&&l!==e)return l;s=Object.getPrototypeOf(s)}return l=>new l})}function qf(n){return a_(n)?()=>{const t=qf(rt(n));return t&&t()}:ls(n)}function ir(n){return function po(n,t){if("class"===t)return n.classes;if("style"===t)return n.styles;const e=n.attrs;if(e){const r=e.length;let s=0;for(;s<r;){const l=e[s];if(N_(l))break;if(0===l)s+=2;else if("number"==typeof l)for(s++;s<r&&"string"==typeof e[s];)s++;else{if(l===t)return e[s+1];s+=2}}}return null}(Vn(),n)}const Cr="__parameters__";function fl(n,t,e){return Oo(()=>{const r=function rr(n){return function(...e){if(n){const r=n(...e);for(const s in r)this[s]=r[s]}}}(t);function s(...l){if(this instanceof s)return r.apply(this,l),this;const u=new s(...l);return f.annotation=u,f;function f(m,b,w){const x=m.hasOwnProperty(Cr)?m[Cr]:Object.defineProperty(m,Cr,{value:[]})[Cr];for(;x.length<=w;)x.push(null);return(x[w]=x[w]||[]).push(u),m}}return e&&(s.prototype=Object.create(e.prototype)),s.prototype.ngMetadataName=n,s.annotationCls=s,s})}class re{constructor(t,e){this._desc=t,this.ngMetadataName="InjectionToken",this.\u0275prov=void 0,"number"==typeof e?this.__NG_ELEMENT_ID__=e:void 0!==e&&(this.\u0275prov=oe({token:this,providedIn:e.providedIn||"root",factory:e.factory}))}toString(){return`InjectionToken ${this._desc}`}}const Fk=new re("AnalyzeForEntryComponents");function xr(n,t){void 0===t&&(t=n);for(let e=0;e<n.length;e++){let r=n[e];Array.isArray(r)?(t===n&&(t=n.slice(0,e)),xr(r,t)):t!==n&&t.push(r)}return t}function $r(n,t){n.forEach(e=>Array.isArray(e)?$r(e,t):t(e))}function bs(n,t,e){t>=n.length?n.push(e):n.splice(t,0,e)}function Ou(n,t){return t>=n.length-1?n.pop():n.splice(t,1)[0]}function Lc(n,t){const e=[];for(let r=0;r<n;r++)e.push(t);return e}function or(n,t,e){let r=sa(n,t);return r>=0?n[1|r]=e:(r=~r,function jk(n,t,e,r){let s=n.length;if(s==t)n.push(e,r);else if(1===s)n.push(r,n[0]),n[0]=e;else{for(s--,n.push(n[s-1],n[s]);s>t;)n[s]=n[s-2],s--;n[t]=e,n[t+1]=r}}(n,r,t,e)),r}function Qf(n,t){const e=sa(n,t);if(e>=0)return n[1|e]}function sa(n,t){return function Yf(n,t,e){let r=0,s=n.length>>e;for(;s!==r;){const l=r+(s-r>>1),u=n[l<<e];if(t===u)return l<<e;u>t?s=l:r=l+1}return~(s<<e)}(n,t,1)}const gl={},aa="__NG_DI_FLAG__",vs="ngTempTokenPath",G_=/\n/gm,K_="__source",Gt=Yt({provide:String,useValue:Yt});let Sn;function Ri(n){const t=Sn;return Sn=n,t}function Ui(n,t=Qe.Default){if(void 0===Sn)throw new ye(203,"");return null===Sn?yf(n,void 0,t):Sn.get(n,t&Qe.Optional?null:void 0,t)}function L(n,t=Qe.Default){return(function Po(){return fu}()||Ui)(rt(n),t)}const Lt=L;function jc(n){const t=[];for(let e=0;e<n.length;e++){const r=rt(n[e]);if(Array.isArray(r)){if(0===r.length)throw new ye(900,"");let s,l=Qe.Default;for(let u=0;u<r.length;u++){const f=r[u],m=Q_(f);"number"==typeof m?-1===m?s=f.token:l|=m:s=f}t.push(L(s,l))}else t.push(L(r))}return t}function zc(n,t){return n[aa]=t,n.prototype[aa]=t,n}function Q_(n){return n[aa]}const Lu=zc(fl("Inject",n=>({token:n})),-1),Er=zc(fl("Optional"),8),la=zc(fl("SkipSelf"),4);let _l,Bu;function bl(n){var t;return(null===(t=function ep(){if(void 0===_l&&(_l=null,Wt.trustedTypes))try{_l=Wt.trustedTypes.createPolicy("angular",{createHTML:n=>n,createScript:n=>n,createScriptURL:n=>n})}catch(n){}return _l}())||void 0===t?void 0:t.createHTML(n))||n}function np(n){var t;return(null===(t=function tp(){if(void 0===Bu&&(Bu=null,Wt.trustedTypes))try{Bu=Wt.trustedTypes.createPolicy("angular#unsafe-bypass",{createHTML:n=>n,createScript:n=>n,createScriptURL:n=>n})}catch(n){}return Bu}())||void 0===t?void 0:t.createHTML(n))||n}class wi{constructor(t){this.changingThisBreaksApplicationSecurity=t}toString(){return`SafeValue must use [property]=binding: ${this.changingThisBreaksApplicationSecurity} (see https://g.co/ng/security#xss)`}}class Yk extends wi{getTypeName(){return"HTML"}}class nb extends wi{getTypeName(){return"Style"}}class Zk extends wi{getTypeName(){return"Script"}}class Xk extends wi{getTypeName(){return"URL"}}class Jk extends wi{getTypeName(){return"ResourceURL"}}function Wi(n){return n instanceof wi?n.changingThisBreaksApplicationSecurity:n}function bo(n,t){const e=Vu(n);if(null!=e&&e!==t){if("ResourceURL"===e&&"URL"===t)return!0;throw new Error(`Required a safe ${t}, got a ${e} (see https://g.co/ng/security#xss)`)}return e===t}function Vu(n){return n instanceof wi&&n.getTypeName()||null}function ob(n){const t=new nC(n);return function da(){try{return!!(new window.DOMParser).parseFromString(bl(""),"text/html")}catch(n){return!1}}()?new tC(t):t}class tC{constructor(t){this.inertDocumentHelper=t}getInertBodyElement(t){t="<body><remove></remove>"+t;try{const e=(new window.DOMParser).parseFromString(bl(t),"text/html").body;return null===e?this.inertDocumentHelper.getInertBodyElement(t):(e.removeChild(e.firstChild),e)}catch(e){return null}}}class nC{constructor(t){if(this.defaultDoc=t,this.inertDocument=this.defaultDoc.implementation.createHTMLDocument("sanitization-inert"),null==this.inertDocument.body){const e=this.inertDocument.createElement("html");this.inertDocument.appendChild(e);const r=this.inertDocument.createElement("body");e.appendChild(r)}}getInertBodyElement(t){const e=this.inertDocument.createElement("template");if("content"in e)return e.innerHTML=bl(t),e;const r=this.inertDocument.createElement("body");return r.innerHTML=bl(t),this.defaultDoc.documentMode&&this.stripCustomNsAttrs(r),r}stripCustomNsAttrs(t){const e=t.attributes;for(let s=e.length-1;0<s;s--){const u=e.item(s).name;("xmlns:ns1"===u||0===u.indexOf("ns1:"))&&t.removeAttribute(u)}let r=t.firstChild;for(;r;)r.nodeType===Node.ELEMENT_NODE&&this.stripCustomNsAttrs(r),r=r.nextSibling}}const Sr=/^(?:(?:https?|mailto|ftp|tel|file|sms):|[^&:/?#]*(?:[/?#]|$))/gi,iC=/^data:(?:image\/(?:bmp|gif|jpeg|jpg|png|tiff|webp)|video\/(?:mpeg|mp4|ogg|webm)|audio\/(?:mp3|oga|ogg|opus));base64,[a-z0-9+\/]+=*$/i;function vl(n){return(n=String(n)).match(Sr)||n.match(iC)?n:"unsafe:"+n}function $c(n){return(n=String(n)).split(",").map(t=>vl(t.trim())).join(", ")}function Wr(n){const t={};for(const e of n.split(","))t[e]=!0;return t}function Wc(...n){const t={};for(const e of n)for(const r in e)e.hasOwnProperty(r)&&(t[r]=!0);return t}const sb=Wr("area,br,col,hr,img,wbr"),ab=Wr("colgroup,dd,dt,li,p,tbody,td,tfoot,th,thead,tr"),op=Wr("rp,rt"),Hu=Wc(sb,Wc(ab,Wr("address,article,aside,blockquote,caption,center,del,details,dialog,dir,div,dl,figure,figcaption,footer,h1,h2,h3,h4,h5,h6,header,hgroup,hr,ins,main,map,menu,nav,ol,pre,section,summary,table,ul")),Wc(op,Wr("a,abbr,acronym,audio,b,bdi,bdo,big,br,cite,code,del,dfn,em,font,i,img,ins,kbd,label,map,mark,picture,q,ruby,rp,rt,s,samp,small,source,span,strike,strong,sub,sup,time,track,tt,u,var,video")),Wc(op,ab)),ys=Wr("background,cite,href,itemtype,longdesc,poster,src,xlink:href"),yl=Wr("srcset"),sp=Wc(ys,yl,Wr("abbr,accesskey,align,alt,autoplay,axis,bgcolor,border,cellpadding,cellspacing,class,clear,color,cols,colspan,compact,controls,coords,datetime,default,dir,download,face,headers,height,hidden,hreflang,hspace,ismap,itemscope,itemprop,kind,label,lang,language,loop,media,muted,nohref,nowrap,open,preload,rel,rev,role,rows,rowspan,rules,scope,scrolling,shape,size,sizes,span,srclang,start,summary,tabindex,target,title,translate,type,usemap,valign,value,vspace,width"),Wr("aria-activedescendant,aria-atomic,aria-autocomplete,aria-busy,aria-checked,aria-colcount,aria-colindex,aria-colspan,aria-controls,aria-current,aria-describedby,aria-details,aria-disabled,aria-dropeffect,aria-errormessage,aria-expanded,aria-flowto,aria-grabbed,aria-haspopup,aria-hidden,aria-invalid,aria-keyshortcuts,aria-label,aria-labelledby,aria-level,aria-live,aria-modal,aria-multiline,aria-multiselectable,aria-orientation,aria-owns,aria-placeholder,aria-posinset,aria-pressed,aria-readonly,aria-relevant,aria-required,aria-roledescription,aria-rowcount,aria-rowindex,aria-rowspan,aria-selected,aria-setsize,aria-sort,aria-valuemax,aria-valuemin,aria-valuenow,aria-valuetext")),Ge=Wr("script,style,template");class db{constructor(){this.sanitizedSomething=!1,this.buf=[]}sanitizeChildren(t){let e=t.firstChild,r=!0;for(;e;)if(e.nodeType===Node.ELEMENT_NODE?r=this.startElement(e):e.nodeType===Node.TEXT_NODE?this.chars(e.nodeValue):this.sanitizedSomething=!0,r&&e.firstChild)e=e.firstChild;else for(;e;){e.nodeType===Node.ELEMENT_NODE&&this.endElement(e);let s=this.checkClobberedElement(e,e.nextSibling);if(s){e=s;break}e=this.checkClobberedElement(e,e.parentNode)}return this.buf.join("")}startElement(t){const e=t.nodeName.toLowerCase();if(!Hu.hasOwnProperty(e))return this.sanitizedSomething=!0,!Ge.hasOwnProperty(e);this.buf.push("<"),this.buf.push(e);const r=t.attributes;for(let s=0;s<r.length;s++){const l=r.item(s),u=l.name,f=u.toLowerCase();if(!sp.hasOwnProperty(f)){this.sanitizedSomething=!0;continue}let m=l.value;ys[f]&&(m=vl(m)),yl[f]&&(m=$c(m)),this.buf.push(" ",u,'="',ws(m),'"')}return this.buf.push(">"),!0}endElement(t){const e=t.nodeName.toLowerCase();Hu.hasOwnProperty(e)&&!sb.hasOwnProperty(e)&&(this.buf.push("</"),this.buf.push(e),this.buf.push(">"))}chars(t){this.buf.push(ws(t))}checkClobberedElement(t,e){if(e&&(t.compareDocumentPosition(e)&Node.DOCUMENT_POSITION_CONTAINED_BY)===Node.DOCUMENT_POSITION_CONTAINED_BY)throw new Error(`Failed to sanitize html because the element is clobbered: ${t.outerHTML}`);return e}}const aC=/[\uD800-\uDBFF][\uDC00-\uDFFF]/g,lC=/([^\#-~ |!])/g;function ws(n){return n.replace(/&/g,"&amp;").replace(aC,function(t){return"&#"+(1024*(t.charCodeAt(0)-55296)+(t.charCodeAt(1)-56320)+65536)+";"}).replace(lC,function(t){return"&#"+t.charCodeAt(0)+";"}).replace(/</g,"&lt;").replace(/>/g,"&gt;")}let Uu;function ub(n,t){let e=null;try{Uu=Uu||ob(n);let r=t?String(t):"";e=Uu.getInertBodyElement(r);let s=5,l=r;do{if(0===s)throw new Error("Failed to sanitize html because the input is unstable");s--,r=l,l=e.innerHTML,e=Uu.getInertBodyElement(r)}while(r!==l);return bl((new db).sanitizeChildren(ap(e)||e))}finally{if(e){const r=ap(e)||e;for(;r.firstChild;)r.removeChild(r.firstChild)}}}function ap(n){return"content"in n&&function lp(n){return n.nodeType===Node.ELEMENT_NODE&&"TEMPLATE"===n.nodeName}(n)?n.content:null}var gt=(()=>((gt=gt||{})[gt.NONE=0]="NONE",gt[gt.HTML=1]="HTML",gt[gt.STYLE=2]="STYLE",gt[gt.SCRIPT=3]="SCRIPT",gt[gt.URL=4]="URL",gt[gt.RESOURCE_URL=5]="RESOURCE_URL",gt))();function hb(n){const t=ua();return t?np(t.sanitize(gt.HTML,n)||""):bo(n,"HTML")?np(Wi(n)):ub(yi(),et(n))}function vo(n){const t=ua();return t?t.sanitize(gt.URL,n)||"":bo(n,"URL")?Wi(n):vl(et(n))}function ua(){const n=ee();return n&&n[12]}const hp="__ngContext__";function ui(n,t){n[hp]=t}function Kc(n){const t=function Gc(n){return n[hp]||null}(n);return t?Array.isArray(t)?t:t.lView:null}function pp(n){return n.ngOriginalError}function _b(n,...t){n.error(...t)}class qr{constructor(){this._console=console}handleError(t){const e=this._findOriginalError(t),r=function pC(n){return n&&n.ngErrorLogger||_b}(t);r(this._console,"ERROR",t),e&&r(this._console,"ORIGINAL ERROR",e)}_findOriginalError(t){let e=t&&pp(t);for(;e&&pp(e);)e=pp(e);return e||null}}const vb=/^>|^->|<!--|-->|--!>|<!-$/g,mC=/(<|>)/;const bC=(()=>("undefined"!=typeof requestAnimationFrame&&requestAnimationFrame||setTimeout).bind(Wt))();function Gr(n){return n instanceof Function?n():n}var ar=(()=>((ar=ar||{})[ar.Important=1]="Important",ar[ar.DashCase=2]="DashCase",ar))();let $u;function bp(n,t){return $u(n,t)}function fa(n){const t=n[3];return Vr(t)?t[3]:t}function Wu(n){return Tb(n[13])}function vp(n){return Tb(n[4])}function Tb(n){for(;null!==n&&!Vr(n);)n=n[4];return n}function pa(n,t,e,r,s){if(null!=r){let l,u=!1;Vr(r)?l=r:co(r)&&(u=!0,r=r[0]);const f=In(r);0===n&&null!==e?null==s?Ab(t,e,f):ma(t,e,f,s||null,!0):1===n&&null!==e?ma(t,e,f,s||null,!0):2===n?Ju(t,f,u):3===n&&t.destroyNode(f),null!=l&&function AC(n,t,e,r,s){const l=e[7];l!==In(e)&&pa(t,n,r,l,s);for(let f=10;f<e.length;f++){const m=e[f];Cs(m[1],m,n,t,r,l)}}(t,n,l,e,s)}}function qu(n,t){return Tn(n)?n.createText(t):n.createTextNode(t)}function yp(n,t,e){Tn(n)?n.setValue(t,e):t.textContent=e}function wl(n,t){return n.createComment(function mp(n){return n.replace(vb,t=>t.replace(mC,"\u200b$1\u200b"))}(t))}function Gu(n,t,e){if(Tn(n))return n.createElement(t,e);{const r=null!==e?function b_(n){const t=n.toLowerCase();return"svg"===t?"http://www.w3.org/2000/svg":"math"===t?"http://www.w3.org/1998/MathML/":null}(e):null;return null===r?n.createElement(t):n.createElementNS(r,t)}}function Db(n,t){const e=n[9],r=e.indexOf(t),s=t[3];1024&t[2]&&(t[2]&=-1025,Ec(s,-1)),e.splice(r,1)}function wp(n,t){if(n.length<=10)return;const e=10+t,r=n[e];if(r){const s=r[17];null!==s&&s!==n&&Db(s,r),t>0&&(n[e-1][4]=r[4]);const l=Ou(n,10+t);!function xC(n,t){Cs(n,t,t[11],2,null,null),t[0]=null,t[6]=null}(r[1],r);const u=l[19];null!==u&&u.detachView(l[1]),r[3]=null,r[4]=null,r[2]&=-129}return r}function kl(n,t){if(!(256&t[2])){const e=t[11];Tn(e)&&e.destroyNode&&Cs(n,t,e,3,null,null),function SC(n){let t=n[13];if(!t)return Ku(n[1],n);for(;t;){let e=null;if(co(t))e=t[13];else{const r=t[10];r&&(e=r)}if(!e){for(;t&&!t[4]&&t!==n;)co(t)&&Ku(t[1],t),t=t[3];null===t&&(t=n),co(t)&&Ku(t[1],t),e=t&&t[4]}t=e}}(t)}}function Ku(n,t){if(!(256&t[2])){t[2]&=-129,t[2]|=256,function Mb(n,t){let e;if(null!=n&&null!=(e=n.destroyHooks))for(let r=0;r<e.length;r+=2){const s=t[e[r]];if(!(s instanceof Ic)){const l=e[r+1];if(Array.isArray(l))for(let u=0;u<l.length;u+=2){const f=s[l[u]],m=l[u+1];try{m.call(f)}finally{}}else try{l.call(s)}finally{}}}}(n,t),function Jc(n,t){const e=n.cleanup,r=t[7];let s=-1;if(null!==e)for(let l=0;l<e.length-1;l+=2)if("string"==typeof e[l]){const u=e[l+1],f="function"==typeof u?u(t):In(t[u]),m=r[s=e[l+2]],b=e[l+3];"boolean"==typeof b?f.removeEventListener(e[l],m,b):b>=0?r[s=b]():r[s=-b].unsubscribe(),l+=2}else{const u=r[s=e[l+1]];e[l].call(u)}if(null!==r){for(let l=s+1;l<r.length;l++)r[l]();t[7]=null}}(n,t),1===t[1].type&&Tn(t[11])&&t[11].destroy();const e=t[17];if(null!==e&&Vr(t[3])){e!==t[3]&&Db(e,t);const r=t[19];null!==r&&r.detachView(n)}}}function Qu(n,t,e){return ed(n,t.parent,e)}function ed(n,t,e){let r=t;for(;null!==r&&40&r.type;)r=(t=r).parent;if(null===r)return e[0];if(2&r.flags){const s=n.data[r.directiveStart].encapsulation;if(s===er.None||s===er.Emulated)return null}return yr(r,e)}function ma(n,t,e,r,s){Tn(n)?n.insertBefore(t,e,r,s):t.insertBefore(e,r,s)}function Ab(n,t,e){Tn(n)?n.appendChild(t,e):t.appendChild(e)}function Ib(n,t,e,r,s){null!==r?ma(n,t,e,r,s):Ab(n,t,e)}function lr(n,t){return Tn(n)?n.parentNode(t):t.parentNode}function td(n,t,e){return Cp(n,t,e)}function kp(n,t,e){return 40&n.type?yr(n,e):null}let xp,Cp=kp;function Pb(n,t){Cp=n,xp=t}function Yu(n,t,e,r){const s=Qu(n,r,t),l=t[11],f=td(r.parent||t[6],r,t);if(null!=s)if(Array.isArray(e))for(let m=0;m<e.length;m++)Ib(l,s,e[m],f,!1);else Ib(l,s,e,f,!1);void 0!==xp&&xp(l,r,t,e,s)}function Zu(n,t){if(null!==t){const e=t.type;if(3&e)return yr(t,n);if(4&e)return Xu(-1,n[t.index]);if(8&e){const r=t.child;if(null!==r)return Zu(n,r);{const s=n[t.index];return Vr(s)?Xu(-1,s):In(s)}}if(32&e)return bp(t,n)()||In(n[t.index]);{const r=Tp(n,t);return null!==r?Array.isArray(r)?r[0]:Zu(fa(n[16]),r):Zu(n,t.next)}}return null}function Tp(n,t){return null!==t?n[16][6].projection[t.projection]:null}function Xu(n,t){const e=10+n+1;if(e<t.length){const r=t[e],s=r[1].firstChild;if(null!==s)return Zu(r,s)}return t[7]}function Ju(n,t,e){const r=lr(n,t);r&&function DC(n,t,e,r){Tn(n)?n.removeChild(t,e,r):t.removeChild(e)}(n,r,t,e)}function Ep(n,t,e,r,s,l,u){for(;null!=e;){const f=r[e.index],m=e.type;if(u&&0===t&&(f&&ui(In(f),r),e.flags|=4),64!=(64&e.flags))if(8&m)Ep(n,t,e.child,r,s,l,!1),pa(t,n,s,f,l);else if(32&m){const b=bp(e,r);let w;for(;w=b();)pa(t,n,s,w,l);pa(t,n,s,f,l)}else 16&m?Sp(n,t,r,e,s,l):pa(t,n,s,f,l);e=u?e.projectionNext:e.next}}function Cs(n,t,e,r,s,l){Ep(e,r,n.firstChild,t,s,l,!1)}function Sp(n,t,e,r,s,l){const u=e[16],m=u[6].projection[r.projection];if(Array.isArray(m))for(let b=0;b<m.length;b++)pa(t,n,s,m[b],l);else Ep(n,t,m,u[3],s,l,!0)}function eh(n,t,e){Tn(n)?n.setAttribute(t,"style",e):t.style.cssText=e}function Dp(n,t,e){Tn(n)?""===e?n.removeAttribute(t,"class"):n.setAttribute(t,"class",e):t.className=e}function th(n,t,e){let r=n.length;for(;;){const s=n.indexOf(t,e);if(-1===s)return s;if(0===s||n.charCodeAt(s-1)<=32){const l=t.length;if(s+l===r||n.charCodeAt(s+l)<=32)return s}e=s+1}}const Ap="ng-template";function Ob(n,t,e){let r=0;for(;r<n.length;){let s=n[r++];if(e&&"class"===s){if(s=n[r],-1!==th(s.toLowerCase(),t,0))return!0}else if(1===s){for(;r<n.length&&"string"==typeof(s=n[r++]);)if(s.toLowerCase()===t)return!0;return!1}}return!1}function Fb(n){return 4===n.type&&n.value!==Ap}function Nb(n,t,e){return t===(4!==n.type||e?n.value:Ap)}function Lb(n,t,e){let r=4;const s=n.attrs||[],l=function PC(n){for(let t=0;t<n.length;t++)if(N_(n[t]))return t;return n.length}(s);let u=!1;for(let f=0;f<t.length;f++){const m=t[f];if("number"!=typeof m){if(!u)if(4&r){if(r=2|1&r,""!==m&&!Nb(n,m,e)||""===m&&1===t.length){if(cr(r))return!1;u=!0}}else{const b=8&r?m:t[++f];if(8&r&&null!==n.attrs){if(!Ob(n.attrs,b,e)){if(cr(r))return!1;u=!0}continue}const x=Bb(8&r?"class":m,s,Fb(n),e);if(-1===x){if(cr(r))return!1;u=!0;continue}if(""!==b){let E;E=x>l?"":s[x+1].toLowerCase();const S=8&r?E:null;if(S&&-1!==th(S,b,0)||2&r&&b!==E){if(cr(r))return!1;u=!0}}}}else{if(!u&&!cr(r)&&!cr(m))return!1;if(u&&cr(m))continue;u=!1,r=m|1&r}}return cr(r)||u}function cr(n){return 0==(1&n)}function Bb(n,t,e,r){if(null===t)return-1;let s=0;if(r||!e){let l=!1;for(;s<t.length;){const u=t[s];if(u===n)return s;if(3===u||6===u)l=!0;else{if(1===u||2===u){let f=t[++s];for(;"string"==typeof f;)f=t[++s];continue}if(4===u)break;if(0===u){s+=4;continue}}s+=l?1:2}return-1}return function RC(n,t){let e=n.indexOf(4);if(e>-1)for(e++;e<n.length;){const r=n[e];if("number"==typeof r)return-1;if(r===t)return e;e++}return-1}(t,n)}function Vb(n,t,e=!1){for(let r=0;r<t.length;r++)if(Lb(n,t[r],e))return!0;return!1}function jb(n,t){e:for(let e=0;e<t.length;e++){const r=t[e];if(n.length===r.length){for(let s=0;s<n.length;s++)if(n[s]!==r[s])continue e;return!0}}return!1}function zb(n,t){return n?":not("+t.trim()+")":t}function OC(n){let t=n[0],e=1,r=2,s="",l=!1;for(;e<n.length;){let u=n[e];if("string"==typeof u)if(2&r){const f=n[++e];s+="["+u+(f.length>0?'="'+f+'"':"")+"]"}else 8&r?s+="."+u:4&r&&(s+=" "+u);else""!==s&&!cr(u)&&(t+=zb(l,s),s=""),r=u,l=l||!cr(r);e++}return""!==s&&(t+=zb(l,s)),t}const tt={};function Y(n){Rp(Dt(),ee(),di()+n,Dc())}function Rp(n,t,e,r){if(!r)if(3==(3&t[2])){const l=n.preOrderCheckHooks;null!==l&&ho(t,l,e)}else{const l=n.preOrderHooks;null!==l&&Su(t,l,0,e)}hs(e)}function nh(n,t){return n<<17|t<<2}function Kr(n){return n>>17&32767}function Fp(n){return 2|n}function zo(n){return(131068&n)>>2}function Np(n,t){return-131069&n|t<<2}function ih(n){return 1|n}function Qb(n,t){const e=n.contentQueries;if(null!==e)for(let r=0;r<e.length;r+=2){const s=e[r],l=e[r+1];if(-1!==l){const u=n.data[l];uo(s),u.contentQueries(2,t[l],l)}}}function Kt(n,t,e,r,s,l,u,f,m,b){const w=t.blueprint.slice();return w[0]=s,w[2]=140|r,k_(w),w[3]=w[15]=n,w[8]=e,w[10]=u||n&&n[10],w[11]=f||n&&n[11],w[12]=m||n&&n[12]||null,w[9]=b||n&&n[9]||null,w[6]=l,w[16]=2==t.type?n[16]:w,w}function Ts(n,t,e,r,s){let l=n.data[t];if(null===l)l=Yr(n,t,e,r,s),function Ff(){return je.lFrame.inI18n}()&&(l.flags|=64);else if(64&l.type){l.type=e,l.value=r,l.attrs=s;const u=wr();l.injectorIndex=null===u?-1:u.injectorIndex}return Hr(l,!0),l}function Yr(n,t,e,r,s){const l=Of(),u=Cu(),m=n.data[t]=function YC(n,t,e,r,s,l){return{type:e,index:r,insertBeforeIndex:null,injectorIndex:t?t.injectorIndex:-1,directiveStart:-1,directiveEnd:-1,directiveStylingLast:-1,propertyBindings:null,flags:0,providerIndexes:0,value:s,attrs:l,mergedAttrs:null,localNames:null,initialInputs:void 0,inputs:null,outputs:null,tViews:null,next:null,projectionNext:null,child:null,parent:t,projection:null,styles:null,stylesWithoutHost:null,residualStyles:void 0,classes:null,classesWithoutHost:null,residualClasses:void 0,classBindings:0,styleBindings:0}}(0,u?l:l&&l.parent,e,t,r,s);return null===n.firstChild&&(n.firstChild=m),null!==l&&(u?null==l.child&&null!==m.parent&&(l.child=m):null===l.next&&(l.next=m)),m}function qi(n,t,e,r){if(0===e)return-1;const s=t.length;for(let l=0;l<e;l++)t.push(r),n.blueprint.push(r),n.data.push(null);return s}function Es(n,t,e){na(t);try{const r=n.viewQuery;null!==r&&Uo(1,r,e);const s=n.template;null!==s&&Xb(n,t,s,1,e),n.firstCreatePass&&(n.firstCreatePass=!1),n.staticContentQueries&&Qb(n,t),n.staticViewQueries&&Uo(2,n.viewQuery,e);const l=n.components;null!==l&&function Zb(n,t){for(let e=0;e<t.length;e++)ix(n,t[e])}(t,l)}catch(r){throw n.firstCreatePass&&(n.incompleteFirstPass=!0,n.firstCreatePass=!1),r}finally{t[2]&=-5,Eu()}}function ur(n,t,e,r){const s=t[2];if(256==(256&s))return;na(t);const l=Dc();try{k_(t),function ol(n){return je.lFrame.bindingIndex=n}(n.bindingStartIndex),null!==e&&Xb(n,t,e,2,r);const u=3==(3&s);if(!l)if(u){const b=n.preOrderCheckHooks;null!==b&&ho(t,b,null)}else{const b=n.preOrderHooks;null!==b&&Su(t,b,0,null),Ac(t,0)}if(function nx(n){for(let t=Wu(n);null!==t;t=vp(t)){if(!t[2])continue;const e=t[9];for(let r=0;r<e.length;r++){const s=e[r],l=s[3];0==(1024&s[2])&&Ec(l,1),s[2]|=1024}}}(t),function mv(n){for(let t=Wu(n);null!==t;t=vp(t))for(let e=10;e<t.length;e++){const r=t[e],s=r[1];wu(r)&&ur(s,r,s.template,r[8])}}(t),null!==n.contentQueries&&Qb(n,t),!l)if(u){const b=n.contentCheckHooks;null!==b&&ho(t,b)}else{const b=n.contentHooks;null!==b&&Su(t,b,1),Ac(t,1)}!function Wp(n,t){const e=n.hostBindingOpCodes;if(null!==e)try{for(let r=0;r<e.length;r++){const s=e[r];if(s<0)hs(~s);else{const l=s,u=e[++r],f=e[++r];T_(u,l),f(2,t[l])}}}finally{hs(-1)}}(n,t);const f=n.components;null!==f&&function Yb(n,t){for(let e=0;e<t.length;e++)gv(n,t[e])}(t,f);const m=n.viewQuery;if(null!==m&&Uo(2,m,r),!l)if(u){const b=n.viewCheckHooks;null!==b&&ho(t,b)}else{const b=n.viewHooks;null!==b&&Su(t,b,2),Ac(t,2)}!0===n.firstUpdatePass&&(n.firstUpdatePass=!1),l||(t[2]&=-73),1024&t[2]&&(t[2]&=-1025,Ec(t[3],-1))}finally{Eu()}}function QC(n,t,e,r){const s=t[10],l=!Dc(),u=y_(t);try{l&&!u&&s.begin&&s.begin(),u&&Es(n,t,r),ur(n,t,e,r)}finally{l&&!u&&s.end&&s.end()}}function Xb(n,t,e,r,s){const l=di(),u=2&r;try{hs(-1),u&&t.length>20&&Rp(n,t,20,Dc()),e(r,s)}finally{hs(l)}}function qp(n,t,e){if(xf(t)){const s=t.directiveEnd;for(let l=t.directiveStart;l<s;l++){const u=n.data[l];u.contentQueries&&u.contentQueries(1,e[l],l)}}}function Gp(n,t,e){!Sc()||(function dv(n,t,e,r){const s=e.directiveStart,l=e.directiveEnd;n.firstCreatePass||dl(e,t),ui(r,t);const u=e.initialInputs;for(let f=s;f<l;f++){const m=n.data[f],b=jr(m);b&&fv(t,e,m);const w=gs(t,n,f,e);ui(w,t),null!==u&&pv(0,f-s,w,m,0,u),b&&(Ii(e.index,t)[8]=w)}}(n,t,e,yr(e,t)),128==(128&e.flags)&&function XC(n,t,e){const r=e.directiveStart,s=e.directiveEnd,u=e.index,f=function Tu(){return je.lFrame.currentDirectiveIndex}();try{hs(u);for(let m=r;m<s;m++){const b=n.data[m],w=t[m];us(m),(null!==b.hostBindings||0!==b.hostVars||null!==b.hostAttrs)&&uv(b,w)}}finally{hs(-1),us(f)}}(n,t,e))}function Kp(n,t,e=yr){const r=t.localNames;if(null!==r){let s=t.index+1;for(let l=0;l<r.length;l+=2){const u=r[l+1],f=-1===u?e(t,n):n[u];n[s++]=f}}}function ld(n){const t=n.tView;return null===t||t.incompleteFirstPass?n.tView=cd(1,null,n.template,n.decls,n.vars,n.directiveDefs,n.pipeDefs,n.viewQuery,n.schemas,n.consts):t}function cd(n,t,e,r,s,l,u,f,m,b){const w=20+r,x=w+s,E=function Jb(n,t){const e=[];for(let r=0;r<t;r++)e.push(r<n?null:tt);return e}(w,x),S="function"==typeof b?b():b;return E[1]={type:n,blueprint:E,template:e,queries:null,viewQuery:f,declTNode:t,data:E.slice().fill(null,w),bindingStartIndex:w,expandoStartIndex:x,hostBindingOpCodes:null,firstCreatePass:!0,firstUpdatePass:!0,staticViewQueries:!1,staticContentQueries:!1,preOrderHooks:null,preOrderCheckHooks:null,contentHooks:null,contentCheckHooks:null,viewHooks:null,viewCheckHooks:null,destroyHooks:null,cleanup:null,contentQueries:null,components:null,directiveRegistry:"function"==typeof l?l():l,pipeRegistry:"function"==typeof u?u():u,firstChild:null,schemas:m,consts:S,incompleteFirstPass:!1}}function tv(n,t,e,r){const s=wv(t);null===e?s.push(r):(s.push(e),n.firstCreatePass&&kv(n).push(r,s.length-1))}function nv(n,t,e){for(let r in n)if(n.hasOwnProperty(r)){const s=n[r];(e=null===e?{}:e).hasOwnProperty(r)?e[r].push(t,s):e[r]=[t,s]}return e}function Gi(n,t,e,r,s,l,u,f){const m=yr(t,e);let w,b=t.inputs;!f&&null!=b&&(w=b[r])?(Tv(n,e,w,r,s),_u(t)&&function ov(n,t){const e=Ii(t,n);16&e[2]||(e[2]|=64)}(e,t.index)):3&t.type&&(r=function rv(n){return"class"===n?"className":"for"===n?"htmlFor":"formaction"===n?"formAction":"innerHtml"===n?"innerHTML":"readonly"===n?"readOnly":"tabindex"===n?"tabIndex":n}(r),s=null!=u?u(s,t.value||"",r):s,Tn(l)?l.setProperty(m,r,s):cl(r)||(m.setProperty?m.setProperty(r,s):m[r]=s))}function ah(n,t,e,r){let s=!1;if(Sc()){const l=function JC(n,t,e){const r=n.directiveRegistry;let s=null;if(r)for(let l=0;l<r.length;l++){const u=r[l];Vb(e,u.selectors,!1)&&(s||(s=[]),Vt(dl(e,t),n,u.type),jr(u)?(hv(n,e),s.unshift(u)):s.push(u))}return s}(n,t,e),u=null===r?null:{"":-1};if(null!==l){s=!0,Xp(e,n.data.length,l.length);for(let w=0;w<l.length;w++){const x=l[w];x.providersResolver&&x.providersResolver(x)}let f=!1,m=!1,b=qi(n,t,l.length,null);for(let w=0;w<l.length;w++){const x=l[w];e.mergedAttrs=Oc(e.mergedAttrs,x.hostAttrs),Jp(n,e,t,b,x),Zp(b,x,u),null!==x.contentQueries&&(e.flags|=8),(null!==x.hostBindings||null!==x.hostAttrs||0!==x.hostVars)&&(e.flags|=128);const E=x.type.prototype;!f&&(E.ngOnChanges||E.ngOnInit||E.ngDoCheck)&&((n.preOrderHooks||(n.preOrderHooks=[])).push(e.index),f=!0),!m&&(E.ngOnChanges||E.ngDoCheck)&&((n.preOrderCheckHooks||(n.preOrderCheckHooks=[])).push(e.index),m=!0),b++}!function iv(n,t){const r=t.directiveEnd,s=n.data,l=t.attrs,u=[];let f=null,m=null;for(let b=t.directiveStart;b<r;b++){const w=s[b],x=w.inputs,E=null===l||Fb(t)?null:Dr(x,l);u.push(E),f=nv(x,b,f),m=nv(w.outputs,b,m)}null!==f&&(f.hasOwnProperty("class")&&(t.flags|=16),f.hasOwnProperty("style")&&(t.flags|=32)),t.initialInputs=u,t.inputs=f,t.outputs=m}(n,e)}u&&function ex(n,t,e){if(t){const r=n.localNames=[];for(let s=0;s<t.length;s+=2){const l=e[t[s+1]];if(null==l)throw new ye(-301,!1);r.push(t[s],l)}}}(e,r,u)}return e.mergedAttrs=Oc(e.mergedAttrs,e.attrs),s}function lv(n,t,e,r,s,l){const u=l.hostBindings;if(u){let f=n.hostBindingOpCodes;null===f&&(f=n.hostBindingOpCodes=[]);const m=~t.index;(function cv(n){let t=n.length;for(;t>0;){const e=n[--t];if("number"==typeof e&&e<0)return e}return 0})(f)!=m&&f.push(m),f.push(r,s,u)}}function uv(n,t){null!==n.hostBindings&&n.hostBindings(1,t)}function hv(n,t){t.flags|=2,(n.components||(n.components=[])).push(t.index)}function Zp(n,t,e){if(e){if(t.exportAs)for(let r=0;r<t.exportAs.length;r++)e[t.exportAs[r]]=n;jr(t)&&(e[""]=n)}}function Xp(n,t,e){n.flags|=1,n.directiveStart=t,n.directiveEnd=t+e,n.providerIndexes=t}function Jp(n,t,e,r,s){n.data[r]=s;const l=s.factory||(s.factory=ls(s.type)),u=new Ic(l,jr(s),null);n.blueprint[r]=u,e[r]=u,lv(n,t,0,r,qi(n,e,s.hostVars,tt),s)}function fv(n,t,e){const r=yr(t,n),s=ld(e),l=n[10],u=lh(n,Kt(n,s,null,e.onPush?64:16,r,t,l,l.createRenderer(r,e),null,null));n[t.index]=u}function em(n,t,e,r,s,l,u){if(null==l)Tn(n)?n.removeAttribute(t,s,e):t.removeAttribute(s);else{const f=null==u?et(l):u(l,r||"",s);Tn(n)?n.setAttribute(t,s,f,e):e?t.setAttributeNS(e,s,f):t.setAttribute(s,f)}}function pv(n,t,e,r,s,l){const u=l[t];if(null!==u){const f=r.setInput;for(let m=0;m<u.length;){const b=u[m++],w=u[m++],x=u[m++];null!==f?r.setInput(e,x,b,w):e[w]=x}}}function Dr(n,t){let e=null,r=0;for(;r<t.length;){const s=t[r];if(0!==s)if(5!==s){if("number"==typeof s)break;n.hasOwnProperty(s)&&(null===e&&(e=[]),e.push(s,n[s],t[r+1])),r+=2}else r+=2;else r+=4}return e}function tm(n,t,e,r){return new Array(n,!0,!1,t,null,0,r,e,null,null)}function gv(n,t){const e=Ii(t,n);if(wu(e)){const r=e[1];80&e[2]?ur(r,e,r.template,e[8]):e[5]>0&&nm(e)}}function nm(n){for(let r=Wu(n);null!==r;r=vp(r))for(let s=10;s<r.length;s++){const l=r[s];if(1024&l[2]){const u=l[1];ur(u,l,u.template,l[8])}else l[5]>0&&nm(l)}const e=n[1].components;if(null!==e)for(let r=0;r<e.length;r++){const s=Ii(e[r],n);wu(s)&&s[5]>0&&nm(s)}}function ix(n,t){const e=Ii(t,n),r=e[1];(function _v(n,t){for(let e=t.length;e<n.blueprint.length;e++)t.push(n.blueprint[e])})(r,e),Es(r,e,e[8])}function lh(n,t){return n[13]?n[14][4]=t:n[13]=t,n[14]=t,t}function im(n){for(;n;){n[2]|=64;const t=fa(n);if(mk(n)&&!t)return n;n=t}return null}function ch(n,t,e){const r=t[10];r.begin&&r.begin();try{ur(n,t,n.template,e)}catch(s){throw xv(t,s),s}finally{r.end&&r.end()}}function vv(n){!function rm(n){for(let t=0;t<n.components.length;t++){const e=n.components[t],r=Kc(e),s=r[1];QC(s,r,s.template,e)}}(n[8])}function Uo(n,t,e){uo(0),t(n,e)}const om=(()=>Promise.resolve(null))();function wv(n){return n[7]||(n[7]=[])}function kv(n){return n.cleanup||(n.cleanup=[])}function Cv(n,t,e){return(null===n||jr(n))&&(e=function v_(n){for(;Array.isArray(n);){if("object"==typeof n[1])return n;n=n[0]}return null}(e[t.index])),e[11]}function xv(n,t){const e=n[9],r=e?e.get(qr,null):null;r&&r.handleError(t)}function Tv(n,t,e,r,s){for(let l=0;l<e.length;){const u=e[l++],f=e[l++],m=t[u],b=n.data[u];null!==b.setInput?b.setInput(m,s,r,f):m[f]=s}}function dh(n,t,e){let r=e?n.styles:null,s=e?n.classes:null,l=0;if(null!==t)for(let u=0;u<t.length;u++){const f=t[u];"number"==typeof f?l=f:1==l?s=cu(s,f):2==l&&(r=cu(r,f+": "+t[++u]+";"))}e?n.styles=r:n.stylesWithoutHost=r,e?n.classes=s:n.classesWithoutHost=s}const sm=new re("INJECTOR",-1);class ln{get(t,e=gl){if(e===gl){const r=new Error(`NullInjectorError: No provider for ${$t(t)}!`);throw r.name="NullInjectorError",r}return e}}const Fi=new re("Set Injector scope."),Ss={},am={};let dd;function Ev(){return void 0===dd&&(dd=new ln),dd}function lm(n,t=null,e=null,r){const s=Sv(n,t,e,r);return s._resolveInjectorDefTypes(),s}function Sv(n,t=null,e=null,r){return new zn(n,e,t||Ev(),r)}class zn{constructor(t,e,r,s=null){this.parent=r,this.records=new Map,this.injectorDefTypes=new Set,this.onDestroy=new Set,this._destroyed=!1;const l=[];e&&$r(e,f=>this.processProvider(f,t,e)),$r([t],f=>this.processInjectorType(f,[],l)),this.records.set(sm,ga(void 0,this));const u=this.records.get(Fi);this.scope=null!=u?u.value:null,this.source=s||("object"==typeof t?null:$t(t))}get destroyed(){return this._destroyed}destroy(){this.assertNotDestroyed(),this._destroyed=!0;try{this.onDestroy.forEach(t=>t.ngOnDestroy())}finally{this.records.clear(),this.onDestroy.clear(),this.injectorDefTypes.clear()}}get(t,e=gl,r=Qe.Default){this.assertNotDestroyed();const s=Ri(this),l=Ro(void 0);try{if(!(r&Qe.SkipSelf)){let f=this.records.get(t);if(void 0===f){const m=function Pv(n){return"function"==typeof n||"object"==typeof n&&n instanceof re}(t)&&bf(t);f=m&&this.injectableDefInScope(m)?ga(uh(t),Ss):null,this.records.set(t,f)}if(null!=f)return this.hydrate(t,f)}return(r&Qe.Self?Ev():this.parent).get(t,e=r&Qe.Optional&&e===gl?null:e)}catch(u){if("NullInjectorError"===u.name){if((u[vs]=u[vs]||[]).unshift($t(t)),s)throw u;return function Y_(n,t,e,r){const s=n[vs];throw t[K_]&&s.unshift(t[K_]),n.message=function Hc(n,t,e,r=null){n=n&&"\n"===n.charAt(0)&&"\u0275"==n.charAt(1)?n.substr(2):n;let s=$t(t);if(Array.isArray(t))s=t.map($t).join(" -> ");else if("object"==typeof t){let l=[];for(let u in t)if(t.hasOwnProperty(u)){let f=t[u];l.push(u+":"+("string"==typeof f?JSON.stringify(f):$t(f)))}s=`{${l.join(", ")}}`}return`${e}${r?"("+r+")":""}[${s}]: ${n.replace(G_,"\n  ")}`}("\n"+n.message,s,e,r),n.ngTokenPath=s,n[vs]=null,n}(u,t,"R3InjectorError",this.source)}throw u}finally{Ro(l),Ri(s)}}_resolveInjectorDefTypes(){this.injectorDefTypes.forEach(t=>this.get(t))}toString(){const t=[];return this.records.forEach((r,s)=>t.push($t(s))),`R3Injector[${t.join(", ")}]`}assertNotDestroyed(){if(this._destroyed)throw new ye(205,!1)}processInjectorType(t,e,r){if(!(t=rt(t)))return!1;let s=u_(t);const l=null==s&&t.ngModule||void 0,u=void 0===l?t:l,f=-1!==r.indexOf(u);if(void 0!==l&&(s=u_(l)),null==s)return!1;if(null!=s.imports&&!f){let w;r.push(u);try{$r(s.imports,x=>{this.processInjectorType(x,e,r)&&(void 0===w&&(w=[]),w.push(x))})}finally{}if(void 0!==w)for(let x=0;x<w.length;x++){const{ngModule:E,providers:S}=w[x];$r(S,I=>this.processProvider(I,E,S||Zt))}}this.injectorDefTypes.add(u);const m=ls(u)||(()=>new u);this.records.set(u,ga(m,Ss));const b=s.providers;if(null!=b&&!f){const w=t;$r(b,x=>this.processProvider(x,w,b))}return void 0!==l&&void 0!==t.providers}processProvider(t,e,r){let s=_a(t=rt(t))?t:rt(t&&t.provide);const l=function cm(n,t,e){return um(n)?ga(void 0,n.useValue):ga(dm(n),Ss)}(t);if(_a(t)||!0!==t.multi)this.records.get(s);else{let u=this.records.get(s);u||(u=ga(void 0,Ss,!0),u.factory=()=>jc(u.multi),this.records.set(s,u)),s=t,u.multi.push(t)}this.records.set(s,l)}hydrate(t,e){return e.value===Ss&&(e.value=am,e.value=e.factory()),"object"==typeof e.value&&e.value&&function Iv(n){return null!==n&&"object"==typeof n&&"function"==typeof n.ngOnDestroy}(e.value)&&this.onDestroy.add(e.value),e.value}injectableDefInScope(t){if(!t.providedIn)return!1;const e=rt(t.providedIn);return"string"==typeof e?"any"===e||e===this.scope:this.injectorDefTypes.has(e)}}function uh(n){const t=bf(n),e=null!==t?t.factory:ls(n);if(null!==e)return e;if(n instanceof re)throw new ye(204,!1);if(n instanceof Function)return function ax(n){const t=n.length;if(t>0)throw Lc(t,"?"),new ye(204,!1);const e=function ck(n){const t=n&&(n[uu]||n[h_]);if(t){const e=function d_(n){if(n.hasOwnProperty("name"))return n.name;const t=(""+n).match(/^function\s*([^\s(]+)/);return null===t?"":t[1]}(n);return console.warn(`DEPRECATED: DI is instantiating a token "${e}" that inherits its @Injectable decorator but does not provide one itself.\nThis will become an error in a future version of Angular. Please add @Injectable() to the "${e}" class.`),t}return null}(n);return null!==e?()=>e.factory(n):()=>new n}(n);throw new ye(204,!1)}function dm(n,t,e){let r;if(_a(n)){const s=rt(n);return ls(s)||uh(s)}if(um(n))r=()=>rt(n.useValue);else if(function Mv(n){return!(!n||!n.useFactory)}(n))r=()=>n.useFactory(...jc(n.deps||[]));else if(function Dv(n){return!(!n||!n.useExisting)}(n))r=()=>L(rt(n.useExisting));else{const s=rt(n&&(n.useClass||n.provide));if(!function hm(n){return!!n.deps}(n))return ls(s)||uh(s);r=()=>new s(...jc(n.deps))}return r}function ga(n,t,e=!1){return{factory:n,value:t,multi:e?[]:void 0}}function um(n){return null!==n&&"object"==typeof n&&Gt in n}function _a(n){return"function"==typeof n}let nn=(()=>{class n{static create(e,r){var s;if(Array.isArray(e))return lm({name:""},r,e,"");{const l=null!==(s=e.name)&&void 0!==s?s:"";return lm({name:l},e.parent,e.providers,l)}}}return n.THROW_IF_NOT_FOUND=gl,n.NULL=new ln,n.\u0275prov=oe({token:n,providedIn:"any",factory:()=>L(sm)}),n.__NG_ELEMENT_ID__=-1,n})();function ym(n,t){ll(Kc(n)[1],Vn())}function Fe(n){let t=function Vv(n){return Object.getPrototypeOf(n.prototype).constructor}(n.type),e=!0;const r=[n];for(;t;){let s;if(jr(n))s=t.\u0275cmp||t.\u0275dir;else{if(t.\u0275cmp)throw new ye(903,"");s=t.\u0275dir}if(s){if(e){r.push(s);const u=n;u.inputs=wm(n.inputs),u.declaredInputs=wm(n.declaredInputs),u.outputs=wm(n.outputs);const f=s.hostBindings;f&&px(n,f);const m=s.viewQuery,b=s.contentQueries;if(m&&hx(n,m),b&&fx(n,b),lu(n.inputs,s.inputs),lu(n.declaredInputs,s.declaredInputs),lu(n.outputs,s.outputs),jr(s)&&s.data.animation){const w=n.data;w.animation=(w.animation||[]).concat(s.data.animation)}}const l=s.features;if(l)for(let u=0;u<l.length;u++){const f=l[u];f&&f.ngInherit&&f(n),f===Fe&&(e=!1)}}t=Object.getPrototypeOf(t)}!function jv(n){let t=0,e=null;for(let r=n.length-1;r>=0;r--){const s=n[r];s.hostVars=t+=s.hostVars,s.hostAttrs=Oc(s.hostAttrs,e=Oc(e,s.hostAttrs))}}(r)}function wm(n){return n===rs?{}:n===Zt?[]:n}function hx(n,t){const e=n.viewQuery;n.viewQuery=e?(r,s)=>{t(r,s),e(r,s)}:t}function fx(n,t){const e=n.contentQueries;n.contentQueries=e?(r,s,l)=>{t(r,s,l),e(r,s,l)}:t}function px(n,t){const e=n.hostBindings;n.hostBindings=e?(r,s)=>{t(r,s),e(r,s)}:t}let fh=null;function xl(){if(!fh){const n=Wt.Symbol;if(n&&n.iterator)fh=n.iterator;else{const t=Object.getOwnPropertyNames(Map.prototype);for(let e=0;e<t.length;++e){const r=t[e];"entries"!==r&&"size"!==r&&Map.prototype[r]===Map.prototype.entries&&(fh=r)}}}return fh}function Tl(n){return!!km(n)&&(Array.isArray(n)||!(n instanceof Map)&&xl()in n)}function km(n){return null!==n&&("function"==typeof n||"object"==typeof n)}function Mr(n,t,e){return n[t]=e}function ki(n,t,e){return!Object.is(n[t],e)&&(n[t]=e,!0)}function mt(n,t,e,r){const s=ee();return ki(s,sl(),t)&&(Dt(),function Zr(n,t,e,r,s,l){const u=yr(n,t);em(t[11],u,l,n.value,e,r,s)}(En(),s,n,t,e,r)),mt}function pe(n,t,e,r,s,l,u,f){const m=ee(),b=Dt(),w=n+20,x=b.firstCreatePass?function wx(n,t,e,r,s,l,u,f,m){const b=t.consts,w=Ts(t,n,4,u||null,Vo(b,f));ah(t,e,w,Vo(b,m)),ll(t,w);const x=w.tViews=cd(2,w,r,s,l,t.directiveRegistry,t.pipeRegistry,null,t.schemas,b);return null!==t.queries&&(t.queries.template(t,w),x.queries=t.queries.embeddedTView(w)),w}(w,b,m,t,e,r,s,l,u):b.data[w];Hr(x,!1);const E=m[11].createComment("");Yu(b,m,E,x),ui(E,m),lh(m,m[w]=tm(E,m,E,x)),bu(x)&&Gp(b,m,x),null!=u&&Kp(m,x,f)}function hi(n){return ta(function x_(){return je.lFrame.contextLView}(),20+n)}function M(n,t=Qe.Default){const e=ee();return null===e?L(n,t):mo(Vn(),e,rt(n),t)}function Ol(){throw new Error("invalid")}function Q(n,t,e){const r=ee();return ki(r,sl(),t)&&Gi(Dt(),En(),r,n,t,r[11],e,!1),Q}function Am(n,t,e,r,s){const u=s?"class":"style";Tv(n,e,t.inputs[u],u,r)}function V(n,t,e,r){const s=ee(),l=Dt(),u=20+n,f=s[11],m=s[u]=Gu(f,t,function Ak(){return je.lFrame.currentNamespace}()),b=l.firstCreatePass?function ny(n,t,e,r,s,l,u){const f=t.consts,b=Ts(t,n,2,s,Vo(f,l));return ah(t,e,b,Vo(f,u)),null!==b.attrs&&dh(b,b.attrs,!1),null!==b.mergedAttrs&&dh(b,b.mergedAttrs,!0),null!==t.queries&&t.queries.elementStart(t,b),b}(u,l,s,0,t,e,r):l.data[u];Hr(b,!0);const w=b.mergedAttrs;null!==w&&Du(f,m,w);const x=b.classes;null!==x&&Dp(f,m,x);const E=b.styles;return null!==E&&eh(f,m,E),64!=(64&b.flags)&&Yu(l,s,m,b),0===function ci(){return je.lFrame.elementDepthCount}()&&ui(m,s),function Ek(){je.lFrame.elementDepthCount++}(),bu(b)&&(Gp(l,s,b),qp(l,b,s)),null!==r&&Kp(s,b),V}function B(){let n=Vn();Cu()?ds():(n=n.parent,Hr(n,!1));const t=n;!function C_(){je.lFrame.elementDepthCount--}();const e=Dt();return e.firstCreatePass&&(ll(e,n),xf(n)&&e.queries.elementEnd(n)),null!=t.classesWithoutHost&&function Rc(n){return 0!=(16&n.flags)}(t)&&Am(e,t,ee(),t.classesWithoutHost,!0),null!=t.stylesWithoutHost&&function Rk(n){return 0!=(32&n.flags)}(t)&&Am(e,t,ee(),t.stylesWithoutHost,!1),B}function Me(n,t,e,r){return V(n,t,e,r),B(),Me}function Jt(n,t,e){const r=ee(),s=Dt(),l=n+20,u=s.firstCreatePass?function iy(n,t,e,r,s){const l=t.consts,u=Vo(l,r),f=Ts(t,n,8,"ng-container",u);return null!==u&&dh(f,u,!0),ah(t,e,f,Vo(l,s)),null!==t.queries&&t.queries.elementStart(t,f),f}(l,s,r,t,e):s.data[l];Hr(u,!0);const f=r[l]=r[11].createComment("");return Yu(s,r,f,u),ui(f,r),bu(u)&&(Gp(s,r,u),qp(s,u,r)),null!=e&&Kp(r,u),Jt}function rn(){let n=Vn();const t=Dt();return Cu()?ds():(n=n.parent,Hr(n,!1)),t.firstCreatePass&&(ll(t,n),xf(n)&&t.queries.elementEnd(n)),rn}function Dn(){return ee()}function Fl(n){return!!n&&"function"==typeof n.then}function oy(n){return!!n&&"function"==typeof n.subscribe}const Im=oy;function Ee(n,t,e,r){const s=ee(),l=Dt(),u=Vn();return Pm(l,s,s[11],u,n,t,!!e,r),Ee}function yd(n,t){const e=Vn(),r=ee(),s=Dt();return Pm(s,r,Cv(Mc(s.data),e,r),e,n,t,!1),yd}function Pm(n,t,e,r,s,l,u,f){const m=bu(r),w=n.firstCreatePass&&kv(n),x=t[8],E=wv(t);let S=!0;if(3&r.type||f){const K=yr(r,t),G=f?f(K):K,H=E.length,fe=f?ve=>f(In(ve[r.index])):r.index;if(Tn(e)){let ve=null;if(!f&&m&&(ve=function Ox(n,t,e,r){const s=n.cleanup;if(null!=s)for(let l=0;l<s.length-1;l+=2){const u=s[l];if(u===e&&s[l+1]===r){const f=t[7],m=s[l+2];return f.length>m?f[m]:null}"string"==typeof u&&(l+=2)}return null}(n,t,s,r.index)),null!==ve)(ve.__ngLastListenerFn__||ve).__ngNextListenerFn__=l,ve.__ngLastListenerFn__=l,S=!1;else{l=Rm(r,t,x,l,!1);const We=e.listen(G,s,l);E.push(l,We),w&&w.push(s,fe,H,H+1)}}else l=Rm(r,t,x,l,!0),G.addEventListener(s,l,u),E.push(l),w&&w.push(s,fe,H,u)}else l=Rm(r,t,x,l,!1);const I=r.outputs;let N;if(S&&null!==I&&(N=I[s])){const K=N.length;if(K)for(let G=0;G<K;G+=2){const qe=t[N[G]][N[G+1]].subscribe(l),Tt=E.length;E.push(l,qe),w&&w.push(s,r.index,Tt,-(Tt+1))}}}function sy(n,t,e,r){try{return!1!==e(r)}catch(s){return xv(n,s),!1}}function Rm(n,t,e,r,s){return function l(u){if(u===Function)return r;const f=2&n.flags?Ii(n.index,t):t;0==(32&t[2])&&im(f);let m=sy(t,0,r,u),b=l.__ngNextListenerFn__;for(;b;)m=sy(t,0,b,u)&&m,b=b.__ngNextListenerFn__;return s&&!1===m&&(u.preventDefault(),u.returnValue=!1),m}}function ce(n=1){return function Mk(n){return(je.lFrame.contextLView=function A_(n,t){for(;n>0;)t=t[15],n--;return t}(n,je.lFrame.contextLView))[8]}(n)}function Fx(n,t){let e=null;const r=function IC(n){const t=n.attrs;if(null!=t){const e=t.indexOf(5);if(0==(1&e))return t[e+1]}return null}(n);for(let s=0;s<t.length;s++){const l=t[s];if("*"!==l){if(null===r?Vb(n,l,!0):jb(r,l))return s}else e=s}return e}function Mn(n){const t=ee()[16][6];if(!t.projection){const r=t.projection=Lc(n?n.length:1,null),s=r.slice();let l=t.child;for(;null!==l;){const u=n?Fx(l,n):0;null!==u&&(s[u]?s[u].projectionNext=l:r[u]=l,s[u]=l),l=l.next}}}function dt(n,t=0,e){const r=ee(),s=Dt(),l=Ts(s,20+n,16,null,e||null);null===l.projection&&(l.projection=t),ds(),64!=(64&l.flags)&&function xs(n,t,e){Sp(t[11],0,t,e,Qu(n,e,t),td(e.parent||t[6],e,t))}(s,r,l)}function Nm(n,t,e,r,s){const l=n[e+1],u=null===t;let f=r?Kr(l):zo(l),m=!1;for(;0!==f&&(!1===m||u);){const w=n[f+1];py(n[f],t)&&(m=!0,n[f+1]=r?ih(w):Fp(w)),f=r?Kr(w):zo(w)}m&&(n[e+1]=r?Fp(l):ih(l))}function py(n,t){return null===n||null==t||(Array.isArray(n)?n[1]:n)===t||!(!Array.isArray(n)||"string"!=typeof t)&&sa(n,t)>=0}function wa(n,t,e){return Ir(n,t,e,!1),wa}function kt(n,t){return Ir(n,t,null,!0),kt}function Ir(n,t,e,r){const s=ee(),l=Dt(),u=function kr(n){const t=je.lFrame,e=t.bindingIndex;return t.bindingIndex=t.bindingIndex+n,e}(2);l.firstUpdatePass&&function jm(n,t,e,r){const s=n.data;if(null===s[e+1]){const l=s[di()],u=function Vm(n,t){return t>=n.expandoStartIndex}(n,e);(function v(n,t){return 0!=(n.flags&(t?16:32))})(l,r)&&null===t&&!u&&(t=!1),t=function $x(n,t,e,r){const s=Mc(n);let l=r?t.residualClasses:t.residualStyles;if(null===s)0===(r?t.classBindings:t.styleBindings)&&(e=i(e=c(null,n,t,e,r),t.attrs,r),l=null);else{const u=t.directiveStylingLast;if(-1===u||n[u]!==s)if(e=c(s,n,t,e,r),null===l){let m=function Wx(n,t,e){const r=e?t.classBindings:t.styleBindings;if(0!==zo(r))return n[Kr(r)]}(n,t,r);void 0!==m&&Array.isArray(m)&&(m=c(null,n,t,m[1],r),m=i(m,t.attrs,r),function qx(n,t,e,r){n[Kr(e?t.classBindings:t.styleBindings)]=r}(n,t,r,m))}else l=function zm(n,t,e){let r;const s=t.directiveEnd;for(let l=1+t.directiveStylingLast;l<s;l++)r=i(r,n[l].hostAttrs,e);return i(r,t.attrs,e)}(n,t,r)}return void 0!==l&&(r?t.residualClasses=l:t.residualStyles=l),e}(s,l,t,r),function Nx(n,t,e,r,s,l){let u=l?t.classBindings:t.styleBindings,f=Kr(u),m=zo(u);n[r]=e;let w,b=!1;if(Array.isArray(e)){const x=e;w=x[1],(null===w||sa(x,w)>0)&&(b=!0)}else w=e;if(s)if(0!==m){const E=Kr(n[f+1]);n[r+1]=nh(E,f),0!==E&&(n[E+1]=Np(n[E+1],r)),n[f+1]=function FC(n,t){return 131071&n|t<<17}(n[f+1],r)}else n[r+1]=nh(f,0),0!==f&&(n[f+1]=Np(n[f+1],r)),f=r;else n[r+1]=nh(m,0),0===f?f=r:n[m+1]=Np(n[m+1],r),m=r;b&&(n[r+1]=Fp(n[r+1])),Nm(n,w,r,!0),Nm(n,w,r,!1),function Lx(n,t,e,r,s){const l=s?n.residualClasses:n.residualStyles;null!=l&&"string"==typeof t&&sa(l,t)>=0&&(e[r+1]=ih(e[r+1]))}(t,w,n,r,l),u=nh(f,m),l?t.classBindings=u:t.styleBindings=u}(s,l,t,e,u,r)}}(l,n,u,r),t!==tt&&ki(s,u,t)&&function h(n,t,e,r,s,l,u,f){if(!(3&t.type))return;const m=n.data,b=m[f+1];g(function Ub(n){return 1==(1&n)}(b)?p(m,t,e,s,zo(b),u):void 0)||(g(l)||function Hb(n){return 2==(2&n)}(b)&&(l=p(m,null,e,s,f,u)),function Rb(n,t,e,r,s){const l=Tn(n);if(t)s?l?n.addClass(e,r):e.classList.add(r):l?n.removeClass(e,r):e.classList.remove(r);else{let u=-1===r.indexOf("-")?void 0:ar.DashCase;if(null==s)l?n.removeStyle(e,r,u):e.style.removeProperty(r);else{const f="string"==typeof s&&s.endsWith("!important");f&&(s=s.slice(0,-10),u|=ar.Important),l?n.setStyle(e,r,s,u):e.style.setProperty(r,s,f?"important":"")}}}(r,u,Tc(di(),e),s,l))}(l,l.data[di()],s,s[11],n,s[u+1]=function _(n,t){return null==n||("string"==typeof t?n+=t:"object"==typeof n&&(n=$t(Wi(n)))),n}(t,e),r,u)}function c(n,t,e,r,s){let l=null;const u=e.directiveEnd;let f=e.directiveStylingLast;for(-1===f?f=e.directiveStart:f++;f<u&&(l=t[f],r=i(r,l.hostAttrs,s),l!==n);)f++;return null!==n&&(e.directiveStylingLast=f),r}function i(n,t,e){const r=e?1:2;let s=-1;if(null!==t)for(let l=0;l<t.length;l++){const u=t[l];"number"==typeof u?s=u:s===r&&(Array.isArray(n)||(n=void 0===n?[]:["",n]),or(n,u,!!e||t[++l]))}return void 0===n?null:n}function p(n,t,e,r,s,l){const u=null===t;let f;for(;s>0;){const m=n[s],b=Array.isArray(m),w=b?m[1]:m,x=null===w;let E=e[s+1];E===tt&&(E=x?Zt:void 0);let S=x?Qf(E,r):w===r?E:void 0;if(b&&!g(S)&&(S=Qf(m,r)),g(S)&&(f=S,u))return f;const I=n[s+1];s=u?Kr(I):zo(I)}if(null!==t){let m=l?t.residualClasses:t.residualStyles;null!=m&&(f=Qf(m,r))}return f}function g(n){return void 0!==n}function y(n,t=""){const e=ee(),r=Dt(),s=n+20,l=r.firstCreatePass?Ts(r,s,1,t,null):r.data[s],u=e[s]=qu(e[11],t);Yu(r,e,u,l),Hr(l,!1)}function k(n){return T("",n,""),k}function T(n,t,e){const r=ee(),s=function Sl(n,t,e,r){return ki(n,sl(),e)?t+et(e)+r:tt}(r,n,t,e);return s!==tt&&function wo(n,t,e){const r=Tc(t,n);yp(n[11],r,e)}(r,di(),s),T}function Ll(n,t,e){const r=ee();return ki(r,sl(),t)&&Gi(Dt(),En(),r,n,t,r[11],e,!0),Ll}function ky(n,t,e){const r=ee();if(ki(r,sl(),t)){const l=Dt(),u=En();Gi(l,u,r,n,t,Cv(Mc(l.data),u,r),e,!0)}return ky}const kd=void 0;var jL=["en",[["a","p"],["AM","PM"],kd],[["AM","PM"],kd,kd],[["S","M","T","W","T","F","S"],["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],["Su","Mo","Tu","We","Th","Fr","Sa"]],kd,[["J","F","M","A","M","J","J","A","S","O","N","D"],["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],["January","February","March","April","May","June","July","August","September","October","November","December"]],kd,[["B","A"],["BC","AD"],["Before Christ","Anno Domini"]],0,[6,0],["M/d/yy","MMM d, y","MMMM d, y","EEEE, MMMM d, y"],["h:mm a","h:mm:ss a","h:mm:ss a z","h:mm:ss a zzzz"],["{1}, {0}",kd,"{1} 'at' {0}",kd],[".",",",";","%","+","-","E","\xd7","\u2030","\u221e","NaN",":"],["#,##0.###","#,##0%","\xa4#,##0.00","#E0"],"USD","$","US Dollar",{},"ltr",function VL(n){const e=Math.floor(Math.abs(n)),r=n.toString().replace(/^[^.]*\.?/,"").length;return 1===e&&0===r?1:5}];let wh={};function fr(n){const t=function zL(n){return n.toLowerCase().replace(/_/g,"-")}(n);let e=$D(t);if(e)return e;const r=t.split("-")[0];if(e=$D(r),e)return e;if("en"===r)return jL;throw new Error(`Missing locale data for the locale "${n}".`)}function $D(n){return n in wh||(wh[n]=Wt.ng&&Wt.ng.common&&Wt.ng.common.locales&&Wt.ng.common.locales[n]),wh[n]}var be=(()=>((be=be||{})[be.LocaleId=0]="LocaleId",be[be.DayPeriodsFormat=1]="DayPeriodsFormat",be[be.DayPeriodsStandalone=2]="DayPeriodsStandalone",be[be.DaysFormat=3]="DaysFormat",be[be.DaysStandalone=4]="DaysStandalone",be[be.MonthsFormat=5]="MonthsFormat",be[be.MonthsStandalone=6]="MonthsStandalone",be[be.Eras=7]="Eras",be[be.FirstDayOfWeek=8]="FirstDayOfWeek",be[be.WeekendRange=9]="WeekendRange",be[be.DateFormat=10]="DateFormat",be[be.TimeFormat=11]="TimeFormat",be[be.DateTimeFormat=12]="DateTimeFormat",be[be.NumberSymbols=13]="NumberSymbols",be[be.NumberFormats=14]="NumberFormats",be[be.CurrencyCode=15]="CurrencyCode",be[be.CurrencySymbol=16]="CurrencySymbol",be[be.CurrencyName=17]="CurrencyName",be[be.Currencies=18]="Currencies",be[be.Directionality=19]="Directionality",be[be.PluralCase=20]="PluralCase",be[be.ExtraData=21]="ExtraData",be))();const HL=["zero","one","two","few","many"],Cy="en-US",xy={marker:"element"},Ty={marker:"ICU"};var Hn=(()=>((Hn=Hn||{})[Hn.SHIFT=2]="SHIFT",Hn[Hn.APPEND_EAGERLY=1]="APPEND_EAGERLY",Hn[Hn.COMMENT=2]="COMMENT",Hn))();let WD=Cy;function qD(n,t,e){const r=t.insertBeforeIndex,s=Array.isArray(r)?r[0]:r;return null===s?kp(n,0,e):In(e[s])}function GD(n,t,e,r,s){const l=t.insertBeforeIndex;if(Array.isArray(l)){let u=r,f=null;if(3&t.type||(f=u,u=s),null!==u&&0==(2&t.flags))for(let m=1;m<l.length;m++)ma(n,u,e[l[m]],f,!1)}}function KD(n,t){if(n.push(t),n.length>1)for(let e=n.length-2;e>=0;e--){const r=n[e];QD(r)||GL(r,t)&&null===KL(r)&&QL(r,t.index)}}function QD(n){return!(64&n.type)}function GL(n,t){return QD(t)||n.index>t.index}function KL(n){const t=n.insertBeforeIndex;return Array.isArray(t)?t[0]:t}function QL(n,t){const e=n.insertBeforeIndex;Array.isArray(e)?e[0]=t:(Pb(qD,GD),n.insertBeforeIndex=t)}function Um(n,t){const e=n.data[t];return null===e||"string"==typeof e?null:e.hasOwnProperty("currentCaseLViewIndex")?e:e.value}function XL(n,t,e){const r=Yr(n,e,64,null,null);return KD(t,r),r}function Ey(n,t){const e=t[n.currentCaseLViewIndex];return null===e?e:e<0?~e:e}function YD(n){return n>>>17}function ZD(n){return(131070&n)>>>1}let $m=0,Wm=0;function JD(n,t,e,r){const s=e[11];let u,l=null;for(let f=0;f<t.length;f++){const m=t[f];if("string"==typeof m){const b=t[++f];null===e[b]&&(e[b]=qu(s,m))}else if("number"==typeof m)switch(1&m){case 0:const b=YD(m);let w,x;if(null===l&&(l=b,u=lr(s,r)),b===l?(w=r,x=u):(w=null,x=In(e[b])),null!==x){const N=ZD(m);ma(s,x,e[N],w,!1);const G=Um(n,N);if(null!==G&&"object"==typeof G){const H=Ey(G,e);null!==H&&JD(n,G.create[H],e,e[G.anchorIdx])}}break;case 1:const S=t[++f],I=t[++f];em(s,Tc(m>>>1,e),null,null,S,I,null)}else switch(m){case Ty:const b=t[++f],w=t[++f];null===e[w]&&ui(e[w]=wl(s,b),e);break;case xy:const x=t[++f],E=t[++f];null===e[E]&&ui(e[E]=Gu(s,x,null),e)}}}function eM(n,t,e,r,s){for(let l=0;l<e.length;l++){const u=e[l],f=e[++l];if(u&s){let m="";for(let b=l+1;b<=l+f;b++){const w=e[b];if("string"==typeof w)m+=w;else if("number"==typeof w)if(w<0)m+=et(t[r-w]);else{const x=w>>>2;switch(3&w){case 1:const E=e[++b],S=e[++b],I=n.data[x];"string"==typeof I?em(t[11],t[x],null,I,E,m,S):Gi(n,I,t,E,m,t[11],S,!1);break;case 0:const N=t[x];null!==N&&yp(t[11],N,m);break;case 2:r2(n,Um(n,x),t,m);break;case 3:tM(n,Um(n,x),r,t)}}}}else{const m=e[l+1];if(m>0&&3==(3&m)){const w=Um(n,m>>>2);t[w.currentCaseLViewIndex]<0&&tM(n,w,r,t)}}l+=f}}function tM(n,t,e,r){let s=r[t.currentCaseLViewIndex];if(null!==s){let l=$m;s<0&&(s=r[t.currentCaseLViewIndex]=~s,l=-1),eM(n,r,t.update[s],e,l)}}function r2(n,t,e,r){const s=function o2(n,t){let e=n.cases.indexOf(t);if(-1===e)switch(n.type){case 1:{const r=function UL(n,t){const e=function UD(n){return fr(n)[be.PluralCase]}(t)(parseInt(n,10)),r=HL[e];return void 0!==r?r:"other"}(t,function qL(){return WD}());e=n.cases.indexOf(r),-1===e&&"other"!==r&&(e=n.cases.indexOf("other"));break}case 0:e=n.cases.indexOf("other")}return-1===e?null:e}(t,r);if(Ey(t,e)!==s&&(nM(n,t,e),e[t.currentCaseLViewIndex]=null===s?null:~s,null!==s)){const u=e[t.anchorIdx];u&&JD(n,t.create[s],e,u)}}function nM(n,t,e){let r=Ey(t,e);if(null!==r){const s=t.remove[r];for(let l=0;l<s.length;l++){const u=s[l];if(u>0){const f=Tc(u,e);null!==f&&Ju(e[11],f)}else nM(n,Um(n,~u),e)}}}function s2(){const n=[];let e,r,t=-1;function l(f,m){t=0;const b=Ey(f,m);r=null!==b?f.remove[b]:Zt}function u(){if(t<r.length){const f=r[t++];return f>0?e[f]:(n.push(t,r),l(e[1].data[~f],e),u())}return 0===n.length?null:(r=n.pop(),t=n.pop(),u())}return function s(f,m){for(e=m;n.length;)n.pop();return l(f.value,m),u}}const Sy=/\ufffd(\d+):?\d*\ufffd/gi,l2=/\ufffd(\d+)\ufffd/,rM=/^\s*(\ufffd\d+:?\d*\ufffd)\s*,\s*(select|plural)\s*,/,c2=/\ufffd\/?\*(\d+:\d+)\ufffd/gi,d2=/\ufffd(\/?[#*]\d+):?\d*\ufffd/gi,u2=/\uE500/g;function oM(n,t,e,r,s,l,u){const f=qi(n,r,1,null);let m=f<<Hn.SHIFT,b=wr();t===b&&(b=null),null===b&&(m|=Hn.APPEND_EAGERLY),u&&(m|=Hn.COMMENT,function kC(n){void 0===$u&&($u=n())}(s2)),s.push(m,null===l?"":l);const w=Yr(n,f,u?32:1,null===l?"":l,null);KD(e,w);const x=w.index;return Hr(w,!1),null!==b&&t!==b&&function ZL(n,t){let e=n.insertBeforeIndex;null===e?(Pb(qD,GD),e=n.insertBeforeIndex=[null,t]):(function Io(n,t,e){n!=t&&sn(e,n,t,"==")}(Array.isArray(e),!0,"Expecting array here"),e.push(t))}(b,x),w}function p2(n,t,e,r,s,l,u){const f=u.match(Sy),m=oM(n,t,e,l,r,f?null:u,!1);f&&kh(s,u,m.index,null,0,null)}function kh(n,t,e,r,s,l){const u=n.length,f=u+1;n.push(null,null);const m=u+2,b=t.split(Sy);let w=0;for(let x=0;x<b.length;x++){const E=b[x];if(1&x){const S=s+parseInt(E,10);n.push(-1-S),w|=sM(S)}else""!==E&&n.push(E)}return n.push(e<<2|(r?1:0)),r&&n.push(r,l),n[u]=w,n[f]=n.length-m,w}function sM(n){return 1<<Math.min(n,31)}function aM(n){let t,l,e="",r=0,s=!1;for(;null!==(t=c2.exec(n));)s?t[0]===`\ufffd/*${l}\ufffd`&&(r=t.index,s=!1):(e+=n.substring(r,t.index+t[0].length),l=t[1],s=!0);return e+=n.substr(r),e}function lM(n,t,e,r,s,l){let u=0;const f={type:s.type,currentCaseLViewIndex:qi(n,t,1,null),anchorIdx:l,cases:[],create:[],remove:[],update:[]};(function k2(n,t,e){n.push(sM(t.mainBinding),2,-1-t.mainBinding,e<<2|2)})(e,s,l),function YL(n,t,e){const r=n.data[t];null===r?n.data[t]=e:r.value=e}(n,l,f);const m=s.values;for(let b=0;b<m.length;b++){const w=m[b],x=[];for(let E=0;E<w.length;E++){const S=w[E];if("string"!=typeof S){const I=x.push(S)-1;w[E]=`\x3c!--\ufffd${I}\ufffd--\x3e`}}u=y2(n,f,t,e,r,s.cases[b],w.join(""),x)|u}u&&function C2(n,t,e){n.push(t,1,e<<2|3)}(e,u,l)}function v2(n){const t=[],e=[];let r=1,s=0;const l=Gx(n=n.replace(rM,function(u,f,m){return r="select"===m?0:1,s=parseInt(f.substr(1),10),""}));for(let u=0;u<l.length;){let f=l[u++].trim();1===r&&(f=f.replace(/\s*(?:=)?(\w+)\s*/,"$1")),f.length&&t.push(f);const m=Gx(l[u++]);t.length>e.length&&e.push(m)}return{type:r,mainBinding:s,cases:t,values:e}}function Gx(n){if(!n)return[];let t=0;const e=[],r=[],s=/[{}]/g;let l;for(s.lastIndex=0;l=s.exec(n);){const f=l.index;if("}"==l[0]){if(e.pop(),0==e.length){const m=n.substring(t,f);rM.test(m)?r.push(v2(m)):r.push(m),t=f+1}}else{if(0==e.length){const m=n.substring(t,f);r.push(m),t=f+1}e.push("{")}}const u=n.substring(t);return r.push(u),r}function y2(n,t,e,r,s,l,u,f){const m=[],b=[],w=[];t.cases.push(l),t.create.push(m),t.remove.push(b),t.update.push(w);const E=ob(yi()).getInertBodyElement(u),S=ap(E)||E;return S?cM(n,t,e,r,m,b,w,S,s,f,0):0}function cM(n,t,e,r,s,l,u,f,m,b,w){let x=0,E=f.firstChild;for(;E;){const S=qi(n,e,1,null);switch(E.nodeType){case Node.ELEMENT_NODE:const I=E,N=I.tagName.toLowerCase();if(Hu.hasOwnProperty(N)){Kx(s,xy,N,m,S),n.data[S]=N;const fe=I.attributes;for(let ve=0;ve<fe.length;ve++){const We=fe.item(ve),qe=We.name.toLowerCase();We.value.match(Sy)?sp.hasOwnProperty(qe)&&kh(u,We.value,S,We.name,0,ys[qe]?vl:yl[qe]?$c:null):x2(s,S,We)}x=cM(n,t,e,r,s,l,u,E,S,b,w+1)|x,dM(l,S,w)}break;case Node.TEXT_NODE:const K=E.textContent||"",G=K.match(Sy);Kx(s,null,G?"":K,m,S),dM(l,S,w),G&&(x=kh(u,K,S,null,0,null)|x);break;case Node.COMMENT_NODE:const H=l2.exec(E.textContent||"");if(H){const ve=b[parseInt(H[1],10)];Kx(s,Ty,"",m,S),lM(n,e,r,m,ve,S),w2(l,S,w)}}E=E.nextSibling}return x}function dM(n,t,e){0===e&&n.push(t)}function w2(n,t,e){0===e&&(n.push(~t),n.push(t))}function Kx(n,t,e,r,s){null!==t&&n.push(t),n.push(e,s,function JL(n,t,e){return n|t<<17|e<<1}(0,r,s))}function x2(n,t,e){n.push(t<<1|1,e.name,e.value)}const T2=/\[(\ufffd.+?\ufffd?)\]/,E2=/\[(\ufffd.+?\ufffd?)\]|(\ufffd\/?\*\d+:\d+\ufffd)/g,S2=/({\s*)(VAR_(PLURAL|SELECT)(_\d+)?)(\s*,)/g,D2=/{([A-Z0-9_]+)}/g,M2=/\ufffdI18N_EXP_(ICU(_\d+)?)\ufffd/g,A2=/\/\*/,I2=/\d+\:(\d+)/;function Qx(n,t,e=-1){const r=Dt(),s=ee(),l=20+n,u=Vo(r.consts,t),f=wr();r.firstCreatePass&&function f2(n,t,e,r,s,l){const u=wr(),f=[],m=[],b=[[]];s=function b2(n,t){if(function _2(n){return-1===n}(t))return aM(n);{const e=n.indexOf(`:${t}\ufffd`)+2+t.toString().length,r=n.search(new RegExp(`\ufffd\\/\\*\\d+:${t}\ufffd`));return aM(n.substring(e,r))}}(s,l);const w=function h2(n){return n.replace(u2," ")}(s).split(d2);for(let x=0;x<w.length;x++){let E=w[x];if(0==(1&x)){const S=Gx(E);for(let I=0;I<S.length;I++){let N=S[I];if(0==(1&I)){const K=N;""!==K&&p2(n,u,b[0],f,m,e,K)}else{const K=N;if("object"!=typeof K)throw new Error(`Unable to parse ICU expression in "${s}" message.`);lM(n,e,m,t,K,oM(n,u,b[0],e,f,"",!0).index)}}}else{const S=47===E.charCodeAt(0),N=(E.charCodeAt(S?1:0),20+Number.parseInt(E.substring(S?2:1)));if(S)b.shift(),Hr(wr(),!1);else{const K=XL(n,b[0],N);b.unshift([]),Hr(K,!0)}}}n.data[r]={create:f,update:m}}(r,null===f?0:f.index,s,l,u,e);const m=r.data[l],w=ed(r,f===s[6]?null:f,s);(function n2(n,t,e,r){const s=n[11];for(let l=0;l<t.length;l++){const u=t[l++],f=t[l],m=(u&Hn.COMMENT)===Hn.COMMENT,b=(u&Hn.APPEND_EAGERLY)===Hn.APPEND_EAGERLY,w=u>>>Hn.SHIFT;let x=n[w];null===x&&(x=n[w]=m?s.createComment(f):qu(s,f)),b&&null!==e&&ma(s,e,x,r,!1)}})(s,m.create,w,f&&8&f.type?s[f.index]:null),Nf(!0)}function Yx(){Nf(!1)}function Gm(n,t,e){Qx(n,t,e),Yx()}function Zx(n){return function e2(n){n&&($m|=1<<Math.min(Wm,31)),Wm++}(ki(ee(),sl(),n)),Zx}function hM(n){!function t2(n,t,e){if(Wm>0){const r=n.data[e];eM(n,t,Array.isArray(r)?r:r.update,function Ur(){return je.lFrame.bindingIndex}()-Wm-1,$m)}$m=0,Wm=0}(Dt(),ee(),n+20)}function Xx(n,t,e,r,s){if(n=rt(n),Array.isArray(n))for(let l=0;l<n.length;l++)Xx(n[l],t,e,r,s);else{const l=Dt(),u=ee();let f=_a(n)?n:rt(n.provide),m=dm(n);const b=Vn(),w=1048575&b.providerIndexes,x=b.directiveStart,E=b.providerIndexes>>20;if(_a(n)||!n.multi){const S=new Ic(m,s,M),I=e1(f,t,s?w:w+E,x);-1===I?(Vt(dl(b,u),l,f),Jx(l,n,t.length),t.push(f),b.directiveStart++,b.directiveEnd++,s&&(b.providerIndexes+=1048576),e.push(S),u.push(S)):(e[I]=S,u[I]=S)}else{const S=e1(f,t,w+E,x),I=e1(f,t,w,w+E),N=S>=0&&e[S],K=I>=0&&e[I];if(s&&!K||!s&&!N){Vt(dl(b,u),l,f);const G=function L2(n,t,e,r,s){const l=new Ic(n,e,M);return l.multi=[],l.index=t,l.componentProviders=0,pM(l,s,r&&!e),l}(s?N2:F2,e.length,s,r,m);!s&&K&&(e[I].providerFactory=G),Jx(l,n,t.length,0),t.push(f),b.directiveStart++,b.directiveEnd++,s&&(b.providerIndexes+=1048576),e.push(G),u.push(G)}else Jx(l,n,S>-1?S:I,pM(e[s?I:S],m,!s&&r));!s&&r&&K&&e[I].componentProviders++}}}function Jx(n,t,e,r){const s=_a(t),l=function Av(n){return!!n.useClass}(t);if(s||l){const m=(l?rt(t.useClass):t).prototype.ngOnDestroy;if(m){const b=n.destroyHooks||(n.destroyHooks=[]);if(!s&&t.multi){const w=b.indexOf(e);-1===w?b.push(e,[r,m]):b[w+1].push(r,m)}else b.push(e,m)}}}function pM(n,t,e){return e&&n.componentProviders++,n.multi.push(t)-1}function e1(n,t,e,r){for(let s=e;s<r;s++)if(t[s]===n)return s;return-1}function F2(n,t,e,r){return t1(this.multi,[])}function N2(n,t,e,r){const s=this.multi;let l;if(this.providerFactory){const u=this.providerFactory.componentProviders,f=gs(e,e[1],this.providerFactory.index,r);l=f.slice(0,u),t1(s,l);for(let m=u;m<f.length;m++)l.push(f[m])}else l=[],t1(s,l);return l}function t1(n,t){for(let e=0;e<n.length;e++)t.push((0,n[e])());return t}function _t(n,t=[]){return e=>{e.providersResolver=(r,s)=>function O2(n,t,e){const r=Dt();if(r.firstCreatePass){const s=jr(n);Xx(e,r.data,r.blueprint,s,!0),Xx(t,r.data,r.blueprint,s,!1)}}(r,s?s(n):n,t)}}class mM{}class j2{resolveComponentFactory(t){throw function V2(n){const t=Error(`No component factory found for ${$t(n)}. Did you add it to @NgModule.entryComponents?`);return t.ngComponent=n,t}(t)}}let Cd=(()=>{class n{}return n.NULL=new j2,n})();function z2(){return Ch(Vn(),ee())}function Ch(n,t){return new ze(yr(n,t))}let ze=(()=>{class n{constructor(e){this.nativeElement=e}}return n.__NG_ELEMENT_ID__=z2,n})();function H2(n){return n instanceof ze?n.nativeElement:n}class Km{}let Ca=(()=>{class n{}return n.__NG_ELEMENT_ID__=()=>function $2(){const n=ee(),e=Ii(Vn().index,n);return function U2(n){return n[11]}(co(e)?e:n)}(),n})(),W2=(()=>{class n{}return n.\u0275prov=oe({token:n,providedIn:"root",factory:()=>null}),n})();class xd{constructor(t){this.full=t,this.major=t.split(".")[0],this.minor=t.split(".")[1],this.patch=t.split(".").slice(2).join(".")}}const q2=new xd("13.3.3"),n1={};function Dy(n,t,e,r,s=!1){for(;null!==e;){const l=t[e.index];if(null!==l&&r.push(In(l)),Vr(l))for(let f=10;f<l.length;f++){const m=l[f],b=m[1].firstChild;null!==b&&Dy(m[1],m,b,r)}const u=e.type;if(8&u)Dy(n,t,e.child,r);else if(32&u){const f=bp(e,t);let m;for(;m=f();)r.push(m)}else if(16&u){const f=Tp(t,e);if(Array.isArray(f))r.push(...f);else{const m=fa(t[16]);Dy(m[1],m,f,r,!0)}}e=s?e.projectionNext:e.next}return r}class Qm{constructor(t,e){this._lView=t,this._cdRefInjectingView=e,this._appRef=null,this._attachedToViewContainer=!1}get rootNodes(){const t=this._lView,e=t[1];return Dy(e,t,e.firstChild,[])}get context(){return this._lView[8]}set context(t){this._lView[8]=t}get destroyed(){return 256==(256&this._lView[2])}destroy(){if(this._appRef)this._appRef.detachView(this);else if(this._attachedToViewContainer){const t=this._lView[3];if(Vr(t)){const e=t[8],r=e?e.indexOf(this):-1;r>-1&&(wp(t,r),Ou(e,r))}this._attachedToViewContainer=!1}kl(this._lView[1],this._lView)}onDestroy(t){tv(this._lView[1],this._lView,null,t)}markForCheck(){im(this._cdRefInjectingView||this._lView)}detach(){this._lView[2]&=-129}reattach(){this._lView[2]|=128}detectChanges(){ch(this._lView[1],this._lView,this.context)}checkNoChanges(){!function rx(n,t,e){xu(!0);try{ch(n,t,e)}finally{xu(!1)}}(this._lView[1],this._lView,this.context)}attachToViewContainerRef(){if(this._appRef)throw new ye(902,"");this._attachedToViewContainer=!0}detachFromAppRef(){this._appRef=null,function EC(n,t){Cs(n,t,t[11],2,null,null)}(this._lView[1],this._lView)}attachToAppRef(t){if(this._attachedToViewContainer)throw new ye(902,"");this._appRef=t}}class G2 extends Qm{constructor(t){super(t),this._view=t}detectChanges(){vv(this._view)}checkNoChanges(){!function yv(n){xu(!0);try{vv(n)}finally{xu(!1)}}(this._view)}get context(){return null}}class _M extends Cd{constructor(t){super(),this.ngModule=t}resolveComponentFactory(t){const e=li(t);return new r1(e,this.ngModule)}}function bM(n){const t=[];for(let e in n)n.hasOwnProperty(e)&&t.push({propName:n[e],templateName:e});return t}class r1 extends mM{constructor(t,e){super(),this.componentDef=t,this.ngModule=e,this.componentType=t.type,this.selector=function Ip(n){return n.map(OC).join(",")}(t.selectors),this.ngContentSelectors=t.ngContentSelectors?t.ngContentSelectors:[],this.isBoundToModule=!!e}get inputs(){return bM(this.componentDef.inputs)}get outputs(){return bM(this.componentDef.outputs)}create(t,e,r,s){const l=(s=s||this.ngModule)?function Q2(n,t){return{get:(e,r,s)=>{const l=n.get(e,n1,s);return l!==n1||r===n1?l:t.get(e,r,s)}}}(t,s.injector):t,u=l.get(Km,ct),f=l.get(W2,null),m=u.createRenderer(null,this.componentDef),b=this.componentDef.selectors[0][0]||"div",w=r?function Qp(n,t,e){if(Tn(n))return n.selectRootElement(t,e===er.ShadowDom);let r="string"==typeof t?n.querySelector(t):t;return r.textContent="",r}(m,r,this.componentDef.encapsulation):Gu(u.createRenderer(null,this.componentDef),b,function K2(n){const t=n.toLowerCase();return"svg"===t?"svg":"math"===t?"math":null}(b)),x=this.componentDef.onPush?576:528,E=function vm(n,t){return{components:[],scheduler:n||bC,clean:om,playerHandler:t||null,flags:0}}(),S=cd(0,null,null,1,0,null,null,null,null,null),I=Kt(null,S,E,x,null,null,u,m,f,l);let N,K;na(I);try{const G=function Lv(n,t,e,r,s,l){const u=e[1];e[20]=n;const m=Ts(u,20,2,"#host",null),b=m.mergedAttrs=t.hostAttrs;null!==b&&(dh(m,b,!0),null!==n&&(Du(s,n,b),null!==m.classes&&Dp(s,n,m.classes),null!==m.styles&&eh(s,n,m.styles)));const w=r.createRenderer(n,t),x=Kt(e,ld(t),null,t.onPush?64:16,e[20],m,r,w,l||null,null);return u.firstCreatePass&&(Vt(dl(m,e),u,t.type),hv(u,m),Xp(m,e.length,1)),lh(e,x),e[20]=x}(w,this.componentDef,I,u,m);if(w)if(r)Du(m,w,["ng-version",q2.full]);else{const{attrs:H,classes:fe}=function Pp(n){const t=[],e=[];let r=1,s=2;for(;r<n.length;){let l=n[r];if("string"==typeof l)2===s?""!==l&&t.push(l,n[++r]):8===s&&e.push(l);else{if(!cr(s))break;s=l}r++}return{attrs:t,classes:e}}(this.componentDef.selectors[0]);H&&Du(m,w,H),fe&&fe.length>0&&Dp(m,w,fe.join(" "))}if(K=cs(S,20),void 0!==e){const H=K.projection=[];for(let fe=0;fe<this.ngContentSelectors.length;fe++){const ve=e[fe];H.push(null!=ve?Array.from(ve):null)}}N=function Bv(n,t,e,r,s){const l=e[1],u=function ZC(n,t,e){const r=Vn();n.firstCreatePass&&(e.providersResolver&&e.providersResolver(e),Jp(n,r,t,qi(n,t,1,null),e));const s=gs(t,n,r.directiveStart,r);ui(s,t);const l=yr(r,t);return l&&ui(l,t),s}(l,e,t);if(r.components.push(u),n[8]=u,s&&s.forEach(m=>m(u,t)),t.contentQueries){const m=Vn();t.contentQueries(1,u,m.directiveStart)}const f=Vn();return!l.firstCreatePass||null===t.hostBindings&&null===t.hostAttrs||(hs(f.index),lv(e[1],f,0,f.directiveStart,f.directiveEnd,t),uv(t,u)),u}(G,this.componentDef,I,E,[ym]),Es(S,I,null)}finally{Eu()}return new Z2(this.componentType,N,Ch(K,I),I,K)}}class Z2 extends class B2{}{constructor(t,e,r,s,l){super(),this.location=r,this._rootLView=s,this._tNode=l,this.instance=e,this.hostView=this.changeDetectorRef=new G2(s),this.componentType=t}get injector(){return new Pi(this._tNode,this._rootLView)}destroy(){this.hostView.destroy()}onDestroy(t){this.hostView.onDestroy(t)}}class xa{}class vM{}const xh=new Map;class kM extends xa{constructor(t,e){super(),this._parent=e,this._bootstrapComponents=[],this.injector=this,this.destroyCbs=[],this.componentFactoryResolver=new _M(this);const r=br(t);this._bootstrapComponents=Gr(r.bootstrap),this._r3Injector=Sv(t,e,[{provide:xa,useValue:this},{provide:Cd,useValue:this.componentFactoryResolver}],$t(t)),this._r3Injector._resolveInjectorDefTypes(),this.instance=this.get(t)}get(t,e=nn.THROW_IF_NOT_FOUND,r=Qe.Default){return t===nn||t===xa||t===sm?this:this._r3Injector.get(t,e,r)}destroy(){const t=this._r3Injector;!t.destroyed&&t.destroy(),this.destroyCbs.forEach(e=>e()),this.destroyCbs=null}onDestroy(t){this.destroyCbs.push(t)}}class o1 extends vM{constructor(t){super(),this.moduleType=t,null!==br(t)&&function J2(n){const t=new Set;!function e(r){const s=br(r,!0),l=s.id;null!==l&&(function yM(n,t,e){if(t&&t!==e)throw new Error(`Duplicate module registered for ${n} - ${$t(t)} vs ${$t(t.name)}`)}(l,xh.get(l),r),xh.set(l,r));const u=Gr(s.imports);for(const f of u)t.has(f)||(t.add(f),e(f))}(n)}(t)}create(t){return new kM(this.moduleType,t)}}function Th(n,t,e,r){return xM(ee(),Mt(),n,t,e,r)}function Ym(n,t){const e=n[t];return e===tt?void 0:e}function xM(n,t,e,r,s,l){const u=t+e;return ki(n,u,s)?Mr(n,u+1,l?r.call(l,s):r(s)):Ym(n,u+1)}function TM(n,t,e,r,s,l,u){const f=t+e;return function va(n,t,e,r){const s=ki(n,t,e);return ki(n,t+1,r)||s}(n,f,s,l)?Mr(n,f+2,u?r.call(u,s,l):r(s,l)):Ym(n,f+2)}function Co(n,t){const e=Dt();let r;const s=n+20;e.firstCreatePass?(r=function lB(n,t){if(t)for(let e=t.length-1;e>=0;e--){const r=t[e];if(n===r.name)return r}}(t,e.pipeRegistry),e.data[s]=r,r.onDestroy&&(e.destroyHooks||(e.destroyHooks=[])).push(s,r.onDestroy)):r=e.data[s];const l=r.factory||(r.factory=ls(r.type)),u=Ro(M);try{const f=Fc(!1),m=l();return Fc(f),function Uv(n,t,e,r){e>=n.data.length&&(n.data[e]=null,n.blueprint[e]=null),t[e]=r}(e,ee(),s,m),m}finally{Ro(u)}}function Bl(n,t,e){const r=n+20,s=ee(),l=ta(s,r);return Xm(s,r)?xM(s,Mt(),t,l.transform,e,l):l.transform(e)}function Zm(n,t,e,r){const s=n+20,l=ee(),u=ta(l,s);return Xm(l,s)?TM(l,Mt(),t,u.transform,e,r,u):u.transform(e,r)}function Xm(n,t){return n[1].data[t].pure}function s1(n){return t=>{setTimeout(n,void 0,t)}}const we=class hB extends Oe{constructor(t=!1){super(),this.__isAsync=t}emit(t){super.next(t)}subscribe(t,e,r){var s,l,u;let f=t,m=e||(()=>null),b=r;if(t&&"object"==typeof t){const x=t;f=null===(s=x.next)||void 0===s?void 0:s.bind(x),m=null===(l=x.error)||void 0===l?void 0:l.bind(x),b=null===(u=x.complete)||void 0===u?void 0:u.bind(x)}this.__isAsync&&(m=s1(m),f&&(f=s1(f)),b&&(b=s1(b)));const w=super.subscribe({next:f,error:m,complete:b});return t instanceof U&&t.add(w),w}};function fB(){return this._results[xl()]()}class Jm{constructor(t=!1){this._emitDistinctChangesOnly=t,this.dirty=!0,this._results=[],this._changesDetected=!1,this._changes=null,this.length=0,this.first=void 0,this.last=void 0;const e=xl(),r=Jm.prototype;r[e]||(r[e]=fB)}get changes(){return this._changes||(this._changes=new we)}get(t){return this._results[t]}map(t){return this._results.map(t)}filter(t){return this._results.filter(t)}find(t){return this._results.find(t)}reduce(t,e){return this._results.reduce(t,e)}forEach(t){this._results.forEach(t)}some(t){return this._results.some(t)}toArray(){return this._results.slice()}toString(){return this._results.toString()}reset(t,e){const r=this;r.dirty=!1;const s=xr(t);(this._changesDetected=!function Nc(n,t,e){if(n.length!==t.length)return!1;for(let r=0;r<n.length;r++){let s=n[r],l=t[r];if(e&&(s=e(s),l=e(l)),l!==s)return!1}return!0}(r._results,s,e))&&(r._results=s,r.length=s.length,r.last=s[this.length-1],r.first=s[0])}notifyOnChanges(){this._changes&&(this._changesDetected||!this._emitDistinctChangesOnly)&&this._changes.emit(this)}setDirty(){this.dirty=!0}destroy(){this.changes.complete(),this.changes.unsubscribe()}}Symbol;let qo=(()=>{class n{}return n.__NG_ELEMENT_ID__=gB,n})();const pB=qo,mB=class extends pB{constructor(t,e,r){super(),this._declarationLView=t,this._declarationTContainer=e,this.elementRef=r}createEmbeddedView(t){const e=this._declarationTContainer.tViews,r=Kt(this._declarationLView,e,t,16,null,e.declTNode,null,null,null,null);r[17]=this._declarationLView[this._declarationTContainer.index];const l=this._declarationLView[19];return null!==l&&(r[19]=l.createEmbeddedView(e)),Es(e,r,t),new Qm(r)}};function gB(){return My(Vn(),ee())}function My(n,t){return 4&n.type?new mB(t,n,Ch(n,t)):null}let eo=(()=>{class n{}return n.__NG_ELEMENT_ID__=_B,n})();function _B(){return IM(Vn(),ee())}const bB=eo,MM=class extends bB{constructor(t,e,r){super(),this._lContainer=t,this._hostTNode=e,this._hostLView=r}get element(){return Ch(this._hostTNode,this._hostLView)}get injector(){return new Pi(this._hostTNode,this._hostLView)}get parentInjector(){const t=fo(this._hostTNode,this._hostLView);if(Ut(t)){const e=ia(t,this._hostLView),r=ps(t);return new Pi(e[1].data[r+8],e)}return new Pi(null,this._hostLView)}clear(){for(;this.length>0;)this.remove(this.length-1)}get(t){const e=AM(this._lContainer);return null!==e&&e[t]||null}get length(){return this._lContainer.length-10}createEmbeddedView(t,e,r){const s=t.createEmbeddedView(e||{});return this.insert(s,r),s}createComponent(t,e,r,s,l){const u=t&&!function ml(n){return"function"==typeof n}(t);let f;if(u)f=e;else{const x=e||{};f=x.index,r=x.injector,s=x.projectableNodes,l=x.ngModuleRef}const m=u?t:new r1(li(t)),b=r||this.parentInjector;if(!l&&null==m.ngModule){const E=(u?b:this.parentInjector).get(xa,null);E&&(l=E)}const w=m.create(b,s,void 0,l);return this.insert(w.hostView,f),w}insert(t,e){const r=t._lView,s=r[1];if(function w_(n){return Vr(n[3])}(r)){const w=this.indexOf(t);if(-1!==w)this.detach(w);else{const x=r[3],E=new MM(x,x[6],x[3]);E.detach(E.indexOf(t))}}const l=this._adjustIndex(e),u=this._lContainer;!function Eb(n,t,e,r){const s=10+r,l=e.length;r>0&&(e[s-1][4]=t),r<l-10?(t[4]=e[s],bs(e,10+r,t)):(e.push(t),t[4]=null),t[3]=e;const u=t[17];null!==u&&e!==u&&function Sb(n,t){const e=n[9];t[16]!==t[3][3][16]&&(n[2]=!0),null===e?n[9]=[t]:e.push(t)}(u,t);const f=t[19];null!==f&&f.insertView(n),t[2]|=128}(s,r,u,l);const f=Xu(l,u),m=r[11],b=lr(m,u[7]);return null!==b&&function TC(n,t,e,r,s,l){r[0]=s,r[6]=t,Cs(n,r,e,1,s,l)}(s,u[6],m,r,b,f),t.attachToViewContainerRef(),bs(a1(u),l,t),t}move(t,e){return this.insert(t,e)}indexOf(t){const e=AM(this._lContainer);return null!==e?e.indexOf(t):-1}remove(t){const e=this._adjustIndex(t,-1),r=wp(this._lContainer,e);r&&(Ou(a1(this._lContainer),e),kl(r[1],r))}detach(t){const e=this._adjustIndex(t,-1),r=wp(this._lContainer,e);return r&&null!=Ou(a1(this._lContainer),e)?new Qm(r):null}_adjustIndex(t,e=0){return null==t?this.length+e:t}};function AM(n){return n[8]}function a1(n){return n[8]||(n[8]=[])}function IM(n,t){let e;const r=t[n.index];if(Vr(r))e=r;else{let s;if(8&n.type)s=In(r);else{const l=t[11];s=l.createComment("");const u=yr(n,t);ma(l,lr(l,u),s,function MC(n,t){return Tn(n)?n.nextSibling(t):t.nextSibling}(l,u),!1)}t[n.index]=e=tm(r,t,s,n),lh(t,e)}return new MM(e,n,t)}class l1{constructor(t){this.queryList=t,this.matches=null}clone(){return new l1(this.queryList)}setDirty(){this.queryList.setDirty()}}class c1{constructor(t=[]){this.queries=t}createEmbeddedView(t){const e=t.queries;if(null!==e){const r=null!==t.contentQueries?t.contentQueries[0]:e.length,s=[];for(let l=0;l<r;l++){const u=e.getByIndex(l);s.push(this.queries[u.indexInDeclarationView].clone())}return new c1(s)}return null}insertView(t){this.dirtyQueriesWithMatches(t)}detachView(t){this.dirtyQueriesWithMatches(t)}dirtyQueriesWithMatches(t){for(let e=0;e<this.queries.length;e++)null!==NM(t,e).matches&&this.queries[e].setDirty()}}class PM{constructor(t,e,r=null){this.predicate=t,this.flags=e,this.read=r}}class d1{constructor(t=[]){this.queries=t}elementStart(t,e){for(let r=0;r<this.queries.length;r++)this.queries[r].elementStart(t,e)}elementEnd(t){for(let e=0;e<this.queries.length;e++)this.queries[e].elementEnd(t)}embeddedTView(t){let e=null;for(let r=0;r<this.length;r++){const s=null!==e?e.length:0,l=this.getByIndex(r).embeddedTView(t,s);l&&(l.indexInDeclarationView=r,null!==e?e.push(l):e=[l])}return null!==e?new d1(e):null}template(t,e){for(let r=0;r<this.queries.length;r++)this.queries[r].template(t,e)}getByIndex(t){return this.queries[t]}get length(){return this.queries.length}track(t){this.queries.push(t)}}class u1{constructor(t,e=-1){this.metadata=t,this.matches=null,this.indexInDeclarationView=-1,this.crossesNgTemplate=!1,this._appliesToNextNode=!0,this._declarationNodeIndex=e}elementStart(t,e){this.isApplyingToNode(e)&&this.matchTNode(t,e)}elementEnd(t){this._declarationNodeIndex===t.index&&(this._appliesToNextNode=!1)}template(t,e){this.elementStart(t,e)}embeddedTView(t,e){return this.isApplyingToNode(t)?(this.crossesNgTemplate=!0,this.addMatch(-t.index,e),new u1(this.metadata)):null}isApplyingToNode(t){if(this._appliesToNextNode&&1!=(1&this.metadata.flags)){const e=this._declarationNodeIndex;let r=t.parent;for(;null!==r&&8&r.type&&r.index!==e;)r=r.parent;return e===(null!==r?r.index:-1)}return this._appliesToNextNode}matchTNode(t,e){const r=this.metadata.predicate;if(Array.isArray(r))for(let s=0;s<r.length;s++){const l=r[s];this.matchTNodeWithReadOption(t,e,wB(e,l)),this.matchTNodeWithReadOption(t,e,ul(e,t,l,!1,!1))}else r===qo?4&e.type&&this.matchTNodeWithReadOption(t,e,-1):this.matchTNodeWithReadOption(t,e,ul(e,t,r,!1,!1))}matchTNodeWithReadOption(t,e,r){if(null!==r){const s=this.metadata.read;if(null!==s)if(s===ze||s===eo||s===qo&&4&e.type)this.addMatch(e.index,-2);else{const l=ul(e,t,s,!1,!1);null!==l&&this.addMatch(e.index,l)}else this.addMatch(e.index,r)}}addMatch(t,e){null===this.matches?this.matches=[t,e]:this.matches.push(t,e)}}function wB(n,t){const e=n.localNames;if(null!==e)for(let r=0;r<e.length;r+=2)if(e[r]===t)return e[r+1];return null}function CB(n,t,e,r){return-1===e?function kB(n,t){return 11&n.type?Ch(n,t):4&n.type?My(n,t):null}(t,n):-2===e?function xB(n,t,e){return e===ze?Ch(t,n):e===qo?My(t,n):e===eo?IM(t,n):void 0}(n,t,r):gs(n,n[1],e,t)}function RM(n,t,e,r){const s=t[19].queries[r];if(null===s.matches){const l=n.data,u=e.matches,f=[];for(let m=0;m<u.length;m+=2){const b=u[m];f.push(b<0?null:CB(t,l[b],u[m+1],e.metadata.read))}s.matches=f}return s.matches}function h1(n,t,e,r){const s=n.queries.getByIndex(e),l=s.matches;if(null!==l){const u=RM(n,t,s,e);for(let f=0;f<l.length;f+=2){const m=l[f];if(m>0)r.push(u[f/2]);else{const b=l[f+1],w=t[-m];for(let x=10;x<w.length;x++){const E=w[x];E[17]===E[3]&&h1(E[1],E,b,r)}if(null!==w[9]){const x=w[9];for(let E=0;E<x.length;E++){const S=x[E];h1(S[1],S,b,r)}}}}}return r}function st(n){const t=ee(),e=Dt(),r=Lf();uo(r+1);const s=NM(e,r);if(n.dirty&&y_(t)===(2==(2&s.metadata.flags))){if(null===s.matches)n.reset([]);else{const l=s.crossesNgTemplate?h1(e,t,r,[]):RM(e,t,s,r);n.reset(l,H2),n.notifyOnChanges()}return!0}return!1}function Jn(n,t,e){const r=Dt();r.firstCreatePass&&(FM(r,new PM(n,t,e),-1),2==(2&t)&&(r.staticViewQueries=!0)),OM(r,ee(),t)}function bn(n,t,e,r){const s=Dt();if(s.firstCreatePass){const l=Vn();FM(s,new PM(t,e,r),l.index),function EB(n,t){const e=n.contentQueries||(n.contentQueries=[]);t!==(e.length?e[e.length-1]:-1)&&e.push(n.queries.length-1,t)}(s,n),2==(2&e)&&(s.staticContentQueries=!0)}OM(s,ee(),e)}function at(){return function TB(n,t){return n[19].queries[t].queryList}(ee(),Lf())}function OM(n,t,e){const r=new Jm(4==(4&e));tv(n,t,r,r.destroy),null===t[19]&&(t[19]=new c1),t[19].queries.push(new l1(r))}function FM(n,t,e){null===n.queries&&(n.queries=new d1),n.queries.track(new u1(t,e))}function NM(n,t){return n.queries.getByIndex(t)}function Eh(n,t){return My(n,t)}function Py(...n){}const b1=new re("Application Initializer");let v1=(()=>{class n{constructor(e){this.appInits=e,this.resolve=Py,this.reject=Py,this.initialized=!1,this.done=!1,this.donePromise=new Promise((r,s)=>{this.resolve=r,this.reject=s})}runInitializers(){if(this.initialized)return;const e=[],r=()=>{this.done=!0,this.resolve()};if(this.appInits)for(let s=0;s<this.appInits.length;s++){const l=this.appInits[s]();if(Fl(l))e.push(l);else if(Im(l)){const u=new Promise((f,m)=>{l.subscribe({complete:f,error:m})});e.push(u)}}Promise.all(e).then(()=>{r()}).catch(s=>{this.reject(s)}),0===e.length&&r(),this.initialized=!0}}return n.\u0275fac=function(e){return new(e||n)(L(b1,8))},n.\u0275prov=oe({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();const tg=new re("AppId",{providedIn:"root",factory:function JM(){return`${y1()}${y1()}${y1()}`}});function y1(){return String.fromCharCode(97+Math.floor(25*Math.random()))}const eA=new re("Platform Initializer"),ng=new re("Platform ID",{providedIn:"platform",factory:()=>"unknown"}),tA=new re("appBootstrapListener");let UB=(()=>{class n{log(e){console.log(e)}warn(e){console.warn(e)}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275prov=oe({token:n,factory:n.\u0275fac,providedIn:"platform"}),n})();const Ta=new re("LocaleId",{providedIn:"root",factory:()=>Lt(Ta,Qe.Optional|Qe.SkipSelf)||function $B(){return"undefined"!=typeof $localize&&$localize.locale||Cy}()});class qB{constructor(t,e){this.ngModuleFactory=t,this.componentFactories=e}}let nA=(()=>{class n{compileModuleSync(e){return new o1(e)}compileModuleAsync(e){return Promise.resolve(this.compileModuleSync(e))}compileModuleAndAllComponentsSync(e){const r=this.compileModuleSync(e),l=Gr(br(e).declarations).reduce((u,f)=>{const m=li(f);return m&&u.push(new r1(m)),u},[]);return new qB(r,l)}compileModuleAndAllComponentsAsync(e){return Promise.resolve(this.compileModuleAndAllComponentsSync(e))}clearCache(){}clearCacheFor(e){}getModuleId(e){}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275prov=oe({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();const KB=(()=>Promise.resolve(0))();function w1(n){"undefined"==typeof Zone?KB.then(()=>{n&&n.apply(null,null)}):Zone.current.scheduleMicroTask("scheduleMicrotask",n)}class He{constructor({enableLongStackTrace:t=!1,shouldCoalesceEventChangeDetection:e=!1,shouldCoalesceRunChangeDetection:r=!1}){if(this.hasPendingMacrotasks=!1,this.hasPendingMicrotasks=!1,this.isStable=!0,this.onUnstable=new we(!1),this.onMicrotaskEmpty=new we(!1),this.onStable=new we(!1),this.onError=new we(!1),"undefined"==typeof Zone)throw new Error("In this configuration Angular requires Zone.js");Zone.assertZonePatched();const s=this;s._nesting=0,s._outer=s._inner=Zone.current,Zone.TaskTrackingZoneSpec&&(s._inner=s._inner.fork(new Zone.TaskTrackingZoneSpec)),t&&Zone.longStackTraceZoneSpec&&(s._inner=s._inner.fork(Zone.longStackTraceZoneSpec)),s.shouldCoalesceEventChangeDetection=!r&&e,s.shouldCoalesceRunChangeDetection=r,s.lastRequestAnimationFrameId=-1,s.nativeRequestAnimationFrame=function QB(){let n=Wt.requestAnimationFrame,t=Wt.cancelAnimationFrame;if("undefined"!=typeof Zone&&n&&t){const e=n[Zone.__symbol__("OriginalDelegate")];e&&(n=e);const r=t[Zone.__symbol__("OriginalDelegate")];r&&(t=r)}return{nativeRequestAnimationFrame:n,nativeCancelAnimationFrame:t}}().nativeRequestAnimationFrame,function XB(n){const t=()=>{!function ZB(n){n.isCheckStableRunning||-1!==n.lastRequestAnimationFrameId||(n.lastRequestAnimationFrameId=n.nativeRequestAnimationFrame.call(Wt,()=>{n.fakeTopEventTask||(n.fakeTopEventTask=Zone.root.scheduleEventTask("fakeTopEventTask",()=>{n.lastRequestAnimationFrameId=-1,C1(n),n.isCheckStableRunning=!0,k1(n),n.isCheckStableRunning=!1},void 0,()=>{},()=>{})),n.fakeTopEventTask.invoke()}),C1(n))}(n)};n._inner=n._inner.fork({name:"angular",properties:{isAngularZone:!0},onInvokeTask:(e,r,s,l,u,f)=>{try{return iA(n),e.invokeTask(s,l,u,f)}finally{(n.shouldCoalesceEventChangeDetection&&"eventTask"===l.type||n.shouldCoalesceRunChangeDetection)&&t(),rA(n)}},onInvoke:(e,r,s,l,u,f,m)=>{try{return iA(n),e.invoke(s,l,u,f,m)}finally{n.shouldCoalesceRunChangeDetection&&t(),rA(n)}},onHasTask:(e,r,s,l)=>{e.hasTask(s,l),r===s&&("microTask"==l.change?(n._hasPendingMicrotasks=l.microTask,C1(n),k1(n)):"macroTask"==l.change&&(n.hasPendingMacrotasks=l.macroTask))},onHandleError:(e,r,s,l)=>(e.handleError(s,l),n.runOutsideAngular(()=>n.onError.emit(l)),!1)})}(s)}static isInAngularZone(){return"undefined"!=typeof Zone&&!0===Zone.current.get("isAngularZone")}static assertInAngularZone(){if(!He.isInAngularZone())throw new Error("Expected to be in Angular Zone, but it is not!")}static assertNotInAngularZone(){if(He.isInAngularZone())throw new Error("Expected to not be in Angular Zone, but it is!")}run(t,e,r){return this._inner.run(t,e,r)}runTask(t,e,r,s){const l=this._inner,u=l.scheduleEventTask("NgZoneEvent: "+s,t,YB,Py,Py);try{return l.runTask(u,e,r)}finally{l.cancelTask(u)}}runGuarded(t,e,r){return this._inner.runGuarded(t,e,r)}runOutsideAngular(t){return this._outer.run(t)}}const YB={};function k1(n){if(0==n._nesting&&!n.hasPendingMicrotasks&&!n.isStable)try{n._nesting++,n.onMicrotaskEmpty.emit(null)}finally{if(n._nesting--,!n.hasPendingMicrotasks)try{n.runOutsideAngular(()=>n.onStable.emit(null))}finally{n.isStable=!0}}}function C1(n){n.hasPendingMicrotasks=!!(n._hasPendingMicrotasks||(n.shouldCoalesceEventChangeDetection||n.shouldCoalesceRunChangeDetection)&&-1!==n.lastRequestAnimationFrameId)}function iA(n){n._nesting++,n.isStable&&(n.isStable=!1,n.onUnstable.emit(null))}function rA(n){n._nesting--,k1(n)}class JB{constructor(){this.hasPendingMicrotasks=!1,this.hasPendingMacrotasks=!1,this.isStable=!0,this.onUnstable=new we,this.onMicrotaskEmpty=new we,this.onStable=new we,this.onError=new we}run(t,e,r){return t.apply(e,r)}runGuarded(t,e,r){return t.apply(e,r)}runOutsideAngular(t){return t()}runTask(t,e,r,s){return t.apply(e,r)}}let x1=(()=>{class n{constructor(e){this._ngZone=e,this._pendingCount=0,this._isZoneStable=!0,this._didWork=!1,this._callbacks=[],this.taskTrackingZone=null,this._watchAngularEvents(),e.run(()=>{this.taskTrackingZone="undefined"==typeof Zone?null:Zone.current.get("TaskTrackingZone")})}_watchAngularEvents(){this._ngZone.onUnstable.subscribe({next:()=>{this._didWork=!0,this._isZoneStable=!1}}),this._ngZone.runOutsideAngular(()=>{this._ngZone.onStable.subscribe({next:()=>{He.assertNotInAngularZone(),w1(()=>{this._isZoneStable=!0,this._runCallbacksIfReady()})}})})}increasePendingRequestCount(){return this._pendingCount+=1,this._didWork=!0,this._pendingCount}decreasePendingRequestCount(){if(this._pendingCount-=1,this._pendingCount<0)throw new Error("pending async requests below zero");return this._runCallbacksIfReady(),this._pendingCount}isStable(){return this._isZoneStable&&0===this._pendingCount&&!this._ngZone.hasPendingMacrotasks}_runCallbacksIfReady(){if(this.isStable())w1(()=>{for(;0!==this._callbacks.length;){let e=this._callbacks.pop();clearTimeout(e.timeoutId),e.doneCb(this._didWork)}this._didWork=!1});else{let e=this.getPendingTasks();this._callbacks=this._callbacks.filter(r=>!r.updateCb||!r.updateCb(e)||(clearTimeout(r.timeoutId),!1)),this._didWork=!0}}getPendingTasks(){return this.taskTrackingZone?this.taskTrackingZone.macroTasks.map(e=>({source:e.source,creationLocation:e.creationLocation,data:e.data})):[]}addCallback(e,r,s){let l=-1;r&&r>0&&(l=setTimeout(()=>{this._callbacks=this._callbacks.filter(u=>u.timeoutId!==l),e(this._didWork,this.getPendingTasks())},r)),this._callbacks.push({doneCb:e,timeoutId:l,updateCb:s})}whenStable(e,r,s){if(s&&!this.taskTrackingZone)throw new Error('Task tracking zone is required when passing an update callback to whenStable(). Is "zone.js/plugins/task-tracking" loaded?');this.addCallback(e,r,s),this._runCallbacksIfReady()}getPendingRequestCount(){return this._pendingCount}findProviders(e,r,s){return[]}}return n.\u0275fac=function(e){return new(e||n)(L(He))},n.\u0275prov=oe({token:n,factory:n.\u0275fac}),n})(),eV=(()=>{class n{constructor(){this._applications=new Map,T1.addToWindow(this)}registerApplication(e,r){this._applications.set(e,r)}unregisterApplication(e){this._applications.delete(e)}unregisterAllApplications(){this._applications.clear()}getTestability(e){return this._applications.get(e)||null}getAllTestabilities(){return Array.from(this._applications.values())}getAllRootElements(){return Array.from(this._applications.keys())}findTestabilityInTree(e,r=!0){return T1.findTestabilityInTree(this,e,r)}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275prov=oe({token:n,factory:n.\u0275fac,providedIn:"platform"}),n})();class tV{addToWindow(t){}findTestabilityInTree(t,e,r){return null}}let Go,T1=new tV;const oA=new re("AllowMultipleToken");class sA{constructor(t,e){this.name=t,this.token=e}}function aA(n,t,e=[]){const r=`Platform: ${t}`,s=new re(r);return(l=[])=>{let u=lA();if(!u||u.injector.get(oA,!1))if(n)n(e.concat(l).concat({provide:s,useValue:!0}));else{const f=e.concat(l).concat({provide:s,useValue:!0},{provide:Fi,useValue:"platform"});!function oV(n){if(Go&&!Go.destroyed&&!Go.injector.get(oA,!1))throw new ye(400,"");Go=n.get(aV);const t=n.get(eA,null);t&&t.forEach(e=>e())}(nn.create({providers:f,name:r}))}return function sV(n){const t=lA();if(!t)throw new ye(401,"");return t}()}}function lA(){return Go&&!Go.destroyed?Go:null}let aV=(()=>{class n{constructor(e){this._injector=e,this._modules=[],this._destroyListeners=[],this._destroyed=!1}bootstrapModuleFactory(e,r){const f=function lV(n,t){let e;return e="noop"===n?new JB:("zone.js"===n?void 0:n)||new He({enableLongStackTrace:!1,shouldCoalesceEventChangeDetection:!!(null==t?void 0:t.ngZoneEventCoalescing),shouldCoalesceRunChangeDetection:!!(null==t?void 0:t.ngZoneRunCoalescing)}),e}(r?r.ngZone:void 0,{ngZoneEventCoalescing:r&&r.ngZoneEventCoalescing||!1,ngZoneRunCoalescing:r&&r.ngZoneRunCoalescing||!1}),m=[{provide:He,useValue:f}];return f.run(()=>{const b=nn.create({providers:m,parent:this.injector,name:e.moduleType.name}),w=e.create(b),x=w.injector.get(qr,null);if(!x)throw new ye(402,"");return f.runOutsideAngular(()=>{const E=f.onError.subscribe({next:S=>{x.handleError(S)}});w.onDestroy(()=>{E1(this._modules,w),E.unsubscribe()})}),function cV(n,t,e){try{const r=e();return Fl(r)?r.catch(s=>{throw t.runOutsideAngular(()=>n.handleError(s)),s}):r}catch(r){throw t.runOutsideAngular(()=>n.handleError(r)),r}}(x,f,()=>{const E=w.injector.get(v1);return E.runInitializers(),E.donePromise.then(()=>(function WL(n){(function Ji(n,t){null==n&&sn(t,n,null,"!=")})(n,"Expected localeId to be defined"),"string"==typeof n&&(WD=n.toLowerCase().replace(/_/g,"-"))}(w.injector.get(Ta,Cy)||Cy),this._moduleDoBootstrap(w),w))})})}bootstrapModule(e,r=[]){const s=cA({},r);return function iV(n,t,e){const r=new o1(e);return Promise.resolve(r)}(0,0,e).then(l=>this.bootstrapModuleFactory(l,s))}_moduleDoBootstrap(e){const r=e.injector.get(Ry);if(e._bootstrapComponents.length>0)e._bootstrapComponents.forEach(s=>r.bootstrap(s));else{if(!e.instance.ngDoBootstrap)throw new ye(403,"");e.instance.ngDoBootstrap(r)}this._modules.push(e)}onDestroy(e){this._destroyListeners.push(e)}get injector(){return this._injector}destroy(){if(this._destroyed)throw new ye(404,"");this._modules.slice().forEach(e=>e.destroy()),this._destroyListeners.forEach(e=>e()),this._destroyed=!0}get destroyed(){return this._destroyed}}return n.\u0275fac=function(e){return new(e||n)(L(nn))},n.\u0275prov=oe({token:n,factory:n.\u0275fac,providedIn:"platform"}),n})();function cA(n,t){return Array.isArray(t)?t.reduce(cA,n):Object.assign(Object.assign({},n),t)}let Ry=(()=>{class n{constructor(e,r,s,l){this._zone=e,this._injector=r,this._exceptionHandler=s,this._initStatus=l,this._bootstrapListeners=[],this._views=[],this._runningTick=!1,this._stable=!0,this.componentTypes=[],this.components=[],this._onMicrotaskEmptySubscription=this._zone.onMicrotaskEmpty.subscribe({next:()=>{this._zone.run(()=>{this.tick()})}});const u=new Ft(m=>{this._stable=this._zone.isStable&&!this._zone.hasPendingMacrotasks&&!this._zone.hasPendingMicrotasks,this._zone.runOutsideAngular(()=>{m.next(this._stable),m.complete()})}),f=new Ft(m=>{let b;this._zone.runOutsideAngular(()=>{b=this._zone.onStable.subscribe(()=>{He.assertNotInAngularZone(),w1(()=>{!this._stable&&!this._zone.hasPendingMacrotasks&&!this._zone.hasPendingMicrotasks&&(this._stable=!0,m.next(!0))})})});const w=this._zone.onUnstable.subscribe(()=>{He.assertInAngularZone(),this._stable&&(this._stable=!1,this._zone.runOutsideAngular(()=>{m.next(!1)}))});return()=>{b.unsubscribe(),w.unsubscribe()}});this.isStable=lo(u,f.pipe(Xa()))}bootstrap(e,r){if(!this._initStatus.done)throw new ye(405,"");let s;s=e instanceof mM?e:this._injector.get(Cd).resolveComponentFactory(e),this.componentTypes.push(s.componentType);const l=function rV(n){return n.isBoundToModule}(s)?void 0:this._injector.get(xa),f=s.create(nn.NULL,[],r||s.selector,l),m=f.location.nativeElement,b=f.injector.get(x1,null),w=b&&f.injector.get(eV);return b&&w&&w.registerApplication(m,b),f.onDestroy(()=>{this.detachView(f.hostView),E1(this.components,f),w&&w.unregisterApplication(m)}),this._loadComponent(f),f}tick(){if(this._runningTick)throw new ye(101,"");try{this._runningTick=!0;for(let e of this._views)e.detectChanges()}catch(e){this._zone.runOutsideAngular(()=>this._exceptionHandler.handleError(e))}finally{this._runningTick=!1}}attachView(e){const r=e;this._views.push(r),r.attachToAppRef(this)}detachView(e){const r=e;E1(this._views,r),r.detachFromAppRef()}_loadComponent(e){this.attachView(e.hostView),this.tick(),this.components.push(e),this._injector.get(tA,[]).concat(this._bootstrapListeners).forEach(s=>s(e))}ngOnDestroy(){this._views.slice().forEach(e=>e.destroy()),this._onMicrotaskEmptySubscription.unsubscribe()}get viewCount(){return this._views.length}}return n.\u0275fac=function(e){return new(e||n)(L(He),L(nn),L(qr),L(v1))},n.\u0275prov=oe({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();function E1(n,t){const e=n.indexOf(t);e>-1&&n.splice(e,1)}let uA=!0,ei=(()=>{class n{}return n.__NG_ELEMENT_ID__=hV,n})();function hV(n){return function fV(n,t,e){if(_u(n)&&!e){const r=Ii(n.index,t);return new Qm(r,r)}return 47&n.type?new Qm(t[16],t):null}(Vn(),ee(),16==(16&n))}class gA{constructor(){}supports(t){return Tl(t)}create(t){return new vV(t)}}const bV=(n,t)=>t;class vV{constructor(t){this.length=0,this._linkedRecords=null,this._unlinkedRecords=null,this._previousItHead=null,this._itHead=null,this._itTail=null,this._additionsHead=null,this._additionsTail=null,this._movesHead=null,this._movesTail=null,this._removalsHead=null,this._removalsTail=null,this._identityChangesHead=null,this._identityChangesTail=null,this._trackByFn=t||bV}forEachItem(t){let e;for(e=this._itHead;null!==e;e=e._next)t(e)}forEachOperation(t){let e=this._itHead,r=this._removalsHead,s=0,l=null;for(;e||r;){const u=!r||e&&e.currentIndex<bA(r,s,l)?e:r,f=bA(u,s,l),m=u.currentIndex;if(u===r)s--,r=r._nextRemoved;else if(e=e._next,null==u.previousIndex)s++;else{l||(l=[]);const b=f-s,w=m-s;if(b!=w){for(let E=0;E<b;E++){const S=E<l.length?l[E]:l[E]=0,I=S+E;w<=I&&I<b&&(l[E]=S+1)}l[u.previousIndex]=w-b}}f!==m&&t(u,f,m)}}forEachPreviousItem(t){let e;for(e=this._previousItHead;null!==e;e=e._nextPrevious)t(e)}forEachAddedItem(t){let e;for(e=this._additionsHead;null!==e;e=e._nextAdded)t(e)}forEachMovedItem(t){let e;for(e=this._movesHead;null!==e;e=e._nextMoved)t(e)}forEachRemovedItem(t){let e;for(e=this._removalsHead;null!==e;e=e._nextRemoved)t(e)}forEachIdentityChange(t){let e;for(e=this._identityChangesHead;null!==e;e=e._nextIdentityChange)t(e)}diff(t){if(null==t&&(t=[]),!Tl(t))throw new ye(900,"");return this.check(t)?this:null}onDestroy(){}check(t){this._reset();let s,l,u,e=this._itHead,r=!1;if(Array.isArray(t)){this.length=t.length;for(let f=0;f<this.length;f++)l=t[f],u=this._trackByFn(f,l),null!==e&&Object.is(e.trackById,u)?(r&&(e=this._verifyReinsertion(e,l,u,f)),Object.is(e.item,l)||this._addIdentityChange(e,l)):(e=this._mismatch(e,l,u,f),r=!0),e=e._next}else s=0,function yx(n,t){if(Array.isArray(n))for(let e=0;e<n.length;e++)t(n[e]);else{const e=n[xl()]();let r;for(;!(r=e.next()).done;)t(r.value)}}(t,f=>{u=this._trackByFn(s,f),null!==e&&Object.is(e.trackById,u)?(r&&(e=this._verifyReinsertion(e,f,u,s)),Object.is(e.item,f)||this._addIdentityChange(e,f)):(e=this._mismatch(e,f,u,s),r=!0),e=e._next,s++}),this.length=s;return this._truncate(e),this.collection=t,this.isDirty}get isDirty(){return null!==this._additionsHead||null!==this._movesHead||null!==this._removalsHead||null!==this._identityChangesHead}_reset(){if(this.isDirty){let t;for(t=this._previousItHead=this._itHead;null!==t;t=t._next)t._nextPrevious=t._next;for(t=this._additionsHead;null!==t;t=t._nextAdded)t.previousIndex=t.currentIndex;for(this._additionsHead=this._additionsTail=null,t=this._movesHead;null!==t;t=t._nextMoved)t.previousIndex=t.currentIndex;this._movesHead=this._movesTail=null,this._removalsHead=this._removalsTail=null,this._identityChangesHead=this._identityChangesTail=null}}_mismatch(t,e,r,s){let l;return null===t?l=this._itTail:(l=t._prev,this._remove(t)),null!==(t=null===this._unlinkedRecords?null:this._unlinkedRecords.get(r,null))?(Object.is(t.item,e)||this._addIdentityChange(t,e),this._reinsertAfter(t,l,s)):null!==(t=null===this._linkedRecords?null:this._linkedRecords.get(r,s))?(Object.is(t.item,e)||this._addIdentityChange(t,e),this._moveAfter(t,l,s)):t=this._addAfter(new yV(e,r),l,s),t}_verifyReinsertion(t,e,r,s){let l=null===this._unlinkedRecords?null:this._unlinkedRecords.get(r,null);return null!==l?t=this._reinsertAfter(l,t._prev,s):t.currentIndex!=s&&(t.currentIndex=s,this._addToMoves(t,s)),t}_truncate(t){for(;null!==t;){const e=t._next;this._addToRemovals(this._unlink(t)),t=e}null!==this._unlinkedRecords&&this._unlinkedRecords.clear(),null!==this._additionsTail&&(this._additionsTail._nextAdded=null),null!==this._movesTail&&(this._movesTail._nextMoved=null),null!==this._itTail&&(this._itTail._next=null),null!==this._removalsTail&&(this._removalsTail._nextRemoved=null),null!==this._identityChangesTail&&(this._identityChangesTail._nextIdentityChange=null)}_reinsertAfter(t,e,r){null!==this._unlinkedRecords&&this._unlinkedRecords.remove(t);const s=t._prevRemoved,l=t._nextRemoved;return null===s?this._removalsHead=l:s._nextRemoved=l,null===l?this._removalsTail=s:l._prevRemoved=s,this._insertAfter(t,e,r),this._addToMoves(t,r),t}_moveAfter(t,e,r){return this._unlink(t),this._insertAfter(t,e,r),this._addToMoves(t,r),t}_addAfter(t,e,r){return this._insertAfter(t,e,r),this._additionsTail=null===this._additionsTail?this._additionsHead=t:this._additionsTail._nextAdded=t,t}_insertAfter(t,e,r){const s=null===e?this._itHead:e._next;return t._next=s,t._prev=e,null===s?this._itTail=t:s._prev=t,null===e?this._itHead=t:e._next=t,null===this._linkedRecords&&(this._linkedRecords=new _A),this._linkedRecords.put(t),t.currentIndex=r,t}_remove(t){return this._addToRemovals(this._unlink(t))}_unlink(t){null!==this._linkedRecords&&this._linkedRecords.remove(t);const e=t._prev,r=t._next;return null===e?this._itHead=r:e._next=r,null===r?this._itTail=e:r._prev=e,t}_addToMoves(t,e){return t.previousIndex===e||(this._movesTail=null===this._movesTail?this._movesHead=t:this._movesTail._nextMoved=t),t}_addToRemovals(t){return null===this._unlinkedRecords&&(this._unlinkedRecords=new _A),this._unlinkedRecords.put(t),t.currentIndex=null,t._nextRemoved=null,null===this._removalsTail?(this._removalsTail=this._removalsHead=t,t._prevRemoved=null):(t._prevRemoved=this._removalsTail,this._removalsTail=this._removalsTail._nextRemoved=t),t}_addIdentityChange(t,e){return t.item=e,this._identityChangesTail=null===this._identityChangesTail?this._identityChangesHead=t:this._identityChangesTail._nextIdentityChange=t,t}}class yV{constructor(t,e){this.item=t,this.trackById=e,this.currentIndex=null,this.previousIndex=null,this._nextPrevious=null,this._prev=null,this._next=null,this._prevDup=null,this._nextDup=null,this._prevRemoved=null,this._nextRemoved=null,this._nextAdded=null,this._nextMoved=null,this._nextIdentityChange=null}}class wV{constructor(){this._head=null,this._tail=null}add(t){null===this._head?(this._head=this._tail=t,t._nextDup=null,t._prevDup=null):(this._tail._nextDup=t,t._prevDup=this._tail,t._nextDup=null,this._tail=t)}get(t,e){let r;for(r=this._head;null!==r;r=r._nextDup)if((null===e||e<=r.currentIndex)&&Object.is(r.trackById,t))return r;return null}remove(t){const e=t._prevDup,r=t._nextDup;return null===e?this._head=r:e._nextDup=r,null===r?this._tail=e:r._prevDup=e,null===this._head}}class _A{constructor(){this.map=new Map}put(t){const e=t.trackById;let r=this.map.get(e);r||(r=new wV,this.map.set(e,r)),r.add(t)}get(t,e){const s=this.map.get(t);return s?s.get(t,e):null}remove(t){const e=t.trackById;return this.map.get(e).remove(t)&&this.map.delete(e),t}get isEmpty(){return 0===this.map.size}clear(){this.map.clear()}}function bA(n,t,e){const r=n.previousIndex;if(null===r)return r;let s=0;return e&&r<e.length&&(s=e[r]),r+t+s}class vA{constructor(){}supports(t){return t instanceof Map||km(t)}create(){return new kV}}class kV{constructor(){this._records=new Map,this._mapHead=null,this._appendAfter=null,this._previousMapHead=null,this._changesHead=null,this._changesTail=null,this._additionsHead=null,this._additionsTail=null,this._removalsHead=null,this._removalsTail=null}get isDirty(){return null!==this._additionsHead||null!==this._changesHead||null!==this._removalsHead}forEachItem(t){let e;for(e=this._mapHead;null!==e;e=e._next)t(e)}forEachPreviousItem(t){let e;for(e=this._previousMapHead;null!==e;e=e._nextPrevious)t(e)}forEachChangedItem(t){let e;for(e=this._changesHead;null!==e;e=e._nextChanged)t(e)}forEachAddedItem(t){let e;for(e=this._additionsHead;null!==e;e=e._nextAdded)t(e)}forEachRemovedItem(t){let e;for(e=this._removalsHead;null!==e;e=e._nextRemoved)t(e)}diff(t){if(t){if(!(t instanceof Map||km(t)))throw new ye(900,"")}else t=new Map;return this.check(t)?this:null}onDestroy(){}check(t){this._reset();let e=this._mapHead;if(this._appendAfter=null,this._forEach(t,(r,s)=>{if(e&&e.key===s)this._maybeAddToChanges(e,r),this._appendAfter=e,e=e._next;else{const l=this._getOrCreateRecordForKey(s,r);e=this._insertBeforeOrAppend(e,l)}}),e){e._prev&&(e._prev._next=null),this._removalsHead=e;for(let r=e;null!==r;r=r._nextRemoved)r===this._mapHead&&(this._mapHead=null),this._records.delete(r.key),r._nextRemoved=r._next,r.previousValue=r.currentValue,r.currentValue=null,r._prev=null,r._next=null}return this._changesTail&&(this._changesTail._nextChanged=null),this._additionsTail&&(this._additionsTail._nextAdded=null),this.isDirty}_insertBeforeOrAppend(t,e){if(t){const r=t._prev;return e._next=t,e._prev=r,t._prev=e,r&&(r._next=e),t===this._mapHead&&(this._mapHead=e),this._appendAfter=t,t}return this._appendAfter?(this._appendAfter._next=e,e._prev=this._appendAfter):this._mapHead=e,this._appendAfter=e,null}_getOrCreateRecordForKey(t,e){if(this._records.has(t)){const s=this._records.get(t);this._maybeAddToChanges(s,e);const l=s._prev,u=s._next;return l&&(l._next=u),u&&(u._prev=l),s._next=null,s._prev=null,s}const r=new CV(t);return this._records.set(t,r),r.currentValue=e,this._addToAdditions(r),r}_reset(){if(this.isDirty){let t;for(this._previousMapHead=this._mapHead,t=this._previousMapHead;null!==t;t=t._next)t._nextPrevious=t._next;for(t=this._changesHead;null!==t;t=t._nextChanged)t.previousValue=t.currentValue;for(t=this._additionsHead;null!=t;t=t._nextAdded)t.previousValue=t.currentValue;this._changesHead=this._changesTail=null,this._additionsHead=this._additionsTail=null,this._removalsHead=null}}_maybeAddToChanges(t,e){Object.is(e,t.currentValue)||(t.previousValue=t.currentValue,t.currentValue=e,this._addToChanges(t))}_addToAdditions(t){null===this._additionsHead?this._additionsHead=this._additionsTail=t:(this._additionsTail._nextAdded=t,this._additionsTail=t)}_addToChanges(t){null===this._changesHead?this._changesHead=this._changesTail=t:(this._changesTail._nextChanged=t,this._changesTail=t)}_forEach(t,e){t instanceof Map?t.forEach(e):Object.keys(t).forEach(r=>e(t[r],r))}}class CV{constructor(t){this.key=t,this.previousValue=null,this.currentValue=null,this._nextPrevious=null,this._next=null,this._prev=null,this._nextAdded=null,this._nextRemoved=null,this._nextChanged=null}}function yA(){return new Ny([new gA])}let Ny=(()=>{class n{constructor(e){this.factories=e}static create(e,r){if(null!=r){const s=r.factories.slice();e=e.concat(s)}return new n(e)}static extend(e){return{provide:n,useFactory:r=>n.create(e,r||yA()),deps:[[n,new la,new Er]]}}find(e){const r=this.factories.find(s=>s.supports(e));if(null!=r)return r;throw new ye(901,"")}}return n.\u0275prov=oe({token:n,providedIn:"root",factory:yA}),n})();function wA(){return new ig([new vA])}let ig=(()=>{class n{constructor(e){this.factories=e}static create(e,r){if(r){const s=r.factories.slice();e=e.concat(s)}return new n(e)}static extend(e){return{provide:n,useFactory:r=>n.create(e,r||wA()),deps:[[n,new la,new Er]]}}find(e){const r=this.factories.find(l=>l.supports(e));if(r)return r;throw new ye(901,"")}}return n.\u0275prov=oe({token:n,providedIn:"root",factory:wA}),n})();const EV=aA(null,"core",[]);let SV=(()=>{class n{constructor(e){}}return n.\u0275fac=function(e){return new(e||n)(L(Ry))},n.\u0275mod=ue({type:n}),n.\u0275inj=Se({}),n})(),Ly=null;function Os(){return Ly}const ot=new re("DocumentToken");let Ed=(()=>{class n{historyGo(e){throw new Error("Not implemented")}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275prov=oe({token:n,factory:function(){return function IV(){return L(kA)}()},providedIn:"platform"}),n})();const PV=new re("Location Initialized");let kA=(()=>{class n extends Ed{constructor(e){super(),this._doc=e,this._init()}_init(){this.location=window.location,this._history=window.history}getBaseHrefFromDOM(){return Os().getBaseHref(this._doc)}onPopState(e){const r=Os().getGlobalEventTarget(this._doc,"window");return r.addEventListener("popstate",e,!1),()=>r.removeEventListener("popstate",e)}onHashChange(e){const r=Os().getGlobalEventTarget(this._doc,"window");return r.addEventListener("hashchange",e,!1),()=>r.removeEventListener("hashchange",e)}get href(){return this.location.href}get protocol(){return this.location.protocol}get hostname(){return this.location.hostname}get port(){return this.location.port}get pathname(){return this.location.pathname}get search(){return this.location.search}get hash(){return this.location.hash}set pathname(e){this.location.pathname=e}pushState(e,r,s){CA()?this._history.pushState(e,r,s):this.location.hash=s}replaceState(e,r,s){CA()?this._history.replaceState(e,r,s):this.location.hash=s}forward(){this._history.forward()}back(){this._history.back()}historyGo(e=0){this._history.go(e)}getState(){return this._history.state}}return n.\u0275fac=function(e){return new(e||n)(L(ot))},n.\u0275prov=oe({token:n,factory:function(){return function RV(){return new kA(L(ot))}()},providedIn:"platform"}),n})();function CA(){return!!window.history.pushState}function I1(n,t){if(0==n.length)return t;if(0==t.length)return n;let e=0;return n.endsWith("/")&&e++,t.startsWith("/")&&e++,2==e?n+t.substring(1):1==e?n+t:n+"/"+t}function xA(n){const t=n.match(/#|\?|$/),e=t&&t.index||n.length;return n.slice(0,e-("/"===n[e-1]?1:0))+n.slice(e)}function Ea(n){return n&&"?"!==n[0]?"?"+n:n}let Dh=(()=>{class n{historyGo(e){throw new Error("Not implemented")}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275prov=oe({token:n,factory:function(){return function OV(n){const t=L(ot).location;return new TA(L(Ed),t&&t.origin||"")}()},providedIn:"root"}),n})();const P1=new re("appBaseHref");let TA=(()=>{class n extends Dh{constructor(e,r){if(super(),this._platformLocation=e,this._removeListenerFns=[],null==r&&(r=this._platformLocation.getBaseHrefFromDOM()),null==r)throw new Error("No base href set. Please provide a value for the APP_BASE_HREF token or add a base element to the document.");this._baseHref=r}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(e){this._removeListenerFns.push(this._platformLocation.onPopState(e),this._platformLocation.onHashChange(e))}getBaseHref(){return this._baseHref}prepareExternalUrl(e){return I1(this._baseHref,e)}path(e=!1){const r=this._platformLocation.pathname+Ea(this._platformLocation.search),s=this._platformLocation.hash;return s&&e?`${r}${s}`:r}pushState(e,r,s,l){const u=this.prepareExternalUrl(s+Ea(l));this._platformLocation.pushState(e,r,u)}replaceState(e,r,s,l){const u=this.prepareExternalUrl(s+Ea(l));this._platformLocation.replaceState(e,r,u)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}historyGo(e=0){var r,s;null===(s=(r=this._platformLocation).historyGo)||void 0===s||s.call(r,e)}}return n.\u0275fac=function(e){return new(e||n)(L(Ed),L(P1,8))},n.\u0275prov=oe({token:n,factory:n.\u0275fac}),n})(),FV=(()=>{class n extends Dh{constructor(e,r){super(),this._platformLocation=e,this._baseHref="",this._removeListenerFns=[],null!=r&&(this._baseHref=r)}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(e){this._removeListenerFns.push(this._platformLocation.onPopState(e),this._platformLocation.onHashChange(e))}getBaseHref(){return this._baseHref}path(e=!1){let r=this._platformLocation.hash;return null==r&&(r="#"),r.length>0?r.substring(1):r}prepareExternalUrl(e){const r=I1(this._baseHref,e);return r.length>0?"#"+r:r}pushState(e,r,s,l){let u=this.prepareExternalUrl(s+Ea(l));0==u.length&&(u=this._platformLocation.pathname),this._platformLocation.pushState(e,r,u)}replaceState(e,r,s,l){let u=this.prepareExternalUrl(s+Ea(l));0==u.length&&(u=this._platformLocation.pathname),this._platformLocation.replaceState(e,r,u)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}historyGo(e=0){var r,s;null===(s=(r=this._platformLocation).historyGo)||void 0===s||s.call(r,e)}}return n.\u0275fac=function(e){return new(e||n)(L(Ed),L(P1,8))},n.\u0275prov=oe({token:n,factory:n.\u0275fac}),n})(),rg=(()=>{class n{constructor(e,r){this._subject=new we,this._urlChangeListeners=[],this._platformStrategy=e;const s=this._platformStrategy.getBaseHref();this._platformLocation=r,this._baseHref=xA(EA(s)),this._platformStrategy.onPopState(l=>{this._subject.emit({url:this.path(!0),pop:!0,state:l.state,type:l.type})})}path(e=!1){return this.normalize(this._platformStrategy.path(e))}getState(){return this._platformLocation.getState()}isCurrentPathEqualTo(e,r=""){return this.path()==this.normalize(e+Ea(r))}normalize(e){return n.stripTrailingSlash(function LV(n,t){return n&&t.startsWith(n)?t.substring(n.length):t}(this._baseHref,EA(e)))}prepareExternalUrl(e){return e&&"/"!==e[0]&&(e="/"+e),this._platformStrategy.prepareExternalUrl(e)}go(e,r="",s=null){this._platformStrategy.pushState(s,"",e,r),this._notifyUrlChangeListeners(this.prepareExternalUrl(e+Ea(r)),s)}replaceState(e,r="",s=null){this._platformStrategy.replaceState(s,"",e,r),this._notifyUrlChangeListeners(this.prepareExternalUrl(e+Ea(r)),s)}forward(){this._platformStrategy.forward()}back(){this._platformStrategy.back()}historyGo(e=0){var r,s;null===(s=(r=this._platformStrategy).historyGo)||void 0===s||s.call(r,e)}onUrlChange(e){this._urlChangeListeners.push(e),this._urlChangeSubscription||(this._urlChangeSubscription=this.subscribe(r=>{this._notifyUrlChangeListeners(r.url,r.state)}))}_notifyUrlChangeListeners(e="",r){this._urlChangeListeners.forEach(s=>s(e,r))}subscribe(e,r,s){return this._subject.subscribe({next:e,error:r,complete:s})}}return n.normalizeQueryParams=Ea,n.joinWithSlash=I1,n.stripTrailingSlash=xA,n.\u0275fac=function(e){return new(e||n)(L(Dh),L(Ed))},n.\u0275prov=oe({token:n,factory:function(){return function NV(){return new rg(L(Dh),L(Ed))}()},providedIn:"root"}),n})();function EA(n){return n.replace(/\/index.html$/,"")}var Gn=(()=>((Gn=Gn||{})[Gn.Format=0]="Format",Gn[Gn.Standalone=1]="Standalone",Gn))(),Ct=(()=>((Ct=Ct||{})[Ct.Narrow=0]="Narrow",Ct[Ct.Abbreviated=1]="Abbreviated",Ct[Ct.Wide=2]="Wide",Ct[Ct.Short=3]="Short",Ct))(),Fn=(()=>((Fn=Fn||{})[Fn.Short=0]="Short",Fn[Fn.Medium=1]="Medium",Fn[Fn.Long=2]="Long",Fn[Fn.Full=3]="Full",Fn))(),Ke=(()=>((Ke=Ke||{})[Ke.Decimal=0]="Decimal",Ke[Ke.Group=1]="Group",Ke[Ke.List=2]="List",Ke[Ke.PercentSign=3]="PercentSign",Ke[Ke.PlusSign=4]="PlusSign",Ke[Ke.MinusSign=5]="MinusSign",Ke[Ke.Exponential=6]="Exponential",Ke[Ke.SuperscriptingExponent=7]="SuperscriptingExponent",Ke[Ke.PerMille=8]="PerMille",Ke[Ke.Infinity=9]="Infinity",Ke[Ke.NaN=10]="NaN",Ke[Ke.TimeSeparator=11]="TimeSeparator",Ke[Ke.CurrencyDecimal=12]="CurrencyDecimal",Ke[Ke.CurrencyGroup=13]="CurrencyGroup",Ke))();function By(n,t){return To(fr(n)[be.DateFormat],t)}function Vy(n,t){return To(fr(n)[be.TimeFormat],t)}function jy(n,t){return To(fr(n)[be.DateTimeFormat],t)}function xo(n,t){const e=fr(n),r=e[be.NumberSymbols][t];if(void 0===r){if(t===Ke.CurrencyDecimal)return e[be.NumberSymbols][Ke.Decimal];if(t===Ke.CurrencyGroup)return e[be.NumberSymbols][Ke.Group]}return r}function DA(n){if(!n[be.ExtraData])throw new Error(`Missing extra locale data for the locale "${n[be.LocaleId]}". Use "registerLocaleData" to load new data. See the "I18n guide" on angular.io to know more.`)}function To(n,t){for(let e=t;e>-1;e--)if(void 0!==n[e])return n[e];throw new Error("Locale data API: locale data undefined")}function O1(n){const[t,e]=n.split(":");return{hours:+t,minutes:+e}}const YV=/^(\d{4})-?(\d\d)-?(\d\d)(?:T(\d\d)(?::?(\d\d)(?::?(\d\d)(?:\.(\d+))?)?)?(Z|([+-])(\d\d):?(\d\d))?)?$/,og={},ZV=/((?:[^BEGHLMOSWYZabcdhmswyz']+)|(?:'(?:[^']|'')*')|(?:G{1,5}|y{1,4}|Y{1,4}|M{1,5}|L{1,5}|w{1,2}|W{1}|d{1,2}|E{1,6}|c{1,6}|a{1,5}|b{1,5}|B{1,5}|h{1,2}|H{1,2}|m{1,2}|s{1,2}|S{1,3}|z{1,4}|Z{1,5}|O{1,4}))([\s\S]*)/;var fi=(()=>((fi=fi||{})[fi.Short=0]="Short",fi[fi.ShortGMT=1]="ShortGMT",fi[fi.Long=2]="Long",fi[fi.Extended=3]="Extended",fi))(),Ze=(()=>((Ze=Ze||{})[Ze.FullYear=0]="FullYear",Ze[Ze.Month=1]="Month",Ze[Ze.Date=2]="Date",Ze[Ze.Hours=3]="Hours",Ze[Ze.Minutes=4]="Minutes",Ze[Ze.Seconds=5]="Seconds",Ze[Ze.FractionalSeconds=6]="FractionalSeconds",Ze[Ze.Day=7]="Day",Ze))(),ht=(()=>((ht=ht||{})[ht.DayPeriods=0]="DayPeriods",ht[ht.Days=1]="Days",ht[ht.Months=2]="Months",ht[ht.Eras=3]="Eras",ht))();function zy(n,t,e,r){let s=function a5(n){if(IA(n))return n;if("number"==typeof n&&!isNaN(n))return new Date(n);if("string"==typeof n){if(n=n.trim(),/^(\d{4}(-\d{1,2}(-\d{1,2})?)?)$/.test(n)){const[s,l=1,u=1]=n.split("-").map(f=>+f);return Hy(s,l-1,u)}const e=parseFloat(n);if(!isNaN(n-e))return new Date(e);let r;if(r=n.match(YV))return function l5(n){const t=new Date(0);let e=0,r=0;const s=n[8]?t.setUTCFullYear:t.setFullYear,l=n[8]?t.setUTCHours:t.setHours;n[9]&&(e=Number(n[9]+n[10]),r=Number(n[9]+n[11])),s.call(t,Number(n[1]),Number(n[2])-1,Number(n[3]));const u=Number(n[4]||0)-e,f=Number(n[5]||0)-r,m=Number(n[6]||0),b=Math.floor(1e3*parseFloat("0."+(n[7]||0)));return l.call(t,u,f,m,b),t}(r)}const t=new Date(n);if(!IA(t))throw new Error(`Unable to convert "${n}" into a date`);return t}(n);t=Sa(e,t)||t;let f,u=[];for(;t;){if(f=ZV.exec(t),!f){u.push(t);break}{u=u.concat(f.slice(1));const w=u.pop();if(!w)break;t=w}}let m=s.getTimezoneOffset();r&&(m=AA(r,m),s=function s5(n,t,e){const r=e?-1:1,s=n.getTimezoneOffset();return function o5(n,t){return(n=new Date(n.getTime())).setMinutes(n.getMinutes()+t),n}(n,r*(AA(t,s)-s))}(s,r,!0));let b="";return u.forEach(w=>{const x=function r5(n){if(N1[n])return N1[n];let t;switch(n){case"G":case"GG":case"GGG":t=fn(ht.Eras,Ct.Abbreviated);break;case"GGGG":t=fn(ht.Eras,Ct.Wide);break;case"GGGGG":t=fn(ht.Eras,Ct.Narrow);break;case"y":t=ni(Ze.FullYear,1,0,!1,!0);break;case"yy":t=ni(Ze.FullYear,2,0,!0,!0);break;case"yyy":t=ni(Ze.FullYear,3,0,!1,!0);break;case"yyyy":t=ni(Ze.FullYear,4,0,!1,!0);break;case"Y":t=qy(1);break;case"YY":t=qy(2,!0);break;case"YYY":t=qy(3);break;case"YYYY":t=qy(4);break;case"M":case"L":t=ni(Ze.Month,1,1);break;case"MM":case"LL":t=ni(Ze.Month,2,1);break;case"MMM":t=fn(ht.Months,Ct.Abbreviated);break;case"MMMM":t=fn(ht.Months,Ct.Wide);break;case"MMMMM":t=fn(ht.Months,Ct.Narrow);break;case"LLL":t=fn(ht.Months,Ct.Abbreviated,Gn.Standalone);break;case"LLLL":t=fn(ht.Months,Ct.Wide,Gn.Standalone);break;case"LLLLL":t=fn(ht.Months,Ct.Narrow,Gn.Standalone);break;case"w":t=F1(1);break;case"ww":t=F1(2);break;case"W":t=F1(1,!0);break;case"d":t=ni(Ze.Date,1);break;case"dd":t=ni(Ze.Date,2);break;case"c":case"cc":t=ni(Ze.Day,1);break;case"ccc":t=fn(ht.Days,Ct.Abbreviated,Gn.Standalone);break;case"cccc":t=fn(ht.Days,Ct.Wide,Gn.Standalone);break;case"ccccc":t=fn(ht.Days,Ct.Narrow,Gn.Standalone);break;case"cccccc":t=fn(ht.Days,Ct.Short,Gn.Standalone);break;case"E":case"EE":case"EEE":t=fn(ht.Days,Ct.Abbreviated);break;case"EEEE":t=fn(ht.Days,Ct.Wide);break;case"EEEEE":t=fn(ht.Days,Ct.Narrow);break;case"EEEEEE":t=fn(ht.Days,Ct.Short);break;case"a":case"aa":case"aaa":t=fn(ht.DayPeriods,Ct.Abbreviated);break;case"aaaa":t=fn(ht.DayPeriods,Ct.Wide);break;case"aaaaa":t=fn(ht.DayPeriods,Ct.Narrow);break;case"b":case"bb":case"bbb":t=fn(ht.DayPeriods,Ct.Abbreviated,Gn.Standalone,!0);break;case"bbbb":t=fn(ht.DayPeriods,Ct.Wide,Gn.Standalone,!0);break;case"bbbbb":t=fn(ht.DayPeriods,Ct.Narrow,Gn.Standalone,!0);break;case"B":case"BB":case"BBB":t=fn(ht.DayPeriods,Ct.Abbreviated,Gn.Format,!0);break;case"BBBB":t=fn(ht.DayPeriods,Ct.Wide,Gn.Format,!0);break;case"BBBBB":t=fn(ht.DayPeriods,Ct.Narrow,Gn.Format,!0);break;case"h":t=ni(Ze.Hours,1,-12);break;case"hh":t=ni(Ze.Hours,2,-12);break;case"H":t=ni(Ze.Hours,1);break;case"HH":t=ni(Ze.Hours,2);break;case"m":t=ni(Ze.Minutes,1);break;case"mm":t=ni(Ze.Minutes,2);break;case"s":t=ni(Ze.Seconds,1);break;case"ss":t=ni(Ze.Seconds,2);break;case"S":t=ni(Ze.FractionalSeconds,1);break;case"SS":t=ni(Ze.FractionalSeconds,2);break;case"SSS":t=ni(Ze.FractionalSeconds,3);break;case"Z":case"ZZ":case"ZZZ":t=$y(fi.Short);break;case"ZZZZZ":t=$y(fi.Extended);break;case"O":case"OO":case"OOO":case"z":case"zz":case"zzz":t=$y(fi.ShortGMT);break;case"OOOO":case"ZZZZ":case"zzzz":t=$y(fi.Long);break;default:return null}return N1[n]=t,t}(w);b+=x?x(s,e,m):"''"===w?"'":w.replace(/(^'|'$)/g,"").replace(/''/g,"'")}),b}function Hy(n,t,e){const r=new Date(0);return r.setFullYear(n,t,e),r.setHours(0,0,0),r}function Sa(n,t){const e=function BV(n){return fr(n)[be.LocaleId]}(n);if(og[e]=og[e]||{},og[e][t])return og[e][t];let r="";switch(t){case"shortDate":r=By(n,Fn.Short);break;case"mediumDate":r=By(n,Fn.Medium);break;case"longDate":r=By(n,Fn.Long);break;case"fullDate":r=By(n,Fn.Full);break;case"shortTime":r=Vy(n,Fn.Short);break;case"mediumTime":r=Vy(n,Fn.Medium);break;case"longTime":r=Vy(n,Fn.Long);break;case"fullTime":r=Vy(n,Fn.Full);break;case"short":const s=Sa(n,"shortTime"),l=Sa(n,"shortDate");r=Uy(jy(n,Fn.Short),[s,l]);break;case"medium":const u=Sa(n,"mediumTime"),f=Sa(n,"mediumDate");r=Uy(jy(n,Fn.Medium),[u,f]);break;case"long":const m=Sa(n,"longTime"),b=Sa(n,"longDate");r=Uy(jy(n,Fn.Long),[m,b]);break;case"full":const w=Sa(n,"fullTime"),x=Sa(n,"fullDate");r=Uy(jy(n,Fn.Full),[w,x])}return r&&(og[e][t]=r),r}function Uy(n,t){return t&&(n=n.replace(/\{([^}]+)}/g,function(e,r){return null!=t&&r in t?t[r]:e})),n}function Ko(n,t,e="-",r,s){let l="";(n<0||s&&n<=0)&&(s?n=1-n:(n=-n,l=e));let u=String(n);for(;u.length<t;)u="0"+u;return r&&(u=u.substr(u.length-t)),l+u}function ni(n,t,e=0,r=!1,s=!1){return function(l,u){let f=function JV(n,t){switch(n){case Ze.FullYear:return t.getFullYear();case Ze.Month:return t.getMonth();case Ze.Date:return t.getDate();case Ze.Hours:return t.getHours();case Ze.Minutes:return t.getMinutes();case Ze.Seconds:return t.getSeconds();case Ze.FractionalSeconds:return t.getMilliseconds();case Ze.Day:return t.getDay();default:throw new Error(`Unknown DateType value "${n}".`)}}(n,l);if((e>0||f>-e)&&(f+=e),n===Ze.Hours)0===f&&-12===e&&(f=12);else if(n===Ze.FractionalSeconds)return function XV(n,t){return Ko(n,3).substr(0,t)}(f,t);const m=xo(u,Ke.MinusSign);return Ko(f,t,m,r,s)}}function fn(n,t,e=Gn.Format,r=!1){return function(s,l){return function e5(n,t,e,r,s,l){switch(e){case ht.Months:return function zV(n,t,e){const r=fr(n),l=To([r[be.MonthsFormat],r[be.MonthsStandalone]],t);return To(l,e)}(t,s,r)[n.getMonth()];case ht.Days:return function jV(n,t,e){const r=fr(n),l=To([r[be.DaysFormat],r[be.DaysStandalone]],t);return To(l,e)}(t,s,r)[n.getDay()];case ht.DayPeriods:const u=n.getHours(),f=n.getMinutes();if(l){const b=function WV(n){const t=fr(n);return DA(t),(t[be.ExtraData][2]||[]).map(r=>"string"==typeof r?O1(r):[O1(r[0]),O1(r[1])])}(t),w=function qV(n,t,e){const r=fr(n);DA(r);const l=To([r[be.ExtraData][0],r[be.ExtraData][1]],t)||[];return To(l,e)||[]}(t,s,r),x=b.findIndex(E=>{if(Array.isArray(E)){const[S,I]=E,N=u>=S.hours&&f>=S.minutes,K=u<I.hours||u===I.hours&&f<I.minutes;if(S.hours<I.hours){if(N&&K)return!0}else if(N||K)return!0}else if(E.hours===u&&E.minutes===f)return!0;return!1});if(-1!==x)return w[x]}return function VV(n,t,e){const r=fr(n),l=To([r[be.DayPeriodsFormat],r[be.DayPeriodsStandalone]],t);return To(l,e)}(t,s,r)[u<12?0:1];case ht.Eras:return function HV(n,t){return To(fr(n)[be.Eras],t)}(t,r)[n.getFullYear()<=0?0:1];default:throw new Error(`unexpected translation type ${e}`)}}(s,l,n,t,e,r)}}function $y(n){return function(t,e,r){const s=-1*r,l=xo(e,Ke.MinusSign),u=s>0?Math.floor(s/60):Math.ceil(s/60);switch(n){case fi.Short:return(s>=0?"+":"")+Ko(u,2,l)+Ko(Math.abs(s%60),2,l);case fi.ShortGMT:return"GMT"+(s>=0?"+":"")+Ko(u,1,l);case fi.Long:return"GMT"+(s>=0?"+":"")+Ko(u,2,l)+":"+Ko(Math.abs(s%60),2,l);case fi.Extended:return 0===r?"Z":(s>=0?"+":"")+Ko(u,2,l)+":"+Ko(Math.abs(s%60),2,l);default:throw new Error(`Unknown zone width "${n}"`)}}}function MA(n){return Hy(n.getFullYear(),n.getMonth(),n.getDate()+(4-n.getDay()))}function F1(n,t=!1){return function(e,r){let s;if(t){const l=new Date(e.getFullYear(),e.getMonth(),1).getDay()-1,u=e.getDate();s=1+Math.floor((u+l)/7)}else{const l=MA(e),u=function n5(n){const t=Hy(n,0,1).getDay();return Hy(n,0,1+(t<=4?4:11)-t)}(l.getFullYear()),f=l.getTime()-u.getTime();s=1+Math.round(f/6048e5)}return Ko(s,n,xo(r,Ke.MinusSign))}}function qy(n,t=!1){return function(e,r){return Ko(MA(e).getFullYear(),n,xo(r,Ke.MinusSign),t)}}const N1={};function AA(n,t){n=n.replace(/:/g,"");const e=Date.parse("Jan 01, 1970 00:00:00 "+n)/6e4;return isNaN(e)?t:e}function IA(n){return n instanceof Date&&!isNaN(n.valueOf())}function FA(n,t){t=encodeURIComponent(t);for(const e of n.split(";")){const r=e.indexOf("="),[s,l]=-1==r?[e,""]:[e.slice(0,r),e.slice(r+1)];if(s.trim()===t)return decodeURIComponent(l)}return null}let H1=(()=>{class n{constructor(e,r,s,l){this._iterableDiffers=e,this._keyValueDiffers=r,this._ngEl=s,this._renderer=l,this._iterableDiffer=null,this._keyValueDiffer=null,this._initialClasses=[],this._rawClass=null}set klass(e){this._removeClasses(this._initialClasses),this._initialClasses="string"==typeof e?e.split(/\s+/):[],this._applyClasses(this._initialClasses),this._applyClasses(this._rawClass)}set ngClass(e){this._removeClasses(this._rawClass),this._applyClasses(this._initialClasses),this._iterableDiffer=null,this._keyValueDiffer=null,this._rawClass="string"==typeof e?e.split(/\s+/):e,this._rawClass&&(Tl(this._rawClass)?this._iterableDiffer=this._iterableDiffers.find(this._rawClass).create():this._keyValueDiffer=this._keyValueDiffers.find(this._rawClass).create())}ngDoCheck(){if(this._iterableDiffer){const e=this._iterableDiffer.diff(this._rawClass);e&&this._applyIterableChanges(e)}else if(this._keyValueDiffer){const e=this._keyValueDiffer.diff(this._rawClass);e&&this._applyKeyValueChanges(e)}}_applyKeyValueChanges(e){e.forEachAddedItem(r=>this._toggleClass(r.key,r.currentValue)),e.forEachChangedItem(r=>this._toggleClass(r.key,r.currentValue)),e.forEachRemovedItem(r=>{r.previousValue&&this._toggleClass(r.key,!1)})}_applyIterableChanges(e){e.forEachAddedItem(r=>{if("string"!=typeof r.item)throw new Error(`NgClass can only toggle CSS classes expressed as strings, got ${$t(r.item)}`);this._toggleClass(r.item,!0)}),e.forEachRemovedItem(r=>this._toggleClass(r.item,!1))}_applyClasses(e){e&&(Array.isArray(e)||e instanceof Set?e.forEach(r=>this._toggleClass(r,!0)):Object.keys(e).forEach(r=>this._toggleClass(r,!!e[r])))}_removeClasses(e){e&&(Array.isArray(e)||e instanceof Set?e.forEach(r=>this._toggleClass(r,!1)):Object.keys(e).forEach(r=>this._toggleClass(r,!1)))}_toggleClass(e,r){(e=e.trim())&&e.split(/\s+/g).forEach(s=>{r?this._renderer.addClass(this._ngEl.nativeElement,s):this._renderer.removeClass(this._ngEl.nativeElement,s)})}}return n.\u0275fac=function(e){return new(e||n)(M(Ny),M(ig),M(ze),M(Ca))},n.\u0275dir=se({type:n,selectors:[["","ngClass",""]],inputs:{klass:["class","klass"],ngClass:"ngClass"}}),n})();class w5{constructor(t,e,r,s){this.$implicit=t,this.ngForOf=e,this.index=r,this.count=s}get first(){return 0===this.index}get last(){return this.index===this.count-1}get even(){return this.index%2==0}get odd(){return!this.even}}let Sd=(()=>{class n{constructor(e,r,s){this._viewContainer=e,this._template=r,this._differs=s,this._ngForOf=null,this._ngForOfDirty=!0,this._differ=null}set ngForOf(e){this._ngForOf=e,this._ngForOfDirty=!0}set ngForTrackBy(e){this._trackByFn=e}get ngForTrackBy(){return this._trackByFn}set ngForTemplate(e){e&&(this._template=e)}ngDoCheck(){if(this._ngForOfDirty){this._ngForOfDirty=!1;const e=this._ngForOf;!this._differ&&e&&(this._differ=this._differs.find(e).create(this.ngForTrackBy))}if(this._differ){const e=this._differ.diff(this._ngForOf);e&&this._applyChanges(e)}}_applyChanges(e){const r=this._viewContainer;e.forEachOperation((s,l,u)=>{if(null==s.previousIndex)r.createEmbeddedView(this._template,new w5(s.item,this._ngForOf,-1,-1),null===u?void 0:u);else if(null==u)r.remove(null===l?void 0:l);else if(null!==l){const f=r.get(l);r.move(f,u),NA(f,s)}});for(let s=0,l=r.length;s<l;s++){const f=r.get(s).context;f.index=s,f.count=l,f.ngForOf=this._ngForOf}e.forEachIdentityChange(s=>{NA(r.get(s.currentIndex),s)})}static ngTemplateContextGuard(e,r){return!0}}return n.\u0275fac=function(e){return new(e||n)(M(eo),M(qo),M(Ny))},n.\u0275dir=se({type:n,selectors:[["","ngFor","","ngForOf",""]],inputs:{ngForOf:"ngForOf",ngForTrackBy:"ngForTrackBy",ngForTemplate:"ngForTemplate"}}),n})();function NA(n,t){n.context.$implicit=t.item}let pi=(()=>{class n{constructor(e,r){this._viewContainer=e,this._context=new k5,this._thenTemplateRef=null,this._elseTemplateRef=null,this._thenViewRef=null,this._elseViewRef=null,this._thenTemplateRef=r}set ngIf(e){this._context.$implicit=this._context.ngIf=e,this._updateView()}set ngIfThen(e){LA("ngIfThen",e),this._thenTemplateRef=e,this._thenViewRef=null,this._updateView()}set ngIfElse(e){LA("ngIfElse",e),this._elseTemplateRef=e,this._elseViewRef=null,this._updateView()}_updateView(){this._context.$implicit?this._thenViewRef||(this._viewContainer.clear(),this._elseViewRef=null,this._thenTemplateRef&&(this._thenViewRef=this._viewContainer.createEmbeddedView(this._thenTemplateRef,this._context))):this._elseViewRef||(this._viewContainer.clear(),this._thenViewRef=null,this._elseTemplateRef&&(this._elseViewRef=this._viewContainer.createEmbeddedView(this._elseTemplateRef,this._context)))}static ngTemplateContextGuard(e,r){return!0}}return n.\u0275fac=function(e){return new(e||n)(M(eo),M(qo))},n.\u0275dir=se({type:n,selectors:[["","ngIf",""]],inputs:{ngIf:"ngIf",ngIfThen:"ngIfThen",ngIfElse:"ngIfElse"}}),n})();class k5{constructor(){this.$implicit=null,this.ngIf=null}}function LA(n,t){if(t&&!t.createEmbeddedView)throw new Error(`${n} must be a TemplateRef, but received '${$t(t)}'.`)}class U1{constructor(t,e){this._viewContainerRef=t,this._templateRef=e,this._created=!1}create(){this._created=!0,this._viewContainerRef.createEmbeddedView(this._templateRef)}destroy(){this._created=!1,this._viewContainerRef.clear()}enforceState(t){t&&!this._created?this.create():!t&&this._created&&this.destroy()}}let ag=(()=>{class n{constructor(){this._defaultUsed=!1,this._caseCount=0,this._lastCaseCheckIndex=0,this._lastCasesMatched=!1}set ngSwitch(e){this._ngSwitch=e,0===this._caseCount&&this._updateDefaultCases(!0)}_addCase(){return this._caseCount++}_addDefault(e){this._defaultViews||(this._defaultViews=[]),this._defaultViews.push(e)}_matchCase(e){const r=e==this._ngSwitch;return this._lastCasesMatched=this._lastCasesMatched||r,this._lastCaseCheckIndex++,this._lastCaseCheckIndex===this._caseCount&&(this._updateDefaultCases(!this._lastCasesMatched),this._lastCaseCheckIndex=0,this._lastCasesMatched=!1),r}_updateDefaultCases(e){if(this._defaultViews&&e!==this._defaultUsed){this._defaultUsed=e;for(let r=0;r<this._defaultViews.length;r++)this._defaultViews[r].enforceState(e)}}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275dir=se({type:n,selectors:[["","ngSwitch",""]],inputs:{ngSwitch:"ngSwitch"}}),n})(),$1=(()=>{class n{constructor(e,r,s){this.ngSwitch=s,s._addCase(),this._view=new U1(e,r)}ngDoCheck(){this._view.enforceState(this.ngSwitch._matchCase(this.ngSwitchCase))}}return n.\u0275fac=function(e){return new(e||n)(M(eo),M(qo),M(ag,9))},n.\u0275dir=se({type:n,selectors:[["","ngSwitchCase",""]],inputs:{ngSwitchCase:"ngSwitchCase"}}),n})(),W1=(()=>{class n{constructor(e,r,s){this._ngEl=e,this._differs=r,this._renderer=s,this._ngStyle=null,this._differ=null}set ngStyle(e){this._ngStyle=e,!this._differ&&e&&(this._differ=this._differs.find(e).create())}ngDoCheck(){if(this._differ){const e=this._differ.diff(this._ngStyle);e&&this._applyChanges(e)}}_setStyle(e,r){const[s,l]=e.split(".");null!=(r=null!=r&&l?`${r}${l}`:r)?this._renderer.setStyle(this._ngEl.nativeElement,s,r):this._renderer.removeStyle(this._ngEl.nativeElement,s)}_applyChanges(e){e.forEachRemovedItem(r=>this._setStyle(r.key,null)),e.forEachAddedItem(r=>this._setStyle(r.key,r.currentValue)),e.forEachChangedItem(r=>this._setStyle(r.key,r.currentValue))}}return n.\u0275fac=function(e){return new(e||n)(M(ze),M(ig),M(Ca))},n.\u0275dir=se({type:n,selectors:[["","ngStyle",""]],inputs:{ngStyle:"ngStyle"}}),n})();function Qo(n,t){return new ye(2100,"")}class E5{createSubscription(t,e){return t.subscribe({next:e,error:r=>{throw r}})}dispose(t){t.unsubscribe()}onDestroy(t){t.unsubscribe()}}class S5{createSubscription(t,e){return t.then(e,r=>{throw r})}dispose(t){}onDestroy(t){}}const D5=new S5,M5=new E5;let Ky=(()=>{class n{constructor(e){this._ref=e,this._latestValue=null,this._subscription=null,this._obj=null,this._strategy=null}ngOnDestroy(){this._subscription&&this._dispose()}transform(e){return this._obj?e!==this._obj?(this._dispose(),this.transform(e)):this._latestValue:(e&&this._subscribe(e),this._latestValue)}_subscribe(e){this._obj=e,this._strategy=this._selectStrategy(e),this._subscription=this._strategy.createSubscription(e,r=>this._updateLatestValue(e,r))}_selectStrategy(e){if(Fl(e))return D5;if(oy(e))return M5;throw Qo()}_dispose(){this._strategy.dispose(this._subscription),this._latestValue=null,this._subscription=null,this._obj=null}_updateLatestValue(e,r){e===this._obj&&(this._latestValue=r,this._ref.markForCheck())}}return n.\u0275fac=function(e){return new(e||n)(M(ei,16))},n.\u0275pipe=un({name:"async",type:n,pure:!1}),n})();const I5=/(?:[0-9A-Za-z\xAA\xB5\xBA\xC0-\xD6\xD8-\xF6\xF8-\u02C1\u02C6-\u02D1\u02E0-\u02E4\u02EC\u02EE\u0370-\u0374\u0376\u0377\u037A-\u037D\u037F\u0386\u0388-\u038A\u038C\u038E-\u03A1\u03A3-\u03F5\u03F7-\u0481\u048A-\u052F\u0531-\u0556\u0559\u0560-\u0588\u05D0-\u05EA\u05EF-\u05F2\u0620-\u064A\u066E\u066F\u0671-\u06D3\u06D5\u06E5\u06E6\u06EE\u06EF\u06FA-\u06FC\u06FF\u0710\u0712-\u072F\u074D-\u07A5\u07B1\u07CA-\u07EA\u07F4\u07F5\u07FA\u0800-\u0815\u081A\u0824\u0828\u0840-\u0858\u0860-\u086A\u0870-\u0887\u0889-\u088E\u08A0-\u08C9\u0904-\u0939\u093D\u0950\u0958-\u0961\u0971-\u0980\u0985-\u098C\u098F\u0990\u0993-\u09A8\u09AA-\u09B0\u09B2\u09B6-\u09B9\u09BD\u09CE\u09DC\u09DD\u09DF-\u09E1\u09F0\u09F1\u09FC\u0A05-\u0A0A\u0A0F\u0A10\u0A13-\u0A28\u0A2A-\u0A30\u0A32\u0A33\u0A35\u0A36\u0A38\u0A39\u0A59-\u0A5C\u0A5E\u0A72-\u0A74\u0A85-\u0A8D\u0A8F-\u0A91\u0A93-\u0AA8\u0AAA-\u0AB0\u0AB2\u0AB3\u0AB5-\u0AB9\u0ABD\u0AD0\u0AE0\u0AE1\u0AF9\u0B05-\u0B0C\u0B0F\u0B10\u0B13-\u0B28\u0B2A-\u0B30\u0B32\u0B33\u0B35-\u0B39\u0B3D\u0B5C\u0B5D\u0B5F-\u0B61\u0B71\u0B83\u0B85-\u0B8A\u0B8E-\u0B90\u0B92-\u0B95\u0B99\u0B9A\u0B9C\u0B9E\u0B9F\u0BA3\u0BA4\u0BA8-\u0BAA\u0BAE-\u0BB9\u0BD0\u0C05-\u0C0C\u0C0E-\u0C10\u0C12-\u0C28\u0C2A-\u0C39\u0C3D\u0C58-\u0C5A\u0C5D\u0C60\u0C61\u0C80\u0C85-\u0C8C\u0C8E-\u0C90\u0C92-\u0CA8\u0CAA-\u0CB3\u0CB5-\u0CB9\u0CBD\u0CDD\u0CDE\u0CE0\u0CE1\u0CF1\u0CF2\u0D04-\u0D0C\u0D0E-\u0D10\u0D12-\u0D3A\u0D3D\u0D4E\u0D54-\u0D56\u0D5F-\u0D61\u0D7A-\u0D7F\u0D85-\u0D96\u0D9A-\u0DB1\u0DB3-\u0DBB\u0DBD\u0DC0-\u0DC6\u0E01-\u0E30\u0E32\u0E33\u0E40-\u0E46\u0E81\u0E82\u0E84\u0E86-\u0E8A\u0E8C-\u0EA3\u0EA5\u0EA7-\u0EB0\u0EB2\u0EB3\u0EBD\u0EC0-\u0EC4\u0EC6\u0EDC-\u0EDF\u0F00\u0F40-\u0F47\u0F49-\u0F6C\u0F88-\u0F8C\u1000-\u102A\u103F\u1050-\u1055\u105A-\u105D\u1061\u1065\u1066\u106E-\u1070\u1075-\u1081\u108E\u10A0-\u10C5\u10C7\u10CD\u10D0-\u10FA\u10FC-\u1248\u124A-\u124D\u1250-\u1256\u1258\u125A-\u125D\u1260-\u1288\u128A-\u128D\u1290-\u12B0\u12B2-\u12B5\u12B8-\u12BE\u12C0\u12C2-\u12C5\u12C8-\u12D6\u12D8-\u1310\u1312-\u1315\u1318-\u135A\u1380-\u138F\u13A0-\u13F5\u13F8-\u13FD\u1401-\u166C\u166F-\u167F\u1681-\u169A\u16A0-\u16EA\u16F1-\u16F8\u1700-\u1711\u171F-\u1731\u1740-\u1751\u1760-\u176C\u176E-\u1770\u1780-\u17B3\u17D7\u17DC\u1820-\u1878\u1880-\u1884\u1887-\u18A8\u18AA\u18B0-\u18F5\u1900-\u191E\u1950-\u196D\u1970-\u1974\u1980-\u19AB\u19B0-\u19C9\u1A00-\u1A16\u1A20-\u1A54\u1AA7\u1B05-\u1B33\u1B45-\u1B4C\u1B83-\u1BA0\u1BAE\u1BAF\u1BBA-\u1BE5\u1C00-\u1C23\u1C4D-\u1C4F\u1C5A-\u1C7D\u1C80-\u1C88\u1C90-\u1CBA\u1CBD-\u1CBF\u1CE9-\u1CEC\u1CEE-\u1CF3\u1CF5\u1CF6\u1CFA\u1D00-\u1DBF\u1E00-\u1F15\u1F18-\u1F1D\u1F20-\u1F45\u1F48-\u1F4D\u1F50-\u1F57\u1F59\u1F5B\u1F5D\u1F5F-\u1F7D\u1F80-\u1FB4\u1FB6-\u1FBC\u1FBE\u1FC2-\u1FC4\u1FC6-\u1FCC\u1FD0-\u1FD3\u1FD6-\u1FDB\u1FE0-\u1FEC\u1FF2-\u1FF4\u1FF6-\u1FFC\u2071\u207F\u2090-\u209C\u2102\u2107\u210A-\u2113\u2115\u2119-\u211D\u2124\u2126\u2128\u212A-\u212D\u212F-\u2139\u213C-\u213F\u2145-\u2149\u214E\u2183\u2184\u2C00-\u2CE4\u2CEB-\u2CEE\u2CF2\u2CF3\u2D00-\u2D25\u2D27\u2D2D\u2D30-\u2D67\u2D6F\u2D80-\u2D96\u2DA0-\u2DA6\u2DA8-\u2DAE\u2DB0-\u2DB6\u2DB8-\u2DBE\u2DC0-\u2DC6\u2DC8-\u2DCE\u2DD0-\u2DD6\u2DD8-\u2DDE\u2E2F\u3005\u3006\u3031-\u3035\u303B\u303C\u3041-\u3096\u309D-\u309F\u30A1-\u30FA\u30FC-\u30FF\u3105-\u312F\u3131-\u318E\u31A0-\u31BF\u31F0-\u31FF\u3400-\u4DBF\u4E00-\uA48C\uA4D0-\uA4FD\uA500-\uA60C\uA610-\uA61F\uA62A\uA62B\uA640-\uA66E\uA67F-\uA69D\uA6A0-\uA6E5\uA717-\uA71F\uA722-\uA788\uA78B-\uA7CA\uA7D0\uA7D1\uA7D3\uA7D5-\uA7D9\uA7F2-\uA801\uA803-\uA805\uA807-\uA80A\uA80C-\uA822\uA840-\uA873\uA882-\uA8B3\uA8F2-\uA8F7\uA8FB\uA8FD\uA8FE\uA90A-\uA925\uA930-\uA946\uA960-\uA97C\uA984-\uA9B2\uA9CF\uA9E0-\uA9E4\uA9E6-\uA9EF\uA9FA-\uA9FE\uAA00-\uAA28\uAA40-\uAA42\uAA44-\uAA4B\uAA60-\uAA76\uAA7A\uAA7E-\uAAAF\uAAB1\uAAB5\uAAB6\uAAB9-\uAABD\uAAC0\uAAC2\uAADB-\uAADD\uAAE0-\uAAEA\uAAF2-\uAAF4\uAB01-\uAB06\uAB09-\uAB0E\uAB11-\uAB16\uAB20-\uAB26\uAB28-\uAB2E\uAB30-\uAB5A\uAB5C-\uAB69\uAB70-\uABE2\uAC00-\uD7A3\uD7B0-\uD7C6\uD7CB-\uD7FB\uF900-\uFA6D\uFA70-\uFAD9\uFB00-\uFB06\uFB13-\uFB17\uFB1D\uFB1F-\uFB28\uFB2A-\uFB36\uFB38-\uFB3C\uFB3E\uFB40\uFB41\uFB43\uFB44\uFB46-\uFBB1\uFBD3-\uFD3D\uFD50-\uFD8F\uFD92-\uFDC7\uFDF0-\uFDFB\uFE70-\uFE74\uFE76-\uFEFC\uFF21-\uFF3A\uFF41-\uFF5A\uFF66-\uFFBE\uFFC2-\uFFC7\uFFCA-\uFFCF\uFFD2-\uFFD7\uFFDA-\uFFDC]|\uD800[\uDC00-\uDC0B\uDC0D-\uDC26\uDC28-\uDC3A\uDC3C\uDC3D\uDC3F-\uDC4D\uDC50-\uDC5D\uDC80-\uDCFA\uDE80-\uDE9C\uDEA0-\uDED0\uDF00-\uDF1F\uDF2D-\uDF40\uDF42-\uDF49\uDF50-\uDF75\uDF80-\uDF9D\uDFA0-\uDFC3\uDFC8-\uDFCF]|\uD801[\uDC00-\uDC9D\uDCB0-\uDCD3\uDCD8-\uDCFB\uDD00-\uDD27\uDD30-\uDD63\uDD70-\uDD7A\uDD7C-\uDD8A\uDD8C-\uDD92\uDD94\uDD95\uDD97-\uDDA1\uDDA3-\uDDB1\uDDB3-\uDDB9\uDDBB\uDDBC\uDE00-\uDF36\uDF40-\uDF55\uDF60-\uDF67\uDF80-\uDF85\uDF87-\uDFB0\uDFB2-\uDFBA]|\uD802[\uDC00-\uDC05\uDC08\uDC0A-\uDC35\uDC37\uDC38\uDC3C\uDC3F-\uDC55\uDC60-\uDC76\uDC80-\uDC9E\uDCE0-\uDCF2\uDCF4\uDCF5\uDD00-\uDD15\uDD20-\uDD39\uDD80-\uDDB7\uDDBE\uDDBF\uDE00\uDE10-\uDE13\uDE15-\uDE17\uDE19-\uDE35\uDE60-\uDE7C\uDE80-\uDE9C\uDEC0-\uDEC7\uDEC9-\uDEE4\uDF00-\uDF35\uDF40-\uDF55\uDF60-\uDF72\uDF80-\uDF91]|\uD803[\uDC00-\uDC48\uDC80-\uDCB2\uDCC0-\uDCF2\uDD00-\uDD23\uDE80-\uDEA9\uDEB0\uDEB1\uDF00-\uDF1C\uDF27\uDF30-\uDF45\uDF70-\uDF81\uDFB0-\uDFC4\uDFE0-\uDFF6]|\uD804[\uDC03-\uDC37\uDC71\uDC72\uDC75\uDC83-\uDCAF\uDCD0-\uDCE8\uDD03-\uDD26\uDD44\uDD47\uDD50-\uDD72\uDD76\uDD83-\uDDB2\uDDC1-\uDDC4\uDDDA\uDDDC\uDE00-\uDE11\uDE13-\uDE2B\uDE80-\uDE86\uDE88\uDE8A-\uDE8D\uDE8F-\uDE9D\uDE9F-\uDEA8\uDEB0-\uDEDE\uDF05-\uDF0C\uDF0F\uDF10\uDF13-\uDF28\uDF2A-\uDF30\uDF32\uDF33\uDF35-\uDF39\uDF3D\uDF50\uDF5D-\uDF61]|\uD805[\uDC00-\uDC34\uDC47-\uDC4A\uDC5F-\uDC61\uDC80-\uDCAF\uDCC4\uDCC5\uDCC7\uDD80-\uDDAE\uDDD8-\uDDDB\uDE00-\uDE2F\uDE44\uDE80-\uDEAA\uDEB8\uDF00-\uDF1A\uDF40-\uDF46]|\uD806[\uDC00-\uDC2B\uDCA0-\uDCDF\uDCFF-\uDD06\uDD09\uDD0C-\uDD13\uDD15\uDD16\uDD18-\uDD2F\uDD3F\uDD41\uDDA0-\uDDA7\uDDAA-\uDDD0\uDDE1\uDDE3\uDE00\uDE0B-\uDE32\uDE3A\uDE50\uDE5C-\uDE89\uDE9D\uDEB0-\uDEF8]|\uD807[\uDC00-\uDC08\uDC0A-\uDC2E\uDC40\uDC72-\uDC8F\uDD00-\uDD06\uDD08\uDD09\uDD0B-\uDD30\uDD46\uDD60-\uDD65\uDD67\uDD68\uDD6A-\uDD89\uDD98\uDEE0-\uDEF2\uDFB0]|\uD808[\uDC00-\uDF99]|\uD809[\uDC80-\uDD43]|\uD80B[\uDF90-\uDFF0]|[\uD80C\uD81C-\uD820\uD822\uD840-\uD868\uD86A-\uD86C\uD86F-\uD872\uD874-\uD879\uD880-\uD883][\uDC00-\uDFFF]|\uD80D[\uDC00-\uDC2E]|\uD811[\uDC00-\uDE46]|\uD81A[\uDC00-\uDE38\uDE40-\uDE5E\uDE70-\uDEBE\uDED0-\uDEED\uDF00-\uDF2F\uDF40-\uDF43\uDF63-\uDF77\uDF7D-\uDF8F]|\uD81B[\uDE40-\uDE7F\uDF00-\uDF4A\uDF50\uDF93-\uDF9F\uDFE0\uDFE1\uDFE3]|\uD821[\uDC00-\uDFF7]|\uD823[\uDC00-\uDCD5\uDD00-\uDD08]|\uD82B[\uDFF0-\uDFF3\uDFF5-\uDFFB\uDFFD\uDFFE]|\uD82C[\uDC00-\uDD22\uDD50-\uDD52\uDD64-\uDD67\uDD70-\uDEFB]|\uD82F[\uDC00-\uDC6A\uDC70-\uDC7C\uDC80-\uDC88\uDC90-\uDC99]|\uD835[\uDC00-\uDC54\uDC56-\uDC9C\uDC9E\uDC9F\uDCA2\uDCA5\uDCA6\uDCA9-\uDCAC\uDCAE-\uDCB9\uDCBB\uDCBD-\uDCC3\uDCC5-\uDD05\uDD07-\uDD0A\uDD0D-\uDD14\uDD16-\uDD1C\uDD1E-\uDD39\uDD3B-\uDD3E\uDD40-\uDD44\uDD46\uDD4A-\uDD50\uDD52-\uDEA5\uDEA8-\uDEC0\uDEC2-\uDEDA\uDEDC-\uDEFA\uDEFC-\uDF14\uDF16-\uDF34\uDF36-\uDF4E\uDF50-\uDF6E\uDF70-\uDF88\uDF8A-\uDFA8\uDFAA-\uDFC2\uDFC4-\uDFCB]|\uD837[\uDF00-\uDF1E]|\uD838[\uDD00-\uDD2C\uDD37-\uDD3D\uDD4E\uDE90-\uDEAD\uDEC0-\uDEEB]|\uD839[\uDFE0-\uDFE6\uDFE8-\uDFEB\uDFED\uDFEE\uDFF0-\uDFFE]|\uD83A[\uDC00-\uDCC4\uDD00-\uDD43\uDD4B]|\uD83B[\uDE00-\uDE03\uDE05-\uDE1F\uDE21\uDE22\uDE24\uDE27\uDE29-\uDE32\uDE34-\uDE37\uDE39\uDE3B\uDE42\uDE47\uDE49\uDE4B\uDE4D-\uDE4F\uDE51\uDE52\uDE54\uDE57\uDE59\uDE5B\uDE5D\uDE5F\uDE61\uDE62\uDE64\uDE67-\uDE6A\uDE6C-\uDE72\uDE74-\uDE77\uDE79-\uDE7C\uDE7E\uDE80-\uDE89\uDE8B-\uDE9B\uDEA1-\uDEA3\uDEA5-\uDEA9\uDEAB-\uDEBB]|\uD869[\uDC00-\uDEDF\uDF00-\uDFFF]|\uD86D[\uDC00-\uDF38\uDF40-\uDFFF]|\uD86E[\uDC00-\uDC1D\uDC20-\uDFFF]|\uD873[\uDC00-\uDEA1\uDEB0-\uDFFF]|\uD87A[\uDC00-\uDFE0]|\uD87E[\uDC00-\uDE1D]|\uD884[\uDC00-\uDF4A])\S*/g;let q1=(()=>{class n{transform(e){if(null==e)return null;if("string"!=typeof e)throw Qo();return e.replace(I5,r=>r[0].toUpperCase()+r.substr(1).toLowerCase())}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275pipe=un({name:"titlecase",type:n,pure:!0}),n})();const R5=new re("DATE_PIPE_DEFAULT_TIMEZONE");let Qy=(()=>{class n{constructor(e,r){this.locale=e,this.defaultTimezone=r}transform(e,r="mediumDate",s,l){var u;if(null==e||""===e||e!=e)return null;try{return zy(e,r,l||this.locale,null!==(u=null!=s?s:this.defaultTimezone)&&void 0!==u?u:void 0)}catch(f){throw Qo()}}}return n.\u0275fac=function(e){return new(e||n)(M(Ta,16),M(R5,24))},n.\u0275pipe=un({name:"date",type:n,pure:!0}),n})(),Qi=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=ue({type:n}),n.\u0275inj=Se({}),n})();const jA="browser";function lg(n){return n===jA}let G5=(()=>{class n{}return n.\u0275prov=oe({token:n,providedIn:"root",factory:()=>new K5(L(ot),window)}),n})();class K5{constructor(t,e){this.document=t,this.window=e,this.offset=()=>[0,0]}setOffset(t){this.offset=Array.isArray(t)?()=>t:t}getScrollPosition(){return this.supportsScrolling()?[this.window.pageXOffset,this.window.pageYOffset]:[0,0]}scrollToPosition(t){this.supportsScrolling()&&this.window.scrollTo(t[0],t[1])}scrollToAnchor(t){if(!this.supportsScrolling())return;const e=function Q5(n,t){const e=n.getElementById(t)||n.getElementsByName(t)[0];if(e)return e;if("function"==typeof n.createTreeWalker&&n.body&&(n.body.createShadowRoot||n.body.attachShadow)){const r=n.createTreeWalker(n.body,NodeFilter.SHOW_ELEMENT);let s=r.currentNode;for(;s;){const l=s.shadowRoot;if(l){const u=l.getElementById(t)||l.querySelector(`[name="${t}"]`);if(u)return u}s=r.nextNode()}}return null}(this.document,t);e&&(this.scrollToElement(e),e.focus())}setHistoryScrollRestoration(t){if(this.supportScrollRestoration()){const e=this.window.history;e&&e.scrollRestoration&&(e.scrollRestoration=t)}}scrollToElement(t){const e=t.getBoundingClientRect(),r=e.left+this.window.pageXOffset,s=e.top+this.window.pageYOffset,l=this.offset();this.window.scrollTo(r-l[0],s-l[1])}supportScrollRestoration(){try{if(!this.supportsScrolling())return!1;const t=zA(this.window.history)||zA(Object.getPrototypeOf(this.window.history));return!(!t||!t.writable&&!t.set)}catch(t){return!1}}supportsScrolling(){try{return!!this.window&&!!this.window.scrollTo&&"pageXOffset"in this.window}catch(t){return!1}}}function zA(n){return Object.getOwnPropertyDescriptor(n,"scrollRestoration")}class HA{}class Q1 extends class Y5 extends class AV{}{constructor(){super(...arguments),this.supportsDOMEvents=!0}}{static makeCurrent(){!function MV(n){Ly||(Ly=n)}(new Q1)}onAndCancel(t,e,r){return t.addEventListener(e,r,!1),()=>{t.removeEventListener(e,r,!1)}}dispatchEvent(t,e){t.dispatchEvent(e)}remove(t){t.parentNode&&t.parentNode.removeChild(t)}createElement(t,e){return(e=e||this.getDefaultDocument()).createElement(t)}createHtmlDocument(){return document.implementation.createHTMLDocument("fakeTitle")}getDefaultDocument(){return document}isElementNode(t){return t.nodeType===Node.ELEMENT_NODE}isShadowRoot(t){return t instanceof DocumentFragment}getGlobalEventTarget(t,e){return"window"===e?window:"document"===e?t:"body"===e?t.body:null}getBaseHref(t){const e=function Z5(){return cg=cg||document.querySelector("base"),cg?cg.getAttribute("href"):null}();return null==e?null:function X5(n){Yy=Yy||document.createElement("a"),Yy.setAttribute("href",n);const t=Yy.pathname;return"/"===t.charAt(0)?t:`/${t}`}(e)}resetBaseElement(){cg=null}getUserAgent(){return window.navigator.userAgent}getCookie(t){return FA(document.cookie,t)}}let Yy,cg=null;const UA=new re("TRANSITION_ID"),e3=[{provide:b1,useFactory:function J5(n,t,e){return()=>{e.get(v1).donePromise.then(()=>{const r=Os(),s=t.querySelectorAll(`style[ng-transition="${n}"]`);for(let l=0;l<s.length;l++)r.remove(s[l])})}},deps:[UA,ot,nn],multi:!0}];class Y1{static init(){!function nV(n){T1=n}(new Y1)}addToWindow(t){Wt.getAngularTestability=(r,s=!0)=>{const l=t.findTestabilityInTree(r,s);if(null==l)throw new Error("Could not find testability for element.");return l},Wt.getAllAngularTestabilities=()=>t.getAllTestabilities(),Wt.getAllAngularRootElements=()=>t.getAllRootElements(),Wt.frameworkStabilizers||(Wt.frameworkStabilizers=[]),Wt.frameworkStabilizers.push(r=>{const s=Wt.getAllAngularTestabilities();let l=s.length,u=!1;const f=function(m){u=u||m,l--,0==l&&r(u)};s.forEach(function(m){m.whenStable(f)})})}findTestabilityInTree(t,e,r){if(null==e)return null;const s=t.getTestability(e);return null!=s?s:r?Os().isShadowRoot(e)?this.findTestabilityInTree(t,e.host,!0):this.findTestabilityInTree(t,e.parentElement,!0):null}}let t3=(()=>{class n{build(){return new XMLHttpRequest}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275prov=oe({token:n,factory:n.\u0275fac}),n})();const Zy=new re("EventManagerPlugins");let Xy=(()=>{class n{constructor(e,r){this._zone=r,this._eventNameToPlugin=new Map,e.forEach(s=>s.manager=this),this._plugins=e.slice().reverse()}addEventListener(e,r,s){return this._findPluginFor(r).addEventListener(e,r,s)}addGlobalEventListener(e,r,s){return this._findPluginFor(r).addGlobalEventListener(e,r,s)}getZone(){return this._zone}_findPluginFor(e){const r=this._eventNameToPlugin.get(e);if(r)return r;const s=this._plugins;for(let l=0;l<s.length;l++){const u=s[l];if(u.supports(e))return this._eventNameToPlugin.set(e,u),u}throw new Error(`No event manager plugin found for event ${e}`)}}return n.\u0275fac=function(e){return new(e||n)(L(Zy),L(He))},n.\u0275prov=oe({token:n,factory:n.\u0275fac}),n})();class $A{constructor(t){this._doc=t}addGlobalEventListener(t,e,r){const s=Os().getGlobalEventTarget(this._doc,t);if(!s)throw new Error(`Unsupported event target ${s} for event ${e}`);return this.addEventListener(s,e,r)}}let WA=(()=>{class n{constructor(){this._stylesSet=new Set}addStyles(e){const r=new Set;e.forEach(s=>{this._stylesSet.has(s)||(this._stylesSet.add(s),r.add(s))}),this.onStylesAdded(r)}onStylesAdded(e){}getAllStyles(){return Array.from(this._stylesSet)}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275prov=oe({token:n,factory:n.\u0275fac}),n})(),dg=(()=>{class n extends WA{constructor(e){super(),this._doc=e,this._hostNodes=new Map,this._hostNodes.set(e.head,[])}_addStylesToHost(e,r,s){e.forEach(l=>{const u=this._doc.createElement("style");u.textContent=l,s.push(r.appendChild(u))})}addHost(e){const r=[];this._addStylesToHost(this._stylesSet,e,r),this._hostNodes.set(e,r)}removeHost(e){const r=this._hostNodes.get(e);r&&r.forEach(qA),this._hostNodes.delete(e)}onStylesAdded(e){this._hostNodes.forEach((r,s)=>{this._addStylesToHost(e,s,r)})}ngOnDestroy(){this._hostNodes.forEach(e=>e.forEach(qA))}}return n.\u0275fac=function(e){return new(e||n)(L(ot))},n.\u0275prov=oe({token:n,factory:n.\u0275fac}),n})();function qA(n){Os().remove(n)}const Z1={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/",math:"http://www.w3.org/1998/MathML/"},X1=/%COMP%/g;function Jy(n,t,e){for(let r=0;r<t.length;r++){let s=t[r];Array.isArray(s)?Jy(n,s,e):(s=s.replace(X1,n),e.push(s))}return e}function QA(n){return t=>{if("__ngUnwrap__"===t)return n;!1===n(t)&&(t.preventDefault(),t.returnValue=!1)}}let ew=(()=>{class n{constructor(e,r,s){this.eventManager=e,this.sharedStylesHost=r,this.appId=s,this.rendererByCompId=new Map,this.defaultRenderer=new J1(e)}createRenderer(e,r){if(!e||!r)return this.defaultRenderer;switch(r.encapsulation){case er.Emulated:{let s=this.rendererByCompId.get(r.id);return s||(s=new l3(this.eventManager,this.sharedStylesHost,r,this.appId),this.rendererByCompId.set(r.id,s)),s.applyToHost(e),s}case 1:case er.ShadowDom:return new c3(this.eventManager,this.sharedStylesHost,e,r);default:if(!this.rendererByCompId.has(r.id)){const s=Jy(r.id,r.styles,[]);this.sharedStylesHost.addStyles(s),this.rendererByCompId.set(r.id,this.defaultRenderer)}return this.defaultRenderer}}begin(){}end(){}}return n.\u0275fac=function(e){return new(e||n)(L(Xy),L(dg),L(tg))},n.\u0275prov=oe({token:n,factory:n.\u0275fac}),n})();class J1{constructor(t){this.eventManager=t,this.data=Object.create(null),this.destroyNode=null}destroy(){}createElement(t,e){return e?document.createElementNS(Z1[e]||e,t):document.createElement(t)}createComment(t){return document.createComment(t)}createText(t){return document.createTextNode(t)}appendChild(t,e){t.appendChild(e)}insertBefore(t,e,r){t&&t.insertBefore(e,r)}removeChild(t,e){t&&t.removeChild(e)}selectRootElement(t,e){let r="string"==typeof t?document.querySelector(t):t;if(!r)throw new Error(`The selector "${t}" did not match any elements`);return e||(r.textContent=""),r}parentNode(t){return t.parentNode}nextSibling(t){return t.nextSibling}setAttribute(t,e,r,s){if(s){e=s+":"+e;const l=Z1[s];l?t.setAttributeNS(l,e,r):t.setAttribute(e,r)}else t.setAttribute(e,r)}removeAttribute(t,e,r){if(r){const s=Z1[r];s?t.removeAttributeNS(s,e):t.removeAttribute(`${r}:${e}`)}else t.removeAttribute(e)}addClass(t,e){t.classList.add(e)}removeClass(t,e){t.classList.remove(e)}setStyle(t,e,r,s){s&(ar.DashCase|ar.Important)?t.style.setProperty(e,r,s&ar.Important?"important":""):t.style[e]=r}removeStyle(t,e,r){r&ar.DashCase?t.style.removeProperty(e):t.style[e]=""}setProperty(t,e,r){t[e]=r}setValue(t,e){t.nodeValue=e}listen(t,e,r){return"string"==typeof t?this.eventManager.addGlobalEventListener(t,e,QA(r)):this.eventManager.addEventListener(t,e,QA(r))}}class l3 extends J1{constructor(t,e,r,s){super(t),this.component=r;const l=Jy(s+"-"+r.id,r.styles,[]);e.addStyles(l),this.contentAttr=function o3(n){return"_ngcontent-%COMP%".replace(X1,n)}(s+"-"+r.id),this.hostAttr=function s3(n){return"_nghost-%COMP%".replace(X1,n)}(s+"-"+r.id)}applyToHost(t){super.setAttribute(t,this.hostAttr,"")}createElement(t,e){const r=super.createElement(t,e);return super.setAttribute(r,this.contentAttr,""),r}}class c3 extends J1{constructor(t,e,r,s){super(t),this.sharedStylesHost=e,this.hostEl=r,this.shadowRoot=r.attachShadow({mode:"open"}),this.sharedStylesHost.addHost(this.shadowRoot);const l=Jy(s.id,s.styles,[]);for(let u=0;u<l.length;u++){const f=document.createElement("style");f.textContent=l[u],this.shadowRoot.appendChild(f)}}nodeOrShadowRoot(t){return t===this.hostEl?this.shadowRoot:t}destroy(){this.sharedStylesHost.removeHost(this.shadowRoot)}appendChild(t,e){return super.appendChild(this.nodeOrShadowRoot(t),e)}insertBefore(t,e,r){return super.insertBefore(this.nodeOrShadowRoot(t),e,r)}removeChild(t,e){return super.removeChild(this.nodeOrShadowRoot(t),e)}parentNode(t){return this.nodeOrShadowRoot(super.parentNode(this.nodeOrShadowRoot(t)))}}let d3=(()=>{class n extends $A{constructor(e){super(e)}supports(e){return!0}addEventListener(e,r,s){return e.addEventListener(r,s,!1),()=>this.removeEventListener(e,r,s)}removeEventListener(e,r,s){return e.removeEventListener(r,s)}}return n.\u0275fac=function(e){return new(e||n)(L(ot))},n.\u0275prov=oe({token:n,factory:n.\u0275fac}),n})();const ZA=["alt","control","meta","shift"],h3={"\b":"Backspace","\t":"Tab","\x7f":"Delete","\x1b":"Escape",Del:"Delete",Esc:"Escape",Left:"ArrowLeft",Right:"ArrowRight",Up:"ArrowUp",Down:"ArrowDown",Menu:"ContextMenu",Scroll:"ScrollLock",Win:"OS"},XA={A:"1",B:"2",C:"3",D:"4",E:"5",F:"6",G:"7",H:"8",I:"9",J:"*",K:"+",M:"-",N:".",O:"/","`":"0","\x90":"NumLock"},f3={alt:n=>n.altKey,control:n=>n.ctrlKey,meta:n=>n.metaKey,shift:n=>n.shiftKey};let p3=(()=>{class n extends $A{constructor(e){super(e)}supports(e){return null!=n.parseEventName(e)}addEventListener(e,r,s){const l=n.parseEventName(r),u=n.eventCallback(l.fullKey,s,this.manager.getZone());return this.manager.getZone().runOutsideAngular(()=>Os().onAndCancel(e,l.domEventName,u))}static parseEventName(e){const r=e.toLowerCase().split("."),s=r.shift();if(0===r.length||"keydown"!==s&&"keyup"!==s)return null;const l=n._normalizeKey(r.pop());let u="";if(ZA.forEach(m=>{const b=r.indexOf(m);b>-1&&(r.splice(b,1),u+=m+".")}),u+=l,0!=r.length||0===l.length)return null;const f={};return f.domEventName=s,f.fullKey=u,f}static getEventFullKey(e){let r="",s=function m3(n){let t=n.key;if(null==t){if(t=n.keyIdentifier,null==t)return"Unidentified";t.startsWith("U+")&&(t=String.fromCharCode(parseInt(t.substring(2),16)),3===n.location&&XA.hasOwnProperty(t)&&(t=XA[t]))}return h3[t]||t}(e);return s=s.toLowerCase()," "===s?s="space":"."===s&&(s="dot"),ZA.forEach(l=>{l!=s&&f3[l](e)&&(r+=l+".")}),r+=s,r}static eventCallback(e,r,s){return l=>{n.getEventFullKey(l)===e&&s.runGuarded(()=>r(l))}}static _normalizeKey(e){return"esc"===e?"escape":e}}return n.\u0275fac=function(e){return new(e||n)(L(ot))},n.\u0275prov=oe({token:n,factory:n.\u0275fac}),n})();const v3=aA(EV,"browser",[{provide:ng,useValue:jA},{provide:eA,useValue:function g3(){Q1.makeCurrent(),Y1.init()},multi:!0},{provide:ot,useFactory:function b3(){return function xc(n){Rf=n}(document),document},deps:[]}]),y3=[{provide:Fi,useValue:"root"},{provide:qr,useFactory:function _3(){return new qr},deps:[]},{provide:Zy,useClass:d3,multi:!0,deps:[ot,He,ng]},{provide:Zy,useClass:p3,multi:!0,deps:[ot]},{provide:ew,useClass:ew,deps:[Xy,dg,tg]},{provide:Km,useExisting:ew},{provide:WA,useExisting:dg},{provide:dg,useClass:dg,deps:[ot]},{provide:x1,useClass:x1,deps:[He]},{provide:Xy,useClass:Xy,deps:[Zy,He]},{provide:HA,useClass:t3,deps:[]}];let JA=(()=>{class n{constructor(e){if(e)throw new Error("BrowserModule has already been loaded. If you need access to common directives such as NgIf and NgFor from a lazy loaded module, import CommonModule instead.")}static withServerTransition(e){return{ngModule:n,providers:[{provide:tg,useValue:e.appId},{provide:UA,useExisting:tg},e3]}}}return n.\u0275fac=function(e){return new(e||n)(L(n,12))},n.\u0275mod=ue({type:n}),n.\u0275inj=Se({providers:y3,imports:[Qi,SV]}),n})();"undefined"!=typeof window&&window;let Mh=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275prov=oe({token:n,factory:function(e){let r=null;return r=e?new(e||n):L(nI),r},providedIn:"root"}),n})(),nI=(()=>{class n extends Mh{constructor(e){super(),this._doc=e}sanitize(e,r){if(null==r)return null;switch(e){case gt.NONE:return r;case gt.HTML:return bo(r,"HTML")?Wi(r):ub(this._doc,String(r)).toString();case gt.STYLE:return bo(r,"Style")?Wi(r):r;case gt.SCRIPT:if(bo(r,"Script"))return Wi(r);throw new Error("unsafe value used in a script context");case gt.URL:return Vu(r),bo(r,"URL")?Wi(r):vl(String(r));case gt.RESOURCE_URL:if(bo(r,"ResourceURL"))return Wi(r);throw new Error("unsafe value used in a resource URL context (see https://g.co/ng/security#xss)");default:throw new Error(`Unexpected SecurityContext ${e} (see https://g.co/ng/security#xss)`)}}bypassSecurityTrustHtml(e){return function sr(n){return new Yk(n)}(e)}bypassSecurityTrustStyle(e){return function ib(n){return new nb(n)}(e)}bypassSecurityTrustScript(e){return function ju(n){return new Zk(n)}(e)}bypassSecurityTrustUrl(e){return function eC(n){return new Xk(n)}(e)}bypassSecurityTrustResourceUrl(e){return function rb(n){return new Jk(n)}(e)}}return n.\u0275fac=function(e){return new(e||n)(L(ot))},n.\u0275prov=oe({token:n,factory:function(e){let r=null;return r=e?new e:function A3(n){return new nI(n.get(ot))}(L(nn)),r},providedIn:"root"}),n})();function Ue(...n){return Zn(n,Qs(n))}class Rr extends Oe{constructor(t){super(),this._value=t}get value(){return this.getValue()}_subscribe(t){const e=super._subscribe(t);return!e.closed&&t.next(this._value),e}getValue(){const{hasError:t,thrownError:e,_value:r}=this;if(t)throw e;return this._throwIfClosed(),r}next(t){super.next(this._value=t)}}const{isArray:I3}=Array,{getPrototypeOf:P3,prototype:R3,keys:O3}=Object;function iI(n){if(1===n.length){const t=n[0];if(I3(t))return{args:t,keys:null};if(function F3(n){return n&&"object"==typeof n&&P3(n)===R3}(t)){const e=O3(t);return{args:e.map(r=>t[r]),keys:e}}}return{args:n,keys:null}}const{isArray:N3}=Array;function tT(n){return Te(t=>function L3(n,t){return N3(t)?n(...t):n(t)}(n,t))}function rI(n,t){return n.reduce((e,r,s)=>(e[r]=t[s],e),{})}function oI(...n){const t=Qs(n),e=df(n),{args:r,keys:s}=iI(n);if(0===r.length)return Zn([],t);const l=new Ft(function B3(n,t,e=Un){return r=>{sI(t,()=>{const{length:s}=n,l=new Array(s);let u=s,f=s;for(let m=0;m<s;m++)sI(t,()=>{const b=Zn(n[m],t);let w=!1;b.subscribe(on(r,x=>{l[m]=x,w||(w=!0,f--),f||r.next(e(l.slice()))},()=>{--u||r.complete()}))},r)},r)}}(r,t,s?u=>rI(s,u):Un));return e?l.pipe(tT(e)):l}function sI(n,t,e){n?gn(e,n,t):t()}function jl(n,t){const e=j(n)?n:()=>n,r=s=>s.error(e());return new Ft(t?s=>t.schedule(r,0,s):r)}const tw=P(n=>function(){n(this),this.name="EmptyError",this.message="no elements in sequence"});function nw(...n){return function V3(){return Ks(1)}()(Zn(n,Qs(n)))}function nT(n){return new Ft(t=>{gi(n()).subscribe(t)})}function aI(){return mn((n,t)=>{let e=null;n._refCount++;const r=on(t,void 0,void 0,void 0,()=>{if(!n||n._refCount<=0||0<--n._refCount)return void(e=null);const s=n._connection,l=e;e=null,s&&(!l||s===l)&&s.unsubscribe(),t.unsubscribe()});n.subscribe(r),r.closed||(e=n.connect())})}class j3 extends Ft{constructor(t,e){super(),this.source=t,this.subjectFactory=e,this._subject=null,this._refCount=0,this._connection=null,ru(t)&&(this.lift=t.lift)}_subscribe(t){return this.getSubject().subscribe(t)}getSubject(){const t=this._subject;return(!t||t.isStopped)&&(this._subject=this.subjectFactory()),this._subject}_teardown(){this._refCount=0;const{_connection:t}=this;this._subject=this._connection=null,null==t||t.unsubscribe()}connect(){let t=this._connection;if(!t){t=this._connection=new U;const e=this.getSubject();t.add(this.source.subscribe(on(e,void 0,()=>{this._teardown(),e.complete()},r=>{this._teardown(),e.error(r)},()=>this._teardown()))),t.closed&&(this._connection=null,t=U.EMPTY)}return t}refCount(){return aI()(this)}}function Dd(n,t){return mn((e,r)=>{let s=null,l=0,u=!1;const f=()=>u&&!s&&r.complete();e.subscribe(on(r,m=>{null==s||s.unsubscribe();let b=0;const w=l++;gi(n(m,w)).subscribe(s=on(r,x=>r.next(t?t(m,x,w,b++):x),()=>{s=null,f()}))},()=>{u=!0,f()}))})}function Fs(...n){const t=Qs(n);return mn((e,r)=>{(t?nw(n,e,t):nw(n,e)).subscribe(r)})}function z3(n,t,e,r,s){return(l,u)=>{let f=e,m=t,b=0;l.subscribe(on(u,w=>{const x=b++;m=f?n(m,w,x):(f=!0,w),r&&u.next(m)},s&&(()=>{f&&u.next(m),u.complete()})))}}function lI(n,t){return mn(z3(n,t,arguments.length>=2,!0))}function xi(n,t){return mn((e,r)=>{let s=0;e.subscribe(on(r,l=>n.call(t,l,s++)&&r.next(l)))})}function Ns(n){return mn((t,e)=>{let l,r=null,s=!1;r=t.subscribe(on(e,void 0,void 0,u=>{l=gi(n(u,Ns(n)(t))),r?(r.unsubscribe(),r=null,l.subscribe(e)):s=!0})),s&&(r.unsubscribe(),r=null,l.subscribe(e))})}function Md(n,t){return j(t)?Ln(n,t,1):Ln(n,1)}function iT(n){return n<=0?()=>Fr:mn((t,e)=>{let r=[];t.subscribe(on(e,s=>{r.push(s),n<r.length&&r.shift()},()=>{for(const s of r)e.next(s);e.complete()},void 0,()=>{r=null}))})}function cI(n=H3){return mn((t,e)=>{let r=!1;t.subscribe(on(e,s=>{r=!0,e.next(s)},()=>r?e.complete():e.error(n())))})}function H3(){return new tw}function dI(n){return mn((t,e)=>{let r=!1;t.subscribe(on(e,s=>{r=!0,e.next(s)},()=>{r||e.next(n),e.complete()}))})}function zl(n,t){const e=arguments.length>=2;return r=>r.pipe(n?xi((s,l)=>n(s,l,r)):Un,si(1),e?dI(t):cI(()=>new tw))}function vn(n,t,e){const r=j(n)||t||e?{next:n,error:t,complete:e}:n;return r?mn((s,l)=>{var u;null===(u=r.subscribe)||void 0===u||u.call(r);let f=!0;s.subscribe(on(l,m=>{var b;null===(b=r.next)||void 0===b||b.call(r,m),l.next(m)},()=>{var m;f=!1,null===(m=r.complete)||void 0===m||m.call(r),l.complete()},m=>{var b;f=!1,null===(b=r.error)||void 0===b||b.call(r,m),l.error(m)},()=>{var m,b;f&&(null===(m=r.unsubscribe)||void 0===m||m.call(r)),null===(b=r.finalize)||void 0===b||b.call(r)}))}):Un}function uI(n){return mn((t,e)=>{try{t.subscribe(e)}finally{e.add(n)}})}class Da{constructor(t,e){this.id=t,this.url=e}}class iw extends Da{constructor(t,e,r="imperative",s=null){super(t,e),this.navigationTrigger=r,this.restoredState=s}toString(){return`NavigationStart(id: ${this.id}, url: '${this.url}')`}}class Ah extends Da{constructor(t,e,r){super(t,e),this.urlAfterRedirects=r}toString(){return`NavigationEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}')`}}class hI extends Da{constructor(t,e,r){super(t,e),this.reason=r}toString(){return`NavigationCancel(id: ${this.id}, url: '${this.url}')`}}class $3 extends Da{constructor(t,e,r){super(t,e),this.error=r}toString(){return`NavigationError(id: ${this.id}, url: '${this.url}', error: ${this.error})`}}class W3 extends Da{constructor(t,e,r,s){super(t,e),this.urlAfterRedirects=r,this.state=s}toString(){return`RoutesRecognized(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class q3 extends Da{constructor(t,e,r,s){super(t,e),this.urlAfterRedirects=r,this.state=s}toString(){return`GuardsCheckStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class G3 extends Da{constructor(t,e,r,s,l){super(t,e),this.urlAfterRedirects=r,this.state=s,this.shouldActivate=l}toString(){return`GuardsCheckEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state}, shouldActivate: ${this.shouldActivate})`}}class K3 extends Da{constructor(t,e,r,s){super(t,e),this.urlAfterRedirects=r,this.state=s}toString(){return`ResolveStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class Q3 extends Da{constructor(t,e,r,s){super(t,e),this.urlAfterRedirects=r,this.state=s}toString(){return`ResolveEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class fI{constructor(t){this.route=t}toString(){return`RouteConfigLoadStart(path: ${this.route.path})`}}class pI{constructor(t){this.route=t}toString(){return`RouteConfigLoadEnd(path: ${this.route.path})`}}class Y3{constructor(t){this.snapshot=t}toString(){return`ChildActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class Z3{constructor(t){this.snapshot=t}toString(){return`ChildActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class X3{constructor(t){this.snapshot=t}toString(){return`ActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class J3{constructor(t){this.snapshot=t}toString(){return`ActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class mI{constructor(t,e,r){this.routerEvent=t,this.position=e,this.anchor=r}toString(){return`Scroll(anchor: '${this.anchor}', position: '${this.position?`${this.position[0]}, ${this.position[1]}`:null}')`}}const bt="primary";class ej{constructor(t){this.params=t||{}}has(t){return Object.prototype.hasOwnProperty.call(this.params,t)}get(t){if(this.has(t)){const e=this.params[t];return Array.isArray(e)?e[0]:e}return null}getAll(t){if(this.has(t)){const e=this.params[t];return Array.isArray(e)?e:[e]}return[]}get keys(){return Object.keys(this.params)}}function Ih(n){return new ej(n)}const gI="ngNavigationCancelingError";function rT(n){const t=Error("NavigationCancelingError: "+n);return t[gI]=!0,t}function nj(n,t,e){const r=e.path.split("/");if(r.length>n.length||"full"===e.pathMatch&&(t.hasChildren()||r.length<n.length))return null;const s={};for(let l=0;l<r.length;l++){const u=r[l],f=n[l];if(u.startsWith(":"))s[u.substring(1)]=f;else if(u!==f.path)return null}return{consumed:n.slice(0,r.length),posParams:s}}function Ls(n,t){const e=n?Object.keys(n):void 0,r=t?Object.keys(t):void 0;if(!e||!r||e.length!=r.length)return!1;let s;for(let l=0;l<e.length;l++)if(s=e[l],!_I(n[s],t[s]))return!1;return!0}function _I(n,t){if(Array.isArray(n)&&Array.isArray(t)){if(n.length!==t.length)return!1;const e=[...n].sort(),r=[...t].sort();return e.every((s,l)=>r[l]===s)}return n===t}function bI(n){return Array.prototype.concat.apply([],n)}function vI(n){return n.length>0?n[n.length-1]:null}function Ni(n,t){for(const e in n)n.hasOwnProperty(e)&&t(n[e],e)}function Bs(n){return Im(n)?n:Fl(n)?Zn(Promise.resolve(n)):Ue(n)}const oj={exact:function kI(n,t,e){if(!Id(n.segments,t.segments)||!rw(n.segments,t.segments,e)||n.numberOfChildren!==t.numberOfChildren)return!1;for(const r in t.children)if(!n.children[r]||!kI(n.children[r],t.children[r],e))return!1;return!0},subset:CI},yI={exact:function sj(n,t){return Ls(n,t)},subset:function aj(n,t){return Object.keys(t).length<=Object.keys(n).length&&Object.keys(t).every(e=>_I(n[e],t[e]))},ignored:()=>!0};function wI(n,t,e){return oj[e.paths](n.root,t.root,e.matrixParams)&&yI[e.queryParams](n.queryParams,t.queryParams)&&!("exact"===e.fragment&&n.fragment!==t.fragment)}function CI(n,t,e){return xI(n,t,t.segments,e)}function xI(n,t,e,r){if(n.segments.length>e.length){const s=n.segments.slice(0,e.length);return!(!Id(s,e)||t.hasChildren()||!rw(s,e,r))}if(n.segments.length===e.length){if(!Id(n.segments,e)||!rw(n.segments,e,r))return!1;for(const s in t.children)if(!n.children[s]||!CI(n.children[s],t.children[s],r))return!1;return!0}{const s=e.slice(0,n.segments.length),l=e.slice(n.segments.length);return!!(Id(n.segments,s)&&rw(n.segments,s,r)&&n.children[bt])&&xI(n.children[bt],t,l,r)}}function rw(n,t,e){return t.every((r,s)=>yI[e](n[s].parameters,r.parameters))}class Ad{constructor(t,e,r){this.root=t,this.queryParams=e,this.fragment=r}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=Ih(this.queryParams)),this._queryParamMap}toString(){return dj.serialize(this)}}class Pt{constructor(t,e){this.segments=t,this.children=e,this.parent=null,Ni(e,(r,s)=>r.parent=this)}hasChildren(){return this.numberOfChildren>0}get numberOfChildren(){return Object.keys(this.children).length}toString(){return ow(this)}}class ug{constructor(t,e){this.path=t,this.parameters=e}get parameterMap(){return this._parameterMap||(this._parameterMap=Ih(this.parameters)),this._parameterMap}toString(){return MI(this)}}function Id(n,t){return n.length===t.length&&n.every((e,r)=>e.path===t[r].path)}class TI{}class EI{parse(t){const e=new vj(t);return new Ad(e.parseRootSegment(),e.parseQueryParams(),e.parseFragment())}serialize(t){const e=`/${hg(t.root,!0)}`,r=function fj(n){const t=Object.keys(n).map(e=>{const r=n[e];return Array.isArray(r)?r.map(s=>`${sw(e)}=${sw(s)}`).join("&"):`${sw(e)}=${sw(r)}`}).filter(e=>!!e);return t.length?`?${t.join("&")}`:""}(t.queryParams);return`${e}${r}${"string"==typeof t.fragment?`#${function uj(n){return encodeURI(n)}(t.fragment)}`:""}`}}const dj=new EI;function ow(n){return n.segments.map(t=>MI(t)).join("/")}function hg(n,t){if(!n.hasChildren())return ow(n);if(t){const e=n.children[bt]?hg(n.children[bt],!1):"",r=[];return Ni(n.children,(s,l)=>{l!==bt&&r.push(`${l}:${hg(s,!1)}`)}),r.length>0?`${e}(${r.join("//")})`:e}{const e=function cj(n,t){let e=[];return Ni(n.children,(r,s)=>{s===bt&&(e=e.concat(t(r,s)))}),Ni(n.children,(r,s)=>{s!==bt&&(e=e.concat(t(r,s)))}),e}(n,(r,s)=>s===bt?[hg(n.children[bt],!1)]:[`${s}:${hg(r,!1)}`]);return 1===Object.keys(n.children).length&&null!=n.children[bt]?`${ow(n)}/${e[0]}`:`${ow(n)}/(${e.join("//")})`}}function SI(n){return encodeURIComponent(n).replace(/%40/g,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",")}function sw(n){return SI(n).replace(/%3B/gi,";")}function oT(n){return SI(n).replace(/\(/g,"%28").replace(/\)/g,"%29").replace(/%26/gi,"&")}function aw(n){return decodeURIComponent(n)}function DI(n){return aw(n.replace(/\+/g,"%20"))}function MI(n){return`${oT(n.path)}${function hj(n){return Object.keys(n).map(t=>`;${oT(t)}=${oT(n[t])}`).join("")}(n.parameters)}`}const pj=/^[^\/()?;=#]+/;function lw(n){const t=n.match(pj);return t?t[0]:""}const mj=/^[^=?&#]+/,_j=/^[^&#]+/;class vj{constructor(t){this.url=t,this.remaining=t}parseRootSegment(){return this.consumeOptional("/"),""===this.remaining||this.peekStartsWith("?")||this.peekStartsWith("#")?new Pt([],{}):new Pt([],this.parseChildren())}parseQueryParams(){const t={};if(this.consumeOptional("?"))do{this.parseQueryParam(t)}while(this.consumeOptional("&"));return t}parseFragment(){return this.consumeOptional("#")?decodeURIComponent(this.remaining):null}parseChildren(){if(""===this.remaining)return{};this.consumeOptional("/");const t=[];for(this.peekStartsWith("(")||t.push(this.parseSegment());this.peekStartsWith("/")&&!this.peekStartsWith("//")&&!this.peekStartsWith("/(");)this.capture("/"),t.push(this.parseSegment());let e={};this.peekStartsWith("/(")&&(this.capture("/"),e=this.parseParens(!0));let r={};return this.peekStartsWith("(")&&(r=this.parseParens(!1)),(t.length>0||Object.keys(e).length>0)&&(r[bt]=new Pt(t,e)),r}parseSegment(){const t=lw(this.remaining);if(""===t&&this.peekStartsWith(";"))throw new Error(`Empty path url segment cannot have parameters: '${this.remaining}'.`);return this.capture(t),new ug(aw(t),this.parseMatrixParams())}parseMatrixParams(){const t={};for(;this.consumeOptional(";");)this.parseParam(t);return t}parseParam(t){const e=lw(this.remaining);if(!e)return;this.capture(e);let r="";if(this.consumeOptional("=")){const s=lw(this.remaining);s&&(r=s,this.capture(r))}t[aw(e)]=aw(r)}parseQueryParam(t){const e=function gj(n){const t=n.match(mj);return t?t[0]:""}(this.remaining);if(!e)return;this.capture(e);let r="";if(this.consumeOptional("=")){const u=function bj(n){const t=n.match(_j);return t?t[0]:""}(this.remaining);u&&(r=u,this.capture(r))}const s=DI(e),l=DI(r);if(t.hasOwnProperty(s)){let u=t[s];Array.isArray(u)||(u=[u],t[s]=u),u.push(l)}else t[s]=l}parseParens(t){const e={};for(this.capture("(");!this.consumeOptional(")")&&this.remaining.length>0;){const r=lw(this.remaining),s=this.remaining[r.length];if("/"!==s&&")"!==s&&";"!==s)throw new Error(`Cannot parse url '${this.url}'`);let l;r.indexOf(":")>-1?(l=r.substr(0,r.indexOf(":")),this.capture(l),this.capture(":")):t&&(l=bt);const u=this.parseChildren();e[l]=1===Object.keys(u).length?u[bt]:new Pt([],u),this.consumeOptional("//")}return e}peekStartsWith(t){return this.remaining.startsWith(t)}consumeOptional(t){return!!this.peekStartsWith(t)&&(this.remaining=this.remaining.substring(t.length),!0)}capture(t){if(!this.consumeOptional(t))throw new Error(`Expected "${t}".`)}}class AI{constructor(t){this._root=t}get root(){return this._root.value}parent(t){const e=this.pathFromRoot(t);return e.length>1?e[e.length-2]:null}children(t){const e=sT(t,this._root);return e?e.children.map(r=>r.value):[]}firstChild(t){const e=sT(t,this._root);return e&&e.children.length>0?e.children[0].value:null}siblings(t){const e=aT(t,this._root);return e.length<2?[]:e[e.length-2].children.map(s=>s.value).filter(s=>s!==t)}pathFromRoot(t){return aT(t,this._root).map(e=>e.value)}}function sT(n,t){if(n===t.value)return t;for(const e of t.children){const r=sT(n,e);if(r)return r}return null}function aT(n,t){if(n===t.value)return[t];for(const e of t.children){const r=aT(n,e);if(r.length)return r.unshift(t),r}return[]}class Ma{constructor(t,e){this.value=t,this.children=e}toString(){return`TreeNode(${this.value})`}}function Ph(n){const t={};return n&&n.children.forEach(e=>t[e.value.outlet]=e),t}class II extends AI{constructor(t,e){super(t),this.snapshot=e,lT(this,t)}toString(){return this.snapshot.toString()}}function PI(n,t){const e=function yj(n,t){const u=new cw([],{},{},"",{},bt,t,null,n.root,-1,{});return new OI("",new Ma(u,[]))}(n,t),r=new Rr([new ug("",{})]),s=new Rr({}),l=new Rr({}),u=new Rr({}),f=new Rr(""),m=new to(r,s,u,f,l,bt,t,e.root);return m.snapshot=e.root,new II(new Ma(m,[]),e)}class to{constructor(t,e,r,s,l,u,f,m){this.url=t,this.params=e,this.queryParams=r,this.fragment=s,this.data=l,this.outlet=u,this.component=f,this._futureSnapshot=m}get routeConfig(){return this._futureSnapshot.routeConfig}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=this.params.pipe(Te(t=>Ih(t)))),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=this.queryParams.pipe(Te(t=>Ih(t)))),this._queryParamMap}toString(){return this.snapshot?this.snapshot.toString():`Future(${this._futureSnapshot})`}}function RI(n,t="emptyOnly"){const e=n.pathFromRoot;let r=0;if("always"!==t)for(r=e.length-1;r>=1;){const s=e[r],l=e[r-1];if(s.routeConfig&&""===s.routeConfig.path)r--;else{if(l.component)break;r--}}return function wj(n){return n.reduce((t,e)=>({params:Object.assign(Object.assign({},t.params),e.params),data:Object.assign(Object.assign({},t.data),e.data),resolve:Object.assign(Object.assign({},t.resolve),e._resolvedData)}),{params:{},data:{},resolve:{}})}(e.slice(r))}class cw{constructor(t,e,r,s,l,u,f,m,b,w,x){this.url=t,this.params=e,this.queryParams=r,this.fragment=s,this.data=l,this.outlet=u,this.component=f,this.routeConfig=m,this._urlSegment=b,this._lastPathIndex=w,this._resolve=x}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=Ih(this.params)),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=Ih(this.queryParams)),this._queryParamMap}toString(){return`Route(url:'${this.url.map(r=>r.toString()).join("/")}', path:'${this.routeConfig?this.routeConfig.path:""}')`}}class OI extends AI{constructor(t,e){super(e),this.url=t,lT(this,e)}toString(){return FI(this._root)}}function lT(n,t){t.value._routerState=n,t.children.forEach(e=>lT(n,e))}function FI(n){const t=n.children.length>0?` { ${n.children.map(FI).join(", ")} } `:"";return`${n.value}${t}`}function cT(n){if(n.snapshot){const t=n.snapshot,e=n._futureSnapshot;n.snapshot=e,Ls(t.queryParams,e.queryParams)||n.queryParams.next(e.queryParams),t.fragment!==e.fragment&&n.fragment.next(e.fragment),Ls(t.params,e.params)||n.params.next(e.params),function ij(n,t){if(n.length!==t.length)return!1;for(let e=0;e<n.length;++e)if(!Ls(n[e],t[e]))return!1;return!0}(t.url,e.url)||n.url.next(e.url),Ls(t.data,e.data)||n.data.next(e.data)}else n.snapshot=n._futureSnapshot,n.data.next(n._futureSnapshot.data)}function dT(n,t){const e=Ls(n.params,t.params)&&function lj(n,t){return Id(n,t)&&n.every((e,r)=>Ls(e.parameters,t[r].parameters))}(n.url,t.url);return e&&!(!n.parent!=!t.parent)&&(!n.parent||dT(n.parent,t.parent))}function fg(n,t,e){if(e&&n.shouldReuseRoute(t.value,e.value.snapshot)){const r=e.value;r._futureSnapshot=t.value;const s=function Cj(n,t,e){return t.children.map(r=>{for(const s of e.children)if(n.shouldReuseRoute(r.value,s.value.snapshot))return fg(n,r,s);return fg(n,r)})}(n,t,e);return new Ma(r,s)}{if(n.shouldAttach(t.value)){const l=n.retrieve(t.value);if(null!==l){const u=l.route;return u.value._futureSnapshot=t.value,u.children=t.children.map(f=>fg(n,f)),u}}const r=function xj(n){return new to(new Rr(n.url),new Rr(n.params),new Rr(n.queryParams),new Rr(n.fragment),new Rr(n.data),n.outlet,n.component,n)}(t.value),s=t.children.map(l=>fg(n,l));return new Ma(r,s)}}function dw(n){return"object"==typeof n&&null!=n&&!n.outlets&&!n.segmentPath}function pg(n){return"object"==typeof n&&null!=n&&n.outlets}function uT(n,t,e,r,s){let l={};if(r&&Ni(r,(f,m)=>{l[m]=Array.isArray(f)?f.map(b=>`${b}`):`${f}`}),n===t)return new Ad(e,l,s);const u=NI(n,t,e);return new Ad(u,l,s)}function NI(n,t,e){const r={};return Ni(n.children,(s,l)=>{r[l]=s===t?e:NI(s,t,e)}),new Pt(n.segments,r)}class LI{constructor(t,e,r){if(this.isAbsolute=t,this.numberOfDoubleDots=e,this.commands=r,t&&r.length>0&&dw(r[0]))throw new Error("Root segment cannot have matrix parameters");const s=r.find(pg);if(s&&s!==vI(r))throw new Error("{outlets:{}} has to be the last command")}toRoot(){return this.isAbsolute&&1===this.commands.length&&"/"==this.commands[0]}}class hT{constructor(t,e,r){this.segmentGroup=t,this.processChildren=e,this.index=r}}function BI(n,t,e){if(n||(n=new Pt([],{})),0===n.segments.length&&n.hasChildren())return uw(n,t,e);const r=function Aj(n,t,e){let r=0,s=t;const l={match:!1,pathIndex:0,commandIndex:0};for(;s<n.segments.length;){if(r>=e.length)return l;const u=n.segments[s],f=e[r];if(pg(f))break;const m=`${f}`,b=r<e.length-1?e[r+1]:null;if(s>0&&void 0===m)break;if(m&&b&&"object"==typeof b&&void 0===b.outlets){if(!jI(m,b,u))return l;r+=2}else{if(!jI(m,{},u))return l;r++}s++}return{match:!0,pathIndex:s,commandIndex:r}}(n,t,e),s=e.slice(r.commandIndex);if(r.match&&r.pathIndex<n.segments.length){const l=new Pt(n.segments.slice(0,r.pathIndex),{});return l.children[bt]=new Pt(n.segments.slice(r.pathIndex),n.children),uw(l,0,s)}return r.match&&0===s.length?new Pt(n.segments,{}):r.match&&!n.hasChildren()?fT(n,t,e):r.match?uw(n,0,s):fT(n,t,e)}function uw(n,t,e){if(0===e.length)return new Pt(n.segments,{});{const r=function Mj(n){return pg(n[0])?n[0].outlets:{[bt]:n}}(e),s={};return Ni(r,(l,u)=>{"string"==typeof l&&(l=[l]),null!==l&&(s[u]=BI(n.children[u],t,l))}),Ni(n.children,(l,u)=>{void 0===r[u]&&(s[u]=l)}),new Pt(n.segments,s)}}function fT(n,t,e){const r=n.segments.slice(0,t);let s=0;for(;s<e.length;){const l=e[s];if(pg(l)){const m=Ij(l.outlets);return new Pt(r,m)}if(0===s&&dw(e[0])){r.push(new ug(n.segments[t].path,VI(e[0]))),s++;continue}const u=pg(l)?l.outlets[bt]:`${l}`,f=s<e.length-1?e[s+1]:null;u&&f&&dw(f)?(r.push(new ug(u,VI(f))),s+=2):(r.push(new ug(u,{})),s++)}return new Pt(r,{})}function Ij(n){const t={};return Ni(n,(e,r)=>{"string"==typeof e&&(e=[e]),null!==e&&(t[r]=fT(new Pt([],{}),0,e))}),t}function VI(n){const t={};return Ni(n,(e,r)=>t[r]=`${e}`),t}function jI(n,t,e){return n==e.path&&Ls(t,e.parameters)}class Rj{constructor(t,e,r,s){this.routeReuseStrategy=t,this.futureState=e,this.currState=r,this.forwardEvent=s}activate(t){const e=this.futureState._root,r=this.currState?this.currState._root:null;this.deactivateChildRoutes(e,r,t),cT(this.futureState.root),this.activateChildRoutes(e,r,t)}deactivateChildRoutes(t,e,r){const s=Ph(e);t.children.forEach(l=>{const u=l.value.outlet;this.deactivateRoutes(l,s[u],r),delete s[u]}),Ni(s,(l,u)=>{this.deactivateRouteAndItsChildren(l,r)})}deactivateRoutes(t,e,r){const s=t.value,l=e?e.value:null;if(s===l)if(s.component){const u=r.getContext(s.outlet);u&&this.deactivateChildRoutes(t,e,u.children)}else this.deactivateChildRoutes(t,e,r);else l&&this.deactivateRouteAndItsChildren(e,r)}deactivateRouteAndItsChildren(t,e){t.value.component&&this.routeReuseStrategy.shouldDetach(t.value.snapshot)?this.detachAndStoreRouteSubtree(t,e):this.deactivateRouteAndOutlet(t,e)}detachAndStoreRouteSubtree(t,e){const r=e.getContext(t.value.outlet),s=r&&t.value.component?r.children:e,l=Ph(t);for(const u of Object.keys(l))this.deactivateRouteAndItsChildren(l[u],s);if(r&&r.outlet){const u=r.outlet.detach(),f=r.children.onOutletDeactivated();this.routeReuseStrategy.store(t.value.snapshot,{componentRef:u,route:t,contexts:f})}}deactivateRouteAndOutlet(t,e){const r=e.getContext(t.value.outlet),s=r&&t.value.component?r.children:e,l=Ph(t);for(const u of Object.keys(l))this.deactivateRouteAndItsChildren(l[u],s);r&&r.outlet&&(r.outlet.deactivate(),r.children.onOutletDeactivated(),r.attachRef=null,r.resolver=null,r.route=null)}activateChildRoutes(t,e,r){const s=Ph(e);t.children.forEach(l=>{this.activateRoutes(l,s[l.value.outlet],r),this.forwardEvent(new J3(l.value.snapshot))}),t.children.length&&this.forwardEvent(new Z3(t.value.snapshot))}activateRoutes(t,e,r){const s=t.value,l=e?e.value:null;if(cT(s),s===l)if(s.component){const u=r.getOrCreateContext(s.outlet);this.activateChildRoutes(t,e,u.children)}else this.activateChildRoutes(t,e,r);else if(s.component){const u=r.getOrCreateContext(s.outlet);if(this.routeReuseStrategy.shouldAttach(s.snapshot)){const f=this.routeReuseStrategy.retrieve(s.snapshot);this.routeReuseStrategy.store(s.snapshot,null),u.children.onOutletReAttached(f.contexts),u.attachRef=f.componentRef,u.route=f.route.value,u.outlet&&u.outlet.attach(f.componentRef,f.route.value),cT(f.route.value),this.activateChildRoutes(t,null,u.children)}else{const f=function Oj(n){for(let t=n.parent;t;t=t.parent){const e=t.routeConfig;if(e&&e._loadedConfig)return e._loadedConfig;if(e&&e.component)return null}return null}(s.snapshot),m=f?f.module.componentFactoryResolver:null;u.attachRef=null,u.route=s,u.resolver=m,u.outlet&&u.outlet.activateWith(s,m),this.activateChildRoutes(t,null,u.children)}}else this.activateChildRoutes(t,null,r)}}class pT{constructor(t,e){this.routes=t,this.module=e}}function Hl(n){return"function"==typeof n}function Pd(n){return n instanceof Ad}const mg=Symbol("INITIAL_VALUE");function gg(){return Dd(n=>oI(n.map(t=>t.pipe(si(1),Fs(mg)))).pipe(lI((t,e)=>{let r=!1;return e.reduce((s,l,u)=>s!==mg?s:(l===mg&&(r=!0),r||!1!==l&&u!==e.length-1&&!Pd(l)?s:l),t)},mg),xi(t=>t!==mg),Te(t=>Pd(t)?t:!0===t),si(1)))}class jj{constructor(){this.outlet=null,this.route=null,this.resolver=null,this.children=new _g,this.attachRef=null}}class _g{constructor(){this.contexts=new Map}onChildOutletCreated(t,e){const r=this.getOrCreateContext(t);r.outlet=e,this.contexts.set(t,r)}onChildOutletDestroyed(t){const e=this.getContext(t);e&&(e.outlet=null,e.attachRef=null)}onOutletDeactivated(){const t=this.contexts;return this.contexts=new Map,t}onOutletReAttached(t){this.contexts=t}getOrCreateContext(t){let e=this.getContext(t);return e||(e=new jj,this.contexts.set(t,e)),e}getContext(t){return this.contexts.get(t)||null}}let hw=(()=>{class n{constructor(e,r,s,l,u){this.parentContexts=e,this.location=r,this.resolver=s,this.changeDetector=u,this.activated=null,this._activatedRoute=null,this.activateEvents=new we,this.deactivateEvents=new we,this.attachEvents=new we,this.detachEvents=new we,this.name=l||bt,e.onChildOutletCreated(this.name,this)}ngOnDestroy(){this.parentContexts.onChildOutletDestroyed(this.name)}ngOnInit(){if(!this.activated){const e=this.parentContexts.getContext(this.name);e&&e.route&&(e.attachRef?this.attach(e.attachRef,e.route):this.activateWith(e.route,e.resolver||null))}}get isActivated(){return!!this.activated}get component(){if(!this.activated)throw new Error("Outlet is not activated");return this.activated.instance}get activatedRoute(){if(!this.activated)throw new Error("Outlet is not activated");return this._activatedRoute}get activatedRouteData(){return this._activatedRoute?this._activatedRoute.snapshot.data:{}}detach(){if(!this.activated)throw new Error("Outlet is not activated");this.location.detach();const e=this.activated;return this.activated=null,this._activatedRoute=null,this.detachEvents.emit(e.instance),e}attach(e,r){this.activated=e,this._activatedRoute=r,this.location.insert(e.hostView),this.attachEvents.emit(e.instance)}deactivate(){if(this.activated){const e=this.component;this.activated.destroy(),this.activated=null,this._activatedRoute=null,this.deactivateEvents.emit(e)}}activateWith(e,r){if(this.isActivated)throw new Error("Cannot activate an already activated outlet");this._activatedRoute=e;const u=(r=r||this.resolver).resolveComponentFactory(e._futureSnapshot.routeConfig.component),f=this.parentContexts.getOrCreateContext(this.name).children,m=new zj(e,f,this.location.injector);this.activated=this.location.createComponent(u,this.location.length,m),this.changeDetector.markForCheck(),this.activateEvents.emit(this.activated.instance)}}return n.\u0275fac=function(e){return new(e||n)(M(_g),M(eo),M(Cd),ir("name"),M(ei))},n.\u0275dir=se({type:n,selectors:[["router-outlet"]],outputs:{activateEvents:"activate",deactivateEvents:"deactivate",attachEvents:"attach",detachEvents:"detach"},exportAs:["outlet"]}),n})();class zj{constructor(t,e,r){this.route=t,this.childContexts=e,this.parent=r}get(t,e){return t===to?this.route:t===_g?this.childContexts:this.parent.get(t,e)}}let zI=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275cmp=Ie({type:n,selectors:[["ng-component"]],decls:1,vars:0,template:function(e,r){1&e&&Me(0,"router-outlet")},directives:[hw],encapsulation:2}),n})();function HI(n,t=""){for(let e=0;e<n.length;e++){const r=n[e];Hj(r,Uj(t,r))}}function Hj(n,t){n.children&&HI(n.children,t)}function Uj(n,t){return t?n||t.path?n&&!t.path?`${n}/`:!n&&t.path?t.path:`${n}/${t.path}`:"":n}function mT(n){const t=n.children&&n.children.map(mT),e=t?Object.assign(Object.assign({},n),{children:t}):Object.assign({},n);return!e.component&&(t||e.loadChildren)&&e.outlet&&e.outlet!==bt&&(e.component=zI),e}function Eo(n){return n.outlet||bt}function UI(n,t){const e=n.filter(r=>Eo(r)===t);return e.push(...n.filter(r=>Eo(r)!==t)),e}const $I={matched:!1,consumedSegments:[],remainingSegments:[],parameters:{},positionalParamSegments:{}};function fw(n,t,e){var r;if(""===t.path)return"full"===t.pathMatch&&(n.hasChildren()||e.length>0)?Object.assign({},$I):{matched:!0,consumedSegments:[],remainingSegments:e,parameters:{},positionalParamSegments:{}};const l=(t.matcher||nj)(e,n,t);if(!l)return Object.assign({},$I);const u={};Ni(l.posParams,(m,b)=>{u[b]=m.path});const f=l.consumed.length>0?Object.assign(Object.assign({},u),l.consumed[l.consumed.length-1].parameters):u;return{matched:!0,consumedSegments:l.consumed,remainingSegments:e.slice(l.consumed.length),parameters:f,positionalParamSegments:null!==(r=l.posParams)&&void 0!==r?r:{}}}function pw(n,t,e,r,s="corrected"){if(e.length>0&&function qj(n,t,e){return e.some(r=>mw(n,t,r)&&Eo(r)!==bt)}(n,e,r)){const u=new Pt(t,function Wj(n,t,e,r){const s={};s[bt]=r,r._sourceSegment=n,r._segmentIndexShift=t.length;for(const l of e)if(""===l.path&&Eo(l)!==bt){const u=new Pt([],{});u._sourceSegment=n,u._segmentIndexShift=t.length,s[Eo(l)]=u}return s}(n,t,r,new Pt(e,n.children)));return u._sourceSegment=n,u._segmentIndexShift=t.length,{segmentGroup:u,slicedSegments:[]}}if(0===e.length&&function Gj(n,t,e){return e.some(r=>mw(n,t,r))}(n,e,r)){const u=new Pt(n.segments,function $j(n,t,e,r,s,l){const u={};for(const f of r)if(mw(n,e,f)&&!s[Eo(f)]){const m=new Pt([],{});m._sourceSegment=n,m._segmentIndexShift="legacy"===l?n.segments.length:t.length,u[Eo(f)]=m}return Object.assign(Object.assign({},s),u)}(n,t,e,r,n.children,s));return u._sourceSegment=n,u._segmentIndexShift=t.length,{segmentGroup:u,slicedSegments:e}}const l=new Pt(n.segments,n.children);return l._sourceSegment=n,l._segmentIndexShift=t.length,{segmentGroup:l,slicedSegments:e}}function mw(n,t,e){return(!(n.hasChildren()||t.length>0)||"full"!==e.pathMatch)&&""===e.path}function WI(n,t,e,r){return!!(Eo(n)===r||r!==bt&&mw(t,e,n))&&("**"===n.path||fw(t,n,e).matched)}function qI(n,t,e){return 0===t.length&&!n.children[e]}class gw{constructor(t){this.segmentGroup=t||null}}class GI{constructor(t){this.urlTree=t}}function bg(n){return jl(new gw(n))}function KI(n){return jl(new GI(n))}class Zj{constructor(t,e,r,s,l){this.configLoader=e,this.urlSerializer=r,this.urlTree=s,this.config=l,this.allowRedirects=!0,this.ngModule=t.get(xa)}apply(){const t=pw(this.urlTree.root,[],[],this.config).segmentGroup,e=new Pt(t.segments,t.children);return this.expandSegmentGroup(this.ngModule,this.config,e,bt).pipe(Te(l=>this.createUrlTree(gT(l),this.urlTree.queryParams,this.urlTree.fragment))).pipe(Ns(l=>{if(l instanceof GI)return this.allowRedirects=!1,this.match(l.urlTree);throw l instanceof gw?this.noMatchError(l):l}))}match(t){return this.expandSegmentGroup(this.ngModule,this.config,t.root,bt).pipe(Te(s=>this.createUrlTree(gT(s),t.queryParams,t.fragment))).pipe(Ns(s=>{throw s instanceof gw?this.noMatchError(s):s}))}noMatchError(t){return new Error(`Cannot match any routes. URL Segment: '${t.segmentGroup}'`)}createUrlTree(t,e,r){const s=t.segments.length>0?new Pt([],{[bt]:t}):t;return new Ad(s,e,r)}expandSegmentGroup(t,e,r,s){return 0===r.segments.length&&r.hasChildren()?this.expandChildren(t,e,r).pipe(Te(l=>new Pt([],l))):this.expandSegment(t,r,e,r.segments,s,!0)}expandChildren(t,e,r){const s=[];for(const l of Object.keys(r.children))"primary"===l?s.unshift(l):s.push(l);return Zn(s).pipe(Md(l=>{const u=r.children[l],f=UI(e,l);return this.expandSegmentGroup(t,f,u,l).pipe(Te(m=>({segment:m,outlet:l})))}),lI((l,u)=>(l[u.outlet]=u.segment,l),{}),function U3(n,t){const e=arguments.length>=2;return r=>r.pipe(n?xi((s,l)=>n(s,l,r)):Un,iT(1),e?dI(t):cI(()=>new tw))}())}expandSegment(t,e,r,s,l,u){return Zn(r).pipe(Md(f=>this.expandSegmentAgainstRoute(t,e,r,f,s,l,u).pipe(Ns(b=>{if(b instanceof gw)return Ue(null);throw b}))),zl(f=>!!f),Ns((f,m)=>{if(f instanceof tw||"EmptyError"===f.name)return qI(e,s,l)?Ue(new Pt([],{})):bg(e);throw f}))}expandSegmentAgainstRoute(t,e,r,s,l,u,f){return WI(s,e,l,u)?void 0===s.redirectTo?this.matchSegmentAgainstRoute(t,e,s,l,u):f&&this.allowRedirects?this.expandSegmentAgainstRouteUsingRedirect(t,e,r,s,l,u):bg(e):bg(e)}expandSegmentAgainstRouteUsingRedirect(t,e,r,s,l,u){return"**"===s.path?this.expandWildCardWithParamsAgainstRouteUsingRedirect(t,r,s,u):this.expandRegularSegmentAgainstRouteUsingRedirect(t,e,r,s,l,u)}expandWildCardWithParamsAgainstRouteUsingRedirect(t,e,r,s){const l=this.applyRedirectCommands([],r.redirectTo,{});return r.redirectTo.startsWith("/")?KI(l):this.lineralizeSegments(r,l).pipe(Ln(u=>{const f=new Pt(u,{});return this.expandSegment(t,f,e,u,s,!1)}))}expandRegularSegmentAgainstRouteUsingRedirect(t,e,r,s,l,u){const{matched:f,consumedSegments:m,remainingSegments:b,positionalParamSegments:w}=fw(e,s,l);if(!f)return bg(e);const x=this.applyRedirectCommands(m,s.redirectTo,w);return s.redirectTo.startsWith("/")?KI(x):this.lineralizeSegments(s,x).pipe(Ln(E=>this.expandSegment(t,e,r,E.concat(b),u,!1)))}matchSegmentAgainstRoute(t,e,r,s,l){if("**"===r.path)return r.loadChildren?(r._loadedConfig?Ue(r._loadedConfig):this.configLoader.load(t.injector,r)).pipe(Te(x=>(r._loadedConfig=x,new Pt(s,{})))):Ue(new Pt(s,{}));const{matched:u,consumedSegments:f,remainingSegments:m}=fw(e,r,s);return u?this.getChildConfig(t,r,s).pipe(Ln(w=>{const x=w.module,E=w.routes,{segmentGroup:S,slicedSegments:I}=pw(e,f,m,E),N=new Pt(S.segments,S.children);if(0===I.length&&N.hasChildren())return this.expandChildren(x,E,N).pipe(Te(fe=>new Pt(f,fe)));if(0===E.length&&0===I.length)return Ue(new Pt(f,{}));const K=Eo(r)===l;return this.expandSegment(x,N,E,I,K?bt:l,!0).pipe(Te(H=>new Pt(f.concat(H.segments),H.children)))})):bg(e)}getChildConfig(t,e,r){return e.children?Ue(new pT(e.children,t)):e.loadChildren?void 0!==e._loadedConfig?Ue(e._loadedConfig):this.runCanLoadGuards(t.injector,e,r).pipe(Ln(s=>s?this.configLoader.load(t.injector,e).pipe(Te(l=>(e._loadedConfig=l,l))):function Qj(n){return jl(rT(`Cannot load children because the guard of the route "path: '${n.path}'" returned false`))}(e))):Ue(new pT([],t))}runCanLoadGuards(t,e,r){const s=e.canLoad;return s&&0!==s.length?Ue(s.map(u=>{const f=t.get(u);let m;if(function Nj(n){return n&&Hl(n.canLoad)}(f))m=f.canLoad(e,r);else{if(!Hl(f))throw new Error("Invalid CanLoad guard");m=f(e,r)}return Bs(m)})).pipe(gg(),vn(u=>{if(!Pd(u))return;const f=rT(`Redirecting to "${this.urlSerializer.serialize(u)}"`);throw f.url=u,f}),Te(u=>!0===u)):Ue(!0)}lineralizeSegments(t,e){let r=[],s=e.root;for(;;){if(r=r.concat(s.segments),0===s.numberOfChildren)return Ue(r);if(s.numberOfChildren>1||!s.children[bt])return jl(new Error(`Only absolute redirects can have named outlets. redirectTo: '${t.redirectTo}'`));s=s.children[bt]}}applyRedirectCommands(t,e,r){return this.applyRedirectCreatreUrlTree(e,this.urlSerializer.parse(e),t,r)}applyRedirectCreatreUrlTree(t,e,r,s){const l=this.createSegmentGroup(t,e.root,r,s);return new Ad(l,this.createQueryParams(e.queryParams,this.urlTree.queryParams),e.fragment)}createQueryParams(t,e){const r={};return Ni(t,(s,l)=>{if("string"==typeof s&&s.startsWith(":")){const f=s.substring(1);r[l]=e[f]}else r[l]=s}),r}createSegmentGroup(t,e,r,s){const l=this.createSegments(t,e.segments,r,s);let u={};return Ni(e.children,(f,m)=>{u[m]=this.createSegmentGroup(t,f,r,s)}),new Pt(l,u)}createSegments(t,e,r,s){return e.map(l=>l.path.startsWith(":")?this.findPosParam(t,l,s):this.findOrReturn(l,r))}findPosParam(t,e,r){const s=r[e.path.substring(1)];if(!s)throw new Error(`Cannot redirect to '${t}'. Cannot find '${e.path}'.`);return s}findOrReturn(t,e){let r=0;for(const s of e){if(s.path===t.path)return e.splice(r),s;r++}return t}}function gT(n){const t={};for(const r of Object.keys(n.children)){const l=gT(n.children[r]);(l.segments.length>0||l.hasChildren())&&(t[r]=l)}return function Xj(n){if(1===n.numberOfChildren&&n.children[bt]){const t=n.children[bt];return new Pt(n.segments.concat(t.segments),t.children)}return n}(new Pt(n.segments,t))}class QI{constructor(t){this.path=t,this.route=this.path[this.path.length-1]}}class _w{constructor(t,e){this.component=t,this.route=e}}function e4(n,t,e){const r=n._root;return vg(r,t?t._root:null,e,[r.value])}function bw(n,t,e){const r=function n4(n){if(!n)return null;for(let t=n.parent;t;t=t.parent){const e=t.routeConfig;if(e&&e._loadedConfig)return e._loadedConfig}return null}(t);return(r?r.module.injector:e).get(n)}function vg(n,t,e,r,s={canDeactivateChecks:[],canActivateChecks:[]}){const l=Ph(t);return n.children.forEach(u=>{(function r4(n,t,e,r,s={canDeactivateChecks:[],canActivateChecks:[]}){const l=n.value,u=t?t.value:null,f=e?e.getContext(n.value.outlet):null;if(u&&l.routeConfig===u.routeConfig){const m=function o4(n,t,e){if("function"==typeof e)return e(n,t);switch(e){case"pathParamsChange":return!Id(n.url,t.url);case"pathParamsOrQueryParamsChange":return!Id(n.url,t.url)||!Ls(n.queryParams,t.queryParams);case"always":return!0;case"paramsOrQueryParamsChange":return!dT(n,t)||!Ls(n.queryParams,t.queryParams);default:return!dT(n,t)}}(u,l,l.routeConfig.runGuardsAndResolvers);m?s.canActivateChecks.push(new QI(r)):(l.data=u.data,l._resolvedData=u._resolvedData),vg(n,t,l.component?f?f.children:null:e,r,s),m&&f&&f.outlet&&f.outlet.isActivated&&s.canDeactivateChecks.push(new _w(f.outlet.component,u))}else u&&yg(t,f,s),s.canActivateChecks.push(new QI(r)),vg(n,null,l.component?f?f.children:null:e,r,s)})(u,l[u.value.outlet],e,r.concat([u.value]),s),delete l[u.value.outlet]}),Ni(l,(u,f)=>yg(u,e.getContext(f),s)),s}function yg(n,t,e){const r=Ph(n),s=n.value;Ni(r,(l,u)=>{yg(l,s.component?t?t.children.getContext(u):null:t,e)}),e.canDeactivateChecks.push(new _w(s.component&&t&&t.outlet&&t.outlet.isActivated?t.outlet.component:null,s))}class p4{}function YI(n){return new Ft(t=>t.error(n))}class g4{constructor(t,e,r,s,l,u){this.rootComponentType=t,this.config=e,this.urlTree=r,this.url=s,this.paramsInheritanceStrategy=l,this.relativeLinkResolution=u}recognize(){const t=pw(this.urlTree.root,[],[],this.config.filter(u=>void 0===u.redirectTo),this.relativeLinkResolution).segmentGroup,e=this.processSegmentGroup(this.config,t,bt);if(null===e)return null;const r=new cw([],Object.freeze({}),Object.freeze(Object.assign({},this.urlTree.queryParams)),this.urlTree.fragment,{},bt,this.rootComponentType,null,this.urlTree.root,-1,{}),s=new Ma(r,e),l=new OI(this.url,s);return this.inheritParamsAndData(l._root),l}inheritParamsAndData(t){const e=t.value,r=RI(e,this.paramsInheritanceStrategy);e.params=Object.freeze(r.params),e.data=Object.freeze(r.data),t.children.forEach(s=>this.inheritParamsAndData(s))}processSegmentGroup(t,e,r){return 0===e.segments.length&&e.hasChildren()?this.processChildren(t,e):this.processSegment(t,e,e.segments,r)}processChildren(t,e){const r=[];for(const l of Object.keys(e.children)){const u=e.children[l],f=UI(t,l),m=this.processSegmentGroup(f,u,l);if(null===m)return null;r.push(...m)}const s=ZI(r);return function _4(n){n.sort((t,e)=>t.value.outlet===bt?-1:e.value.outlet===bt?1:t.value.outlet.localeCompare(e.value.outlet))}(s),s}processSegment(t,e,r,s){for(const l of t){const u=this.processSegmentAgainstRoute(l,e,r,s);if(null!==u)return u}return qI(e,r,s)?[]:null}processSegmentAgainstRoute(t,e,r,s){if(t.redirectTo||!WI(t,e,r,s))return null;let l,u=[],f=[];if("**"===t.path){const S=r.length>0?vI(r).parameters:{};l=new cw(r,S,Object.freeze(Object.assign({},this.urlTree.queryParams)),this.urlTree.fragment,eP(t),Eo(t),t.component,t,XI(e),JI(e)+r.length,tP(t))}else{const S=fw(e,t,r);if(!S.matched)return null;u=S.consumedSegments,f=S.remainingSegments,l=new cw(u,S.parameters,Object.freeze(Object.assign({},this.urlTree.queryParams)),this.urlTree.fragment,eP(t),Eo(t),t.component,t,XI(e),JI(e)+u.length,tP(t))}const m=function b4(n){return n.children?n.children:n.loadChildren?n._loadedConfig.routes:[]}(t),{segmentGroup:b,slicedSegments:w}=pw(e,u,f,m.filter(S=>void 0===S.redirectTo),this.relativeLinkResolution);if(0===w.length&&b.hasChildren()){const S=this.processChildren(m,b);return null===S?null:[new Ma(l,S)]}if(0===m.length&&0===w.length)return[new Ma(l,[])];const x=Eo(t)===s,E=this.processSegment(m,b,w,x?bt:s);return null===E?null:[new Ma(l,E)]}}function v4(n){const t=n.value.routeConfig;return t&&""===t.path&&void 0===t.redirectTo}function ZI(n){const t=[],e=new Set;for(const r of n){if(!v4(r)){t.push(r);continue}const s=t.find(l=>r.value.routeConfig===l.value.routeConfig);void 0!==s?(s.children.push(...r.children),e.add(s)):t.push(r)}for(const r of e){const s=ZI(r.children);t.push(new Ma(r.value,s))}return t.filter(r=>!e.has(r))}function XI(n){let t=n;for(;t._sourceSegment;)t=t._sourceSegment;return t}function JI(n){let t=n,e=t._segmentIndexShift?t._segmentIndexShift:0;for(;t._sourceSegment;)t=t._sourceSegment,e+=t._segmentIndexShift?t._segmentIndexShift:0;return e-1}function eP(n){return n.data||{}}function tP(n){return n.resolve||{}}function nP(n){return[...Object.keys(n),...Object.getOwnPropertySymbols(n)]}function _T(n){return Dd(t=>{const e=n(t);return e?Zn(e).pipe(Te(()=>t)):Ue(t)})}class S4 extends class E4{shouldDetach(t){return!1}store(t,e){}shouldAttach(t){return!1}retrieve(t){return null}shouldReuseRoute(t,e){return t.routeConfig===e.routeConfig}}{}const bT=new re("ROUTES");class iP{constructor(t,e,r,s){this.injector=t,this.compiler=e,this.onLoadStartListener=r,this.onLoadEndListener=s}load(t,e){if(e._loader$)return e._loader$;this.onLoadStartListener&&this.onLoadStartListener(e);const s=this.loadModuleFactory(e.loadChildren).pipe(Te(l=>{this.onLoadEndListener&&this.onLoadEndListener(e);const u=l.create(t);return new pT(bI(u.injector.get(bT,void 0,Qe.Self|Qe.Optional)).map(mT),u)}),Ns(l=>{throw e._loader$=void 0,l}));return e._loader$=new j3(s,()=>new Oe).pipe(aI()),e._loader$}loadModuleFactory(t){return Bs(t()).pipe(Ln(e=>e instanceof vM?Ue(e):Zn(this.compiler.compileModuleAsync(e))))}}class M4{shouldProcessUrl(t){return!0}extract(t){return t}merge(t,e){return t}}function A4(n){throw n}function I4(n,t,e){return t.parse("/")}function rP(n,t){return Ue(null)}const P4={paths:"exact",fragment:"ignored",matrixParams:"ignored",queryParams:"exact"},R4={paths:"subset",fragment:"ignored",matrixParams:"ignored",queryParams:"subset"};let ii=(()=>{class n{constructor(e,r,s,l,u,f,m){this.rootComponentType=e,this.urlSerializer=r,this.rootContexts=s,this.location=l,this.config=m,this.lastSuccessfulNavigation=null,this.currentNavigation=null,this.disposed=!1,this.navigationId=0,this.currentPageId=0,this.isNgZoneEnabled=!1,this.events=new Oe,this.errorHandler=A4,this.malformedUriErrorHandler=I4,this.navigated=!1,this.lastSuccessfulId=-1,this.hooks={beforePreactivation:rP,afterPreactivation:rP},this.urlHandlingStrategy=new M4,this.routeReuseStrategy=new S4,this.onSameUrlNavigation="ignore",this.paramsInheritanceStrategy="emptyOnly",this.urlUpdateStrategy="deferred",this.relativeLinkResolution="corrected",this.canceledNavigationResolution="replace",this.ngModule=u.get(xa),this.console=u.get(UB);const x=u.get(He);this.isNgZoneEnabled=x instanceof He&&He.isInAngularZone(),this.resetConfig(m),this.currentUrlTree=function rj(){return new Ad(new Pt([],{}),{},null)}(),this.rawUrlTree=this.currentUrlTree,this.browserUrlTree=this.currentUrlTree,this.configLoader=new iP(u,f,E=>this.triggerEvent(new fI(E)),E=>this.triggerEvent(new pI(E))),this.routerState=PI(this.currentUrlTree,this.rootComponentType),this.transitions=new Rr({id:0,targetPageId:0,currentUrlTree:this.currentUrlTree,currentRawUrl:this.currentUrlTree,extractedUrl:this.urlHandlingStrategy.extract(this.currentUrlTree),urlAfterRedirects:this.urlHandlingStrategy.extract(this.currentUrlTree),rawUrl:this.currentUrlTree,extras:{},resolve:null,reject:null,promise:Promise.resolve(!0),source:"imperative",restoredState:null,currentSnapshot:this.routerState.snapshot,targetSnapshot:null,currentRouterState:this.routerState,targetRouterState:null,guards:{canActivateChecks:[],canDeactivateChecks:[]},guardsResult:null}),this.navigations=this.setupNavigations(this.transitions),this.processNavigations()}get browserPageId(){var e;return null===(e=this.location.getState())||void 0===e?void 0:e.\u0275routerPageId}setupNavigations(e){const r=this.events;return e.pipe(xi(s=>0!==s.id),Te(s=>Object.assign(Object.assign({},s),{extractedUrl:this.urlHandlingStrategy.extract(s.rawUrl)})),Dd(s=>{let l=!1,u=!1;return Ue(s).pipe(vn(f=>{this.currentNavigation={id:f.id,initialUrl:f.currentRawUrl,extractedUrl:f.extractedUrl,trigger:f.source,extras:f.extras,previousNavigation:this.lastSuccessfulNavigation?Object.assign(Object.assign({},this.lastSuccessfulNavigation),{previousNavigation:null}):null}}),Dd(f=>{const m=this.browserUrlTree.toString(),b=!this.navigated||f.extractedUrl.toString()!==m||m!==this.currentUrlTree.toString();if(("reload"===this.onSameUrlNavigation||b)&&this.urlHandlingStrategy.shouldProcessUrl(f.rawUrl))return oP(f.source)&&(this.browserUrlTree=f.extractedUrl),Ue(f).pipe(Dd(x=>{const E=this.transitions.getValue();return r.next(new iw(x.id,this.serializeUrl(x.extractedUrl),x.source,x.restoredState)),E!==this.transitions.getValue()?Fr:Promise.resolve(x)}),function Jj(n,t,e,r){return Dd(s=>function Yj(n,t,e,r,s){return new Zj(n,t,e,r,s).apply()}(n,t,e,s.extractedUrl,r).pipe(Te(l=>Object.assign(Object.assign({},s),{urlAfterRedirects:l}))))}(this.ngModule.injector,this.configLoader,this.urlSerializer,this.config),vn(x=>{this.currentNavigation=Object.assign(Object.assign({},this.currentNavigation),{finalUrl:x.urlAfterRedirects})}),function y4(n,t,e,r,s){return Ln(l=>function m4(n,t,e,r,s="emptyOnly",l="legacy"){try{const u=new g4(n,t,e,r,s,l).recognize();return null===u?YI(new p4):Ue(u)}catch(u){return YI(u)}}(n,t,l.urlAfterRedirects,e(l.urlAfterRedirects),r,s).pipe(Te(u=>Object.assign(Object.assign({},l),{targetSnapshot:u}))))}(this.rootComponentType,this.config,x=>this.serializeUrl(x),this.paramsInheritanceStrategy,this.relativeLinkResolution),vn(x=>{if("eager"===this.urlUpdateStrategy){if(!x.extras.skipLocationChange){const S=this.urlHandlingStrategy.merge(x.urlAfterRedirects,x.rawUrl);this.setBrowserUrl(S,x)}this.browserUrlTree=x.urlAfterRedirects}const E=new W3(x.id,this.serializeUrl(x.extractedUrl),this.serializeUrl(x.urlAfterRedirects),x.targetSnapshot);r.next(E)}));if(b&&this.rawUrlTree&&this.urlHandlingStrategy.shouldProcessUrl(this.rawUrlTree)){const{id:E,extractedUrl:S,source:I,restoredState:N,extras:K}=f,G=new iw(E,this.serializeUrl(S),I,N);r.next(G);const H=PI(S,this.rootComponentType).snapshot;return Ue(Object.assign(Object.assign({},f),{targetSnapshot:H,urlAfterRedirects:S,extras:Object.assign(Object.assign({},K),{skipLocationChange:!1,replaceUrl:!1})}))}return this.rawUrlTree=f.rawUrl,f.resolve(null),Fr}),_T(f=>{const{targetSnapshot:m,id:b,extractedUrl:w,rawUrl:x,extras:{skipLocationChange:E,replaceUrl:S}}=f;return this.hooks.beforePreactivation(m,{navigationId:b,appliedUrlTree:w,rawUrlTree:x,skipLocationChange:!!E,replaceUrl:!!S})}),vn(f=>{const m=new q3(f.id,this.serializeUrl(f.extractedUrl),this.serializeUrl(f.urlAfterRedirects),f.targetSnapshot);this.triggerEvent(m)}),Te(f=>Object.assign(Object.assign({},f),{guards:e4(f.targetSnapshot,f.currentSnapshot,this.rootContexts)})),function s4(n,t){return Ln(e=>{const{targetSnapshot:r,currentSnapshot:s,guards:{canActivateChecks:l,canDeactivateChecks:u}}=e;return 0===u.length&&0===l.length?Ue(Object.assign(Object.assign({},e),{guardsResult:!0})):function a4(n,t,e,r){return Zn(n).pipe(Ln(s=>function f4(n,t,e,r,s){const l=t&&t.routeConfig?t.routeConfig.canDeactivate:null;return l&&0!==l.length?Ue(l.map(f=>{const m=bw(f,t,s);let b;if(function Vj(n){return n&&Hl(n.canDeactivate)}(m))b=Bs(m.canDeactivate(n,t,e,r));else{if(!Hl(m))throw new Error("Invalid CanDeactivate guard");b=Bs(m(n,t,e,r))}return b.pipe(zl())})).pipe(gg()):Ue(!0)}(s.component,s.route,e,t,r)),zl(s=>!0!==s,!0))}(u,r,s,n).pipe(Ln(f=>f&&function Fj(n){return"boolean"==typeof n}(f)?function l4(n,t,e,r){return Zn(t).pipe(Md(s=>nw(function d4(n,t){return null!==n&&t&&t(new Y3(n)),Ue(!0)}(s.route.parent,r),function c4(n,t){return null!==n&&t&&t(new X3(n)),Ue(!0)}(s.route,r),function h4(n,t,e){const r=t[t.length-1],l=t.slice(0,t.length-1).reverse().map(u=>function t4(n){const t=n.routeConfig?n.routeConfig.canActivateChild:null;return t&&0!==t.length?{node:n,guards:t}:null}(u)).filter(u=>null!==u).map(u=>nT(()=>Ue(u.guards.map(m=>{const b=bw(m,u.node,e);let w;if(function Bj(n){return n&&Hl(n.canActivateChild)}(b))w=Bs(b.canActivateChild(r,n));else{if(!Hl(b))throw new Error("Invalid CanActivateChild guard");w=Bs(b(r,n))}return w.pipe(zl())})).pipe(gg())));return Ue(l).pipe(gg())}(n,s.path,e),function u4(n,t,e){const r=t.routeConfig?t.routeConfig.canActivate:null;if(!r||0===r.length)return Ue(!0);const s=r.map(l=>nT(()=>{const u=bw(l,t,e);let f;if(function Lj(n){return n&&Hl(n.canActivate)}(u))f=Bs(u.canActivate(t,n));else{if(!Hl(u))throw new Error("Invalid CanActivate guard");f=Bs(u(t,n))}return f.pipe(zl())}));return Ue(s).pipe(gg())}(n,s.route,e))),zl(s=>!0!==s,!0))}(r,l,n,t):Ue(f)),Te(f=>Object.assign(Object.assign({},e),{guardsResult:f})))})}(this.ngModule.injector,f=>this.triggerEvent(f)),vn(f=>{if(Pd(f.guardsResult)){const b=rT(`Redirecting to "${this.serializeUrl(f.guardsResult)}"`);throw b.url=f.guardsResult,b}const m=new G3(f.id,this.serializeUrl(f.extractedUrl),this.serializeUrl(f.urlAfterRedirects),f.targetSnapshot,!!f.guardsResult);this.triggerEvent(m)}),xi(f=>!!f.guardsResult||(this.restoreHistory(f),this.cancelNavigationTransition(f,""),!1)),_T(f=>{if(f.guards.canActivateChecks.length)return Ue(f).pipe(vn(m=>{const b=new K3(m.id,this.serializeUrl(m.extractedUrl),this.serializeUrl(m.urlAfterRedirects),m.targetSnapshot);this.triggerEvent(b)}),Dd(m=>{let b=!1;return Ue(m).pipe(function w4(n,t){return Ln(e=>{const{targetSnapshot:r,guards:{canActivateChecks:s}}=e;if(!s.length)return Ue(e);let l=0;return Zn(s).pipe(Md(u=>function k4(n,t,e,r){return function C4(n,t,e,r){const s=nP(n);if(0===s.length)return Ue({});const l={};return Zn(s).pipe(Ln(u=>function x4(n,t,e,r){const s=bw(n,t,r);return Bs(s.resolve?s.resolve(t,e):s(t,e))}(n[u],t,e,r).pipe(vn(f=>{l[u]=f}))),iT(1),Ln(()=>nP(l).length===s.length?Ue(l):Fr))}(n._resolve,n,t,r).pipe(Te(l=>(n._resolvedData=l,n.data=Object.assign(Object.assign({},n.data),RI(n,e).resolve),null)))}(u.route,r,n,t)),vn(()=>l++),iT(1),Ln(u=>l===s.length?Ue(e):Fr))})}(this.paramsInheritanceStrategy,this.ngModule.injector),vn({next:()=>b=!0,complete:()=>{b||(this.restoreHistory(m),this.cancelNavigationTransition(m,"At least one route resolver didn't emit any value."))}}))}),vn(m=>{const b=new Q3(m.id,this.serializeUrl(m.extractedUrl),this.serializeUrl(m.urlAfterRedirects),m.targetSnapshot);this.triggerEvent(b)}))}),_T(f=>{const{targetSnapshot:m,id:b,extractedUrl:w,rawUrl:x,extras:{skipLocationChange:E,replaceUrl:S}}=f;return this.hooks.afterPreactivation(m,{navigationId:b,appliedUrlTree:w,rawUrlTree:x,skipLocationChange:!!E,replaceUrl:!!S})}),Te(f=>{const m=function kj(n,t,e){const r=fg(n,t._root,e?e._root:void 0);return new II(r,t)}(this.routeReuseStrategy,f.targetSnapshot,f.currentRouterState);return Object.assign(Object.assign({},f),{targetRouterState:m})}),vn(f=>{this.currentUrlTree=f.urlAfterRedirects,this.rawUrlTree=this.urlHandlingStrategy.merge(f.urlAfterRedirects,f.rawUrl),this.routerState=f.targetRouterState,"deferred"===this.urlUpdateStrategy&&(f.extras.skipLocationChange||this.setBrowserUrl(this.rawUrlTree,f),this.browserUrlTree=f.urlAfterRedirects)}),((n,t,e)=>Te(r=>(new Rj(t,r.targetRouterState,r.currentRouterState,e).activate(n),r)))(this.rootContexts,this.routeReuseStrategy,f=>this.triggerEvent(f)),vn({next(){l=!0},complete(){l=!0}}),uI(()=>{var f;l||u||this.cancelNavigationTransition(s,`Navigation ID ${s.id} is not equal to the current navigation id ${this.navigationId}`),(null===(f=this.currentNavigation)||void 0===f?void 0:f.id)===s.id&&(this.currentNavigation=null)}),Ns(f=>{if(u=!0,function tj(n){return n&&n[gI]}(f)){const m=Pd(f.url);m||(this.navigated=!0,this.restoreHistory(s,!0));const b=new hI(s.id,this.serializeUrl(s.extractedUrl),f.message);r.next(b),m?setTimeout(()=>{const w=this.urlHandlingStrategy.merge(f.url,this.rawUrlTree),x={skipLocationChange:s.extras.skipLocationChange,replaceUrl:"eager"===this.urlUpdateStrategy||oP(s.source)};this.scheduleNavigation(w,"imperative",null,x,{resolve:s.resolve,reject:s.reject,promise:s.promise})},0):s.resolve(!1)}else{this.restoreHistory(s,!0);const m=new $3(s.id,this.serializeUrl(s.extractedUrl),f);r.next(m);try{s.resolve(this.errorHandler(f))}catch(b){s.reject(b)}}return Fr}))}))}resetRootComponentType(e){this.rootComponentType=e,this.routerState.root.component=this.rootComponentType}setTransition(e){this.transitions.next(Object.assign(Object.assign({},this.transitions.value),e))}initialNavigation(){this.setUpLocationChangeListener(),0===this.navigationId&&this.navigateByUrl(this.location.path(!0),{replaceUrl:!0})}setUpLocationChangeListener(){this.locationSubscription||(this.locationSubscription=this.location.subscribe(e=>{const r="popstate"===e.type?"popstate":"hashchange";"popstate"===r&&setTimeout(()=>{var s;const l={replaceUrl:!0},u=(null===(s=e.state)||void 0===s?void 0:s.navigationId)?e.state:null;if(u){const m=Object.assign({},u);delete m.navigationId,delete m.\u0275routerPageId,0!==Object.keys(m).length&&(l.state=m)}const f=this.parseUrl(e.url);this.scheduleNavigation(f,r,u,l)},0)}))}get url(){return this.serializeUrl(this.currentUrlTree)}getCurrentNavigation(){return this.currentNavigation}triggerEvent(e){this.events.next(e)}resetConfig(e){HI(e),this.config=e.map(mT),this.navigated=!1,this.lastSuccessfulId=-1}ngOnDestroy(){this.dispose()}dispose(){this.transitions.complete(),this.locationSubscription&&(this.locationSubscription.unsubscribe(),this.locationSubscription=void 0),this.disposed=!0}createUrlTree(e,r={}){const{relativeTo:s,queryParams:l,fragment:u,queryParamsHandling:f,preserveFragment:m}=r,b=s||this.routerState.root,w=m?this.currentUrlTree.fragment:u;let x=null;switch(f){case"merge":x=Object.assign(Object.assign({},this.currentUrlTree.queryParams),l);break;case"preserve":x=this.currentUrlTree.queryParams;break;default:x=l||null}return null!==x&&(x=this.removeEmptyProps(x)),function Tj(n,t,e,r,s){if(0===e.length)return uT(t.root,t.root,t.root,r,s);const l=function Ej(n){if("string"==typeof n[0]&&1===n.length&&"/"===n[0])return new LI(!0,0,n);let t=0,e=!1;const r=n.reduce((s,l,u)=>{if("object"==typeof l&&null!=l){if(l.outlets){const f={};return Ni(l.outlets,(m,b)=>{f[b]="string"==typeof m?m.split("/"):m}),[...s,{outlets:f}]}if(l.segmentPath)return[...s,l.segmentPath]}return"string"!=typeof l?[...s,l]:0===u?(l.split("/").forEach((f,m)=>{0==m&&"."===f||(0==m&&""===f?e=!0:".."===f?t++:""!=f&&s.push(f))}),s):[...s,l]},[]);return new LI(e,t,r)}(e);if(l.toRoot())return uT(t.root,t.root,new Pt([],{}),r,s);const u=function Sj(n,t,e){if(n.isAbsolute)return new hT(t.root,!0,0);if(-1===e.snapshot._lastPathIndex){const l=e.snapshot._urlSegment;return new hT(l,l===t.root,0)}const r=dw(n.commands[0])?0:1;return function Dj(n,t,e){let r=n,s=t,l=e;for(;l>s;){if(l-=s,r=r.parent,!r)throw new Error("Invalid number of '../'");s=r.segments.length}return new hT(r,!1,s-l)}(e.snapshot._urlSegment,e.snapshot._lastPathIndex+r,n.numberOfDoubleDots)}(l,t,n),f=u.processChildren?uw(u.segmentGroup,u.index,l.commands):BI(u.segmentGroup,u.index,l.commands);return uT(t.root,u.segmentGroup,f,r,s)}(b,this.currentUrlTree,e,x,null!=w?w:null)}navigateByUrl(e,r={skipLocationChange:!1}){const s=Pd(e)?e:this.parseUrl(e),l=this.urlHandlingStrategy.merge(s,this.rawUrlTree);return this.scheduleNavigation(l,"imperative",null,r)}navigate(e,r={skipLocationChange:!1}){return function O4(n){for(let t=0;t<n.length;t++){const e=n[t];if(null==e)throw new Error(`The requested path contains ${e} segment at index ${t}`)}}(e),this.navigateByUrl(this.createUrlTree(e,r),r)}serializeUrl(e){return this.urlSerializer.serialize(e)}parseUrl(e){let r;try{r=this.urlSerializer.parse(e)}catch(s){r=this.malformedUriErrorHandler(s,this.urlSerializer,e)}return r}isActive(e,r){let s;if(s=!0===r?Object.assign({},P4):!1===r?Object.assign({},R4):r,Pd(e))return wI(this.currentUrlTree,e,s);const l=this.parseUrl(e);return wI(this.currentUrlTree,l,s)}removeEmptyProps(e){return Object.keys(e).reduce((r,s)=>{const l=e[s];return null!=l&&(r[s]=l),r},{})}processNavigations(){this.navigations.subscribe(e=>{this.navigated=!0,this.lastSuccessfulId=e.id,this.currentPageId=e.targetPageId,this.events.next(new Ah(e.id,this.serializeUrl(e.extractedUrl),this.serializeUrl(this.currentUrlTree))),this.lastSuccessfulNavigation=this.currentNavigation,e.resolve(!0)},e=>{this.console.warn(`Unhandled Navigation Error: ${e}`)})}scheduleNavigation(e,r,s,l,u){var f,m;if(this.disposed)return Promise.resolve(!1);let b,w,x;u?(b=u.resolve,w=u.reject,x=u.promise):x=new Promise((I,N)=>{b=I,w=N});const E=++this.navigationId;let S;return"computed"===this.canceledNavigationResolution?(0===this.currentPageId&&(s=this.location.getState()),S=s&&s.\u0275routerPageId?s.\u0275routerPageId:l.replaceUrl||l.skipLocationChange?null!==(f=this.browserPageId)&&void 0!==f?f:0:(null!==(m=this.browserPageId)&&void 0!==m?m:0)+1):S=0,this.setTransition({id:E,targetPageId:S,source:r,restoredState:s,currentUrlTree:this.currentUrlTree,currentRawUrl:this.rawUrlTree,rawUrl:e,extras:l,resolve:b,reject:w,promise:x,currentSnapshot:this.routerState.snapshot,currentRouterState:this.routerState}),x.catch(I=>Promise.reject(I))}setBrowserUrl(e,r){const s=this.urlSerializer.serialize(e),l=Object.assign(Object.assign({},r.extras.state),this.generateNgRouterState(r.id,r.targetPageId));this.location.isCurrentPathEqualTo(s)||r.extras.replaceUrl?this.location.replaceState(s,"",l):this.location.go(s,"",l)}restoreHistory(e,r=!1){var s,l;if("computed"===this.canceledNavigationResolution){const u=this.currentPageId-e.targetPageId;"popstate"!==e.source&&"eager"!==this.urlUpdateStrategy&&this.currentUrlTree!==(null===(s=this.currentNavigation)||void 0===s?void 0:s.finalUrl)||0===u?this.currentUrlTree===(null===(l=this.currentNavigation)||void 0===l?void 0:l.finalUrl)&&0===u&&(this.resetState(e),this.browserUrlTree=e.currentUrlTree,this.resetUrlToCurrentUrlTree()):this.location.historyGo(u)}else"replace"===this.canceledNavigationResolution&&(r&&this.resetState(e),this.resetUrlToCurrentUrlTree())}resetState(e){this.routerState=e.currentRouterState,this.currentUrlTree=e.currentUrlTree,this.rawUrlTree=this.urlHandlingStrategy.merge(this.currentUrlTree,e.rawUrl)}resetUrlToCurrentUrlTree(){this.location.replaceState(this.urlSerializer.serialize(this.rawUrlTree),"",this.generateNgRouterState(this.lastSuccessfulId,this.currentPageId))}cancelNavigationTransition(e,r){const s=new hI(e.id,this.serializeUrl(e.extractedUrl),r);this.triggerEvent(s),e.resolve(!1)}generateNgRouterState(e,r){return"computed"===this.canceledNavigationResolution?{navigationId:e,\u0275routerPageId:r}:{navigationId:e}}}return n.\u0275fac=function(e){Ol()},n.\u0275prov=oe({token:n,factory:n.\u0275fac}),n})();function oP(n){return"imperative"!==n}let vT=(()=>{class n{constructor(e,r,s,l,u){this.router=e,this.route=r,this.tabIndexAttribute=s,this.renderer=l,this.el=u,this.commands=null,this.onChanges=new Oe,this.setTabIndexIfNotOnNativeEl("0")}setTabIndexIfNotOnNativeEl(e){if(null!=this.tabIndexAttribute)return;const r=this.renderer,s=this.el.nativeElement;null!==e?r.setAttribute(s,"tabindex",e):r.removeAttribute(s,"tabindex")}ngOnChanges(e){this.onChanges.next(this)}set routerLink(e){null!=e?(this.commands=Array.isArray(e)?e:[e],this.setTabIndexIfNotOnNativeEl("0")):(this.commands=null,this.setTabIndexIfNotOnNativeEl(null))}onClick(){if(null===this.urlTree)return!0;const e={skipLocationChange:Rh(this.skipLocationChange),replaceUrl:Rh(this.replaceUrl),state:this.state};return this.router.navigateByUrl(this.urlTree,e),!0}get urlTree(){return null===this.commands?null:this.router.createUrlTree(this.commands,{relativeTo:void 0!==this.relativeTo?this.relativeTo:this.route,queryParams:this.queryParams,fragment:this.fragment,queryParamsHandling:this.queryParamsHandling,preserveFragment:Rh(this.preserveFragment)})}}return n.\u0275fac=function(e){return new(e||n)(M(ii),M(to),ir("tabindex"),M(Ca),M(ze))},n.\u0275dir=se({type:n,selectors:[["","routerLink","",5,"a",5,"area"]],hostBindings:function(e,r){1&e&&Ee("click",function(){return r.onClick()})},inputs:{queryParams:"queryParams",fragment:"fragment",queryParamsHandling:"queryParamsHandling",preserveFragment:"preserveFragment",skipLocationChange:"skipLocationChange",replaceUrl:"replaceUrl",state:"state",relativeTo:"relativeTo",routerLink:"routerLink"},features:[xn]}),n})(),Ul=(()=>{class n{constructor(e,r,s){this.router=e,this.route=r,this.locationStrategy=s,this.commands=null,this.href=null,this.onChanges=new Oe,this.subscription=e.events.subscribe(l=>{l instanceof Ah&&this.updateTargetUrlAndHref()})}set routerLink(e){this.commands=null!=e?Array.isArray(e)?e:[e]:null}ngOnChanges(e){this.updateTargetUrlAndHref(),this.onChanges.next(this)}ngOnDestroy(){this.subscription.unsubscribe()}onClick(e,r,s,l,u){if(0!==e||r||s||l||u||"string"==typeof this.target&&"_self"!=this.target||null===this.urlTree)return!0;const f={skipLocationChange:Rh(this.skipLocationChange),replaceUrl:Rh(this.replaceUrl),state:this.state};return this.router.navigateByUrl(this.urlTree,f),!1}updateTargetUrlAndHref(){this.href=null!==this.urlTree?this.locationStrategy.prepareExternalUrl(this.router.serializeUrl(this.urlTree)):null}get urlTree(){return null===this.commands?null:this.router.createUrlTree(this.commands,{relativeTo:void 0!==this.relativeTo?this.relativeTo:this.route,queryParams:this.queryParams,fragment:this.fragment,queryParamsHandling:this.queryParamsHandling,preserveFragment:Rh(this.preserveFragment)})}}return n.\u0275fac=function(e){return new(e||n)(M(ii),M(to),M(Dh))},n.\u0275dir=se({type:n,selectors:[["a","routerLink",""],["area","routerLink",""]],hostVars:2,hostBindings:function(e,r){1&e&&Ee("click",function(l){return r.onClick(l.button,l.ctrlKey,l.shiftKey,l.altKey,l.metaKey)}),2&e&&mt("target",r.target)("href",r.href,vo)},inputs:{target:"target",queryParams:"queryParams",fragment:"fragment",queryParamsHandling:"queryParamsHandling",preserveFragment:"preserveFragment",skipLocationChange:"skipLocationChange",replaceUrl:"replaceUrl",state:"state",relativeTo:"relativeTo",routerLink:"routerLink"},features:[xn]}),n})();function Rh(n){return""===n||!!n}let sP=(()=>{class n{constructor(e,r,s,l,u,f){this.router=e,this.element=r,this.renderer=s,this.cdr=l,this.link=u,this.linkWithHref=f,this.classes=[],this.isActive=!1,this.routerLinkActiveOptions={exact:!1},this.isActiveChange=new we,this.routerEventsSubscription=e.events.subscribe(m=>{m instanceof Ah&&this.update()})}ngAfterContentInit(){Ue(this.links.changes,this.linksWithHrefs.changes,Ue(null)).pipe(Ks()).subscribe(e=>{this.update(),this.subscribeToEachLinkOnChanges()})}subscribeToEachLinkOnChanges(){var e;null===(e=this.linkInputChangesSubscription)||void 0===e||e.unsubscribe();const r=[...this.links.toArray(),...this.linksWithHrefs.toArray(),this.link,this.linkWithHref].filter(s=>!!s).map(s=>s.onChanges);this.linkInputChangesSubscription=Zn(r).pipe(Ks()).subscribe(s=>{this.isActive!==this.isLinkActive(this.router)(s)&&this.update()})}set routerLinkActive(e){const r=Array.isArray(e)?e:e.split(" ");this.classes=r.filter(s=>!!s)}ngOnChanges(e){this.update()}ngOnDestroy(){var e;this.routerEventsSubscription.unsubscribe(),null===(e=this.linkInputChangesSubscription)||void 0===e||e.unsubscribe()}update(){!this.links||!this.linksWithHrefs||!this.router.navigated||Promise.resolve().then(()=>{const e=this.hasActiveLinks();this.isActive!==e&&(this.isActive=e,this.cdr.markForCheck(),this.classes.forEach(r=>{e?this.renderer.addClass(this.element.nativeElement,r):this.renderer.removeClass(this.element.nativeElement,r)}),this.isActiveChange.emit(e))})}isLinkActive(e){const r=function F4(n){return!!n.paths}(this.routerLinkActiveOptions)?this.routerLinkActiveOptions:this.routerLinkActiveOptions.exact||!1;return s=>!!s.urlTree&&e.isActive(s.urlTree,r)}hasActiveLinks(){const e=this.isLinkActive(this.router);return this.link&&e(this.link)||this.linkWithHref&&e(this.linkWithHref)||this.links.some(e)||this.linksWithHrefs.some(e)}}return n.\u0275fac=function(e){return new(e||n)(M(ii),M(ze),M(Ca),M(ei),M(vT,8),M(Ul,8))},n.\u0275dir=se({type:n,selectors:[["","routerLinkActive",""]],contentQueries:function(e,r,s){if(1&e&&(bn(s,vT,5),bn(s,Ul,5)),2&e){let l;st(l=at())&&(r.links=l),st(l=at())&&(r.linksWithHrefs=l)}},inputs:{routerLinkActiveOptions:"routerLinkActiveOptions",routerLinkActive:"routerLinkActive"},outputs:{isActiveChange:"isActiveChange"},exportAs:["routerLinkActive"],features:[xn]}),n})();class aP{}class lP{preload(t,e){return Ue(null)}}let cP=(()=>{class n{constructor(e,r,s,l){this.router=e,this.injector=s,this.preloadingStrategy=l,this.loader=new iP(s,r,m=>e.triggerEvent(new fI(m)),m=>e.triggerEvent(new pI(m)))}setUpPreloading(){this.subscription=this.router.events.pipe(xi(e=>e instanceof Ah),Md(()=>this.preload())).subscribe(()=>{})}preload(){const e=this.injector.get(xa);return this.processRoutes(e,this.router.config)}ngOnDestroy(){this.subscription&&this.subscription.unsubscribe()}processRoutes(e,r){const s=[];for(const l of r)if(l.loadChildren&&!l.canLoad&&l._loadedConfig){const u=l._loadedConfig;s.push(this.processRoutes(u.module,u.routes))}else l.loadChildren&&!l.canLoad?s.push(this.preloadConfig(e,l)):l.children&&s.push(this.processRoutes(e,l.children));return Zn(s).pipe(Ks(),Te(l=>{}))}preloadConfig(e,r){return this.preloadingStrategy.preload(r,()=>(r._loadedConfig?Ue(r._loadedConfig):this.loader.load(e.injector,r)).pipe(Ln(l=>(r._loadedConfig=l,this.processRoutes(l.module,l.routes)))))}}return n.\u0275fac=function(e){return new(e||n)(L(ii),L(nA),L(nn),L(aP))},n.\u0275prov=oe({token:n,factory:n.\u0275fac}),n})(),yT=(()=>{class n{constructor(e,r,s={}){this.router=e,this.viewportScroller=r,this.options=s,this.lastId=0,this.lastSource="imperative",this.restoredId=0,this.store={},s.scrollPositionRestoration=s.scrollPositionRestoration||"disabled",s.anchorScrolling=s.anchorScrolling||"disabled"}init(){"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.setHistoryScrollRestoration("manual"),this.routerEventsSubscription=this.createScrollEvents(),this.scrollEventsSubscription=this.consumeScrollEvents()}createScrollEvents(){return this.router.events.subscribe(e=>{e instanceof iw?(this.store[this.lastId]=this.viewportScroller.getScrollPosition(),this.lastSource=e.navigationTrigger,this.restoredId=e.restoredState?e.restoredState.navigationId:0):e instanceof Ah&&(this.lastId=e.id,this.scheduleScrollEvent(e,this.router.parseUrl(e.urlAfterRedirects).fragment))})}consumeScrollEvents(){return this.router.events.subscribe(e=>{e instanceof mI&&(e.position?"top"===this.options.scrollPositionRestoration?this.viewportScroller.scrollToPosition([0,0]):"enabled"===this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition(e.position):e.anchor&&"enabled"===this.options.anchorScrolling?this.viewportScroller.scrollToAnchor(e.anchor):"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition([0,0]))})}scheduleScrollEvent(e,r){this.router.triggerEvent(new mI(e,"popstate"===this.lastSource?this.store[this.restoredId]:null,r))}ngOnDestroy(){this.routerEventsSubscription&&this.routerEventsSubscription.unsubscribe(),this.scrollEventsSubscription&&this.scrollEventsSubscription.unsubscribe()}}return n.\u0275fac=function(e){Ol()},n.\u0275prov=oe({token:n,factory:n.\u0275fac}),n})();const Rd=new re("ROUTER_CONFIGURATION"),dP=new re("ROUTER_FORROOT_GUARD"),L4=[rg,{provide:TI,useClass:EI},{provide:ii,useFactory:function H4(n,t,e,r,s,l,u={},f,m){const b=new ii(null,n,t,e,r,s,bI(l));return f&&(b.urlHandlingStrategy=f),m&&(b.routeReuseStrategy=m),function U4(n,t){n.errorHandler&&(t.errorHandler=n.errorHandler),n.malformedUriErrorHandler&&(t.malformedUriErrorHandler=n.malformedUriErrorHandler),n.onSameUrlNavigation&&(t.onSameUrlNavigation=n.onSameUrlNavigation),n.paramsInheritanceStrategy&&(t.paramsInheritanceStrategy=n.paramsInheritanceStrategy),n.relativeLinkResolution&&(t.relativeLinkResolution=n.relativeLinkResolution),n.urlUpdateStrategy&&(t.urlUpdateStrategy=n.urlUpdateStrategy),n.canceledNavigationResolution&&(t.canceledNavigationResolution=n.canceledNavigationResolution)}(u,b),u.enableTracing&&b.events.subscribe(w=>{var x,E;null===(x=console.group)||void 0===x||x.call(console,`Router Event: ${w.constructor.name}`),console.log(w.toString()),console.log(w),null===(E=console.groupEnd)||void 0===E||E.call(console)}),b},deps:[TI,_g,rg,nn,nA,bT,Rd,[class D4{},new Er],[class T4{},new Er]]},_g,{provide:to,useFactory:function $4(n){return n.routerState.root},deps:[ii]},cP,lP,class N4{preload(t,e){return e().pipe(Ns(()=>Ue(null)))}},{provide:Rd,useValue:{enableTracing:!1}}];function B4(){return new sA("Router",ii)}let $l=(()=>{class n{constructor(e,r){}static forRoot(e,r){return{ngModule:n,providers:[L4,uP(e),{provide:dP,useFactory:z4,deps:[[ii,new Er,new la]]},{provide:Rd,useValue:r||{}},{provide:Dh,useFactory:j4,deps:[Ed,[new Lu(P1),new Er],Rd]},{provide:yT,useFactory:V4,deps:[ii,G5,Rd]},{provide:aP,useExisting:r&&r.preloadingStrategy?r.preloadingStrategy:lP},{provide:sA,multi:!0,useFactory:B4},[wT,{provide:b1,multi:!0,useFactory:W4,deps:[wT]},{provide:hP,useFactory:q4,deps:[wT]},{provide:tA,multi:!0,useExisting:hP}]]}}static forChild(e){return{ngModule:n,providers:[uP(e)]}}}return n.\u0275fac=function(e){return new(e||n)(L(dP,8),L(ii,8))},n.\u0275mod=ue({type:n}),n.\u0275inj=Se({}),n})();function V4(n,t,e){return e.scrollOffset&&t.setOffset(e.scrollOffset),new yT(n,t,e)}function j4(n,t,e={}){return e.useHash?new FV(n,t):new TA(n,t)}function z4(n){return"guarded"}function uP(n){return[{provide:Fk,multi:!0,useValue:n},{provide:bT,multi:!0,useValue:n}]}let wT=(()=>{class n{constructor(e){this.injector=e,this.initNavigation=!1,this.destroyed=!1,this.resultOfPreactivationDone=new Oe}appInitializer(){return this.injector.get(PV,Promise.resolve(null)).then(()=>{if(this.destroyed)return Promise.resolve(!0);let r=null;const s=new Promise(f=>r=f),l=this.injector.get(ii),u=this.injector.get(Rd);return"disabled"===u.initialNavigation?(l.setUpLocationChangeListener(),r(!0)):"enabled"===u.initialNavigation||"enabledBlocking"===u.initialNavigation?(l.hooks.afterPreactivation=()=>this.initNavigation?Ue(null):(this.initNavigation=!0,r(!0),this.resultOfPreactivationDone),l.initialNavigation()):r(!0),s})}bootstrapListener(e){const r=this.injector.get(Rd),s=this.injector.get(cP),l=this.injector.get(yT),u=this.injector.get(ii),f=this.injector.get(Ry);e===f.components[0]&&(("enabledNonBlocking"===r.initialNavigation||void 0===r.initialNavigation)&&u.initialNavigation(),s.setUpPreloading(),l.init(),u.resetRootComponentType(f.componentTypes[0]),this.resultOfPreactivationDone.next(null),this.resultOfPreactivationDone.complete())}ngOnDestroy(){this.destroyed=!0}}return n.\u0275fac=function(e){return new(e||n)(L(nn))},n.\u0275prov=oe({token:n,factory:n.\u0275fac}),n})();function W4(n){return n.appInitializer.bind(n)}function q4(n){return n.bootstrapListener.bind(n)}const hP=new re("Router Initializer");var Wl=(()=>{return(n=Wl||(Wl={})).Retrieved="RETRIEVED",n.Created="CREATED",n.Modified="MODIFIED",n.Deleted="DELETED",Wl;var n})();let wg=(()=>{class n{}return n.lookupField="id",n})(),kT=(()=>{class n extends wg{}return n.modelName="codex",n.modelPlural="codex",n.lookupField="slug",n})(),CT=(()=>{class n extends wg{constructor(){super(...arguments),this.tasks=[]}}return n.modelName="page",n.modelPlural="pages",n})(),xT=(()=>{class n extends wg{}return n.modelName="note",n.modelPlural="notes",n})(),TT=(()=>{class n extends wg{}return n.modelName="task",n.modelPlural="tasks",n})(),ET=(()=>{class n extends wg{}return n.modelName="information",n.modelPlural="information",n})();class K4{constructor(t,e){this.token=e,this.name=t}}class fP{}class pP{}class Aa{constructor(t){this.normalizedNames=new Map,this.lazyUpdate=null,t?this.lazyInit="string"==typeof t?()=>{this.headers=new Map,t.split("\n").forEach(e=>{const r=e.indexOf(":");if(r>0){const s=e.slice(0,r),l=s.toLowerCase(),u=e.slice(r+1).trim();this.maybeSetNormalizedName(s,l),this.headers.has(l)?this.headers.get(l).push(u):this.headers.set(l,[u])}})}:()=>{this.headers=new Map,Object.keys(t).forEach(e=>{let r=t[e];const s=e.toLowerCase();"string"==typeof r&&(r=[r]),r.length>0&&(this.headers.set(s,r),this.maybeSetNormalizedName(e,s))})}:this.headers=new Map}has(t){return this.init(),this.headers.has(t.toLowerCase())}get(t){this.init();const e=this.headers.get(t.toLowerCase());return e&&e.length>0?e[0]:null}keys(){return this.init(),Array.from(this.normalizedNames.values())}getAll(t){return this.init(),this.headers.get(t.toLowerCase())||null}append(t,e){return this.clone({name:t,value:e,op:"a"})}set(t,e){return this.clone({name:t,value:e,op:"s"})}delete(t,e){return this.clone({name:t,value:e,op:"d"})}maybeSetNormalizedName(t,e){this.normalizedNames.has(e)||this.normalizedNames.set(e,t)}init(){this.lazyInit&&(this.lazyInit instanceof Aa?this.copyFrom(this.lazyInit):this.lazyInit(),this.lazyInit=null,this.lazyUpdate&&(this.lazyUpdate.forEach(t=>this.applyUpdate(t)),this.lazyUpdate=null))}copyFrom(t){t.init(),Array.from(t.headers.keys()).forEach(e=>{this.headers.set(e,t.headers.get(e)),this.normalizedNames.set(e,t.normalizedNames.get(e))})}clone(t){const e=new Aa;return e.lazyInit=this.lazyInit&&this.lazyInit instanceof Aa?this.lazyInit:this,e.lazyUpdate=(this.lazyUpdate||[]).concat([t]),e}applyUpdate(t){const e=t.name.toLowerCase();switch(t.op){case"a":case"s":let r=t.value;if("string"==typeof r&&(r=[r]),0===r.length)return;this.maybeSetNormalizedName(t.name,e);const s=("a"===t.op?this.headers.get(e):void 0)||[];s.push(...r),this.headers.set(e,s);break;case"d":const l=t.value;if(l){let u=this.headers.get(e);if(!u)return;u=u.filter(f=>-1===l.indexOf(f)),0===u.length?(this.headers.delete(e),this.normalizedNames.delete(e)):this.headers.set(e,u)}else this.headers.delete(e),this.normalizedNames.delete(e)}}forEach(t){this.init(),Array.from(this.normalizedNames.keys()).forEach(e=>t(this.normalizedNames.get(e),this.headers.get(e)))}}class Q4{encodeKey(t){return mP(t)}encodeValue(t){return mP(t)}decodeKey(t){return decodeURIComponent(t)}decodeValue(t){return decodeURIComponent(t)}}const Z4=/%(\d[a-f0-9])/gi,X4={40:"@","3A":":",24:"$","2C":",","3B":";","2B":"+","3D":"=","3F":"?","2F":"/"};function mP(n){return encodeURIComponent(n).replace(Z4,(t,e)=>{var r;return null!==(r=X4[e])&&void 0!==r?r:t})}function gP(n){return`${n}`}class ql{constructor(t={}){if(this.updates=null,this.cloneFrom=null,this.encoder=t.encoder||new Q4,t.fromString){if(t.fromObject)throw new Error("Cannot specify both fromString and fromObject.");this.map=function Y4(n,t){const e=new Map;return n.length>0&&n.replace(/^\?/,"").split("&").forEach(s=>{const l=s.indexOf("="),[u,f]=-1==l?[t.decodeKey(s),""]:[t.decodeKey(s.slice(0,l)),t.decodeValue(s.slice(l+1))],m=e.get(u)||[];m.push(f),e.set(u,m)}),e}(t.fromString,this.encoder)}else t.fromObject?(this.map=new Map,Object.keys(t.fromObject).forEach(e=>{const r=t.fromObject[e];this.map.set(e,Array.isArray(r)?r:[r])})):this.map=null}has(t){return this.init(),this.map.has(t)}get(t){this.init();const e=this.map.get(t);return e?e[0]:null}getAll(t){return this.init(),this.map.get(t)||null}keys(){return this.init(),Array.from(this.map.keys())}append(t,e){return this.clone({param:t,value:e,op:"a"})}appendAll(t){const e=[];return Object.keys(t).forEach(r=>{const s=t[r];Array.isArray(s)?s.forEach(l=>{e.push({param:r,value:l,op:"a"})}):e.push({param:r,value:s,op:"a"})}),this.clone(e)}set(t,e){return this.clone({param:t,value:e,op:"s"})}delete(t,e){return this.clone({param:t,value:e,op:"d"})}toString(){return this.init(),this.keys().map(t=>{const e=this.encoder.encodeKey(t);return this.map.get(t).map(r=>e+"="+this.encoder.encodeValue(r)).join("&")}).filter(t=>""!==t).join("&")}clone(t){const e=new ql({encoder:this.encoder});return e.cloneFrom=this.cloneFrom||this,e.updates=(this.updates||[]).concat(t),e}init(){null===this.map&&(this.map=new Map),null!==this.cloneFrom&&(this.cloneFrom.init(),this.cloneFrom.keys().forEach(t=>this.map.set(t,this.cloneFrom.map.get(t))),this.updates.forEach(t=>{switch(t.op){case"a":case"s":const e=("a"===t.op?this.map.get(t.param):void 0)||[];e.push(gP(t.value)),this.map.set(t.param,e);break;case"d":if(void 0===t.value){this.map.delete(t.param);break}{let r=this.map.get(t.param)||[];const s=r.indexOf(gP(t.value));-1!==s&&r.splice(s,1),r.length>0?this.map.set(t.param,r):this.map.delete(t.param)}}}),this.cloneFrom=this.updates=null)}}class J4{constructor(){this.map=new Map}set(t,e){return this.map.set(t,e),this}get(t){return this.map.has(t)||this.map.set(t,t.defaultValue()),this.map.get(t)}delete(t){return this.map.delete(t),this}has(t){return this.map.has(t)}keys(){return this.map.keys()}}function _P(n){return"undefined"!=typeof ArrayBuffer&&n instanceof ArrayBuffer}function bP(n){return"undefined"!=typeof Blob&&n instanceof Blob}function vP(n){return"undefined"!=typeof FormData&&n instanceof FormData}class kg{constructor(t,e,r,s){let l;if(this.url=e,this.body=null,this.reportProgress=!1,this.withCredentials=!1,this.responseType="json",this.method=t.toUpperCase(),function ez(n){switch(n){case"DELETE":case"GET":case"HEAD":case"OPTIONS":case"JSONP":return!1;default:return!0}}(this.method)||s?(this.body=void 0!==r?r:null,l=s):l=r,l&&(this.reportProgress=!!l.reportProgress,this.withCredentials=!!l.withCredentials,l.responseType&&(this.responseType=l.responseType),l.headers&&(this.headers=l.headers),l.context&&(this.context=l.context),l.params&&(this.params=l.params)),this.headers||(this.headers=new Aa),this.context||(this.context=new J4),this.params){const u=this.params.toString();if(0===u.length)this.urlWithParams=e;else{const f=e.indexOf("?");this.urlWithParams=e+(-1===f?"?":f<e.length-1?"&":"")+u}}else this.params=new ql,this.urlWithParams=e}serializeBody(){return null===this.body?null:_P(this.body)||bP(this.body)||vP(this.body)||function tz(n){return"undefined"!=typeof URLSearchParams&&n instanceof URLSearchParams}(this.body)||"string"==typeof this.body?this.body:this.body instanceof ql?this.body.toString():"object"==typeof this.body||"boolean"==typeof this.body||Array.isArray(this.body)?JSON.stringify(this.body):this.body.toString()}detectContentTypeHeader(){return null===this.body||vP(this.body)?null:bP(this.body)?this.body.type||null:_P(this.body)?null:"string"==typeof this.body?"text/plain":this.body instanceof ql?"application/x-www-form-urlencoded;charset=UTF-8":"object"==typeof this.body||"number"==typeof this.body||"boolean"==typeof this.body?"application/json":null}clone(t={}){var e;const r=t.method||this.method,s=t.url||this.url,l=t.responseType||this.responseType,u=void 0!==t.body?t.body:this.body,f=void 0!==t.withCredentials?t.withCredentials:this.withCredentials,m=void 0!==t.reportProgress?t.reportProgress:this.reportProgress;let b=t.headers||this.headers,w=t.params||this.params;const x=null!==(e=t.context)&&void 0!==e?e:this.context;return void 0!==t.setHeaders&&(b=Object.keys(t.setHeaders).reduce((E,S)=>E.set(S,t.setHeaders[S]),b)),t.setParams&&(w=Object.keys(t.setParams).reduce((E,S)=>E.set(S,t.setParams[S]),w)),new kg(r,s,u,{params:w,headers:b,context:x,reportProgress:m,responseType:l,withCredentials:f})}}var ri=(()=>((ri=ri||{})[ri.Sent=0]="Sent",ri[ri.UploadProgress=1]="UploadProgress",ri[ri.ResponseHeader=2]="ResponseHeader",ri[ri.DownloadProgress=3]="DownloadProgress",ri[ri.Response=4]="Response",ri[ri.User=5]="User",ri))();class ST{constructor(t,e=200,r="OK"){this.headers=t.headers||new Aa,this.status=void 0!==t.status?t.status:e,this.statusText=t.statusText||r,this.url=t.url||null,this.ok=this.status>=200&&this.status<300}}class DT extends ST{constructor(t={}){super(t),this.type=ri.ResponseHeader}clone(t={}){return new DT({headers:t.headers||this.headers,status:void 0!==t.status?t.status:this.status,statusText:t.statusText||this.statusText,url:t.url||this.url||void 0})}}class vw extends ST{constructor(t={}){super(t),this.type=ri.Response,this.body=void 0!==t.body?t.body:null}clone(t={}){return new vw({body:void 0!==t.body?t.body:this.body,headers:t.headers||this.headers,status:void 0!==t.status?t.status:this.status,statusText:t.statusText||this.statusText,url:t.url||this.url||void 0})}}class yP extends ST{constructor(t){super(t,0,"Unknown Error"),this.name="HttpErrorResponse",this.ok=!1,this.message=this.status>=200&&this.status<300?`Http failure during parsing for ${t.url||"(unknown url)"}`:`Http failure response for ${t.url||"(unknown url)"}: ${t.status} ${t.statusText}`,this.error=t.error||null}}function MT(n,t){return{body:t,headers:n.headers,context:n.context,observe:n.observe,params:n.params,reportProgress:n.reportProgress,responseType:n.responseType,withCredentials:n.withCredentials}}let Cg=(()=>{class n{constructor(e){this.handler=e}request(e,r,s={}){let l;if(e instanceof kg)l=e;else{let m,b;m=s.headers instanceof Aa?s.headers:new Aa(s.headers),s.params&&(b=s.params instanceof ql?s.params:new ql({fromObject:s.params})),l=new kg(e,r,void 0!==s.body?s.body:null,{headers:m,context:s.context,params:b,reportProgress:s.reportProgress,responseType:s.responseType||"json",withCredentials:s.withCredentials})}const u=Ue(l).pipe(Md(m=>this.handler.handle(m)));if(e instanceof kg||"events"===s.observe)return u;const f=u.pipe(xi(m=>m instanceof vw));switch(s.observe||"body"){case"body":switch(l.responseType){case"arraybuffer":return f.pipe(Te(m=>{if(null!==m.body&&!(m.body instanceof ArrayBuffer))throw new Error("Response is not an ArrayBuffer.");return m.body}));case"blob":return f.pipe(Te(m=>{if(null!==m.body&&!(m.body instanceof Blob))throw new Error("Response is not a Blob.");return m.body}));case"text":return f.pipe(Te(m=>{if(null!==m.body&&"string"!=typeof m.body)throw new Error("Response is not a string.");return m.body}));default:return f.pipe(Te(m=>m.body))}case"response":return f;default:throw new Error(`Unreachable: unhandled observe type ${s.observe}}`)}}delete(e,r={}){return this.request("DELETE",e,r)}get(e,r={}){return this.request("GET",e,r)}head(e,r={}){return this.request("HEAD",e,r)}jsonp(e,r){return this.request("JSONP",e,{params:(new ql).append(r,"JSONP_CALLBACK"),observe:"body",responseType:"json"})}options(e,r={}){return this.request("OPTIONS",e,r)}patch(e,r,s={}){return this.request("PATCH",e,MT(s,r))}post(e,r,s={}){return this.request("POST",e,MT(s,r))}put(e,r,s={}){return this.request("PUT",e,MT(s,r))}}return n.\u0275fac=function(e){return new(e||n)(L(fP))},n.\u0275prov=oe({token:n,factory:n.\u0275fac}),n})();class wP{constructor(t,e){this.next=t,this.interceptor=e}handle(t){return this.interceptor.intercept(t,this.next)}}const yw=new re("HTTP_INTERCEPTORS");let nz=(()=>{class n{intercept(e,r){return r.handle(e)}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275prov=oe({token:n,factory:n.\u0275fac}),n})();const iz=/^\)\]\}',?\n/;let kP=(()=>{class n{constructor(e){this.xhrFactory=e}handle(e){if("JSONP"===e.method)throw new Error("Attempted to construct Jsonp request without HttpClientJsonpModule installed.");return new Ft(r=>{const s=this.xhrFactory.build();if(s.open(e.method,e.urlWithParams),e.withCredentials&&(s.withCredentials=!0),e.headers.forEach((S,I)=>s.setRequestHeader(S,I.join(","))),e.headers.has("Accept")||s.setRequestHeader("Accept","application/json, text/plain, */*"),!e.headers.has("Content-Type")){const S=e.detectContentTypeHeader();null!==S&&s.setRequestHeader("Content-Type",S)}if(e.responseType){const S=e.responseType.toLowerCase();s.responseType="json"!==S?S:"text"}const l=e.serializeBody();let u=null;const f=()=>{if(null!==u)return u;const S=s.statusText||"OK",I=new Aa(s.getAllResponseHeaders()),N=function rz(n){return"responseURL"in n&&n.responseURL?n.responseURL:/^X-Request-URL:/m.test(n.getAllResponseHeaders())?n.getResponseHeader("X-Request-URL"):null}(s)||e.url;return u=new DT({headers:I,status:s.status,statusText:S,url:N}),u},m=()=>{let{headers:S,status:I,statusText:N,url:K}=f(),G=null;204!==I&&(G=void 0===s.response?s.responseText:s.response),0===I&&(I=G?200:0);let H=I>=200&&I<300;if("json"===e.responseType&&"string"==typeof G){const fe=G;G=G.replace(iz,"");try{G=""!==G?JSON.parse(G):null}catch(ve){G=fe,H&&(H=!1,G={error:ve,text:G})}}H?(r.next(new vw({body:G,headers:S,status:I,statusText:N,url:K||void 0})),r.complete()):r.error(new yP({error:G,headers:S,status:I,statusText:N,url:K||void 0}))},b=S=>{const{url:I}=f(),N=new yP({error:S,status:s.status||0,statusText:s.statusText||"Unknown Error",url:I||void 0});r.error(N)};let w=!1;const x=S=>{w||(r.next(f()),w=!0);let I={type:ri.DownloadProgress,loaded:S.loaded};S.lengthComputable&&(I.total=S.total),"text"===e.responseType&&!!s.responseText&&(I.partialText=s.responseText),r.next(I)},E=S=>{let I={type:ri.UploadProgress,loaded:S.loaded};S.lengthComputable&&(I.total=S.total),r.next(I)};return s.addEventListener("load",m),s.addEventListener("error",b),s.addEventListener("timeout",b),s.addEventListener("abort",b),e.reportProgress&&(s.addEventListener("progress",x),null!==l&&s.upload&&s.upload.addEventListener("progress",E)),s.send(l),r.next({type:ri.Sent}),()=>{s.removeEventListener("error",b),s.removeEventListener("abort",b),s.removeEventListener("load",m),s.removeEventListener("timeout",b),e.reportProgress&&(s.removeEventListener("progress",x),null!==l&&s.upload&&s.upload.removeEventListener("progress",E)),s.readyState!==s.DONE&&s.abort()}})}}return n.\u0275fac=function(e){return new(e||n)(L(HA))},n.\u0275prov=oe({token:n,factory:n.\u0275fac}),n})();const AT=new re("XSRF_COOKIE_NAME"),IT=new re("XSRF_HEADER_NAME");class CP{}let oz=(()=>{class n{constructor(e,r,s){this.doc=e,this.platform=r,this.cookieName=s,this.lastCookieString="",this.lastToken=null,this.parseCount=0}getToken(){if("server"===this.platform)return null;const e=this.doc.cookie||"";return e!==this.lastCookieString&&(this.parseCount++,this.lastToken=FA(e,this.cookieName),this.lastCookieString=e),this.lastToken}}return n.\u0275fac=function(e){return new(e||n)(L(ot),L(ng),L(AT))},n.\u0275prov=oe({token:n,factory:n.\u0275fac}),n})(),PT=(()=>{class n{constructor(e,r){this.tokenService=e,this.headerName=r}intercept(e,r){const s=e.url.toLowerCase();if("GET"===e.method||"HEAD"===e.method||s.startsWith("http://")||s.startsWith("https://"))return r.handle(e);const l=this.tokenService.getToken();return null!==l&&!e.headers.has(this.headerName)&&(e=e.clone({headers:e.headers.set(this.headerName,l)})),r.handle(e)}}return n.\u0275fac=function(e){return new(e||n)(L(CP),L(IT))},n.\u0275prov=oe({token:n,factory:n.\u0275fac}),n})(),sz=(()=>{class n{constructor(e,r){this.backend=e,this.injector=r,this.chain=null}handle(e){if(null===this.chain){const r=this.injector.get(yw,[]);this.chain=r.reduceRight((s,l)=>new wP(s,l),this.backend)}return this.chain.handle(e)}}return n.\u0275fac=function(e){return new(e||n)(L(pP),L(nn))},n.\u0275prov=oe({token:n,factory:n.\u0275fac}),n})(),az=(()=>{class n{static disable(){return{ngModule:n,providers:[{provide:PT,useClass:nz}]}}static withOptions(e={}){return{ngModule:n,providers:[e.cookieName?{provide:AT,useValue:e.cookieName}:[],e.headerName?{provide:IT,useValue:e.headerName}:[]]}}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=ue({type:n}),n.\u0275inj=Se({providers:[PT,{provide:yw,useExisting:PT,multi:!0},{provide:CP,useClass:oz},{provide:AT,useValue:"XSRF-TOKEN"},{provide:IT,useValue:"X-XSRF-TOKEN"}]}),n})(),lz=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=ue({type:n}),n.\u0275inj=Se({providers:[Cg,{provide:fP,useClass:sz},kP,{provide:pP,useExisting:kP}],imports:[[az.withOptions({cookieName:"XSRF-TOKEN",headerName:"X-XSRF-TOKEN"})]]}),n})(),Vs=(()=>{class n{constructor(e){this.http=e,this.currentUserSubject=new Rr(JSON.parse(localStorage.getItem("currentUser"))),this.currentUser$=this.currentUserSubject.asObservable()}get currentUser(){return this.currentUserSubject.value}login(e,r){return this.http.post("/api-auth/",{username:e,password:r}).pipe(Te(s=>{const l=new K4(e,s.token);return localStorage.setItem("currentUser",JSON.stringify(l)),this.currentUserSubject.next(l),l}))}logout(){localStorage.removeItem("currentUser"),this.currentUserSubject.next(void 0)}}return n.\u0275fac=function(e){return new(e||n)(L(Cg))},n.\u0275prov=oe({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();const cz=new re("cdk-dir-doc",{providedIn:"root",factory:function dz(){return Lt(ot)}}),uz=/^(ar|ckb|dv|he|iw|fa|nqo|ps|sd|ug|ur|yi|.*[-_](Adlm|Arab|Hebr|Nkoo|Rohg|Thaa))(?!.*[-_](Latn|Cyrl)($|-|_))($|-|_)/i;let RT,Ia=(()=>{class n{constructor(e){if(this.value="ltr",this.change=new we,e){const s=e.documentElement?e.documentElement.dir:null;this.value=function hz(n){const t=(null==n?void 0:n.toLowerCase())||"";return"auto"===t&&"undefined"!=typeof navigator&&(null==navigator?void 0:navigator.language)?uz.test(navigator.language)?"rtl":"ltr":"rtl"===t?"rtl":"ltr"}((e.body?e.body.dir:null)||s||"ltr")}}ngOnDestroy(){this.change.complete()}}return n.\u0275fac=function(e){return new(e||n)(L(cz,8))},n.\u0275prov=oe({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),xg=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=ue({type:n}),n.\u0275inj=Se({}),n})();try{RT="undefined"!=typeof Intl&&Intl.v8BreakIterator}catch(n){RT=!1}let Oh,yn=(()=>{class n{constructor(e){this._platformId=e,this.isBrowser=this._platformId?lg(this._platformId):"object"==typeof document&&!!document,this.EDGE=this.isBrowser&&/(edge)/i.test(navigator.userAgent),this.TRIDENT=this.isBrowser&&/(msie|trident)/i.test(navigator.userAgent),this.BLINK=this.isBrowser&&!(!window.chrome&&!RT)&&"undefined"!=typeof CSS&&!this.EDGE&&!this.TRIDENT,this.WEBKIT=this.isBrowser&&/AppleWebKit/i.test(navigator.userAgent)&&!this.BLINK&&!this.EDGE&&!this.TRIDENT,this.IOS=this.isBrowser&&/iPad|iPhone|iPod/.test(navigator.userAgent)&&!("MSStream"in window),this.FIREFOX=this.isBrowser&&/(firefox|minefield)/i.test(navigator.userAgent),this.ANDROID=this.isBrowser&&/android/i.test(navigator.userAgent)&&!this.TRIDENT,this.SAFARI=this.isBrowser&&/safari/i.test(navigator.userAgent)&&this.WEBKIT}}return n.\u0275fac=function(e){return new(e||n)(L(ng))},n.\u0275prov=oe({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();const TP=["color","button","checkbox","date","datetime-local","email","file","hidden","image","month","number","password","radio","range","reset","search","submit","tel","text","time","url","week"];function EP(){if(Oh)return Oh;if("object"!=typeof document||!document)return Oh=new Set(TP),Oh;let n=document.createElement("input");return Oh=new Set(TP.filter(t=>(n.setAttribute("type",t),n.type===t))),Oh}let Tg,Od,OT;function Fh(n){return function fz(){if(null==Tg&&"undefined"!=typeof window)try{window.addEventListener("test",null,Object.defineProperty({},"passive",{get:()=>Tg=!0}))}finally{Tg=Tg||!1}return Tg}()?n:!!n.capture}function pz(){if(null==Od){if("object"!=typeof document||!document||"function"!=typeof Element||!Element)return Od=!1,Od;if("scrollBehavior"in document.documentElement.style)Od=!0;else{const n=Element.prototype.scrollTo;Od=!!n&&!/\{\s*\[native code\]\s*\}/.test(n.toString())}}return Od}function SP(n){if(function mz(){if(null==OT){const n="undefined"!=typeof document?document.head:null;OT=!(!n||!n.createShadowRoot&&!n.attachShadow)}return OT}()){const t=n.getRootNode?n.getRootNode():null;if("undefined"!=typeof ShadowRoot&&ShadowRoot&&t instanceof ShadowRoot)return t}return null}function FT(){let n="undefined"!=typeof document&&document?document.activeElement:null;for(;n&&n.shadowRoot;){const t=n.shadowRoot.activeElement;if(t===n)break;n=t}return n}function Fd(n){return n.composedPath?n.composedPath()[0]:n.target}function NT(){return"undefined"!=typeof __karma__&&!!__karma__||"undefined"!=typeof jasmine&&!!jasmine||"undefined"!=typeof jest&&!!jest||"undefined"!=typeof Mocha&&!!Mocha}function Gl(n,...t){return t.length?t.some(e=>n[e]):n.altKey||n.shiftKey||n.ctrlKey||n.metaKey}class Mz extends U{constructor(t,e){super()}schedule(t,e=0){return this}}const Cw={setInterval(n,t,...e){const{delegate:r}=Cw;return(null==r?void 0:r.setInterval)?r.setInterval(n,t,...e):setInterval(n,t,...e)},clearInterval(n){const{delegate:t}=Cw;return((null==t?void 0:t.clearInterval)||clearInterval)(n)},delegate:void 0};class VT extends Mz{constructor(t,e){super(t,e),this.scheduler=t,this.work=e,this.pending=!1}schedule(t,e=0){if(this.closed)return this;this.state=t;const r=this.id,s=this.scheduler;return null!=r&&(this.id=this.recycleAsyncId(s,r,e)),this.pending=!0,this.delay=e,this.id=this.id||this.requestAsyncId(s,this.id,e),this}requestAsyncId(t,e,r=0){return Cw.setInterval(t.flush.bind(t,this),r)}recycleAsyncId(t,e,r=0){if(null!=r&&this.delay===r&&!1===this.pending)return e;Cw.clearInterval(e)}execute(t,e){if(this.closed)return new Error("executing a cancelled action");this.pending=!1;const r=this._execute(t,e);if(r)return r;!1===this.pending&&null!=this.id&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null))}_execute(t,e){let s,r=!1;try{this.work(t)}catch(l){r=!0,s=l||new Error("Scheduled action threw falsy error")}if(r)return this.unsubscribe(),s}unsubscribe(){if(!this.closed){const{id:t,scheduler:e}=this,{actions:r}=e;this.work=this.state=this.scheduler=null,this.pending=!1,C(r,this),null!=t&&(this.id=this.recycleAsyncId(e,t,null)),this.delay=null,super.unsubscribe()}}}const RP={now:()=>(RP.delegate||Date).now(),delegate:void 0};class Eg{constructor(t,e=Eg.now){this.schedulerActionCtor=t,this.now=e}schedule(t,e=0,r){return new this.schedulerActionCtor(this,t).schedule(r,e)}}Eg.now=RP.now;class jT extends Eg{constructor(t,e=Eg.now){super(t,e),this.actions=[],this._active=!1,this._scheduled=void 0}flush(t){const{actions:e}=this;if(this._active)return void e.push(t);let r;this._active=!0;do{if(r=t.execute(t.state,t.delay))break}while(t=e.shift());if(this._active=!1,r){for(;t=e.shift();)t.unsubscribe();throw r}}}const xw=new jT(VT),Az=xw;function Nd(n,t=xw){return mn((e,r)=>{let s=null,l=null,u=null;const f=()=>{if(s){s.unsubscribe(),s=null;const b=l;l=null,r.next(b)}};function m(){const b=u+n,w=t.now();if(w<b)return s=this.schedule(void 0,b-w),void r.add(s);f()}e.subscribe(on(r,b=>{l=b,u=t.now(),s||(s=t.schedule(m,n),r.add(s))},()=>{f(),r.complete()},void 0,()=>{l=s=null}))})}function OP(n){return xi((t,e)=>n<=e)}function Tw(n,t=Un){return n=null!=n?n:Iz,mn((e,r)=>{let s,l=!0;e.subscribe(on(r,u=>{const f=t(u);(l||!n(s,f))&&(l=!1,s=f,r.next(u))}))})}function Iz(n,t){return n===t}function Qt(n){return mn((t,e)=>{gi(n).subscribe(on(e,()=>e.complete(),X)),!e.closed&&t.subscribe(e)})}function jt(n){return null!=n&&"false"!=`${n}`}function Yo(n,t=0){return function Pz(n){return!isNaN(parseFloat(n))&&!isNaN(Number(n))}(n)?Number(n):t}function Ew(n){return Array.isArray(n)?n:[n]}function oi(n){return null==n?"":"string"==typeof n?n:`${n}px`}function Pa(n){return n instanceof ze?n.nativeElement:n}let FP=(()=>{class n{create(e){return"undefined"==typeof MutationObserver?null:new MutationObserver(e)}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275prov=oe({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),Rz=(()=>{class n{constructor(e){this._mutationObserverFactory=e,this._observedElements=new Map}ngOnDestroy(){this._observedElements.forEach((e,r)=>this._cleanupObserver(r))}observe(e){const r=Pa(e);return new Ft(s=>{const u=this._observeElement(r).subscribe(s);return()=>{u.unsubscribe(),this._unobserveElement(r)}})}_observeElement(e){if(this._observedElements.has(e))this._observedElements.get(e).count++;else{const r=new Oe,s=this._mutationObserverFactory.create(l=>r.next(l));s&&s.observe(e,{characterData:!0,childList:!0,subtree:!0}),this._observedElements.set(e,{observer:s,stream:r,count:1})}return this._observedElements.get(e).stream}_unobserveElement(e){this._observedElements.has(e)&&(this._observedElements.get(e).count--,this._observedElements.get(e).count||this._cleanupObserver(e))}_cleanupObserver(e){if(this._observedElements.has(e)){const{observer:r,stream:s}=this._observedElements.get(e);r&&r.disconnect(),s.complete(),this._observedElements.delete(e)}}}return n.\u0275fac=function(e){return new(e||n)(L(FP))},n.\u0275prov=oe({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),zT=(()=>{class n{constructor(e,r,s){this._contentObserver=e,this._elementRef=r,this._ngZone=s,this.event=new we,this._disabled=!1,this._currentSubscription=null}get disabled(){return this._disabled}set disabled(e){this._disabled=jt(e),this._disabled?this._unsubscribe():this._subscribe()}get debounce(){return this._debounce}set debounce(e){this._debounce=Yo(e),this._subscribe()}ngAfterContentInit(){!this._currentSubscription&&!this.disabled&&this._subscribe()}ngOnDestroy(){this._unsubscribe()}_subscribe(){this._unsubscribe();const e=this._contentObserver.observe(this._elementRef);this._ngZone.runOutsideAngular(()=>{this._currentSubscription=(this.debounce?e.pipe(Nd(this.debounce)):e).subscribe(this.event)})}_unsubscribe(){var e;null===(e=this._currentSubscription)||void 0===e||e.unsubscribe()}}return n.\u0275fac=function(e){return new(e||n)(M(Rz),M(ze),M(He))},n.\u0275dir=se({type:n,selectors:[["","cdkObserveContent",""]],inputs:{disabled:["cdkObserveContentDisabled","disabled"],debounce:"debounce"},outputs:{event:"cdkObserveContent"},exportAs:["cdkObserveContent"]}),n})(),Sw=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=ue({type:n}),n.\u0275inj=Se({providers:[FP]}),n})();function Dw(n,t){return(n.getAttribute(t)||"").match(/\S+/g)||[]}const LP="cdk-describedby-message",Mw="cdk-describedby-host";let BP=0,Nz=(()=>{class n{constructor(e,r){this._platform=r,this._messageRegistry=new Map,this._messagesContainer=null,this._id=""+BP++,this._document=e}describe(e,r,s){if(!this._canBeDescribed(e,r))return;const l=HT(r,s);"string"!=typeof r?(VP(r),this._messageRegistry.set(l,{messageElement:r,referenceCount:0})):this._messageRegistry.has(l)||this._createMessageElement(r,s),this._isElementDescribedByMessage(e,l)||this._addMessageReference(e,l)}removeDescription(e,r,s){var l;if(!r||!this._isElementNode(e))return;const u=HT(r,s);if(this._isElementDescribedByMessage(e,u)&&this._removeMessageReference(e,u),"string"==typeof r){const f=this._messageRegistry.get(u);f&&0===f.referenceCount&&this._deleteMessageElement(u)}0===(null===(l=this._messagesContainer)||void 0===l?void 0:l.childNodes.length)&&(this._messagesContainer.remove(),this._messagesContainer=null)}ngOnDestroy(){var e;const r=this._document.querySelectorAll(`[${Mw}="${this._id}"]`);for(let s=0;s<r.length;s++)this._removeCdkDescribedByReferenceIds(r[s]),r[s].removeAttribute(Mw);null===(e=this._messagesContainer)||void 0===e||e.remove(),this._messagesContainer=null,this._messageRegistry.clear()}_createMessageElement(e,r){const s=this._document.createElement("div");VP(s),s.textContent=e,r&&s.setAttribute("role",r),this._createMessagesContainer(),this._messagesContainer.appendChild(s),this._messageRegistry.set(HT(e,r),{messageElement:s,referenceCount:0})}_deleteMessageElement(e){var r,s;null===(s=null===(r=this._messageRegistry.get(e))||void 0===r?void 0:r.messageElement)||void 0===s||s.remove(),this._messageRegistry.delete(e)}_createMessagesContainer(){if(this._messagesContainer)return;const e="cdk-describedby-message-container",r=this._document.querySelectorAll(`.${e}[platform="server"]`);for(let l=0;l<r.length;l++)r[l].remove();const s=this._document.createElement("div");s.style.visibility="hidden",s.classList.add(e),s.classList.add("cdk-visually-hidden"),this._platform&&!this._platform.isBrowser&&s.setAttribute("platform","server"),this._document.body.appendChild(s),this._messagesContainer=s}_removeCdkDescribedByReferenceIds(e){const r=Dw(e,"aria-describedby").filter(s=>0!=s.indexOf(LP));e.setAttribute("aria-describedby",r.join(" "))}_addMessageReference(e,r){const s=this._messageRegistry.get(r);(function Oz(n,t,e){const r=Dw(n,t);r.some(s=>s.trim()==e.trim())||(r.push(e.trim()),n.setAttribute(t,r.join(" ")))})(e,"aria-describedby",s.messageElement.id),e.setAttribute(Mw,this._id),s.referenceCount++}_removeMessageReference(e,r){const s=this._messageRegistry.get(r);s.referenceCount--,function Fz(n,t,e){const s=Dw(n,t).filter(l=>l!=e.trim());s.length?n.setAttribute(t,s.join(" ")):n.removeAttribute(t)}(e,"aria-describedby",s.messageElement.id),e.removeAttribute(Mw)}_isElementDescribedByMessage(e,r){const s=Dw(e,"aria-describedby"),l=this._messageRegistry.get(r),u=l&&l.messageElement.id;return!!u&&-1!=s.indexOf(u)}_canBeDescribed(e,r){if(!this._isElementNode(e))return!1;if(r&&"object"==typeof r)return!0;const s=null==r?"":`${r}`.trim(),l=e.getAttribute("aria-label");return!(!s||l&&l.trim()===s)}_isElementNode(e){return e.nodeType===this._document.ELEMENT_NODE}}return n.\u0275fac=function(e){return new(e||n)(L(ot),L(yn))},n.\u0275prov=oe({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();function HT(n,t){return"string"==typeof n?`${t||""}/${n}`:n}function VP(n){n.id||(n.id=`${LP}-${BP++}`)}class UT extends class Lz{constructor(t){this._items=t,this._activeItemIndex=-1,this._activeItem=null,this._wrap=!1,this._letterKeyStream=new Oe,this._typeaheadSubscription=U.EMPTY,this._vertical=!0,this._allowedModifierKeys=[],this._homeAndEnd=!1,this._skipPredicateFn=e=>e.disabled,this._pressedLetters=[],this.tabOut=new Oe,this.change=new Oe,t instanceof Jm&&t.changes.subscribe(e=>{if(this._activeItem){const s=e.toArray().indexOf(this._activeItem);s>-1&&s!==this._activeItemIndex&&(this._activeItemIndex=s)}})}skipPredicate(t){return this._skipPredicateFn=t,this}withWrap(t=!0){return this._wrap=t,this}withVerticalOrientation(t=!0){return this._vertical=t,this}withHorizontalOrientation(t){return this._horizontal=t,this}withAllowedModifierKeys(t){return this._allowedModifierKeys=t,this}withTypeAhead(t=200){return this._typeaheadSubscription.unsubscribe(),this._typeaheadSubscription=this._letterKeyStream.pipe(vn(e=>this._pressedLetters.push(e)),Nd(t),xi(()=>this._pressedLetters.length>0),Te(()=>this._pressedLetters.join(""))).subscribe(e=>{const r=this._getItemsArray();for(let s=1;s<r.length+1;s++){const l=(this._activeItemIndex+s)%r.length,u=r[l];if(!this._skipPredicateFn(u)&&0===u.getLabel().toUpperCase().trim().indexOf(e)){this.setActiveItem(l);break}}this._pressedLetters=[]}),this}withHomeAndEnd(t=!0){return this._homeAndEnd=t,this}setActiveItem(t){const e=this._activeItem;this.updateActiveItem(t),this._activeItem!==e&&this.change.next(this._activeItemIndex)}onKeydown(t){const e=t.keyCode,s=["altKey","ctrlKey","metaKey","shiftKey"].every(l=>!t[l]||this._allowedModifierKeys.indexOf(l)>-1);switch(e){case 9:return void this.tabOut.next();case 40:if(this._vertical&&s){this.setNextItemActive();break}return;case 38:if(this._vertical&&s){this.setPreviousItemActive();break}return;case 39:if(this._horizontal&&s){"rtl"===this._horizontal?this.setPreviousItemActive():this.setNextItemActive();break}return;case 37:if(this._horizontal&&s){"rtl"===this._horizontal?this.setNextItemActive():this.setPreviousItemActive();break}return;case 36:if(this._homeAndEnd&&s){this.setFirstItemActive();break}return;case 35:if(this._homeAndEnd&&s){this.setLastItemActive();break}return;default:return void((s||Gl(t,"shiftKey"))&&(t.key&&1===t.key.length?this._letterKeyStream.next(t.key.toLocaleUpperCase()):(e>=65&&e<=90||e>=48&&e<=57)&&this._letterKeyStream.next(String.fromCharCode(e))))}this._pressedLetters=[],t.preventDefault()}get activeItemIndex(){return this._activeItemIndex}get activeItem(){return this._activeItem}isTyping(){return this._pressedLetters.length>0}setFirstItemActive(){this._setActiveItemByIndex(0,1)}setLastItemActive(){this._setActiveItemByIndex(this._items.length-1,-1)}setNextItemActive(){this._activeItemIndex<0?this.setFirstItemActive():this._setActiveItemByDelta(1)}setPreviousItemActive(){this._activeItemIndex<0&&this._wrap?this.setLastItemActive():this._setActiveItemByDelta(-1)}updateActiveItem(t){const e=this._getItemsArray(),r="number"==typeof t?t:e.indexOf(t),s=e[r];this._activeItem=null==s?null:s,this._activeItemIndex=r}_setActiveItemByDelta(t){this._wrap?this._setActiveInWrapMode(t):this._setActiveInDefaultMode(t)}_setActiveInWrapMode(t){const e=this._getItemsArray();for(let r=1;r<=e.length;r++){const s=(this._activeItemIndex+t*r+e.length)%e.length;if(!this._skipPredicateFn(e[s]))return void this.setActiveItem(s)}}_setActiveInDefaultMode(t){this._setActiveItemByIndex(this._activeItemIndex+t,t)}_setActiveItemByIndex(t,e){const r=this._getItemsArray();if(r[t]){for(;this._skipPredicateFn(r[t]);)if(!r[t+=e])return;this.setActiveItem(t)}}_getItemsArray(){return this._items instanceof Jm?this._items.toArray():this._items}}{constructor(){super(...arguments),this._origin="program"}setFocusOrigin(t){return this._origin=t,this}setActiveItem(t){super.setActiveItem(t),this.activeItem&&this.activeItem.focus(this._origin)}}let jP=(()=>{class n{constructor(e){this._platform=e}isDisabled(e){return e.hasAttribute("disabled")}isVisible(e){return function Vz(n){return!!(n.offsetWidth||n.offsetHeight||"function"==typeof n.getClientRects&&n.getClientRects().length)}(e)&&"visible"===getComputedStyle(e).visibility}isTabbable(e){if(!this._platform.isBrowser)return!1;const r=function Bz(n){try{return n.frameElement}catch(t){return null}}(function Gz(n){return n.ownerDocument&&n.ownerDocument.defaultView||window}(e));if(r&&(-1===HP(r)||!this.isVisible(r)))return!1;let s=e.nodeName.toLowerCase(),l=HP(e);return e.hasAttribute("contenteditable")?-1!==l:!("iframe"===s||"object"===s||this._platform.WEBKIT&&this._platform.IOS&&!function Wz(n){let t=n.nodeName.toLowerCase(),e="input"===t&&n.type;return"text"===e||"password"===e||"select"===t||"textarea"===t}(e))&&("audio"===s?!!e.hasAttribute("controls")&&-1!==l:"video"===s?-1!==l&&(null!==l||this._platform.FIREFOX||e.hasAttribute("controls")):e.tabIndex>=0)}isFocusable(e,r){return function qz(n){return!function zz(n){return function Uz(n){return"input"==n.nodeName.toLowerCase()}(n)&&"hidden"==n.type}(n)&&(function jz(n){let t=n.nodeName.toLowerCase();return"input"===t||"select"===t||"button"===t||"textarea"===t}(n)||function Hz(n){return function $z(n){return"a"==n.nodeName.toLowerCase()}(n)&&n.hasAttribute("href")}(n)||n.hasAttribute("contenteditable")||zP(n))}(e)&&!this.isDisabled(e)&&((null==r?void 0:r.ignoreVisibility)||this.isVisible(e))}}return n.\u0275fac=function(e){return new(e||n)(L(yn))},n.\u0275prov=oe({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();function zP(n){if(!n.hasAttribute("tabindex")||void 0===n.tabIndex)return!1;let t=n.getAttribute("tabindex");return!(!t||isNaN(parseInt(t,10)))}function HP(n){if(!zP(n))return null;const t=parseInt(n.getAttribute("tabindex")||"",10);return isNaN(t)?-1:t}class Kz{constructor(t,e,r,s,l=!1){this._element=t,this._checker=e,this._ngZone=r,this._document=s,this._hasAttached=!1,this.startAnchorListener=()=>this.focusLastTabbableElement(),this.endAnchorListener=()=>this.focusFirstTabbableElement(),this._enabled=!0,l||this.attachAnchors()}get enabled(){return this._enabled}set enabled(t){this._enabled=t,this._startAnchor&&this._endAnchor&&(this._toggleAnchorTabIndex(t,this._startAnchor),this._toggleAnchorTabIndex(t,this._endAnchor))}destroy(){const t=this._startAnchor,e=this._endAnchor;t&&(t.removeEventListener("focus",this.startAnchorListener),t.remove()),e&&(e.removeEventListener("focus",this.endAnchorListener),e.remove()),this._startAnchor=this._endAnchor=null,this._hasAttached=!1}attachAnchors(){return!!this._hasAttached||(this._ngZone.runOutsideAngular(()=>{this._startAnchor||(this._startAnchor=this._createAnchor(),this._startAnchor.addEventListener("focus",this.startAnchorListener)),this._endAnchor||(this._endAnchor=this._createAnchor(),this._endAnchor.addEventListener("focus",this.endAnchorListener))}),this._element.parentNode&&(this._element.parentNode.insertBefore(this._startAnchor,this._element),this._element.parentNode.insertBefore(this._endAnchor,this._element.nextSibling),this._hasAttached=!0),this._hasAttached)}focusInitialElementWhenReady(t){return new Promise(e=>{this._executeOnStable(()=>e(this.focusInitialElement(t)))})}focusFirstTabbableElementWhenReady(t){return new Promise(e=>{this._executeOnStable(()=>e(this.focusFirstTabbableElement(t)))})}focusLastTabbableElementWhenReady(t){return new Promise(e=>{this._executeOnStable(()=>e(this.focusLastTabbableElement(t)))})}_getRegionBoundary(t){const e=this._element.querySelectorAll(`[cdk-focus-region-${t}], [cdkFocusRegion${t}], [cdk-focus-${t}]`);return"start"==t?e.length?e[0]:this._getFirstTabbableElement(this._element):e.length?e[e.length-1]:this._getLastTabbableElement(this._element)}focusInitialElement(t){const e=this._element.querySelector("[cdk-focus-initial], [cdkFocusInitial]");if(e){if(!this._checker.isFocusable(e)){const r=this._getFirstTabbableElement(e);return null==r||r.focus(t),!!r}return e.focus(t),!0}return this.focusFirstTabbableElement(t)}focusFirstTabbableElement(t){const e=this._getRegionBoundary("start");return e&&e.focus(t),!!e}focusLastTabbableElement(t){const e=this._getRegionBoundary("end");return e&&e.focus(t),!!e}hasAttached(){return this._hasAttached}_getFirstTabbableElement(t){if(this._checker.isFocusable(t)&&this._checker.isTabbable(t))return t;const e=t.children;for(let r=0;r<e.length;r++){const s=e[r].nodeType===this._document.ELEMENT_NODE?this._getFirstTabbableElement(e[r]):null;if(s)return s}return null}_getLastTabbableElement(t){if(this._checker.isFocusable(t)&&this._checker.isTabbable(t))return t;const e=t.children;for(let r=e.length-1;r>=0;r--){const s=e[r].nodeType===this._document.ELEMENT_NODE?this._getLastTabbableElement(e[r]):null;if(s)return s}return null}_createAnchor(){const t=this._document.createElement("div");return this._toggleAnchorTabIndex(this._enabled,t),t.classList.add("cdk-visually-hidden"),t.classList.add("cdk-focus-trap-anchor"),t.setAttribute("aria-hidden","true"),t}_toggleAnchorTabIndex(t,e){t?e.setAttribute("tabindex","0"):e.removeAttribute("tabindex")}toggleAnchors(t){this._startAnchor&&this._endAnchor&&(this._toggleAnchorTabIndex(t,this._startAnchor),this._toggleAnchorTabIndex(t,this._endAnchor))}_executeOnStable(t){this._ngZone.isStable?t():this._ngZone.onStable.pipe(si(1)).subscribe(t)}}let Qz=(()=>{class n{constructor(e,r,s){this._checker=e,this._ngZone=r,this._document=s}create(e,r=!1){return new Kz(e,this._checker,this._ngZone,this._document,r)}}return n.\u0275fac=function(e){return new(e||n)(L(jP),L(He),L(ot))},n.\u0275prov=oe({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();function UP(n){return 0===n.buttons||0===n.offsetX&&0===n.offsetY}function $P(n){const t=n.touches&&n.touches[0]||n.changedTouches&&n.changedTouches[0];return!(!t||-1!==t.identifier||null!=t.radiusX&&1!==t.radiusX||null!=t.radiusY&&1!==t.radiusY)}const Yz=new re("cdk-input-modality-detector-options"),Zz={ignoreKeys:[18,17,224,91,16]},Nh=Fh({passive:!0,capture:!0});let Xz=(()=>{class n{constructor(e,r,s,l){this._platform=e,this._mostRecentTarget=null,this._modality=new Rr(null),this._lastTouchMs=0,this._onKeydown=u=>{var f,m;(null===(m=null===(f=this._options)||void 0===f?void 0:f.ignoreKeys)||void 0===m?void 0:m.some(b=>b===u.keyCode))||(this._modality.next("keyboard"),this._mostRecentTarget=Fd(u))},this._onMousedown=u=>{Date.now()-this._lastTouchMs<650||(this._modality.next(UP(u)?"keyboard":"mouse"),this._mostRecentTarget=Fd(u))},this._onTouchstart=u=>{$P(u)?this._modality.next("keyboard"):(this._lastTouchMs=Date.now(),this._modality.next("touch"),this._mostRecentTarget=Fd(u))},this._options=Object.assign(Object.assign({},Zz),l),this.modalityDetected=this._modality.pipe(OP(1)),this.modalityChanged=this.modalityDetected.pipe(Tw()),e.isBrowser&&r.runOutsideAngular(()=>{s.addEventListener("keydown",this._onKeydown,Nh),s.addEventListener("mousedown",this._onMousedown,Nh),s.addEventListener("touchstart",this._onTouchstart,Nh)})}get mostRecentModality(){return this._modality.value}ngOnDestroy(){this._modality.complete(),this._platform.isBrowser&&(document.removeEventListener("keydown",this._onKeydown,Nh),document.removeEventListener("mousedown",this._onMousedown,Nh),document.removeEventListener("touchstart",this._onTouchstart,Nh))}}return n.\u0275fac=function(e){return new(e||n)(L(yn),L(He),L(ot),L(Yz,8))},n.\u0275prov=oe({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();const Jz=new re("liveAnnouncerElement",{providedIn:"root",factory:function eH(){return null}}),tH=new re("LIVE_ANNOUNCER_DEFAULT_OPTIONS");let qP=(()=>{class n{constructor(e,r,s,l){this._ngZone=r,this._defaultOptions=l,this._document=s,this._liveElement=e||this._createLiveElement()}announce(e,...r){const s=this._defaultOptions;let l,u;return 1===r.length&&"number"==typeof r[0]?u=r[0]:[l,u]=r,this.clear(),clearTimeout(this._previousTimeout),l||(l=s&&s.politeness?s.politeness:"polite"),null==u&&s&&(u=s.duration),this._liveElement.setAttribute("aria-live",l),this._ngZone.runOutsideAngular(()=>(this._currentPromise||(this._currentPromise=new Promise(f=>this._currentResolve=f)),clearTimeout(this._previousTimeout),this._previousTimeout=setTimeout(()=>{this._liveElement.textContent=e,"number"==typeof u&&(this._previousTimeout=setTimeout(()=>this.clear(),u)),this._currentResolve(),this._currentPromise=this._currentResolve=void 0},100),this._currentPromise))}clear(){this._liveElement&&(this._liveElement.textContent="")}ngOnDestroy(){var e,r;clearTimeout(this._previousTimeout),null===(e=this._liveElement)||void 0===e||e.remove(),this._liveElement=null,null===(r=this._currentResolve)||void 0===r||r.call(this),this._currentPromise=this._currentResolve=void 0}_createLiveElement(){const e="cdk-live-announcer-element",r=this._document.getElementsByClassName(e),s=this._document.createElement("div");for(let l=0;l<r.length;l++)r[l].remove();return s.classList.add(e),s.classList.add("cdk-visually-hidden"),s.setAttribute("aria-atomic","true"),s.setAttribute("aria-live","polite"),this._document.body.appendChild(s),s}}return n.\u0275fac=function(e){return new(e||n)(L(Jz,8),L(He),L(ot),L(tH,8))},n.\u0275prov=oe({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();const nH=new re("cdk-focus-monitor-default-options"),Aw=Fh({passive:!0,capture:!0});let Kl=(()=>{class n{constructor(e,r,s,l,u){this._ngZone=e,this._platform=r,this._inputModalityDetector=s,this._origin=null,this._windowFocused=!1,this._originFromTouchInteraction=!1,this._elementInfo=new Map,this._monitoredElementCount=0,this._rootNodeFocusListenerCount=new Map,this._windowFocusListener=()=>{this._windowFocused=!0,this._windowFocusTimeoutId=window.setTimeout(()=>this._windowFocused=!1)},this._stopInputModalityDetector=new Oe,this._rootNodeFocusAndBlurListener=f=>{const m=Fd(f),b="focus"===f.type?this._onFocus:this._onBlur;for(let w=m;w;w=w.parentElement)b.call(this,f,w)},this._document=l,this._detectionMode=(null==u?void 0:u.detectionMode)||0}monitor(e,r=!1){const s=Pa(e);if(!this._platform.isBrowser||1!==s.nodeType)return Ue(null);const l=SP(s)||this._getDocument(),u=this._elementInfo.get(s);if(u)return r&&(u.checkChildren=!0),u.subject;const f={checkChildren:r,subject:new Oe,rootNode:l};return this._elementInfo.set(s,f),this._registerGlobalListeners(f),f.subject}stopMonitoring(e){const r=Pa(e),s=this._elementInfo.get(r);s&&(s.subject.complete(),this._setClasses(r),this._elementInfo.delete(r),this._removeGlobalListeners(s))}focusVia(e,r,s){const l=Pa(e);l===this._getDocument().activeElement?this._getClosestElementsInfo(l).forEach(([f,m])=>this._originChanged(f,r,m)):(this._setOrigin(r),"function"==typeof l.focus&&l.focus(s))}ngOnDestroy(){this._elementInfo.forEach((e,r)=>this.stopMonitoring(r))}_getDocument(){return this._document||document}_getWindow(){return this._getDocument().defaultView||window}_getFocusOrigin(e){return this._origin?this._originFromTouchInteraction?this._shouldBeAttributedToTouch(e)?"touch":"program":this._origin:this._windowFocused&&this._lastFocusOrigin?this._lastFocusOrigin:"program"}_shouldBeAttributedToTouch(e){return 1===this._detectionMode||!!(null==e?void 0:e.contains(this._inputModalityDetector._mostRecentTarget))}_setClasses(e,r){e.classList.toggle("cdk-focused",!!r),e.classList.toggle("cdk-touch-focused","touch"===r),e.classList.toggle("cdk-keyboard-focused","keyboard"===r),e.classList.toggle("cdk-mouse-focused","mouse"===r),e.classList.toggle("cdk-program-focused","program"===r)}_setOrigin(e,r=!1){this._ngZone.runOutsideAngular(()=>{this._origin=e,this._originFromTouchInteraction="touch"===e&&r,0===this._detectionMode&&(clearTimeout(this._originTimeoutId),this._originTimeoutId=setTimeout(()=>this._origin=null,this._originFromTouchInteraction?650:1))})}_onFocus(e,r){const s=this._elementInfo.get(r),l=Fd(e);!s||!s.checkChildren&&r!==l||this._originChanged(r,this._getFocusOrigin(l),s)}_onBlur(e,r){const s=this._elementInfo.get(r);!s||s.checkChildren&&e.relatedTarget instanceof Node&&r.contains(e.relatedTarget)||(this._setClasses(r),this._emitOrigin(s.subject,null))}_emitOrigin(e,r){this._ngZone.run(()=>e.next(r))}_registerGlobalListeners(e){if(!this._platform.isBrowser)return;const r=e.rootNode,s=this._rootNodeFocusListenerCount.get(r)||0;s||this._ngZone.runOutsideAngular(()=>{r.addEventListener("focus",this._rootNodeFocusAndBlurListener,Aw),r.addEventListener("blur",this._rootNodeFocusAndBlurListener,Aw)}),this._rootNodeFocusListenerCount.set(r,s+1),1==++this._monitoredElementCount&&(this._ngZone.runOutsideAngular(()=>{this._getWindow().addEventListener("focus",this._windowFocusListener)}),this._inputModalityDetector.modalityDetected.pipe(Qt(this._stopInputModalityDetector)).subscribe(l=>{this._setOrigin(l,!0)}))}_removeGlobalListeners(e){const r=e.rootNode;if(this._rootNodeFocusListenerCount.has(r)){const s=this._rootNodeFocusListenerCount.get(r);s>1?this._rootNodeFocusListenerCount.set(r,s-1):(r.removeEventListener("focus",this._rootNodeFocusAndBlurListener,Aw),r.removeEventListener("blur",this._rootNodeFocusAndBlurListener,Aw),this._rootNodeFocusListenerCount.delete(r))}--this._monitoredElementCount||(this._getWindow().removeEventListener("focus",this._windowFocusListener),this._stopInputModalityDetector.next(),clearTimeout(this._windowFocusTimeoutId),clearTimeout(this._originTimeoutId))}_originChanged(e,r,s){this._setClasses(e,r),this._emitOrigin(s.subject,r),this._lastFocusOrigin=r}_getClosestElementsInfo(e){const r=[];return this._elementInfo.forEach((s,l)=>{(l===e||s.checkChildren&&l.contains(e))&&r.push([l,s])}),r}}return n.\u0275fac=function(e){return new(e||n)(L(He),L(yn),L(Xz),L(ot,8),L(nH,8))},n.\u0275prov=oe({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();const GP="cdk-high-contrast-black-on-white",KP="cdk-high-contrast-white-on-black",$T="cdk-high-contrast-active";let QP=(()=>{class n{constructor(e,r){this._platform=e,this._document=r}getHighContrastMode(){if(!this._platform.isBrowser)return 0;const e=this._document.createElement("div");e.style.backgroundColor="rgb(1,2,3)",e.style.position="absolute",this._document.body.appendChild(e);const r=this._document.defaultView||window,s=r&&r.getComputedStyle?r.getComputedStyle(e):null,l=(s&&s.backgroundColor||"").replace(/ /g,"");switch(e.remove(),l){case"rgb(0,0,0)":return 2;case"rgb(255,255,255)":return 1}return 0}_applyBodyHighContrastModeCssClasses(){if(!this._hasCheckedHighContrastMode&&this._platform.isBrowser&&this._document.body){const e=this._document.body.classList;e.remove($T),e.remove(GP),e.remove(KP),this._hasCheckedHighContrastMode=!0;const r=this.getHighContrastMode();1===r?(e.add($T),e.add(GP)):2===r&&(e.add($T),e.add(KP))}}}return n.\u0275fac=function(e){return new(e||n)(L(yn),L(ot))},n.\u0275prov=oe({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),YP=(()=>{class n{constructor(e){e._applyBodyHighContrastModeCssClasses()}}return n.\u0275fac=function(e){return new(e||n)(L(QP))},n.\u0275mod=ue({type:n}),n.\u0275inj=Se({imports:[[Sw]]}),n})();class ZP{}const Ra="*";function Oa(n,t){return{type:7,name:n,definitions:t,options:{}}}function mi(n,t=null){return{type:4,styles:t,timings:n}}function XP(n,t=null){return{type:3,steps:n,options:t}}function JP(n,t=null){return{type:2,steps:n,options:t}}function vt(n){return{type:6,styles:n,offset:null}}function So(n,t,e){return{type:0,name:n,styles:t,options:e}}function Li(n,t,e=null){return{type:1,expr:n,animation:t,options:e}}function eR(n=null){return{type:9,options:n}}function Sg(n,t,e=null){return{type:11,selector:n,animation:t,options:e}}function tR(n){Promise.resolve(null).then(n)}class Dg{constructor(t=0,e=0){this._onDoneFns=[],this._onStartFns=[],this._onDestroyFns=[],this._started=!1,this._destroyed=!1,this._finished=!1,this._position=0,this.parentPlayer=null,this.totalTime=t+e}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(t=>t()),this._onDoneFns=[])}onStart(t){this._onStartFns.push(t)}onDone(t){this._onDoneFns.push(t)}onDestroy(t){this._onDestroyFns.push(t)}hasStarted(){return this._started}init(){}play(){this.hasStarted()||(this._onStart(),this.triggerMicrotask()),this._started=!0}triggerMicrotask(){tR(()=>this._onFinish())}_onStart(){this._onStartFns.forEach(t=>t()),this._onStartFns=[]}pause(){}restart(){}finish(){this._onFinish()}destroy(){this._destroyed||(this._destroyed=!0,this.hasStarted()||this._onStart(),this.finish(),this._onDestroyFns.forEach(t=>t()),this._onDestroyFns=[])}reset(){this._started=!1}setPosition(t){this._position=this.totalTime?t*this.totalTime:1}getPosition(){return this.totalTime?this._position/this.totalTime:1}triggerCallback(t){const e="start"==t?this._onStartFns:this._onDoneFns;e.forEach(r=>r()),e.length=0}}class nR{constructor(t){this._onDoneFns=[],this._onStartFns=[],this._finished=!1,this._started=!1,this._destroyed=!1,this._onDestroyFns=[],this.parentPlayer=null,this.totalTime=0,this.players=t;let e=0,r=0,s=0;const l=this.players.length;0==l?tR(()=>this._onFinish()):this.players.forEach(u=>{u.onDone(()=>{++e==l&&this._onFinish()}),u.onDestroy(()=>{++r==l&&this._onDestroy()}),u.onStart(()=>{++s==l&&this._onStart()})}),this.totalTime=this.players.reduce((u,f)=>Math.max(u,f.totalTime),0)}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(t=>t()),this._onDoneFns=[])}init(){this.players.forEach(t=>t.init())}onStart(t){this._onStartFns.push(t)}_onStart(){this.hasStarted()||(this._started=!0,this._onStartFns.forEach(t=>t()),this._onStartFns=[])}onDone(t){this._onDoneFns.push(t)}onDestroy(t){this._onDestroyFns.push(t)}hasStarted(){return this._started}play(){this.parentPlayer||this.init(),this._onStart(),this.players.forEach(t=>t.play())}pause(){this.players.forEach(t=>t.pause())}restart(){this.players.forEach(t=>t.restart())}finish(){this._onFinish(),this.players.forEach(t=>t.finish())}destroy(){this._onDestroy()}_onDestroy(){this._destroyed||(this._destroyed=!0,this._onFinish(),this.players.forEach(t=>t.destroy()),this._onDestroyFns.forEach(t=>t()),this._onDestroyFns=[])}reset(){this.players.forEach(t=>t.reset()),this._destroyed=!1,this._finished=!1,this._started=!1}setPosition(t){const e=t*this.totalTime;this.players.forEach(r=>{const s=r.totalTime?Math.min(1,e/r.totalTime):1;r.setPosition(s)})}getPosition(){const t=this.players.reduce((e,r)=>null===e||r.totalTime>e.totalTime?r:e,null);return null!=t?t.getPosition():0}beforeDestroy(){this.players.forEach(t=>{t.beforeDestroy&&t.beforeDestroy()})}triggerCallback(t){const e="start"==t?this._onStartFns:this._onDoneFns;e.forEach(r=>r()),e.length=0}}const Rt=!1;function iR(n){return new ye(3e3,Rt)}function BH(){return"undefined"!=typeof window&&void 0!==window.document}function qT(){return"undefined"!=typeof process&&"[object process]"==={}.toString.call(process)}function Ql(n){switch(n.length){case 0:return new Dg;case 1:return n[0];default:return new nR(n)}}function rR(n,t,e,r,s={},l={}){const u=[],f=[];let m=-1,b=null;if(r.forEach(w=>{const x=w.offset,E=x==m,S=E&&b||{};Object.keys(w).forEach(I=>{let N=I,K=w[I];if("offset"!==I)switch(N=t.normalizePropertyName(N,u),K){case"!":K=s[I];break;case Ra:K=l[I];break;default:K=t.normalizeStyleValue(I,N,K,u)}S[N]=K}),E||f.push(S),b=S,m=x}),u.length)throw function SH(n){return new ye(3502,Rt)}();return f}function GT(n,t,e,r){switch(t){case"start":n.onStart(()=>r(e&&KT(e,"start",n)));break;case"done":n.onDone(()=>r(e&&KT(e,"done",n)));break;case"destroy":n.onDestroy(()=>r(e&&KT(e,"destroy",n)))}}function KT(n,t,e){const r=e.totalTime,l=QT(n.element,n.triggerName,n.fromState,n.toState,t||n.phaseName,null==r?n.totalTime:r,!!e.disabled),u=n._data;return null!=u&&(l._data=u),l}function QT(n,t,e,r,s="",l=0,u){return{element:n,triggerName:t,fromState:e,toState:r,phaseName:s,totalTime:l,disabled:!!u}}function no(n,t,e){let r;return n instanceof Map?(r=n.get(t),r||n.set(t,r=e)):(r=n[t],r||(r=n[t]=e)),r}function oR(n){const t=n.indexOf(":");return[n.substring(1,t),n.substr(t+1)]}let YT=(n,t)=>!1,sR=(n,t,e)=>[],aR=null;function ZT(n){const t=n.parentNode||n.host;return t===aR?null:t}(qT()||"undefined"!=typeof Element)&&(BH()?(aR=(()=>document.documentElement)(),YT=(n,t)=>{for(;t;){if(t===n)return!0;t=ZT(t)}return!1}):YT=(n,t)=>n.contains(t),sR=(n,t,e)=>{if(e)return Array.from(n.querySelectorAll(t));const r=n.querySelector(t);return r?[r]:[]});let Ld=null,lR=!1;function cR(n){Ld||(Ld=function jH(){return"undefined"!=typeof document?document.body:null}()||{},lR=!!Ld.style&&"WebkitAppearance"in Ld.style);let t=!0;return Ld.style&&!function VH(n){return"ebkit"==n.substring(1,6)}(n)&&(t=n in Ld.style,!t&&lR&&(t="Webkit"+n.charAt(0).toUpperCase()+n.substr(1)in Ld.style)),t}const dR=YT,uR=sR;let hR=(()=>{class n{validateStyleProperty(e){return cR(e)}matchesElement(e,r){return!1}containsElement(e,r){return dR(e,r)}getParentElement(e){return ZT(e)}query(e,r,s){return uR(e,r,s)}computeStyle(e,r,s){return s||""}animate(e,r,s,l,u,f=[],m){return new Dg(s,l)}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275prov=oe({token:n,factory:n.\u0275fac}),n})(),XT=(()=>{class n{}return n.NOOP=new hR,n})();const JT="ng-enter",Pw="ng-leave",Rw="ng-trigger",Ow=".ng-trigger",pR="ng-animating",eE=".ng-animating";function Bd(n){if("number"==typeof n)return n;const t=n.match(/^(-?[\.\d]+)(m?s)/);return!t||t.length<2?0:tE(parseFloat(t[1]),t[2])}function tE(n,t){return"s"===t?1e3*n:n}function Fw(n,t,e){return n.hasOwnProperty("duration")?n:function UH(n,t,e){let s,l=0,u="";if("string"==typeof n){const f=n.match(/^(-?[\.\d]+)(m?s)(?:\s+(-?[\.\d]+)(m?s))?(?:\s+([-a-z]+(?:\(.+?\))?))?$/i);if(null===f)return t.push(iR()),{duration:0,delay:0,easing:""};s=tE(parseFloat(f[1]),f[2]);const m=f[3];null!=m&&(l=tE(parseFloat(m),f[4]));const b=f[5];b&&(u=b)}else s=n;if(!e){let f=!1,m=t.length;s<0&&(t.push(function oH(){return new ye(3100,Rt)}()),f=!0),l<0&&(t.push(function sH(){return new ye(3101,Rt)}()),f=!0),f&&t.splice(m,0,iR())}return{duration:s,delay:l,easing:u}}(n,t,e)}function Lh(n,t={}){return Object.keys(n).forEach(e=>{t[e]=n[e]}),t}function Yl(n,t,e={}){if(t)for(let r in n)e[r]=n[r];else Lh(n,e);return e}function gR(n,t,e){return e?t+":"+e+";":""}function _R(n){let t="";for(let e=0;e<n.style.length;e++){const r=n.style.item(e);t+=gR(0,r,n.style.getPropertyValue(r))}for(const e in n.style)n.style.hasOwnProperty(e)&&!e.startsWith("_")&&(t+=gR(0,qH(e),n.style[e]));n.setAttribute("style",t)}function js(n,t,e){n.style&&(Object.keys(t).forEach(r=>{const s=iE(r);e&&!e.hasOwnProperty(r)&&(e[r]=n.style[s]),n.style[s]=t[r]}),qT()&&_R(n))}function Vd(n,t){n.style&&(Object.keys(t).forEach(e=>{const r=iE(e);n.style[r]=""}),qT()&&_R(n))}function Mg(n){return Array.isArray(n)?1==n.length?n[0]:JP(n):n}const nE=new RegExp("{{\\s*(.+?)\\s*}}","g");function bR(n){let t=[];if("string"==typeof n){let e;for(;e=nE.exec(n);)t.push(e[1]);nE.lastIndex=0}return t}function Nw(n,t,e){const r=n.toString(),s=r.replace(nE,(l,u)=>{let f=t[u];return t.hasOwnProperty(u)||(e.push(function lH(n){return new ye(3003,Rt)}()),f=""),f.toString()});return s==r?n:s}function Lw(n){const t=[];let e=n.next();for(;!e.done;)t.push(e.value),e=n.next();return t}const WH=/-+([a-z0-9])/g;function iE(n){return n.replace(WH,(...t)=>t[1].toUpperCase())}function qH(n){return n.replace(/([a-z])([A-Z])/g,"$1-$2").toLowerCase()}function io(n,t,e){switch(t.type){case 7:return n.visitTrigger(t,e);case 0:return n.visitState(t,e);case 1:return n.visitTransition(t,e);case 2:return n.visitSequence(t,e);case 3:return n.visitGroup(t,e);case 4:return n.visitAnimate(t,e);case 5:return n.visitKeyframes(t,e);case 6:return n.visitStyle(t,e);case 8:return n.visitReference(t,e);case 9:return n.visitAnimateChild(t,e);case 10:return n.visitAnimateRef(t,e);case 11:return n.visitQuery(t,e);case 12:return n.visitStagger(t,e);default:throw function cH(n){return new ye(3004,Rt)}()}}function vR(n,t){return window.getComputedStyle(n)[t]}function XH(n,t){const e=[];return"string"==typeof n?n.split(/\s*,\s*/).forEach(r=>function JH(n,t,e){if(":"==n[0]){const m=function e7(n,t){switch(n){case":enter":return"void => *";case":leave":return"* => void";case":increment":return(e,r)=>parseFloat(r)>parseFloat(e);case":decrement":return(e,r)=>parseFloat(r)<parseFloat(e);default:return t.push(function CH(n){return new ye(3016,Rt)}()),"* => *"}}(n,e);if("function"==typeof m)return void t.push(m);n=m}const r=n.match(/^(\*|[-\w]+)\s*(<?[=-]>)\s*(\*|[-\w]+)$/);if(null==r||r.length<4)return e.push(function kH(n){return new ye(3015,Rt)}()),t;const s=r[1],l=r[2],u=r[3];t.push(yR(s,u));"<"==l[0]&&!("*"==s&&"*"==u)&&t.push(yR(u,s))}(r,e,t)):e.push(n),e}const zw=new Set(["true","1"]),Hw=new Set(["false","0"]);function yR(n,t){const e=zw.has(n)||Hw.has(n),r=zw.has(t)||Hw.has(t);return(s,l)=>{let u="*"==n||n==s,f="*"==t||t==l;return!u&&e&&"boolean"==typeof s&&(u=s?zw.has(n):Hw.has(n)),!f&&r&&"boolean"==typeof l&&(f=l?zw.has(t):Hw.has(t)),u&&f}}const t7=new RegExp("s*:selfs*,?","g");function rE(n,t,e,r){return new n7(n).build(t,e,r)}class n7{constructor(t){this._driver=t}build(t,e,r){const s=new s7(e);this._resetContextStyleTimingState(s);const l=io(this,Mg(t),s);return s.unsupportedCSSPropertiesFound.size&&s.unsupportedCSSPropertiesFound.keys(),l}_resetContextStyleTimingState(t){t.currentQuerySelector="",t.collectedStyles={},t.collectedStyles[""]={},t.currentTime=0}visitTrigger(t,e){let r=e.queryCount=0,s=e.depCount=0;const l=[],u=[];return"@"==t.name.charAt(0)&&e.errors.push(function uH(){return new ye(3006,Rt)}()),t.definitions.forEach(f=>{if(this._resetContextStyleTimingState(e),0==f.type){const m=f,b=m.name;b.toString().split(/\s*,\s*/).forEach(w=>{m.name=w,l.push(this.visitState(m,e))}),m.name=b}else if(1==f.type){const m=this.visitTransition(f,e);r+=m.queryCount,s+=m.depCount,u.push(m)}else e.errors.push(function hH(){return new ye(3007,Rt)}())}),{type:7,name:t.name,states:l,transitions:u,queryCount:r,depCount:s,options:null}}visitState(t,e){const r=this.visitStyle(t.styles,e),s=t.options&&t.options.params||null;if(r.containsDynamicStyles){const l=new Set,u=s||{};r.styles.forEach(f=>{if(Uw(f)){const m=f;Object.keys(m).forEach(b=>{bR(m[b]).forEach(w=>{u.hasOwnProperty(w)||l.add(w)})})}}),l.size&&(Lw(l.values()),e.errors.push(function fH(n,t){return new ye(3008,Rt)}()))}return{type:0,name:t.name,style:r,options:s?{params:s}:null}}visitTransition(t,e){e.queryCount=0,e.depCount=0;const r=io(this,Mg(t.animation),e);return{type:1,matchers:XH(t.expr,e.errors),animation:r,queryCount:e.queryCount,depCount:e.depCount,options:jd(t.options)}}visitSequence(t,e){return{type:2,steps:t.steps.map(r=>io(this,r,e)),options:jd(t.options)}}visitGroup(t,e){const r=e.currentTime;let s=0;const l=t.steps.map(u=>{e.currentTime=r;const f=io(this,u,e);return s=Math.max(s,e.currentTime),f});return e.currentTime=s,{type:3,steps:l,options:jd(t.options)}}visitAnimate(t,e){const r=function l7(n,t){if(n.hasOwnProperty("duration"))return n;if("number"==typeof n)return oE(Fw(n,t).duration,0,"");const e=n;if(e.split(/\s+/).some(l=>"{"==l.charAt(0)&&"{"==l.charAt(1))){const l=oE(0,0,"");return l.dynamic=!0,l.strValue=e,l}const s=Fw(e,t);return oE(s.duration,s.delay,s.easing)}(t.timings,e.errors);e.currentAnimateTimings=r;let s,l=t.styles?t.styles:vt({});if(5==l.type)s=this.visitKeyframes(l,e);else{let u=t.styles,f=!1;if(!u){f=!0;const b={};r.easing&&(b.easing=r.easing),u=vt(b)}e.currentTime+=r.duration+r.delay;const m=this.visitStyle(u,e);m.isEmptyStep=f,s=m}return e.currentAnimateTimings=null,{type:4,timings:r,style:s,options:null}}visitStyle(t,e){const r=this._makeStyleAst(t,e);return this._validateStyleAst(r,e),r}_makeStyleAst(t,e){const r=[];Array.isArray(t.styles)?t.styles.forEach(u=>{"string"==typeof u?u==Ra?r.push(u):e.errors.push(function pH(n){return new ye(3002,Rt)}()):r.push(u)}):r.push(t.styles);let s=!1,l=null;return r.forEach(u=>{if(Uw(u)){const f=u,m=f.easing;if(m&&(l=m,delete f.easing),!s)for(let b in f)if(f[b].toString().indexOf("{{")>=0){s=!0;break}}}),{type:6,styles:r,easing:l,offset:t.offset,containsDynamicStyles:s,options:null}}_validateStyleAst(t,e){const r=e.currentAnimateTimings;let s=e.currentTime,l=e.currentTime;r&&l>0&&(l-=r.duration+r.delay),t.styles.forEach(u=>{"string"!=typeof u&&Object.keys(u).forEach(f=>{if(!this._driver.validateStyleProperty(f))return delete u[f],void e.unsupportedCSSPropertiesFound.add(f);const m=e.collectedStyles[e.currentQuerySelector],b=m[f];let w=!0;b&&(l!=s&&l>=b.startTime&&s<=b.endTime&&(e.errors.push(function mH(n,t,e,r,s){return new ye(3010,Rt)}()),w=!1),l=b.startTime),w&&(m[f]={startTime:l,endTime:s}),e.options&&function $H(n,t,e){const r=t.params||{},s=bR(n);s.length&&s.forEach(l=>{r.hasOwnProperty(l)||e.push(function aH(n){return new ye(3001,Rt)}())})}(u[f],e.options,e.errors)})})}visitKeyframes(t,e){const r={type:5,styles:[],options:null};if(!e.currentAnimateTimings)return e.errors.push(function gH(){return new ye(3011,Rt)}()),r;let l=0;const u=[];let f=!1,m=!1,b=0;const w=t.steps.map(G=>{const H=this._makeStyleAst(G,e);let fe=null!=H.offset?H.offset:function a7(n){if("string"==typeof n)return null;let t=null;if(Array.isArray(n))n.forEach(e=>{if(Uw(e)&&e.hasOwnProperty("offset")){const r=e;t=parseFloat(r.offset),delete r.offset}});else if(Uw(n)&&n.hasOwnProperty("offset")){const e=n;t=parseFloat(e.offset),delete e.offset}return t}(H.styles),ve=0;return null!=fe&&(l++,ve=H.offset=fe),m=m||ve<0||ve>1,f=f||ve<b,b=ve,u.push(ve),H});m&&e.errors.push(function _H(){return new ye(3012,Rt)}()),f&&e.errors.push(function bH(){return new ye(3200,Rt)}());const x=t.steps.length;let E=0;l>0&&l<x?e.errors.push(function vH(){return new ye(3202,Rt)}()):0==l&&(E=1/(x-1));const S=x-1,I=e.currentTime,N=e.currentAnimateTimings,K=N.duration;return w.forEach((G,H)=>{const fe=E>0?H==S?1:E*H:u[H],ve=fe*K;e.currentTime=I+N.delay+ve,N.duration=ve,this._validateStyleAst(G,e),G.offset=fe,r.styles.push(G)}),r}visitReference(t,e){return{type:8,animation:io(this,Mg(t.animation),e),options:jd(t.options)}}visitAnimateChild(t,e){return e.depCount++,{type:9,options:jd(t.options)}}visitAnimateRef(t,e){return{type:10,animation:this.visitReference(t.animation,e),options:jd(t.options)}}visitQuery(t,e){const r=e.currentQuerySelector,s=t.options||{};e.queryCount++,e.currentQuery=t;const[l,u]=function r7(n){const t=!!n.split(/\s*,\s*/).find(e=>":self"==e);return t&&(n=n.replace(t7,"")),n=n.replace(/@\*/g,Ow).replace(/@\w+/g,e=>Ow+"-"+e.substr(1)).replace(/:animating/g,eE),[n,t]}(t.selector);e.currentQuerySelector=r.length?r+" "+l:l,no(e.collectedStyles,e.currentQuerySelector,{});const f=io(this,Mg(t.animation),e);return e.currentQuery=null,e.currentQuerySelector=r,{type:11,selector:l,limit:s.limit||0,optional:!!s.optional,includeSelf:u,animation:f,originalSelector:t.selector,options:jd(t.options)}}visitStagger(t,e){e.currentQuery||e.errors.push(function yH(){return new ye(3013,Rt)}());const r="full"===t.timings?{duration:0,delay:0,easing:"full"}:Fw(t.timings,e.errors,!0);return{type:12,animation:io(this,Mg(t.animation),e),timings:r,options:null}}}class s7{constructor(t){this.errors=t,this.queryCount=0,this.depCount=0,this.currentTransition=null,this.currentQuery=null,this.currentQuerySelector=null,this.currentAnimateTimings=null,this.currentTime=0,this.collectedStyles={},this.options=null,this.unsupportedCSSPropertiesFound=new Set}}function Uw(n){return!Array.isArray(n)&&"object"==typeof n}function jd(n){return n?(n=Lh(n)).params&&(n.params=function o7(n){return n?Lh(n):null}(n.params)):n={},n}function oE(n,t,e){return{duration:n,delay:t,easing:e}}function sE(n,t,e,r,s,l,u=null,f=!1){return{type:1,element:n,keyframes:t,preStyleProps:e,postStyleProps:r,duration:s,delay:l,totalTime:s+l,easing:u,subTimeline:f}}class $w{constructor(){this._map=new Map}get(t){return this._map.get(t)||[]}append(t,e){let r=this._map.get(t);r||this._map.set(t,r=[]),r.push(...e)}has(t){return this._map.has(t)}clear(){this._map.clear()}}const u7=new RegExp(":enter","g"),f7=new RegExp(":leave","g");function aE(n,t,e,r,s,l={},u={},f,m,b=[]){return(new p7).buildKeyframes(n,t,e,r,s,l,u,f,m,b)}class p7{buildKeyframes(t,e,r,s,l,u,f,m,b,w=[]){b=b||new $w;const x=new lE(t,e,b,s,l,w,[]);x.options=m,x.currentTimeline.setStyles([u],null,x.errors,m),io(this,r,x);const E=x.timelines.filter(S=>S.containsAnimation());if(Object.keys(f).length){let S;for(let I=E.length-1;I>=0;I--){const N=E[I];if(N.element===e){S=N;break}}S&&!S.allowOnlyTimelineStyles()&&S.setStyles([f],null,x.errors,m)}return E.length?E.map(S=>S.buildKeyframes()):[sE(e,[],[],[],0,0,"",!1)]}visitTrigger(t,e){}visitState(t,e){}visitTransition(t,e){}visitAnimateChild(t,e){const r=e.subInstructions.get(e.element);if(r){const s=e.createSubContext(t.options),l=e.currentTimeline.currentTime,u=this._visitSubInstructions(r,s,s.options);l!=u&&e.transformIntoNewTimeline(u)}e.previousNode=t}visitAnimateRef(t,e){const r=e.createSubContext(t.options);r.transformIntoNewTimeline(),this.visitReference(t.animation,r),e.transformIntoNewTimeline(r.currentTimeline.currentTime),e.previousNode=t}_visitSubInstructions(t,e,r){let l=e.currentTimeline.currentTime;const u=null!=r.duration?Bd(r.duration):null,f=null!=r.delay?Bd(r.delay):null;return 0!==u&&t.forEach(m=>{const b=e.appendInstructionToTimeline(m,u,f);l=Math.max(l,b.duration+b.delay)}),l}visitReference(t,e){e.updateOptions(t.options,!0),io(this,t.animation,e),e.previousNode=t}visitSequence(t,e){const r=e.subContextCount;let s=e;const l=t.options;if(l&&(l.params||l.delay)&&(s=e.createSubContext(l),s.transformIntoNewTimeline(),null!=l.delay)){6==s.previousNode.type&&(s.currentTimeline.snapshotCurrentStyles(),s.previousNode=Ww);const u=Bd(l.delay);s.delayNextStep(u)}t.steps.length&&(t.steps.forEach(u=>io(this,u,s)),s.currentTimeline.applyStylesToKeyframe(),s.subContextCount>r&&s.transformIntoNewTimeline()),e.previousNode=t}visitGroup(t,e){const r=[];let s=e.currentTimeline.currentTime;const l=t.options&&t.options.delay?Bd(t.options.delay):0;t.steps.forEach(u=>{const f=e.createSubContext(t.options);l&&f.delayNextStep(l),io(this,u,f),s=Math.max(s,f.currentTimeline.currentTime),r.push(f.currentTimeline)}),r.forEach(u=>e.currentTimeline.mergeTimelineCollectedStyles(u)),e.transformIntoNewTimeline(s),e.previousNode=t}_visitTiming(t,e){if(t.dynamic){const r=t.strValue;return Fw(e.params?Nw(r,e.params,e.errors):r,e.errors)}return{duration:t.duration,delay:t.delay,easing:t.easing}}visitAnimate(t,e){const r=e.currentAnimateTimings=this._visitTiming(t.timings,e),s=e.currentTimeline;r.delay&&(e.incrementTime(r.delay),s.snapshotCurrentStyles());const l=t.style;5==l.type?this.visitKeyframes(l,e):(e.incrementTime(r.duration),this.visitStyle(l,e),s.applyStylesToKeyframe()),e.currentAnimateTimings=null,e.previousNode=t}visitStyle(t,e){const r=e.currentTimeline,s=e.currentAnimateTimings;!s&&r.getCurrentStyleProperties().length&&r.forwardFrame();const l=s&&s.easing||t.easing;t.isEmptyStep?r.applyEmptyStep(l):r.setStyles(t.styles,l,e.errors,e.options),e.previousNode=t}visitKeyframes(t,e){const r=e.currentAnimateTimings,s=e.currentTimeline.duration,l=r.duration,f=e.createSubContext().currentTimeline;f.easing=r.easing,t.styles.forEach(m=>{f.forwardTime((m.offset||0)*l),f.setStyles(m.styles,m.easing,e.errors,e.options),f.applyStylesToKeyframe()}),e.currentTimeline.mergeTimelineCollectedStyles(f),e.transformIntoNewTimeline(s+l),e.previousNode=t}visitQuery(t,e){const r=e.currentTimeline.currentTime,s=t.options||{},l=s.delay?Bd(s.delay):0;l&&(6===e.previousNode.type||0==r&&e.currentTimeline.getCurrentStyleProperties().length)&&(e.currentTimeline.snapshotCurrentStyles(),e.previousNode=Ww);let u=r;const f=e.invokeQuery(t.selector,t.originalSelector,t.limit,t.includeSelf,!!s.optional,e.errors);e.currentQueryTotal=f.length;let m=null;f.forEach((b,w)=>{e.currentQueryIndex=w;const x=e.createSubContext(t.options,b);l&&x.delayNextStep(l),b===e.element&&(m=x.currentTimeline),io(this,t.animation,x),x.currentTimeline.applyStylesToKeyframe(),u=Math.max(u,x.currentTimeline.currentTime)}),e.currentQueryIndex=0,e.currentQueryTotal=0,e.transformIntoNewTimeline(u),m&&(e.currentTimeline.mergeTimelineCollectedStyles(m),e.currentTimeline.snapshotCurrentStyles()),e.previousNode=t}visitStagger(t,e){const r=e.parentContext,s=e.currentTimeline,l=t.timings,u=Math.abs(l.duration),f=u*(e.currentQueryTotal-1);let m=u*e.currentQueryIndex;switch(l.duration<0?"reverse":l.easing){case"reverse":m=f-m;break;case"full":m=r.currentStaggerTime}const w=e.currentTimeline;m&&w.delayNextStep(m);const x=w.currentTime;io(this,t.animation,e),e.previousNode=t,r.currentStaggerTime=s.currentTime-x+(s.startTime-r.currentTimeline.startTime)}}const Ww={};class lE{constructor(t,e,r,s,l,u,f,m){this._driver=t,this.element=e,this.subInstructions=r,this._enterClassName=s,this._leaveClassName=l,this.errors=u,this.timelines=f,this.parentContext=null,this.currentAnimateTimings=null,this.previousNode=Ww,this.subContextCount=0,this.options={},this.currentQueryIndex=0,this.currentQueryTotal=0,this.currentStaggerTime=0,this.currentTimeline=m||new qw(this._driver,e,0),f.push(this.currentTimeline)}get params(){return this.options.params}updateOptions(t,e){if(!t)return;const r=t;let s=this.options;null!=r.duration&&(s.duration=Bd(r.duration)),null!=r.delay&&(s.delay=Bd(r.delay));const l=r.params;if(l){let u=s.params;u||(u=this.options.params={}),Object.keys(l).forEach(f=>{(!e||!u.hasOwnProperty(f))&&(u[f]=Nw(l[f],u,this.errors))})}}_copyOptions(){const t={};if(this.options){const e=this.options.params;if(e){const r=t.params={};Object.keys(e).forEach(s=>{r[s]=e[s]})}}return t}createSubContext(t=null,e,r){const s=e||this.element,l=new lE(this._driver,s,this.subInstructions,this._enterClassName,this._leaveClassName,this.errors,this.timelines,this.currentTimeline.fork(s,r||0));return l.previousNode=this.previousNode,l.currentAnimateTimings=this.currentAnimateTimings,l.options=this._copyOptions(),l.updateOptions(t),l.currentQueryIndex=this.currentQueryIndex,l.currentQueryTotal=this.currentQueryTotal,l.parentContext=this,this.subContextCount++,l}transformIntoNewTimeline(t){return this.previousNode=Ww,this.currentTimeline=this.currentTimeline.fork(this.element,t),this.timelines.push(this.currentTimeline),this.currentTimeline}appendInstructionToTimeline(t,e,r){const s={duration:null!=e?e:t.duration,delay:this.currentTimeline.currentTime+(null!=r?r:0)+t.delay,easing:""},l=new m7(this._driver,t.element,t.keyframes,t.preStyleProps,t.postStyleProps,s,t.stretchStartingKeyframe);return this.timelines.push(l),s}incrementTime(t){this.currentTimeline.forwardTime(this.currentTimeline.duration+t)}delayNextStep(t){t>0&&this.currentTimeline.delayNextStep(t)}invokeQuery(t,e,r,s,l,u){let f=[];if(s&&f.push(this.element),t.length>0){t=(t=t.replace(u7,"."+this._enterClassName)).replace(f7,"."+this._leaveClassName);let b=this._driver.query(this.element,t,1!=r);0!==r&&(b=r<0?b.slice(b.length+r,b.length):b.slice(0,r)),f.push(...b)}return!l&&0==f.length&&u.push(function wH(n){return new ye(3014,Rt)}()),f}}class qw{constructor(t,e,r,s){this._driver=t,this.element=e,this.startTime=r,this._elementTimelineStylesLookup=s,this.duration=0,this._previousKeyframe={},this._currentKeyframe={},this._keyframes=new Map,this._styleSummary={},this._pendingStyles={},this._backFill={},this._currentEmptyStepKeyframe=null,this._elementTimelineStylesLookup||(this._elementTimelineStylesLookup=new Map),this._localTimelineStyles=Object.create(this._backFill,{}),this._globalTimelineStyles=this._elementTimelineStylesLookup.get(e),this._globalTimelineStyles||(this._globalTimelineStyles=this._localTimelineStyles,this._elementTimelineStylesLookup.set(e,this._localTimelineStyles)),this._loadKeyframe()}containsAnimation(){switch(this._keyframes.size){case 0:return!1;case 1:return this.getCurrentStyleProperties().length>0;default:return!0}}getCurrentStyleProperties(){return Object.keys(this._currentKeyframe)}get currentTime(){return this.startTime+this.duration}delayNextStep(t){const e=1==this._keyframes.size&&Object.keys(this._pendingStyles).length;this.duration||e?(this.forwardTime(this.currentTime+t),e&&this.snapshotCurrentStyles()):this.startTime+=t}fork(t,e){return this.applyStylesToKeyframe(),new qw(this._driver,t,e||this.currentTime,this._elementTimelineStylesLookup)}_loadKeyframe(){this._currentKeyframe&&(this._previousKeyframe=this._currentKeyframe),this._currentKeyframe=this._keyframes.get(this.duration),this._currentKeyframe||(this._currentKeyframe=Object.create(this._backFill,{}),this._keyframes.set(this.duration,this._currentKeyframe))}forwardFrame(){this.duration+=1,this._loadKeyframe()}forwardTime(t){this.applyStylesToKeyframe(),this.duration=t,this._loadKeyframe()}_updateStyle(t,e){this._localTimelineStyles[t]=e,this._globalTimelineStyles[t]=e,this._styleSummary[t]={time:this.currentTime,value:e}}allowOnlyTimelineStyles(){return this._currentEmptyStepKeyframe!==this._currentKeyframe}applyEmptyStep(t){t&&(this._previousKeyframe.easing=t),Object.keys(this._globalTimelineStyles).forEach(e=>{this._backFill[e]=this._globalTimelineStyles[e]||Ra,this._currentKeyframe[e]=Ra}),this._currentEmptyStepKeyframe=this._currentKeyframe}setStyles(t,e,r,s){e&&(this._previousKeyframe.easing=e);const l=s&&s.params||{},u=function g7(n,t){const e={};let r;return n.forEach(s=>{"*"===s?(r=r||Object.keys(t),r.forEach(l=>{e[l]=Ra})):Yl(s,!1,e)}),e}(t,this._globalTimelineStyles);Object.keys(u).forEach(f=>{const m=Nw(u[f],l,r);this._pendingStyles[f]=m,this._localTimelineStyles.hasOwnProperty(f)||(this._backFill[f]=this._globalTimelineStyles.hasOwnProperty(f)?this._globalTimelineStyles[f]:Ra),this._updateStyle(f,m)})}applyStylesToKeyframe(){const t=this._pendingStyles,e=Object.keys(t);0!=e.length&&(this._pendingStyles={},e.forEach(r=>{this._currentKeyframe[r]=t[r]}),Object.keys(this._localTimelineStyles).forEach(r=>{this._currentKeyframe.hasOwnProperty(r)||(this._currentKeyframe[r]=this._localTimelineStyles[r])}))}snapshotCurrentStyles(){Object.keys(this._localTimelineStyles).forEach(t=>{const e=this._localTimelineStyles[t];this._pendingStyles[t]=e,this._updateStyle(t,e)})}getFinalKeyframe(){return this._keyframes.get(this.duration)}get properties(){const t=[];for(let e in this._currentKeyframe)t.push(e);return t}mergeTimelineCollectedStyles(t){Object.keys(t._styleSummary).forEach(e=>{const r=this._styleSummary[e],s=t._styleSummary[e];(!r||s.time>r.time)&&this._updateStyle(e,s.value)})}buildKeyframes(){this.applyStylesToKeyframe();const t=new Set,e=new Set,r=1===this._keyframes.size&&0===this.duration;let s=[];this._keyframes.forEach((f,m)=>{const b=Yl(f,!0);Object.keys(b).forEach(w=>{const x=b[w];"!"==x?t.add(w):x==Ra&&e.add(w)}),r||(b.offset=m/this.duration),s.push(b)});const l=t.size?Lw(t.values()):[],u=e.size?Lw(e.values()):[];if(r){const f=s[0],m=Lh(f);f.offset=0,m.offset=1,s=[f,m]}return sE(this.element,s,l,u,this.duration,this.startTime,this.easing,!1)}}class m7 extends qw{constructor(t,e,r,s,l,u,f=!1){super(t,e,u.delay),this.keyframes=r,this.preStyleProps=s,this.postStyleProps=l,this._stretchStartingKeyframe=f,this.timings={duration:u.duration,delay:u.delay,easing:u.easing}}containsAnimation(){return this.keyframes.length>1}buildKeyframes(){let t=this.keyframes,{delay:e,duration:r,easing:s}=this.timings;if(this._stretchStartingKeyframe&&e){const l=[],u=r+e,f=e/u,m=Yl(t[0],!1);m.offset=0,l.push(m);const b=Yl(t[0],!1);b.offset=CR(f),l.push(b);const w=t.length-1;for(let x=1;x<=w;x++){let E=Yl(t[x],!1);E.offset=CR((e+E.offset*r)/u),l.push(E)}r=u,e=0,s="",t=l}return sE(this.element,t,this.preStyleProps,this.postStyleProps,r,e,s,!0)}}function CR(n,t=3){const e=Math.pow(10,t-1);return Math.round(n*e)/e}class cE{}class _7 extends cE{normalizePropertyName(t,e){return iE(t)}normalizeStyleValue(t,e,r,s){let l="";const u=r.toString().trim();if(b7[e]&&0!==r&&"0"!==r)if("number"==typeof r)l="px";else{const f=r.match(/^[+-]?[\d\.]+([a-z]*)$/);f&&0==f[1].length&&s.push(function dH(n,t){return new ye(3005,Rt)}())}return u+l}}const b7=(()=>function v7(n){const t={};return n.forEach(e=>t[e]=!0),t}("width,height,minWidth,minHeight,maxWidth,maxHeight,left,top,bottom,right,fontSize,outlineWidth,outlineOffset,paddingTop,paddingLeft,paddingBottom,paddingRight,marginTop,marginLeft,marginBottom,marginRight,borderRadius,borderWidth,borderTopWidth,borderLeftWidth,borderRightWidth,borderBottomWidth,textIndent,perspective".split(",")))();function xR(n,t,e,r,s,l,u,f,m,b,w,x,E){return{type:0,element:n,triggerName:t,isRemovalTransition:s,fromState:e,fromStyles:l,toState:r,toStyles:u,timelines:f,queriedElements:m,preStyleProps:b,postStyleProps:w,totalTime:x,errors:E}}const dE={};class TR{constructor(t,e,r){this._triggerName=t,this.ast=e,this._stateStyles=r}match(t,e,r,s){return function y7(n,t,e,r,s){return n.some(l=>l(t,e,r,s))}(this.ast.matchers,t,e,r,s)}buildStyles(t,e,r){const s=this._stateStyles["*"],l=this._stateStyles[t],u=s?s.buildStyles(e,r):{};return l?l.buildStyles(e,r):u}build(t,e,r,s,l,u,f,m,b,w){const x=[],E=this.ast.options&&this.ast.options.params||dE,I=this.buildStyles(r,f&&f.params||dE,x),N=m&&m.params||dE,K=this.buildStyles(s,N,x),G=new Set,H=new Map,fe=new Map,ve="void"===s,We={params:Object.assign(Object.assign({},E),N)},qe=w?[]:aE(t,e,this.ast.animation,l,u,I,K,We,b,x);let Tt=0;if(qe.forEach(Ei=>{Tt=Math.max(Ei.duration+Ei.delay,Tt)}),x.length)return xR(e,this._triggerName,r,s,ve,I,K,[],[],H,fe,Tt,x);qe.forEach(Ei=>{const oo=Ei.element,tf=no(H,oo,{});Ei.preStyleProps.forEach(es=>tf[es]=!0);const Ka=no(fe,oo,{});Ei.postStyleProps.forEach(es=>Ka[es]=!0),oo!==e&&G.add(oo)});const kn=Lw(G.values());return xR(e,this._triggerName,r,s,ve,I,K,qe,kn,H,fe,Tt)}}class w7{constructor(t,e,r){this.styles=t,this.defaultParams=e,this.normalizer=r}buildStyles(t,e){const r={},s=Lh(this.defaultParams);return Object.keys(t).forEach(l=>{const u=t[l];null!=u&&(s[l]=u)}),this.styles.styles.forEach(l=>{if("string"!=typeof l){const u=l;Object.keys(u).forEach(f=>{let m=u[f];m.length>1&&(m=Nw(m,s,e));const b=this.normalizer.normalizePropertyName(f,e);m=this.normalizer.normalizeStyleValue(f,b,m,e),r[b]=m})}}),r}}class C7{constructor(t,e,r){this.name=t,this.ast=e,this._normalizer=r,this.transitionFactories=[],this.states={},e.states.forEach(s=>{this.states[s.name]=new w7(s.style,s.options&&s.options.params||{},r)}),ER(this.states,"true","1"),ER(this.states,"false","0"),e.transitions.forEach(s=>{this.transitionFactories.push(new TR(t,s,this.states))}),this.fallbackTransition=function x7(n,t,e){return new TR(n,{type:1,animation:{type:2,steps:[],options:null},matchers:[(u,f)=>!0],options:null,queryCount:0,depCount:0},t)}(t,this.states)}get containsQueries(){return this.ast.queryCount>0}matchTransition(t,e,r,s){return this.transitionFactories.find(u=>u.match(t,e,r,s))||null}matchStyles(t,e,r){return this.fallbackTransition.buildStyles(t,e,r)}}function ER(n,t,e){n.hasOwnProperty(t)?n.hasOwnProperty(e)||(n[e]=n[t]):n.hasOwnProperty(e)&&(n[t]=n[e])}const T7=new $w;class E7{constructor(t,e,r){this.bodyNode=t,this._driver=e,this._normalizer=r,this._animations={},this._playersById={},this.players=[]}register(t,e){const r=[],l=rE(this._driver,e,r,[]);if(r.length)throw function DH(n){return new ye(3503,Rt)}();this._animations[t]=l}_buildPlayer(t,e,r){const s=t.element,l=rR(0,this._normalizer,0,t.keyframes,e,r);return this._driver.animate(s,l,t.duration,t.delay,t.easing,[],!0)}create(t,e,r={}){const s=[],l=this._animations[t];let u;const f=new Map;if(l?(u=aE(this._driver,e,l,JT,Pw,{},{},r,T7,s),u.forEach(w=>{const x=no(f,w.element,{});w.postStyleProps.forEach(E=>x[E]=null)})):(s.push(function MH(){return new ye(3300,Rt)}()),u=[]),s.length)throw function AH(n){return new ye(3504,Rt)}();f.forEach((w,x)=>{Object.keys(w).forEach(E=>{w[E]=this._driver.computeStyle(x,E,Ra)})});const b=Ql(u.map(w=>{const x=f.get(w.element);return this._buildPlayer(w,{},x)}));return this._playersById[t]=b,b.onDestroy(()=>this.destroy(t)),this.players.push(b),b}destroy(t){const e=this._getPlayer(t);e.destroy(),delete this._playersById[t];const r=this.players.indexOf(e);r>=0&&this.players.splice(r,1)}_getPlayer(t){const e=this._playersById[t];if(!e)throw function IH(n){return new ye(3301,Rt)}();return e}listen(t,e,r,s){const l=QT(e,"","","");return GT(this._getPlayer(t),r,l,s),()=>{}}command(t,e,r,s){if("register"==r)return void this.register(t,s[0]);if("create"==r)return void this.create(t,e,s[0]||{});const l=this._getPlayer(t);switch(r){case"play":l.play();break;case"pause":l.pause();break;case"reset":l.reset();break;case"restart":l.restart();break;case"finish":l.finish();break;case"init":l.init();break;case"setPosition":l.setPosition(parseFloat(s[0]));break;case"destroy":this.destroy(t)}}}const SR="ng-animate-queued",uE="ng-animate-disabled",I7=[],DR={namespaceId:"",setForRemoval:!1,setForMove:!1,hasAnimation:!1,removedBeforeQueried:!1},P7={namespaceId:"",setForMove:!1,setForRemoval:!1,hasAnimation:!1,removedBeforeQueried:!0},Do="__ng_removed";class hE{constructor(t,e=""){this.namespaceId=e;const r=t&&t.hasOwnProperty("value");if(this.value=function N7(n){return null!=n?n:null}(r?t.value:t),r){const l=Lh(t);delete l.value,this.options=l}else this.options={};this.options.params||(this.options.params={})}get params(){return this.options.params}absorbOptions(t){const e=t.params;if(e){const r=this.options.params;Object.keys(e).forEach(s=>{null==r[s]&&(r[s]=e[s])})}}}const Ag="void",fE=new hE(Ag);class R7{constructor(t,e,r){this.id=t,this.hostElement=e,this._engine=r,this.players=[],this._triggers={},this._queue=[],this._elementListeners=new Map,this._hostClassName="ng-tns-"+t,Mo(e,this._hostClassName)}listen(t,e,r,s){if(!this._triggers.hasOwnProperty(e))throw function PH(n,t){return new ye(3302,Rt)}();if(null==r||0==r.length)throw function RH(n){return new ye(3303,Rt)}();if(!function L7(n){return"start"==n||"done"==n}(r))throw function OH(n,t){return new ye(3400,Rt)}();const l=no(this._elementListeners,t,[]),u={name:e,phase:r,callback:s};l.push(u);const f=no(this._engine.statesByElement,t,{});return f.hasOwnProperty(e)||(Mo(t,Rw),Mo(t,Rw+"-"+e),f[e]=fE),()=>{this._engine.afterFlush(()=>{const m=l.indexOf(u);m>=0&&l.splice(m,1),this._triggers[e]||delete f[e]})}}register(t,e){return!this._triggers[t]&&(this._triggers[t]=e,!0)}_getTrigger(t){const e=this._triggers[t];if(!e)throw function FH(n){return new ye(3401,Rt)}();return e}trigger(t,e,r,s=!0){const l=this._getTrigger(e),u=new pE(this.id,e,t);let f=this._engine.statesByElement.get(t);f||(Mo(t,Rw),Mo(t,Rw+"-"+e),this._engine.statesByElement.set(t,f={}));let m=f[e];const b=new hE(r,this.id);if(!(r&&r.hasOwnProperty("value"))&&m&&b.absorbOptions(m.options),f[e]=b,m||(m=fE),b.value!==Ag&&m.value===b.value){if(!function j7(n,t){const e=Object.keys(n),r=Object.keys(t);if(e.length!=r.length)return!1;for(let s=0;s<e.length;s++){const l=e[s];if(!t.hasOwnProperty(l)||n[l]!==t[l])return!1}return!0}(m.params,b.params)){const N=[],K=l.matchStyles(m.value,m.params,N),G=l.matchStyles(b.value,b.params,N);N.length?this._engine.reportError(N):this._engine.afterFlush(()=>{Vd(t,K),js(t,G)})}return}const E=no(this._engine.playersByElement,t,[]);E.forEach(N=>{N.namespaceId==this.id&&N.triggerName==e&&N.queued&&N.destroy()});let S=l.matchTransition(m.value,b.value,t,b.params),I=!1;if(!S){if(!s)return;S=l.fallbackTransition,I=!0}return this._engine.totalQueuedPlayers++,this._queue.push({element:t,triggerName:e,transition:S,fromState:m,toState:b,player:u,isFallbackTransition:I}),I||(Mo(t,SR),u.onStart(()=>{Bh(t,SR)})),u.onDone(()=>{let N=this.players.indexOf(u);N>=0&&this.players.splice(N,1);const K=this._engine.playersByElement.get(t);if(K){let G=K.indexOf(u);G>=0&&K.splice(G,1)}}),this.players.push(u),E.push(u),u}deregister(t){delete this._triggers[t],this._engine.statesByElement.forEach((e,r)=>{delete e[t]}),this._elementListeners.forEach((e,r)=>{this._elementListeners.set(r,e.filter(s=>s.name!=t))})}clearElementCache(t){this._engine.statesByElement.delete(t),this._elementListeners.delete(t);const e=this._engine.playersByElement.get(t);e&&(e.forEach(r=>r.destroy()),this._engine.playersByElement.delete(t))}_signalRemovalForInnerTriggers(t,e){const r=this._engine.driver.query(t,Ow,!0);r.forEach(s=>{if(s[Do])return;const l=this._engine.fetchNamespacesByElement(s);l.size?l.forEach(u=>u.triggerLeaveAnimation(s,e,!1,!0)):this.clearElementCache(s)}),this._engine.afterFlushAnimationsDone(()=>r.forEach(s=>this.clearElementCache(s)))}triggerLeaveAnimation(t,e,r,s){const l=this._engine.statesByElement.get(t),u=new Map;if(l){const f=[];if(Object.keys(l).forEach(m=>{if(u.set(m,l[m].value),this._triggers[m]){const b=this.trigger(t,m,Ag,s);b&&f.push(b)}}),f.length)return this._engine.markElementAsRemoved(this.id,t,!0,e,u),r&&Ql(f).onDone(()=>this._engine.processLeaveNode(t)),!0}return!1}prepareLeaveAnimationListeners(t){const e=this._elementListeners.get(t),r=this._engine.statesByElement.get(t);if(e&&r){const s=new Set;e.forEach(l=>{const u=l.name;if(s.has(u))return;s.add(u);const m=this._triggers[u].fallbackTransition,b=r[u]||fE,w=new hE(Ag),x=new pE(this.id,u,t);this._engine.totalQueuedPlayers++,this._queue.push({element:t,triggerName:u,transition:m,fromState:b,toState:w,player:x,isFallbackTransition:!0})})}}removeNode(t,e){const r=this._engine;if(t.childElementCount&&this._signalRemovalForInnerTriggers(t,e),this.triggerLeaveAnimation(t,e,!0))return;let s=!1;if(r.totalAnimations){const l=r.players.length?r.playersByQueriedElement.get(t):[];if(l&&l.length)s=!0;else{let u=t;for(;u=u.parentNode;)if(r.statesByElement.get(u)){s=!0;break}}}if(this.prepareLeaveAnimationListeners(t),s)r.markElementAsRemoved(this.id,t,!1,e);else{const l=t[Do];(!l||l===DR)&&(r.afterFlush(()=>this.clearElementCache(t)),r.destroyInnerAnimations(t),r._onRemovalComplete(t,e))}}insertNode(t,e){Mo(t,this._hostClassName)}drainQueuedTransitions(t){const e=[];return this._queue.forEach(r=>{const s=r.player;if(s.destroyed)return;const l=r.element,u=this._elementListeners.get(l);u&&u.forEach(f=>{if(f.name==r.triggerName){const m=QT(l,r.triggerName,r.fromState.value,r.toState.value);m._data=t,GT(r.player,f.phase,m,f.callback)}}),s.markedForDestroy?this._engine.afterFlush(()=>{s.destroy()}):e.push(r)}),this._queue=[],e.sort((r,s)=>{const l=r.transition.ast.depCount,u=s.transition.ast.depCount;return 0==l||0==u?l-u:this._engine.driver.containsElement(r.element,s.element)?1:-1})}destroy(t){this.players.forEach(e=>e.destroy()),this._signalRemovalForInnerTriggers(this.hostElement,t)}elementContainsData(t){let e=!1;return this._elementListeners.has(t)&&(e=!0),e=!!this._queue.find(r=>r.element===t)||e,e}}class O7{constructor(t,e,r){this.bodyNode=t,this.driver=e,this._normalizer=r,this.players=[],this.newHostElements=new Map,this.playersByElement=new Map,this.playersByQueriedElement=new Map,this.statesByElement=new Map,this.disabledNodes=new Set,this.totalAnimations=0,this.totalQueuedPlayers=0,this._namespaceLookup={},this._namespaceList=[],this._flushFns=[],this._whenQuietFns=[],this.namespacesByHostElement=new Map,this.collectedEnterElements=[],this.collectedLeaveElements=[],this.onRemovalComplete=(s,l)=>{}}_onRemovalComplete(t,e){this.onRemovalComplete(t,e)}get queuedPlayers(){const t=[];return this._namespaceList.forEach(e=>{e.players.forEach(r=>{r.queued&&t.push(r)})}),t}createNamespace(t,e){const r=new R7(t,e,this);return this.bodyNode&&this.driver.containsElement(this.bodyNode,e)?this._balanceNamespaceList(r,e):(this.newHostElements.set(e,r),this.collectEnterElement(e)),this._namespaceLookup[t]=r}_balanceNamespaceList(t,e){const r=this._namespaceList,s=this.namespacesByHostElement,l=r.length-1;if(l>=0){let u=!1;if(void 0!==this.driver.getParentElement){let f=this.driver.getParentElement(e);for(;f;){const m=s.get(f);if(m){const b=r.indexOf(m);r.splice(b+1,0,t),u=!0;break}f=this.driver.getParentElement(f)}}else for(let f=l;f>=0;f--)if(this.driver.containsElement(r[f].hostElement,e)){r.splice(f+1,0,t),u=!0;break}u||r.unshift(t)}else r.push(t);return s.set(e,t),t}register(t,e){let r=this._namespaceLookup[t];return r||(r=this.createNamespace(t,e)),r}registerTrigger(t,e,r){let s=this._namespaceLookup[t];s&&s.register(e,r)&&this.totalAnimations++}destroy(t,e){if(!t)return;const r=this._fetchNamespace(t);this.afterFlush(()=>{this.namespacesByHostElement.delete(r.hostElement),delete this._namespaceLookup[t];const s=this._namespaceList.indexOf(r);s>=0&&this._namespaceList.splice(s,1)}),this.afterFlushAnimationsDone(()=>r.destroy(e))}_fetchNamespace(t){return this._namespaceLookup[t]}fetchNamespacesByElement(t){const e=new Set,r=this.statesByElement.get(t);if(r){const s=Object.keys(r);for(let l=0;l<s.length;l++){const u=r[s[l]].namespaceId;if(u){const f=this._fetchNamespace(u);f&&e.add(f)}}}return e}trigger(t,e,r,s){if(Gw(e)){const l=this._fetchNamespace(t);if(l)return l.trigger(e,r,s),!0}return!1}insertNode(t,e,r,s){if(!Gw(e))return;const l=e[Do];if(l&&l.setForRemoval){l.setForRemoval=!1,l.setForMove=!0;const u=this.collectedLeaveElements.indexOf(e);u>=0&&this.collectedLeaveElements.splice(u,1)}if(t){const u=this._fetchNamespace(t);u&&u.insertNode(e,r)}s&&this.collectEnterElement(e)}collectEnterElement(t){this.collectedEnterElements.push(t)}markElementAsDisabled(t,e){e?this.disabledNodes.has(t)||(this.disabledNodes.add(t),Mo(t,uE)):this.disabledNodes.has(t)&&(this.disabledNodes.delete(t),Bh(t,uE))}removeNode(t,e,r,s){if(Gw(e)){const l=t?this._fetchNamespace(t):null;if(l?l.removeNode(e,s):this.markElementAsRemoved(t,e,!1,s),r){const u=this.namespacesByHostElement.get(e);u&&u.id!==t&&u.removeNode(e,s)}}else this._onRemovalComplete(e,s)}markElementAsRemoved(t,e,r,s,l){this.collectedLeaveElements.push(e),e[Do]={namespaceId:t,setForRemoval:s,hasAnimation:r,removedBeforeQueried:!1,previousTriggersValues:l}}listen(t,e,r,s,l){return Gw(e)?this._fetchNamespace(t).listen(e,r,s,l):()=>{}}_buildInstruction(t,e,r,s,l){return t.transition.build(this.driver,t.element,t.fromState.value,t.toState.value,r,s,t.fromState.options,t.toState.options,e,l)}destroyInnerAnimations(t){let e=this.driver.query(t,Ow,!0);e.forEach(r=>this.destroyActiveAnimationsForElement(r)),0!=this.playersByQueriedElement.size&&(e=this.driver.query(t,eE,!0),e.forEach(r=>this.finishActiveQueriedAnimationOnElement(r)))}destroyActiveAnimationsForElement(t){const e=this.playersByElement.get(t);e&&e.forEach(r=>{r.queued?r.markedForDestroy=!0:r.destroy()})}finishActiveQueriedAnimationOnElement(t){const e=this.playersByQueriedElement.get(t);e&&e.forEach(r=>r.finish())}whenRenderingDone(){return new Promise(t=>{if(this.players.length)return Ql(this.players).onDone(()=>t());t()})}processLeaveNode(t){var e;const r=t[Do];if(r&&r.setForRemoval){if(t[Do]=DR,r.namespaceId){this.destroyInnerAnimations(t);const s=this._fetchNamespace(r.namespaceId);s&&s.clearElementCache(t)}this._onRemovalComplete(t,r.setForRemoval)}(null===(e=t.classList)||void 0===e?void 0:e.contains(uE))&&this.markElementAsDisabled(t,!1),this.driver.query(t,".ng-animate-disabled",!0).forEach(s=>{this.markElementAsDisabled(s,!1)})}flush(t=-1){let e=[];if(this.newHostElements.size&&(this.newHostElements.forEach((r,s)=>this._balanceNamespaceList(r,s)),this.newHostElements.clear()),this.totalAnimations&&this.collectedEnterElements.length)for(let r=0;r<this.collectedEnterElements.length;r++)Mo(this.collectedEnterElements[r],"ng-star-inserted");if(this._namespaceList.length&&(this.totalQueuedPlayers||this.collectedLeaveElements.length)){const r=[];try{e=this._flushAnimations(r,t)}finally{for(let s=0;s<r.length;s++)r[s]()}}else for(let r=0;r<this.collectedLeaveElements.length;r++)this.processLeaveNode(this.collectedLeaveElements[r]);if(this.totalQueuedPlayers=0,this.collectedEnterElements.length=0,this.collectedLeaveElements.length=0,this._flushFns.forEach(r=>r()),this._flushFns=[],this._whenQuietFns.length){const r=this._whenQuietFns;this._whenQuietFns=[],e.length?Ql(e).onDone(()=>{r.forEach(s=>s())}):r.forEach(s=>s())}}reportError(t){throw function NH(n){return new ye(3402,Rt)}()}_flushAnimations(t,e){const r=new $w,s=[],l=new Map,u=[],f=new Map,m=new Map,b=new Map,w=new Set;this.disabledNodes.forEach(xe=>{w.add(xe);const Ve=this.driver.query(xe,".ng-animate-queued",!0);for(let Je=0;Je<Ve.length;Je++)w.add(Ve[Je])});const x=this.bodyNode,E=Array.from(this.statesByElement.keys()),S=IR(E,this.collectedEnterElements),I=new Map;let N=0;S.forEach((xe,Ve)=>{const Je=JT+N++;I.set(Ve,Je),xe.forEach(zt=>Mo(zt,Je))});const K=[],G=new Set,H=new Set;for(let xe=0;xe<this.collectedLeaveElements.length;xe++){const Ve=this.collectedLeaveElements[xe],Je=Ve[Do];Je&&Je.setForRemoval&&(K.push(Ve),G.add(Ve),Je.hasAnimation?this.driver.query(Ve,".ng-star-inserted",!0).forEach(zt=>G.add(zt)):H.add(Ve))}const fe=new Map,ve=IR(E,Array.from(G));ve.forEach((xe,Ve)=>{const Je=Pw+N++;fe.set(Ve,Je),xe.forEach(zt=>Mo(zt,Je))}),t.push(()=>{S.forEach((xe,Ve)=>{const Je=I.get(Ve);xe.forEach(zt=>Bh(zt,Je))}),ve.forEach((xe,Ve)=>{const Je=fe.get(Ve);xe.forEach(zt=>Bh(zt,Je))}),K.forEach(xe=>{this.processLeaveNode(xe)})});const We=[],qe=[];for(let xe=this._namespaceList.length-1;xe>=0;xe--)this._namespaceList[xe].drainQueuedTransitions(e).forEach(Je=>{const zt=Je.player,Si=Je.element;if(We.push(zt),this.collectedEnterElements.length){const gr=Si[Do];if(gr&&gr.setForMove){if(gr.previousTriggersValues&&gr.previousTriggersValues.has(Je.triggerName)){const nu=gr.previousTriggersValues.get(Je.triggerName),ac=this.statesByElement.get(Je.element);ac&&ac[Je.triggerName]&&(ac[Je.triggerName].value=nu)}return void zt.destroy()}}const $s=!x||!this.driver.containsElement(x,Si),so=fe.get(Si),sc=I.get(Si),Nn=this._buildInstruction(Je,r,sc,so,$s);if(Nn.errors&&Nn.errors.length)return void qe.push(Nn);if($s)return zt.onStart(()=>Vd(Si,Nn.fromStyles)),zt.onDestroy(()=>js(Si,Nn.toStyles)),void s.push(zt);if(Je.isFallbackTransition)return zt.onStart(()=>Vd(Si,Nn.fromStyles)),zt.onDestroy(()=>js(Si,Nn.toStyles)),void s.push(zt);const AL=[];Nn.timelines.forEach(gr=>{gr.stretchStartingKeyframe=!0,this.disabledNodes.has(gr.element)||AL.push(gr)}),Nn.timelines=AL,r.append(Si,Nn.timelines),u.push({instruction:Nn,player:zt,element:Si}),Nn.queriedElements.forEach(gr=>no(f,gr,[]).push(zt)),Nn.preStyleProps.forEach((gr,nu)=>{const ac=Object.keys(gr);if(ac.length){let iu=m.get(nu);iu||m.set(nu,iu=new Set),ac.forEach(RS=>iu.add(RS))}}),Nn.postStyleProps.forEach((gr,nu)=>{const ac=Object.keys(gr);let iu=b.get(nu);iu||b.set(nu,iu=new Set),ac.forEach(RS=>iu.add(RS))})});if(qe.length){const xe=[];qe.forEach(Ve=>{xe.push(function LH(n,t){return new ye(3505,Rt)}())}),We.forEach(Ve=>Ve.destroy()),this.reportError(xe)}const Tt=new Map,kn=new Map;u.forEach(xe=>{const Ve=xe.element;r.has(Ve)&&(kn.set(Ve,Ve),this._beforeAnimationBuild(xe.player.namespaceId,xe.instruction,Tt))}),s.forEach(xe=>{const Ve=xe.element;this._getPreviousPlayers(Ve,!1,xe.namespaceId,xe.triggerName,null).forEach(zt=>{no(Tt,Ve,[]).push(zt),zt.destroy()})});const Ei=K.filter(xe=>RR(xe,m,b)),oo=new Map;AR(oo,this.driver,H,b,Ra).forEach(xe=>{RR(xe,m,b)&&Ei.push(xe)});const Ka=new Map;S.forEach((xe,Ve)=>{AR(Ka,this.driver,new Set(xe),m,"!")}),Ei.forEach(xe=>{const Ve=oo.get(xe),Je=Ka.get(xe);oo.set(xe,Object.assign(Object.assign({},Ve),Je))});const es=[],nf=[],rf={};u.forEach(xe=>{const{element:Ve,player:Je,instruction:zt}=xe;if(r.has(Ve)){if(w.has(Ve))return Je.onDestroy(()=>js(Ve,zt.toStyles)),Je.disabled=!0,Je.overrideTotalTime(zt.totalTime),void s.push(Je);let Si=rf;if(kn.size>1){let so=Ve;const sc=[];for(;so=so.parentNode;){const Nn=kn.get(so);if(Nn){Si=Nn;break}sc.push(so)}sc.forEach(Nn=>kn.set(Nn,Si))}const $s=this._buildAnimation(Je.namespaceId,zt,Tt,l,Ka,oo);if(Je.setRealPlayer($s),Si===rf)es.push(Je);else{const so=this.playersByElement.get(Si);so&&so.length&&(Je.parentPlayer=Ql(so)),s.push(Je)}}else Vd(Ve,zt.fromStyles),Je.onDestroy(()=>js(Ve,zt.toStyles)),nf.push(Je),w.has(Ve)&&s.push(Je)}),nf.forEach(xe=>{const Ve=l.get(xe.element);if(Ve&&Ve.length){const Je=Ql(Ve);xe.setRealPlayer(Je)}}),s.forEach(xe=>{xe.parentPlayer?xe.syncPlayerEvents(xe.parentPlayer):xe.destroy()});for(let xe=0;xe<K.length;xe++){const Ve=K[xe],Je=Ve[Do];if(Bh(Ve,Pw),Je&&Je.hasAnimation)continue;let zt=[];if(f.size){let $s=f.get(Ve);$s&&$s.length&&zt.push(...$s);let so=this.driver.query(Ve,eE,!0);for(let sc=0;sc<so.length;sc++){let Nn=f.get(so[sc]);Nn&&Nn.length&&zt.push(...Nn)}}const Si=zt.filter($s=>!$s.destroyed);Si.length?B7(this,Ve,Si):this.processLeaveNode(Ve)}return K.length=0,es.forEach(xe=>{this.players.push(xe),xe.onDone(()=>{xe.destroy();const Ve=this.players.indexOf(xe);this.players.splice(Ve,1)}),xe.play()}),es}elementContainsData(t,e){let r=!1;const s=e[Do];return s&&s.setForRemoval&&(r=!0),this.playersByElement.has(e)&&(r=!0),this.playersByQueriedElement.has(e)&&(r=!0),this.statesByElement.has(e)&&(r=!0),this._fetchNamespace(t).elementContainsData(e)||r}afterFlush(t){this._flushFns.push(t)}afterFlushAnimationsDone(t){this._whenQuietFns.push(t)}_getPreviousPlayers(t,e,r,s,l){let u=[];if(e){const f=this.playersByQueriedElement.get(t);f&&(u=f)}else{const f=this.playersByElement.get(t);if(f){const m=!l||l==Ag;f.forEach(b=>{b.queued||!m&&b.triggerName!=s||u.push(b)})}}return(r||s)&&(u=u.filter(f=>!(r&&r!=f.namespaceId||s&&s!=f.triggerName))),u}_beforeAnimationBuild(t,e,r){const l=e.element,u=e.isRemovalTransition?void 0:t,f=e.isRemovalTransition?void 0:e.triggerName;for(const m of e.timelines){const b=m.element,w=b!==l,x=no(r,b,[]);this._getPreviousPlayers(b,w,u,f,e.toState).forEach(S=>{const I=S.getRealPlayer();I.beforeDestroy&&I.beforeDestroy(),S.destroy(),x.push(S)})}Vd(l,e.fromStyles)}_buildAnimation(t,e,r,s,l,u){const f=e.triggerName,m=e.element,b=[],w=new Set,x=new Set,E=e.timelines.map(I=>{const N=I.element;w.add(N);const K=N[Do];if(K&&K.removedBeforeQueried)return new Dg(I.duration,I.delay);const G=N!==m,H=function V7(n){const t=[];return PR(n,t),t}((r.get(N)||I7).map(Tt=>Tt.getRealPlayer())).filter(Tt=>!!Tt.element&&Tt.element===N),fe=l.get(N),ve=u.get(N),We=rR(0,this._normalizer,0,I.keyframes,fe,ve),qe=this._buildPlayer(I,We,H);if(I.subTimeline&&s&&x.add(N),G){const Tt=new pE(t,f,N);Tt.setRealPlayer(qe),b.push(Tt)}return qe});b.forEach(I=>{no(this.playersByQueriedElement,I.element,[]).push(I),I.onDone(()=>function F7(n,t,e){let r;if(n instanceof Map){if(r=n.get(t),r){if(r.length){const s=r.indexOf(e);r.splice(s,1)}0==r.length&&n.delete(t)}}else if(r=n[t],r){if(r.length){const s=r.indexOf(e);r.splice(s,1)}0==r.length&&delete n[t]}return r}(this.playersByQueriedElement,I.element,I))}),w.forEach(I=>Mo(I,pR));const S=Ql(E);return S.onDestroy(()=>{w.forEach(I=>Bh(I,pR)),js(m,e.toStyles)}),x.forEach(I=>{no(s,I,[]).push(S)}),S}_buildPlayer(t,e,r){return e.length>0?this.driver.animate(t.element,e,t.duration,t.delay,t.easing,r):new Dg(t.duration,t.delay)}}class pE{constructor(t,e,r){this.namespaceId=t,this.triggerName=e,this.element=r,this._player=new Dg,this._containsRealPlayer=!1,this._queuedCallbacks={},this.destroyed=!1,this.markedForDestroy=!1,this.disabled=!1,this.queued=!0,this.totalTime=0}setRealPlayer(t){this._containsRealPlayer||(this._player=t,Object.keys(this._queuedCallbacks).forEach(e=>{this._queuedCallbacks[e].forEach(r=>GT(t,e,void 0,r))}),this._queuedCallbacks={},this._containsRealPlayer=!0,this.overrideTotalTime(t.totalTime),this.queued=!1)}getRealPlayer(){return this._player}overrideTotalTime(t){this.totalTime=t}syncPlayerEvents(t){const e=this._player;e.triggerCallback&&t.onStart(()=>e.triggerCallback("start")),t.onDone(()=>this.finish()),t.onDestroy(()=>this.destroy())}_queueEvent(t,e){no(this._queuedCallbacks,t,[]).push(e)}onDone(t){this.queued&&this._queueEvent("done",t),this._player.onDone(t)}onStart(t){this.queued&&this._queueEvent("start",t),this._player.onStart(t)}onDestroy(t){this.queued&&this._queueEvent("destroy",t),this._player.onDestroy(t)}init(){this._player.init()}hasStarted(){return!this.queued&&this._player.hasStarted()}play(){!this.queued&&this._player.play()}pause(){!this.queued&&this._player.pause()}restart(){!this.queued&&this._player.restart()}finish(){this._player.finish()}destroy(){this.destroyed=!0,this._player.destroy()}reset(){!this.queued&&this._player.reset()}setPosition(t){this.queued||this._player.setPosition(t)}getPosition(){return this.queued?0:this._player.getPosition()}triggerCallback(t){const e=this._player;e.triggerCallback&&e.triggerCallback(t)}}function Gw(n){return n&&1===n.nodeType}function MR(n,t){const e=n.style.display;return n.style.display=null!=t?t:"none",e}function AR(n,t,e,r,s){const l=[];e.forEach(m=>l.push(MR(m)));const u=[];r.forEach((m,b)=>{const w={};m.forEach(x=>{const E=w[x]=t.computeStyle(b,x,s);(!E||0==E.length)&&(b[Do]=P7,u.push(b))}),n.set(b,w)});let f=0;return e.forEach(m=>MR(m,l[f++])),u}function IR(n,t){const e=new Map;if(n.forEach(f=>e.set(f,[])),0==t.length)return e;const s=new Set(t),l=new Map;function u(f){if(!f)return 1;let m=l.get(f);if(m)return m;const b=f.parentNode;return m=e.has(b)?b:s.has(b)?1:u(b),l.set(f,m),m}return t.forEach(f=>{const m=u(f);1!==m&&e.get(m).push(f)}),e}function Mo(n,t){var e;null===(e=n.classList)||void 0===e||e.add(t)}function Bh(n,t){var e;null===(e=n.classList)||void 0===e||e.remove(t)}function B7(n,t,e){Ql(e).onDone(()=>n.processLeaveNode(t))}function PR(n,t){for(let e=0;e<n.length;e++){const r=n[e];r instanceof nR?PR(r.players,t):t.push(r)}}function RR(n,t,e){const r=e.get(n);if(!r)return!1;let s=t.get(n);return s?r.forEach(l=>s.add(l)):t.set(n,r),e.delete(n),!0}class Kw{constructor(t,e,r){this.bodyNode=t,this._driver=e,this._normalizer=r,this._triggerCache={},this.onRemovalComplete=(s,l)=>{},this._transitionEngine=new O7(t,e,r),this._timelineEngine=new E7(t,e,r),this._transitionEngine.onRemovalComplete=(s,l)=>this.onRemovalComplete(s,l)}registerTrigger(t,e,r,s,l){const u=t+"-"+s;let f=this._triggerCache[u];if(!f){const m=[],w=rE(this._driver,l,m,[]);if(m.length)throw function EH(n,t){return new ye(3404,Rt)}();f=function k7(n,t,e){return new C7(n,t,e)}(s,w,this._normalizer),this._triggerCache[u]=f}this._transitionEngine.registerTrigger(e,s,f)}register(t,e){this._transitionEngine.register(t,e)}destroy(t,e){this._transitionEngine.destroy(t,e)}onInsert(t,e,r,s){this._transitionEngine.insertNode(t,e,r,s)}onRemove(t,e,r,s){this._transitionEngine.removeNode(t,e,s||!1,r)}disableAnimations(t,e){this._transitionEngine.markElementAsDisabled(t,e)}process(t,e,r,s){if("@"==r.charAt(0)){const[l,u]=oR(r);this._timelineEngine.command(l,e,u,s)}else this._transitionEngine.trigger(t,e,r,s)}listen(t,e,r,s,l){if("@"==r.charAt(0)){const[u,f]=oR(r);return this._timelineEngine.listen(u,e,f,l)}return this._transitionEngine.listen(t,e,r,s,l)}flush(t=-1){this._transitionEngine.flush(t)}get players(){return this._transitionEngine.players.concat(this._timelineEngine.players)}whenRenderingDone(){return this._transitionEngine.whenRenderingDone()}}let H7=(()=>{class n{constructor(e,r,s){this._element=e,this._startStyles=r,this._endStyles=s,this._state=0;let l=n.initialStylesByElement.get(e);l||n.initialStylesByElement.set(e,l={}),this._initialStyles=l}start(){this._state<1&&(this._startStyles&&js(this._element,this._startStyles,this._initialStyles),this._state=1)}finish(){this.start(),this._state<2&&(js(this._element,this._initialStyles),this._endStyles&&(js(this._element,this._endStyles),this._endStyles=null),this._state=1)}destroy(){this.finish(),this._state<3&&(n.initialStylesByElement.delete(this._element),this._startStyles&&(Vd(this._element,this._startStyles),this._endStyles=null),this._endStyles&&(Vd(this._element,this._endStyles),this._endStyles=null),js(this._element,this._initialStyles),this._state=3)}}return n.initialStylesByElement=new WeakMap,n})();function mE(n){let t=null;const e=Object.keys(n);for(let r=0;r<e.length;r++){const s=e[r];U7(s)&&(t=t||{},t[s]=n[s])}return t}function U7(n){return"display"===n||"position"===n}class OR{constructor(t,e,r,s){this.element=t,this.keyframes=e,this.options=r,this._specialStyles=s,this._onDoneFns=[],this._onStartFns=[],this._onDestroyFns=[],this._initialized=!1,this._finished=!1,this._started=!1,this._destroyed=!1,this.time=0,this.parentPlayer=null,this.currentSnapshot={},this._duration=r.duration,this._delay=r.delay||0,this.time=this._duration+this._delay}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(t=>t()),this._onDoneFns=[])}init(){this._buildPlayer(),this._preparePlayerBeforeStart()}_buildPlayer(){if(this._initialized)return;this._initialized=!0;const t=this.keyframes;this.domPlayer=this._triggerWebAnimation(this.element,t,this.options),this._finalKeyframe=t.length?t[t.length-1]:{},this.domPlayer.addEventListener("finish",()=>this._onFinish())}_preparePlayerBeforeStart(){this._delay?this._resetDomPlayerState():this.domPlayer.pause()}_triggerWebAnimation(t,e,r){return t.animate(e,r)}onStart(t){this._onStartFns.push(t)}onDone(t){this._onDoneFns.push(t)}onDestroy(t){this._onDestroyFns.push(t)}play(){this._buildPlayer(),this.hasStarted()||(this._onStartFns.forEach(t=>t()),this._onStartFns=[],this._started=!0,this._specialStyles&&this._specialStyles.start()),this.domPlayer.play()}pause(){this.init(),this.domPlayer.pause()}finish(){this.init(),this._specialStyles&&this._specialStyles.finish(),this._onFinish(),this.domPlayer.finish()}reset(){this._resetDomPlayerState(),this._destroyed=!1,this._finished=!1,this._started=!1}_resetDomPlayerState(){this.domPlayer&&this.domPlayer.cancel()}restart(){this.reset(),this.play()}hasStarted(){return this._started}destroy(){this._destroyed||(this._destroyed=!0,this._resetDomPlayerState(),this._onFinish(),this._specialStyles&&this._specialStyles.destroy(),this._onDestroyFns.forEach(t=>t()),this._onDestroyFns=[])}setPosition(t){void 0===this.domPlayer&&this.init(),this.domPlayer.currentTime=t*this.time}getPosition(){return this.domPlayer.currentTime/this.time}get totalTime(){return this._delay+this._duration}beforeDestroy(){const t={};if(this.hasStarted()){const e=this._finalKeyframe;Object.keys(e).forEach(r=>{"offset"!=r&&(t[r]=this._finished?e[r]:vR(this.element,r))})}this.currentSnapshot=t}triggerCallback(t){const e="start"==t?this._onStartFns:this._onDoneFns;e.forEach(r=>r()),e.length=0}}class $7{validateStyleProperty(t){return cR(t)}matchesElement(t,e){return!1}containsElement(t,e){return dR(t,e)}getParentElement(t){return ZT(t)}query(t,e,r){return uR(t,e,r)}computeStyle(t,e,r){return window.getComputedStyle(t)[e]}animate(t,e,r,s,l,u=[]){const m={duration:r,delay:s,fill:0==s?"both":"forwards"};l&&(m.easing=l);const b={},w=u.filter(E=>E instanceof OR);(function GH(n,t){return 0===n||0===t})(r,s)&&w.forEach(E=>{let S=E.currentSnapshot;Object.keys(S).forEach(I=>b[I]=S[I])}),e=function KH(n,t,e){const r=Object.keys(e);if(r.length&&t.length){let l=t[0],u=[];if(r.forEach(f=>{l.hasOwnProperty(f)||u.push(f),l[f]=e[f]}),u.length)for(var s=1;s<t.length;s++){let f=t[s];u.forEach(function(m){f[m]=vR(n,m)})}}return t}(t,e=e.map(E=>Yl(E,!1)),b);const x=function z7(n,t){let e=null,r=null;return Array.isArray(t)&&t.length?(e=mE(t[0]),t.length>1&&(r=mE(t[t.length-1]))):t&&(e=mE(t)),e||r?new H7(n,e,r):null}(t,e);return new OR(t,e,m,x)}}let W7=(()=>{class n extends ZP{constructor(e,r){super(),this._nextAnimationId=0,this._renderer=e.createRenderer(r.body,{id:"0",encapsulation:er.None,styles:[],data:{animation:[]}})}build(e){const r=this._nextAnimationId.toString();this._nextAnimationId++;const s=Array.isArray(e)?JP(e):e;return FR(this._renderer,null,r,"register",[s]),new q7(r,this._renderer)}}return n.\u0275fac=function(e){return new(e||n)(L(Km),L(ot))},n.\u0275prov=oe({token:n,factory:n.\u0275fac}),n})();class q7 extends class iH{}{constructor(t,e){super(),this._id=t,this._renderer=e}create(t,e){return new G7(this._id,t,e||{},this._renderer)}}class G7{constructor(t,e,r,s){this.id=t,this.element=e,this._renderer=s,this.parentPlayer=null,this._started=!1,this.totalTime=0,this._command("create",r)}_listen(t,e){return this._renderer.listen(this.element,`@@${this.id}:${t}`,e)}_command(t,...e){return FR(this._renderer,this.element,this.id,t,e)}onDone(t){this._listen("done",t)}onStart(t){this._listen("start",t)}onDestroy(t){this._listen("destroy",t)}init(){this._command("init")}hasStarted(){return this._started}play(){this._command("play"),this._started=!0}pause(){this._command("pause")}restart(){this._command("restart")}finish(){this._command("finish")}destroy(){this._command("destroy")}reset(){this._command("reset"),this._started=!1}setPosition(t){this._command("setPosition",t)}getPosition(){var t,e;return null!==(e=null===(t=this._renderer.engine.players[+this.id])||void 0===t?void 0:t.getPosition())&&void 0!==e?e:0}}function FR(n,t,e,r,s){return n.setProperty(t,`@@${e}:${r}`,s)}const NR="@.disabled";let K7=(()=>{class n{constructor(e,r,s){this.delegate=e,this.engine=r,this._zone=s,this._currentId=0,this._microtaskId=1,this._animationCallbacksBuffer=[],this._rendererCache=new Map,this._cdRecurDepth=0,this.promise=Promise.resolve(0),r.onRemovalComplete=(l,u)=>{const f=null==u?void 0:u.parentNode(l);f&&u.removeChild(f,l)}}createRenderer(e,r){const l=this.delegate.createRenderer(e,r);if(!(e&&r&&r.data&&r.data.animation)){let w=this._rendererCache.get(l);return w||(w=new LR("",l,this.engine),this._rendererCache.set(l,w)),w}const u=r.id,f=r.id+"-"+this._currentId;this._currentId++,this.engine.register(f,e);const m=w=>{Array.isArray(w)?w.forEach(m):this.engine.registerTrigger(u,f,e,w.name,w)};return r.data.animation.forEach(m),new Q7(this,f,l,this.engine)}begin(){this._cdRecurDepth++,this.delegate.begin&&this.delegate.begin()}_scheduleCountTask(){this.promise.then(()=>{this._microtaskId++})}scheduleListenerCallback(e,r,s){e>=0&&e<this._microtaskId?this._zone.run(()=>r(s)):(0==this._animationCallbacksBuffer.length&&Promise.resolve(null).then(()=>{this._zone.run(()=>{this._animationCallbacksBuffer.forEach(l=>{const[u,f]=l;u(f)}),this._animationCallbacksBuffer=[]})}),this._animationCallbacksBuffer.push([r,s]))}end(){this._cdRecurDepth--,0==this._cdRecurDepth&&this._zone.runOutsideAngular(()=>{this._scheduleCountTask(),this.engine.flush(this._microtaskId)}),this.delegate.end&&this.delegate.end()}whenRenderingDone(){return this.engine.whenRenderingDone()}}return n.\u0275fac=function(e){return new(e||n)(L(Km),L(Kw),L(He))},n.\u0275prov=oe({token:n,factory:n.\u0275fac}),n})();class LR{constructor(t,e,r){this.namespaceId=t,this.delegate=e,this.engine=r,this.destroyNode=this.delegate.destroyNode?s=>e.destroyNode(s):null}get data(){return this.delegate.data}destroy(){this.engine.destroy(this.namespaceId,this.delegate),this.delegate.destroy()}createElement(t,e){return this.delegate.createElement(t,e)}createComment(t){return this.delegate.createComment(t)}createText(t){return this.delegate.createText(t)}appendChild(t,e){this.delegate.appendChild(t,e),this.engine.onInsert(this.namespaceId,e,t,!1)}insertBefore(t,e,r,s=!0){this.delegate.insertBefore(t,e,r),this.engine.onInsert(this.namespaceId,e,t,s)}removeChild(t,e,r){this.engine.onRemove(this.namespaceId,e,this.delegate,r)}selectRootElement(t,e){return this.delegate.selectRootElement(t,e)}parentNode(t){return this.delegate.parentNode(t)}nextSibling(t){return this.delegate.nextSibling(t)}setAttribute(t,e,r,s){this.delegate.setAttribute(t,e,r,s)}removeAttribute(t,e,r){this.delegate.removeAttribute(t,e,r)}addClass(t,e){this.delegate.addClass(t,e)}removeClass(t,e){this.delegate.removeClass(t,e)}setStyle(t,e,r,s){this.delegate.setStyle(t,e,r,s)}removeStyle(t,e,r){this.delegate.removeStyle(t,e,r)}setProperty(t,e,r){"@"==e.charAt(0)&&e==NR?this.disableAnimations(t,!!r):this.delegate.setProperty(t,e,r)}setValue(t,e){this.delegate.setValue(t,e)}listen(t,e,r){return this.delegate.listen(t,e,r)}disableAnimations(t,e){this.engine.disableAnimations(t,e)}}class Q7 extends LR{constructor(t,e,r,s){super(e,r,s),this.factory=t,this.namespaceId=e}setProperty(t,e,r){"@"==e.charAt(0)?"."==e.charAt(1)&&e==NR?this.disableAnimations(t,r=void 0===r||!!r):this.engine.process(this.namespaceId,t,e.substr(1),r):this.delegate.setProperty(t,e,r)}listen(t,e,r){if("@"==e.charAt(0)){const s=function Y7(n){switch(n){case"body":return document.body;case"document":return document;case"window":return window;default:return n}}(t);let l=e.substr(1),u="";return"@"!=l.charAt(0)&&([l,u]=function Z7(n){const t=n.indexOf(".");return[n.substring(0,t),n.substr(t+1)]}(l)),this.engine.listen(this.namespaceId,s,l,u,f=>{this.factory.scheduleListenerCallback(f._data||-1,r,f)})}return this.delegate.listen(t,e,r)}}let X7=(()=>{class n extends Kw{constructor(e,r,s){super(e.body,r,s)}ngOnDestroy(){this.flush()}}return n.\u0275fac=function(e){return new(e||n)(L(ot),L(XT),L(cE))},n.\u0275prov=oe({token:n,factory:n.\u0275fac}),n})();const Kn=new re("AnimationModuleType"),BR=[{provide:ZP,useClass:W7},{provide:cE,useFactory:function J7(){return new _7}},{provide:Kw,useClass:X7},{provide:Km,useFactory:function e8(n,t,e){return new K7(n,t,e)},deps:[ew,Kw,He]}],VR=[{provide:XT,useFactory:()=>new $7},{provide:Kn,useValue:"BrowserAnimations"},...BR],t8=[{provide:XT,useClass:hR},{provide:Kn,useValue:"NoopAnimations"},...BR];let n8=(()=>{class n{static withConfig(e){return{ngModule:n,providers:e.disableAnimations?t8:VR}}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=ue({type:n}),n.\u0275inj=Se({providers:VR,imports:[JA]}),n})();const r8=new re("mat-sanity-checks",{providedIn:"root",factory:function i8(){return!0}});let xt=(()=>{class n{constructor(e,r,s){this._sanityChecks=r,this._document=s,this._hasDoneGlobalChecks=!1,e._applyBodyHighContrastModeCssClasses(),this._hasDoneGlobalChecks||(this._hasDoneGlobalChecks=!0)}_checkIsEnabled(e){return!NT()&&("boolean"==typeof this._sanityChecks?this._sanityChecks:!!this._sanityChecks[e])}}return n.\u0275fac=function(e){return new(e||n)(L(QP),L(r8,8),L(ot))},n.\u0275mod=ue({type:n}),n.\u0275inj=Se({imports:[[xg],xg]}),n})();function Yw(n){return class extends n{constructor(...t){super(...t),this._disabled=!1}get disabled(){return this._disabled}set disabled(t){this._disabled=jt(t)}}}function Zl(n,t){return class extends n{constructor(...e){super(...e),this.defaultColor=t,this.color=t}get color(){return this._color}set color(e){const r=e||this.defaultColor;r!==this._color&&(this._color&&this._elementRef.nativeElement.classList.remove(`mat-${this._color}`),r&&this._elementRef.nativeElement.classList.add(`mat-${r}`),this._color=r)}}}function Xl(n){return class extends n{constructor(...t){super(...t),this._disableRipple=!1}get disableRipple(){return this._disableRipple}set disableRipple(t){this._disableRipple=jt(t)}}}function gE(n,t=0){return class extends n{constructor(...e){super(...e),this._tabIndex=t,this.defaultTabIndex=t}get tabIndex(){return this.disabled?-1:this._tabIndex}set tabIndex(e){this._tabIndex=null!=e?Yo(e):this.defaultTabIndex}}}function zR(n){return class extends n{constructor(...t){super(...t),this.stateChanges=new Oe,this.errorState=!1}updateErrorState(){const t=this.errorState,l=(this.errorStateMatcher||this._defaultErrorStateMatcher).isErrorState(this.ngControl?this.ngControl.control:null,this._parentFormGroup||this._parentForm);l!==t&&(this.errorState=l,this.stateChanges.next())}}}let Zw=(()=>{class n{isErrorState(e,r){return!!(e&&e.invalid&&(e.touched||r&&r.submitted))}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275prov=oe({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),HR=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275dir=se({type:n,selectors:[["","mat-line",""],["","matLine",""]],hostAttrs:[1,"mat-line"]}),n})();function Ig(n,t,e){n.nativeElement.classList.toggle(t,e)}let $R=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=ue({type:n}),n.\u0275inj=Se({imports:[[xt],xt]}),n})();class s8{constructor(t,e,r){this._renderer=t,this.element=e,this.config=r,this.state=3}fadeOut(){this._renderer.fadeOutRipple(this)}}const WR={enterDuration:225,exitDuration:150},_E=Fh({passive:!0}),qR=["mousedown","touchstart"],GR=["mouseup","mouseleave","touchend","touchcancel"];class bE{constructor(t,e,r,s){this._target=t,this._ngZone=e,this._isPointerDown=!1,this._activeRipples=new Set,this._pointerUpEventsRegistered=!1,s.isBrowser&&(this._containerElement=Pa(r))}fadeInRipple(t,e,r={}){const s=this._containerRect=this._containerRect||this._containerElement.getBoundingClientRect(),l=Object.assign(Object.assign({},WR),r.animation);r.centered&&(t=s.left+s.width/2,e=s.top+s.height/2);const u=r.radius||function c8(n,t,e){const r=Math.max(Math.abs(n-e.left),Math.abs(n-e.right)),s=Math.max(Math.abs(t-e.top),Math.abs(t-e.bottom));return Math.sqrt(r*r+s*s)}(t,e,s),f=t-s.left,m=e-s.top,b=l.enterDuration,w=document.createElement("div");w.classList.add("mat-ripple-element"),w.style.left=f-u+"px",w.style.top=m-u+"px",w.style.height=2*u+"px",w.style.width=2*u+"px",null!=r.color&&(w.style.backgroundColor=r.color),w.style.transitionDuration=`${b}ms`,this._containerElement.appendChild(w),function l8(n){window.getComputedStyle(n).getPropertyValue("opacity")}(w),w.style.transform="scale(1)";const x=new s8(this,w,r);return x.state=0,this._activeRipples.add(x),r.persistent||(this._mostRecentTransientRipple=x),this._runTimeoutOutsideZone(()=>{const E=x===this._mostRecentTransientRipple;x.state=1,!r.persistent&&(!E||!this._isPointerDown)&&x.fadeOut()},b),x}fadeOutRipple(t){const e=this._activeRipples.delete(t);if(t===this._mostRecentTransientRipple&&(this._mostRecentTransientRipple=null),this._activeRipples.size||(this._containerRect=null),!e)return;const r=t.element,s=Object.assign(Object.assign({},WR),t.config.animation);r.style.transitionDuration=`${s.exitDuration}ms`,r.style.opacity="0",t.state=2,this._runTimeoutOutsideZone(()=>{t.state=3,r.remove()},s.exitDuration)}fadeOutAll(){this._activeRipples.forEach(t=>t.fadeOut())}fadeOutAllNonPersistent(){this._activeRipples.forEach(t=>{t.config.persistent||t.fadeOut()})}setupTriggerEvents(t){const e=Pa(t);!e||e===this._triggerElement||(this._removeTriggerEvents(),this._triggerElement=e,this._registerEvents(qR))}handleEvent(t){"mousedown"===t.type?this._onMousedown(t):"touchstart"===t.type?this._onTouchStart(t):this._onPointerUp(),this._pointerUpEventsRegistered||(this._registerEvents(GR),this._pointerUpEventsRegistered=!0)}_onMousedown(t){const e=UP(t),r=this._lastTouchStartEvent&&Date.now()<this._lastTouchStartEvent+800;!this._target.rippleDisabled&&!e&&!r&&(this._isPointerDown=!0,this.fadeInRipple(t.clientX,t.clientY,this._target.rippleConfig))}_onTouchStart(t){if(!this._target.rippleDisabled&&!$P(t)){this._lastTouchStartEvent=Date.now(),this._isPointerDown=!0;const e=t.changedTouches;for(let r=0;r<e.length;r++)this.fadeInRipple(e[r].clientX,e[r].clientY,this._target.rippleConfig)}}_onPointerUp(){!this._isPointerDown||(this._isPointerDown=!1,this._activeRipples.forEach(t=>{!t.config.persistent&&(1===t.state||t.config.terminateOnPointerUp&&0===t.state)&&t.fadeOut()}))}_runTimeoutOutsideZone(t,e=0){this._ngZone.runOutsideAngular(()=>setTimeout(t,e))}_registerEvents(t){this._ngZone.runOutsideAngular(()=>{t.forEach(e=>{this._triggerElement.addEventListener(e,this,_E)})})}_removeTriggerEvents(){this._triggerElement&&(qR.forEach(t=>{this._triggerElement.removeEventListener(t,this,_E)}),this._pointerUpEventsRegistered&&GR.forEach(t=>{this._triggerElement.removeEventListener(t,this,_E)}))}}const Xw=new re("mat-ripple-global-options");let Fa=(()=>{class n{constructor(e,r,s,l,u){this._elementRef=e,this._animationMode=u,this.radius=0,this._disabled=!1,this._isInitialized=!1,this._globalOptions=l||{},this._rippleRenderer=new bE(this,r,e,s)}get disabled(){return this._disabled}set disabled(e){e&&this.fadeOutAllNonPersistent(),this._disabled=e,this._setupTriggerEventsIfEnabled()}get trigger(){return this._trigger||this._elementRef.nativeElement}set trigger(e){this._trigger=e,this._setupTriggerEventsIfEnabled()}ngOnInit(){this._isInitialized=!0,this._setupTriggerEventsIfEnabled()}ngOnDestroy(){this._rippleRenderer._removeTriggerEvents()}fadeOutAll(){this._rippleRenderer.fadeOutAll()}fadeOutAllNonPersistent(){this._rippleRenderer.fadeOutAllNonPersistent()}get rippleConfig(){return{centered:this.centered,radius:this.radius,color:this.color,animation:Object.assign(Object.assign(Object.assign({},this._globalOptions.animation),"NoopAnimations"===this._animationMode?{enterDuration:0,exitDuration:0}:{}),this.animation),terminateOnPointerUp:this._globalOptions.terminateOnPointerUp}}get rippleDisabled(){return this.disabled||!!this._globalOptions.disabled}_setupTriggerEventsIfEnabled(){!this.disabled&&this._isInitialized&&this._rippleRenderer.setupTriggerEvents(this.trigger)}launch(e,r=0,s){return"number"==typeof e?this._rippleRenderer.fadeInRipple(e,r,Object.assign(Object.assign({},this.rippleConfig),s)):this._rippleRenderer.fadeInRipple(0,0,Object.assign(Object.assign({},this.rippleConfig),e))}}return n.\u0275fac=function(e){return new(e||n)(M(ze),M(He),M(yn),M(Xw,8),M(Kn,8))},n.\u0275dir=se({type:n,selectors:[["","mat-ripple",""],["","matRipple",""]],hostAttrs:[1,"mat-ripple"],hostVars:2,hostBindings:function(e,r){2&e&&kt("mat-ripple-unbounded",r.unbounded)},inputs:{color:["matRippleColor","color"],unbounded:["matRippleUnbounded","unbounded"],centered:["matRippleCentered","centered"],radius:["matRippleRadius","radius"],animation:["matRippleAnimation","animation"],disabled:["matRippleDisabled","disabled"],trigger:["matRippleTrigger","trigger"]},exportAs:["matRipple"]}),n})(),Pg=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=ue({type:n}),n.\u0275inj=Se({imports:[[xt],xt]}),n})(),KR=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=ue({type:n}),n.\u0275inj=Se({imports:[[xt]]}),n})();const u8=["*",[["mat-toolbar-row"]]],h8=["*","mat-toolbar-row"],f8=Zl(class{constructor(n){this._elementRef=n}});let p8=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275dir=se({type:n,selectors:[["mat-toolbar-row"]],hostAttrs:[1,"mat-toolbar-row"],exportAs:["matToolbarRow"]}),n})(),m8=(()=>{class n extends f8{constructor(e,r,s){super(e),this._platform=r,this._document=s}ngAfterViewInit(){this._platform.isBrowser&&(this._checkToolbarMixedModes(),this._toolbarRows.changes.subscribe(()=>this._checkToolbarMixedModes()))}_checkToolbarMixedModes(){}}return n.\u0275fac=function(e){return new(e||n)(M(ze),M(yn),M(ot))},n.\u0275cmp=Ie({type:n,selectors:[["mat-toolbar"]],contentQueries:function(e,r,s){if(1&e&&bn(s,p8,5),2&e){let l;st(l=at())&&(r._toolbarRows=l)}},hostAttrs:[1,"mat-toolbar"],hostVars:4,hostBindings:function(e,r){2&e&&kt("mat-toolbar-multiple-rows",r._toolbarRows.length>0)("mat-toolbar-single-row",0===r._toolbarRows.length)},inputs:{color:"color"},exportAs:["matToolbar"],features:[Fe],ngContentSelectors:h8,decls:2,vars:0,template:function(e,r){1&e&&(Mn(u8),dt(0),dt(1,1))},styles:[".cdk-high-contrast-active .mat-toolbar{outline:solid 1px}.mat-toolbar-row,.mat-toolbar-single-row{display:flex;box-sizing:border-box;padding:0 16px;width:100%;flex-direction:row;align-items:center;white-space:nowrap}.mat-toolbar-multiple-rows{display:flex;box-sizing:border-box;flex-direction:column;width:100%}\n"],encapsulation:2,changeDetection:0}),n})(),g8=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=ue({type:n}),n.\u0275inj=Se({imports:[[xt],xt]}),n})();const QR=["mat-button",""],YR=["*"],v8=["mat-button","mat-flat-button","mat-icon-button","mat-raised-button","mat-stroked-button","mat-mini-fab","mat-fab"],y8=Zl(Yw(Xl(class{constructor(n){this._elementRef=n}})));let Or=(()=>{class n extends y8{constructor(e,r,s){super(e),this._focusMonitor=r,this._animationMode=s,this.isRoundButton=this._hasHostAttributes("mat-fab","mat-mini-fab"),this.isIconButton=this._hasHostAttributes("mat-icon-button");for(const l of v8)this._hasHostAttributes(l)&&this._getHostElement().classList.add(l);e.nativeElement.classList.add("mat-button-base"),this.isRoundButton&&(this.color="accent")}ngAfterViewInit(){this._focusMonitor.monitor(this._elementRef,!0)}ngOnDestroy(){this._focusMonitor.stopMonitoring(this._elementRef)}focus(e,r){e?this._focusMonitor.focusVia(this._getHostElement(),e,r):this._getHostElement().focus(r)}_getHostElement(){return this._elementRef.nativeElement}_isRippleDisabled(){return this.disableRipple||this.disabled}_hasHostAttributes(...e){return e.some(r=>this._getHostElement().hasAttribute(r))}}return n.\u0275fac=function(e){return new(e||n)(M(ze),M(Kl),M(Kn,8))},n.\u0275cmp=Ie({type:n,selectors:[["button","mat-button",""],["button","mat-raised-button",""],["button","mat-icon-button",""],["button","mat-fab",""],["button","mat-mini-fab",""],["button","mat-stroked-button",""],["button","mat-flat-button",""]],viewQuery:function(e,r){if(1&e&&Jn(Fa,5),2&e){let s;st(s=at())&&(r.ripple=s.first)}},hostAttrs:[1,"mat-focus-indicator"],hostVars:5,hostBindings:function(e,r){2&e&&(mt("disabled",r.disabled||null),kt("_mat-animation-noopable","NoopAnimations"===r._animationMode)("mat-button-disabled",r.disabled))},inputs:{disabled:"disabled",disableRipple:"disableRipple",color:"color"},exportAs:["matButton"],features:[Fe],attrs:QR,ngContentSelectors:YR,decls:4,vars:5,consts:[[1,"mat-button-wrapper"],["matRipple","",1,"mat-button-ripple",3,"matRippleDisabled","matRippleCentered","matRippleTrigger"],[1,"mat-button-focus-overlay"]],template:function(e,r){1&e&&(Mn(),V(0,"span",0),dt(1),B(),Me(2,"span",1)(3,"span",2)),2&e&&(Y(2),kt("mat-button-ripple-round",r.isRoundButton||r.isIconButton),Q("matRippleDisabled",r._isRippleDisabled())("matRippleCentered",r.isIconButton)("matRippleTrigger",r._getHostElement()))},directives:[Fa],styles:[".mat-button .mat-button-focus-overlay,.mat-icon-button .mat-button-focus-overlay{opacity:0}.mat-button:hover:not(.mat-button-disabled) .mat-button-focus-overlay,.mat-stroked-button:hover:not(.mat-button-disabled) .mat-button-focus-overlay{opacity:.04}@media(hover: none){.mat-button:hover:not(.mat-button-disabled) .mat-button-focus-overlay,.mat-stroked-button:hover:not(.mat-button-disabled) .mat-button-focus-overlay{opacity:0}}.mat-button,.mat-icon-button,.mat-stroked-button,.mat-flat-button{box-sizing:border-box;position:relative;-webkit-user-select:none;user-select:none;cursor:pointer;outline:none;border:none;-webkit-tap-highlight-color:transparent;display:inline-block;white-space:nowrap;text-decoration:none;vertical-align:baseline;text-align:center;margin:0;min-width:64px;line-height:36px;padding:0 16px;border-radius:4px;overflow:visible}.mat-button::-moz-focus-inner,.mat-icon-button::-moz-focus-inner,.mat-stroked-button::-moz-focus-inner,.mat-flat-button::-moz-focus-inner{border:0}.mat-button.mat-button-disabled,.mat-icon-button.mat-button-disabled,.mat-stroked-button.mat-button-disabled,.mat-flat-button.mat-button-disabled{cursor:default}.mat-button.cdk-keyboard-focused .mat-button-focus-overlay,.mat-button.cdk-program-focused .mat-button-focus-overlay,.mat-icon-button.cdk-keyboard-focused .mat-button-focus-overlay,.mat-icon-button.cdk-program-focused .mat-button-focus-overlay,.mat-stroked-button.cdk-keyboard-focused .mat-button-focus-overlay,.mat-stroked-button.cdk-program-focused .mat-button-focus-overlay,.mat-flat-button.cdk-keyboard-focused .mat-button-focus-overlay,.mat-flat-button.cdk-program-focused .mat-button-focus-overlay{opacity:.12}.mat-button::-moz-focus-inner,.mat-icon-button::-moz-focus-inner,.mat-stroked-button::-moz-focus-inner,.mat-flat-button::-moz-focus-inner{border:0}.mat-raised-button{box-sizing:border-box;position:relative;-webkit-user-select:none;user-select:none;cursor:pointer;outline:none;border:none;-webkit-tap-highlight-color:transparent;display:inline-block;white-space:nowrap;text-decoration:none;vertical-align:baseline;text-align:center;margin:0;min-width:64px;line-height:36px;padding:0 16px;border-radius:4px;overflow:visible;transform:translate3d(0, 0, 0);transition:background 400ms cubic-bezier(0.25, 0.8, 0.25, 1),box-shadow 280ms cubic-bezier(0.4, 0, 0.2, 1)}.mat-raised-button::-moz-focus-inner{border:0}.mat-raised-button.mat-button-disabled{cursor:default}.mat-raised-button.cdk-keyboard-focused .mat-button-focus-overlay,.mat-raised-button.cdk-program-focused .mat-button-focus-overlay{opacity:.12}.mat-raised-button::-moz-focus-inner{border:0}._mat-animation-noopable.mat-raised-button{transition:none;animation:none}.mat-stroked-button{border:1px solid currentColor;padding:0 15px;line-height:34px}.mat-stroked-button .mat-button-ripple.mat-ripple,.mat-stroked-button .mat-button-focus-overlay{top:-1px;left:-1px;right:-1px;bottom:-1px}.mat-fab{box-sizing:border-box;position:relative;-webkit-user-select:none;user-select:none;cursor:pointer;outline:none;border:none;-webkit-tap-highlight-color:transparent;display:inline-block;white-space:nowrap;text-decoration:none;vertical-align:baseline;text-align:center;margin:0;min-width:64px;line-height:36px;padding:0 16px;border-radius:4px;overflow:visible;transform:translate3d(0, 0, 0);transition:background 400ms cubic-bezier(0.25, 0.8, 0.25, 1),box-shadow 280ms cubic-bezier(0.4, 0, 0.2, 1);min-width:0;border-radius:50%;width:56px;height:56px;padding:0;flex-shrink:0}.mat-fab::-moz-focus-inner{border:0}.mat-fab.mat-button-disabled{cursor:default}.mat-fab.cdk-keyboard-focused .mat-button-focus-overlay,.mat-fab.cdk-program-focused .mat-button-focus-overlay{opacity:.12}.mat-fab::-moz-focus-inner{border:0}._mat-animation-noopable.mat-fab{transition:none;animation:none}.mat-fab .mat-button-wrapper{padding:16px 0;display:inline-block;line-height:24px}.mat-mini-fab{box-sizing:border-box;position:relative;-webkit-user-select:none;user-select:none;cursor:pointer;outline:none;border:none;-webkit-tap-highlight-color:transparent;display:inline-block;white-space:nowrap;text-decoration:none;vertical-align:baseline;text-align:center;margin:0;min-width:64px;line-height:36px;padding:0 16px;border-radius:4px;overflow:visible;transform:translate3d(0, 0, 0);transition:background 400ms cubic-bezier(0.25, 0.8, 0.25, 1),box-shadow 280ms cubic-bezier(0.4, 0, 0.2, 1);min-width:0;border-radius:50%;width:40px;height:40px;padding:0;flex-shrink:0}.mat-mini-fab::-moz-focus-inner{border:0}.mat-mini-fab.mat-button-disabled{cursor:default}.mat-mini-fab.cdk-keyboard-focused .mat-button-focus-overlay,.mat-mini-fab.cdk-program-focused .mat-button-focus-overlay{opacity:.12}.mat-mini-fab::-moz-focus-inner{border:0}._mat-animation-noopable.mat-mini-fab{transition:none;animation:none}.mat-mini-fab .mat-button-wrapper{padding:8px 0;display:inline-block;line-height:24px}.mat-icon-button{padding:0;min-width:0;width:40px;height:40px;flex-shrink:0;line-height:40px;border-radius:50%}.mat-icon-button i,.mat-icon-button .mat-icon{line-height:24px}.mat-button-ripple.mat-ripple,.mat-button-focus-overlay{top:0;left:0;right:0;bottom:0;position:absolute;pointer-events:none;border-radius:inherit}.mat-button-ripple.mat-ripple:not(:empty){transform:translateZ(0)}.mat-button-focus-overlay{opacity:0;transition:opacity 200ms cubic-bezier(0.35, 0, 0.25, 1),background-color 200ms cubic-bezier(0.35, 0, 0.25, 1)}._mat-animation-noopable .mat-button-focus-overlay{transition:none}.mat-button-ripple-round{border-radius:50%;z-index:1}.mat-button .mat-button-wrapper>*,.mat-flat-button .mat-button-wrapper>*,.mat-stroked-button .mat-button-wrapper>*,.mat-raised-button .mat-button-wrapper>*,.mat-icon-button .mat-button-wrapper>*,.mat-fab .mat-button-wrapper>*,.mat-mini-fab .mat-button-wrapper>*{vertical-align:middle}.mat-form-field:not(.mat-form-field-appearance-legacy) .mat-form-field-prefix .mat-icon-button,.mat-form-field:not(.mat-form-field-appearance-legacy) .mat-form-field-suffix .mat-icon-button{display:inline-flex;justify-content:center;align-items:center;font-size:inherit;width:2.5em;height:2.5em}.cdk-high-contrast-active .mat-button,.cdk-high-contrast-active .mat-flat-button,.cdk-high-contrast-active .mat-raised-button,.cdk-high-contrast-active .mat-icon-button,.cdk-high-contrast-active .mat-fab,.cdk-high-contrast-active .mat-mini-fab{outline:solid 1px}.cdk-high-contrast-active .mat-button-base.cdk-keyboard-focused,.cdk-high-contrast-active .mat-button-base.cdk-program-focused{outline:solid 3px}\n"],encapsulation:2,changeDetection:0}),n})(),Jw=(()=>{class n extends Or{constructor(e,r,s,l){super(r,e,s),this._ngZone=l,this._haltDisabledEvents=u=>{this.disabled&&(u.preventDefault(),u.stopImmediatePropagation())}}ngAfterViewInit(){super.ngAfterViewInit(),this._ngZone?this._ngZone.runOutsideAngular(()=>{this._elementRef.nativeElement.addEventListener("click",this._haltDisabledEvents)}):this._elementRef.nativeElement.addEventListener("click",this._haltDisabledEvents)}ngOnDestroy(){super.ngOnDestroy(),this._elementRef.nativeElement.removeEventListener("click",this._haltDisabledEvents)}}return n.\u0275fac=function(e){return new(e||n)(M(Kl),M(ze),M(Kn,8),M(He,8))},n.\u0275cmp=Ie({type:n,selectors:[["a","mat-button",""],["a","mat-raised-button",""],["a","mat-icon-button",""],["a","mat-fab",""],["a","mat-mini-fab",""],["a","mat-stroked-button",""],["a","mat-flat-button",""]],hostAttrs:[1,"mat-focus-indicator"],hostVars:7,hostBindings:function(e,r){2&e&&(mt("tabindex",r.disabled?-1:r.tabIndex)("disabled",r.disabled||null)("aria-disabled",r.disabled.toString()),kt("_mat-animation-noopable","NoopAnimations"===r._animationMode)("mat-button-disabled",r.disabled))},inputs:{disabled:"disabled",disableRipple:"disableRipple",color:"color",tabIndex:"tabIndex"},exportAs:["matButton","matAnchor"],features:[Fe],attrs:QR,ngContentSelectors:YR,decls:4,vars:5,consts:[[1,"mat-button-wrapper"],["matRipple","",1,"mat-button-ripple",3,"matRippleDisabled","matRippleCentered","matRippleTrigger"],[1,"mat-button-focus-overlay"]],template:function(e,r){1&e&&(Mn(),V(0,"span",0),dt(1),B(),Me(2,"span",1)(3,"span",2)),2&e&&(Y(2),kt("mat-button-ripple-round",r.isRoundButton||r.isIconButton),Q("matRippleDisabled",r._isRippleDisabled())("matRippleCentered",r.isIconButton)("matRippleTrigger",r._getHostElement()))},directives:[Fa],styles:[".mat-button .mat-button-focus-overlay,.mat-icon-button .mat-button-focus-overlay{opacity:0}.mat-button:hover:not(.mat-button-disabled) .mat-button-focus-overlay,.mat-stroked-button:hover:not(.mat-button-disabled) .mat-button-focus-overlay{opacity:.04}@media(hover: none){.mat-button:hover:not(.mat-button-disabled) .mat-button-focus-overlay,.mat-stroked-button:hover:not(.mat-button-disabled) .mat-button-focus-overlay{opacity:0}}.mat-button,.mat-icon-button,.mat-stroked-button,.mat-flat-button{box-sizing:border-box;position:relative;-webkit-user-select:none;user-select:none;cursor:pointer;outline:none;border:none;-webkit-tap-highlight-color:transparent;display:inline-block;white-space:nowrap;text-decoration:none;vertical-align:baseline;text-align:center;margin:0;min-width:64px;line-height:36px;padding:0 16px;border-radius:4px;overflow:visible}.mat-button::-moz-focus-inner,.mat-icon-button::-moz-focus-inner,.mat-stroked-button::-moz-focus-inner,.mat-flat-button::-moz-focus-inner{border:0}.mat-button.mat-button-disabled,.mat-icon-button.mat-button-disabled,.mat-stroked-button.mat-button-disabled,.mat-flat-button.mat-button-disabled{cursor:default}.mat-button.cdk-keyboard-focused .mat-button-focus-overlay,.mat-button.cdk-program-focused .mat-button-focus-overlay,.mat-icon-button.cdk-keyboard-focused .mat-button-focus-overlay,.mat-icon-button.cdk-program-focused .mat-button-focus-overlay,.mat-stroked-button.cdk-keyboard-focused .mat-button-focus-overlay,.mat-stroked-button.cdk-program-focused .mat-button-focus-overlay,.mat-flat-button.cdk-keyboard-focused .mat-button-focus-overlay,.mat-flat-button.cdk-program-focused .mat-button-focus-overlay{opacity:.12}.mat-button::-moz-focus-inner,.mat-icon-button::-moz-focus-inner,.mat-stroked-button::-moz-focus-inner,.mat-flat-button::-moz-focus-inner{border:0}.mat-raised-button{box-sizing:border-box;position:relative;-webkit-user-select:none;user-select:none;cursor:pointer;outline:none;border:none;-webkit-tap-highlight-color:transparent;display:inline-block;white-space:nowrap;text-decoration:none;vertical-align:baseline;text-align:center;margin:0;min-width:64px;line-height:36px;padding:0 16px;border-radius:4px;overflow:visible;transform:translate3d(0, 0, 0);transition:background 400ms cubic-bezier(0.25, 0.8, 0.25, 1),box-shadow 280ms cubic-bezier(0.4, 0, 0.2, 1)}.mat-raised-button::-moz-focus-inner{border:0}.mat-raised-button.mat-button-disabled{cursor:default}.mat-raised-button.cdk-keyboard-focused .mat-button-focus-overlay,.mat-raised-button.cdk-program-focused .mat-button-focus-overlay{opacity:.12}.mat-raised-button::-moz-focus-inner{border:0}._mat-animation-noopable.mat-raised-button{transition:none;animation:none}.mat-stroked-button{border:1px solid currentColor;padding:0 15px;line-height:34px}.mat-stroked-button .mat-button-ripple.mat-ripple,.mat-stroked-button .mat-button-focus-overlay{top:-1px;left:-1px;right:-1px;bottom:-1px}.mat-fab{box-sizing:border-box;position:relative;-webkit-user-select:none;user-select:none;cursor:pointer;outline:none;border:none;-webkit-tap-highlight-color:transparent;display:inline-block;white-space:nowrap;text-decoration:none;vertical-align:baseline;text-align:center;margin:0;min-width:64px;line-height:36px;padding:0 16px;border-radius:4px;overflow:visible;transform:translate3d(0, 0, 0);transition:background 400ms cubic-bezier(0.25, 0.8, 0.25, 1),box-shadow 280ms cubic-bezier(0.4, 0, 0.2, 1);min-width:0;border-radius:50%;width:56px;height:56px;padding:0;flex-shrink:0}.mat-fab::-moz-focus-inner{border:0}.mat-fab.mat-button-disabled{cursor:default}.mat-fab.cdk-keyboard-focused .mat-button-focus-overlay,.mat-fab.cdk-program-focused .mat-button-focus-overlay{opacity:.12}.mat-fab::-moz-focus-inner{border:0}._mat-animation-noopable.mat-fab{transition:none;animation:none}.mat-fab .mat-button-wrapper{padding:16px 0;display:inline-block;line-height:24px}.mat-mini-fab{box-sizing:border-box;position:relative;-webkit-user-select:none;user-select:none;cursor:pointer;outline:none;border:none;-webkit-tap-highlight-color:transparent;display:inline-block;white-space:nowrap;text-decoration:none;vertical-align:baseline;text-align:center;margin:0;min-width:64px;line-height:36px;padding:0 16px;border-radius:4px;overflow:visible;transform:translate3d(0, 0, 0);transition:background 400ms cubic-bezier(0.25, 0.8, 0.25, 1),box-shadow 280ms cubic-bezier(0.4, 0, 0.2, 1);min-width:0;border-radius:50%;width:40px;height:40px;padding:0;flex-shrink:0}.mat-mini-fab::-moz-focus-inner{border:0}.mat-mini-fab.mat-button-disabled{cursor:default}.mat-mini-fab.cdk-keyboard-focused .mat-button-focus-overlay,.mat-mini-fab.cdk-program-focused .mat-button-focus-overlay{opacity:.12}.mat-mini-fab::-moz-focus-inner{border:0}._mat-animation-noopable.mat-mini-fab{transition:none;animation:none}.mat-mini-fab .mat-button-wrapper{padding:8px 0;display:inline-block;line-height:24px}.mat-icon-button{padding:0;min-width:0;width:40px;height:40px;flex-shrink:0;line-height:40px;border-radius:50%}.mat-icon-button i,.mat-icon-button .mat-icon{line-height:24px}.mat-button-ripple.mat-ripple,.mat-button-focus-overlay{top:0;left:0;right:0;bottom:0;position:absolute;pointer-events:none;border-radius:inherit}.mat-button-ripple.mat-ripple:not(:empty){transform:translateZ(0)}.mat-button-focus-overlay{opacity:0;transition:opacity 200ms cubic-bezier(0.35, 0, 0.25, 1),background-color 200ms cubic-bezier(0.35, 0, 0.25, 1)}._mat-animation-noopable .mat-button-focus-overlay{transition:none}.mat-button-ripple-round{border-radius:50%;z-index:1}.mat-button .mat-button-wrapper>*,.mat-flat-button .mat-button-wrapper>*,.mat-stroked-button .mat-button-wrapper>*,.mat-raised-button .mat-button-wrapper>*,.mat-icon-button .mat-button-wrapper>*,.mat-fab .mat-button-wrapper>*,.mat-mini-fab .mat-button-wrapper>*{vertical-align:middle}.mat-form-field:not(.mat-form-field-appearance-legacy) .mat-form-field-prefix .mat-icon-button,.mat-form-field:not(.mat-form-field-appearance-legacy) .mat-form-field-suffix .mat-icon-button{display:inline-flex;justify-content:center;align-items:center;font-size:inherit;width:2.5em;height:2.5em}.cdk-high-contrast-active .mat-button,.cdk-high-contrast-active .mat-flat-button,.cdk-high-contrast-active .mat-raised-button,.cdk-high-contrast-active .mat-icon-button,.cdk-high-contrast-active .mat-fab,.cdk-high-contrast-active .mat-mini-fab{outline:solid 1px}.cdk-high-contrast-active .mat-button-base.cdk-keyboard-focused,.cdk-high-contrast-active .mat-button-base.cdk-program-focused{outline:solid 3px}\n"],encapsulation:2,changeDetection:0}),n})(),ZR=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=ue({type:n}),n.\u0275inj=Se({imports:[[Pg,xt],xt]}),n})();const w8=Oa("saveIconTransition",[Li("2 => *",[vt({opacity:1}),mi("0.75s ease-in-out",vt({opacity:1})),mi("0.25s ease-in-out",vt({opacity:0}))]),Li("void => 1",[vt({opacity:0}),mi("0.25s ease-in-out",vt({opacity:1}))])]);let Na=(()=>{class n{constructor(){this.activeSaveRequestCount=0,this.dataNeedToBeSaved=!1,this.saveRequestStartedSubject=new Oe,this.saveRequestStarted$=this.saveRequestStartedSubject.asObservable(),this.saveRequestEndedSubject=new Oe,this.saveRequestEnded$=this.saveRequestEndedSubject.asObservable(),this.dataToSaveIsInputtedSubject=new Oe,this.dataToSaveIsInputted$=this.dataToSaveIsInputtedSubject.asObservable()}startSaveRequest(){this.activeSaveRequestCount+=1,this.dataNeedToBeSaved=!1,this.saveRequestStartedSubject.next(this.activeSaveRequestCount)}endSaveRequest(){this.activeSaveRequestCount-=1,this.saveRequestEndedSubject.next(this.activeSaveRequestCount)}inputDataToSave(e){this.dataNeedToBeSaved=!0,this.dataToSaveIsInputtedSubject.next(e)}hasActiveSaveRequest(){return this.activeSaveRequestCount>0}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275prov=oe({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();function XR(...n){const t=df(n),{args:e,keys:r}=iI(n),s=new Ft(l=>{const{length:u}=e;if(!u)return void l.complete();const f=new Array(u);let m=u,b=u;for(let w=0;w<u;w++){let x=!1;gi(e[w]).subscribe(on(l,E=>{x||(x=!0,b--),f[w]=E},()=>m--,void 0,()=>{(!m||!x)&&(b||l.next(r?rI(r,f):f),l.complete())}))}});return t?s.pipe(tT(t)):s}const k8=["*"];let e0;function Rg(n){var t;return(null===(t=function C8(){if(void 0===e0&&(e0=null,"undefined"!=typeof window)){const n=window;void 0!==n.trustedTypes&&(e0=n.trustedTypes.createPolicy("angular#components",{createHTML:t=>t}))}return e0}())||void 0===t?void 0:t.createHTML(n))||n}function JR(n){return Error(`Unable to find icon with the name "${n}"`)}function eO(n){return Error(`The URL provided to MatIconRegistry was not trusted as a resource URL via Angular's DomSanitizer. Attempted URL was "${n}".`)}function tO(n){return Error(`The literal provided to MatIconRegistry was not trusted as safe HTML by Angular's DomSanitizer. Attempted literal was "${n}".`)}class zd{constructor(t,e,r){this.url=t,this.svgText=e,this.options=r}}let t0=(()=>{class n{constructor(e,r,s,l){this._httpClient=e,this._sanitizer=r,this._errorHandler=l,this._svgIconConfigs=new Map,this._iconSetConfigs=new Map,this._cachedIconsByUrl=new Map,this._inProgressUrlFetches=new Map,this._fontCssClassesByAlias=new Map,this._resolvers=[],this._defaultFontSetClass="material-icons",this._document=s}addSvgIcon(e,r,s){return this.addSvgIconInNamespace("",e,r,s)}addSvgIconLiteral(e,r,s){return this.addSvgIconLiteralInNamespace("",e,r,s)}addSvgIconInNamespace(e,r,s,l){return this._addSvgIconConfig(e,r,new zd(s,null,l))}addSvgIconResolver(e){return this._resolvers.push(e),this}addSvgIconLiteralInNamespace(e,r,s,l){const u=this._sanitizer.sanitize(gt.HTML,s);if(!u)throw tO(s);const f=Rg(u);return this._addSvgIconConfig(e,r,new zd("",f,l))}addSvgIconSet(e,r){return this.addSvgIconSetInNamespace("",e,r)}addSvgIconSetLiteral(e,r){return this.addSvgIconSetLiteralInNamespace("",e,r)}addSvgIconSetInNamespace(e,r,s){return this._addSvgIconSetConfig(e,new zd(r,null,s))}addSvgIconSetLiteralInNamespace(e,r,s){const l=this._sanitizer.sanitize(gt.HTML,r);if(!l)throw tO(r);const u=Rg(l);return this._addSvgIconSetConfig(e,new zd("",u,s))}registerFontClassAlias(e,r=e){return this._fontCssClassesByAlias.set(e,r),this}classNameForFontAlias(e){return this._fontCssClassesByAlias.get(e)||e}setDefaultFontSetClass(e){return this._defaultFontSetClass=e,this}getDefaultFontSetClass(){return this._defaultFontSetClass}getSvgIconFromUrl(e){const r=this._sanitizer.sanitize(gt.RESOURCE_URL,e);if(!r)throw eO(e);const s=this._cachedIconsByUrl.get(r);return s?Ue(n0(s)):this._loadSvgIconFromConfig(new zd(e,null)).pipe(vn(l=>this._cachedIconsByUrl.set(r,l)),Te(l=>n0(l)))}getNamedSvgIcon(e,r=""){const s=nO(r,e);let l=this._svgIconConfigs.get(s);if(l)return this._getSvgFromConfig(l);if(l=this._getIconConfigFromResolvers(r,e),l)return this._svgIconConfigs.set(s,l),this._getSvgFromConfig(l);const u=this._iconSetConfigs.get(r);return u?this._getSvgFromIconSetConfigs(e,u):jl(JR(s))}ngOnDestroy(){this._resolvers=[],this._svgIconConfigs.clear(),this._iconSetConfigs.clear(),this._cachedIconsByUrl.clear()}_getSvgFromConfig(e){return e.svgText?Ue(n0(this._svgElementFromConfig(e))):this._loadSvgIconFromConfig(e).pipe(Te(r=>n0(r)))}_getSvgFromIconSetConfigs(e,r){const s=this._extractIconWithNameFromAnySet(e,r);return s?Ue(s):XR(r.filter(u=>!u.svgText).map(u=>this._loadSvgIconSetFromConfig(u).pipe(Ns(f=>{const b=`Loading icon set URL: ${this._sanitizer.sanitize(gt.RESOURCE_URL,u.url)} failed: ${f.message}`;return this._errorHandler.handleError(new Error(b)),Ue(null)})))).pipe(Te(()=>{const u=this._extractIconWithNameFromAnySet(e,r);if(!u)throw JR(e);return u}))}_extractIconWithNameFromAnySet(e,r){for(let s=r.length-1;s>=0;s--){const l=r[s];if(l.svgText&&l.svgText.toString().indexOf(e)>-1){const u=this._svgElementFromConfig(l),f=this._extractSvgIconFromSet(u,e,l.options);if(f)return f}}return null}_loadSvgIconFromConfig(e){return this._fetchIcon(e).pipe(vn(r=>e.svgText=r),Te(()=>this._svgElementFromConfig(e)))}_loadSvgIconSetFromConfig(e){return e.svgText?Ue(null):this._fetchIcon(e).pipe(vn(r=>e.svgText=r))}_extractSvgIconFromSet(e,r,s){const l=e.querySelector(`[id="${r}"]`);if(!l)return null;const u=l.cloneNode(!0);if(u.removeAttribute("id"),"svg"===u.nodeName.toLowerCase())return this._setSvgAttributes(u,s);if("symbol"===u.nodeName.toLowerCase())return this._setSvgAttributes(this._toSvgElement(u),s);const f=this._svgElementFromString(Rg("<svg></svg>"));return f.appendChild(u),this._setSvgAttributes(f,s)}_svgElementFromString(e){const r=this._document.createElement("DIV");r.innerHTML=e;const s=r.querySelector("svg");if(!s)throw Error("<svg> tag not found");return s}_toSvgElement(e){const r=this._svgElementFromString(Rg("<svg></svg>")),s=e.attributes;for(let l=0;l<s.length;l++){const{name:u,value:f}=s[l];"id"!==u&&r.setAttribute(u,f)}for(let l=0;l<e.childNodes.length;l++)e.childNodes[l].nodeType===this._document.ELEMENT_NODE&&r.appendChild(e.childNodes[l].cloneNode(!0));return r}_setSvgAttributes(e,r){return e.setAttribute("fit",""),e.setAttribute("height","100%"),e.setAttribute("width","100%"),e.setAttribute("preserveAspectRatio","xMidYMid meet"),e.setAttribute("focusable","false"),r&&r.viewBox&&e.setAttribute("viewBox",r.viewBox),e}_fetchIcon(e){var r;const{url:s,options:l}=e,u=null!==(r=null==l?void 0:l.withCredentials)&&void 0!==r&&r;if(!this._httpClient)throw function x8(){return Error("Could not find HttpClient provider for use with Angular Material icons. Please include the HttpClientModule from @angular/common/http in your app imports.")}();if(null==s)throw Error(`Cannot fetch icon from URL "${s}".`);const f=this._sanitizer.sanitize(gt.RESOURCE_URL,s);if(!f)throw eO(s);const m=this._inProgressUrlFetches.get(f);if(m)return m;const b=this._httpClient.get(f,{responseType:"text",withCredentials:u}).pipe(Te(w=>Rg(w)),uI(()=>this._inProgressUrlFetches.delete(f)),Xa());return this._inProgressUrlFetches.set(f,b),b}_addSvgIconConfig(e,r,s){return this._svgIconConfigs.set(nO(e,r),s),this}_addSvgIconSetConfig(e,r){const s=this._iconSetConfigs.get(e);return s?s.push(r):this._iconSetConfigs.set(e,[r]),this}_svgElementFromConfig(e){if(!e.svgElement){const r=this._svgElementFromString(e.svgText);this._setSvgAttributes(r,e.options),e.svgElement=r}return e.svgElement}_getIconConfigFromResolvers(e,r){for(let s=0;s<this._resolvers.length;s++){const l=this._resolvers[s](r,e);if(l)return E8(l)?new zd(l.url,null,l.options):new zd(l,null)}}}return n.\u0275fac=function(e){return new(e||n)(L(Cg,8),L(Mh),L(ot,8),L(qr))},n.\u0275prov=oe({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();function n0(n){return n.cloneNode(!0)}function nO(n,t){return n+":"+t}function E8(n){return!(!n.url||!n.options)}const S8=Zl(class{constructor(n){this._elementRef=n}}),D8=new re("mat-icon-location",{providedIn:"root",factory:function M8(){const n=Lt(ot),t=n?n.location:null;return{getPathname:()=>t?t.pathname+t.search:""}}}),iO=["clip-path","color-profile","src","cursor","fill","filter","marker","marker-start","marker-mid","marker-end","mask","stroke"],A8=iO.map(n=>`[${n}]`).join(", "),I8=/^url\(['"]?#(.*?)['"]?\)$/;let Zo=(()=>{class n extends S8{constructor(e,r,s,l,u){super(e),this._iconRegistry=r,this._location=l,this._errorHandler=u,this._inline=!1,this._currentIconFetch=U.EMPTY,s||e.nativeElement.setAttribute("aria-hidden","true")}get inline(){return this._inline}set inline(e){this._inline=jt(e)}get svgIcon(){return this._svgIcon}set svgIcon(e){e!==this._svgIcon&&(e?this._updateSvgIcon(e):this._svgIcon&&this._clearSvgElement(),this._svgIcon=e)}get fontSet(){return this._fontSet}set fontSet(e){const r=this._cleanupFontValue(e);r!==this._fontSet&&(this._fontSet=r,this._updateFontIconClasses())}get fontIcon(){return this._fontIcon}set fontIcon(e){const r=this._cleanupFontValue(e);r!==this._fontIcon&&(this._fontIcon=r,this._updateFontIconClasses())}_splitIconName(e){if(!e)return["",""];const r=e.split(":");switch(r.length){case 1:return["",r[0]];case 2:return r;default:throw Error(`Invalid icon name: "${e}"`)}}ngOnInit(){this._updateFontIconClasses()}ngAfterViewChecked(){const e=this._elementsWithExternalReferences;if(e&&e.size){const r=this._location.getPathname();r!==this._previousPath&&(this._previousPath=r,this._prependPathToReferences(r))}}ngOnDestroy(){this._currentIconFetch.unsubscribe(),this._elementsWithExternalReferences&&this._elementsWithExternalReferences.clear()}_usingFontIcon(){return!this.svgIcon}_setSvgElement(e){this._clearSvgElement();const r=this._location.getPathname();this._previousPath=r,this._cacheChildrenWithExternalReferences(e),this._prependPathToReferences(r),this._elementRef.nativeElement.appendChild(e)}_clearSvgElement(){const e=this._elementRef.nativeElement;let r=e.childNodes.length;for(this._elementsWithExternalReferences&&this._elementsWithExternalReferences.clear();r--;){const s=e.childNodes[r];(1!==s.nodeType||"svg"===s.nodeName.toLowerCase())&&s.remove()}}_updateFontIconClasses(){if(!this._usingFontIcon())return;const e=this._elementRef.nativeElement,r=this.fontSet?this._iconRegistry.classNameForFontAlias(this.fontSet):this._iconRegistry.getDefaultFontSetClass();r!=this._previousFontSetClass&&(this._previousFontSetClass&&e.classList.remove(this._previousFontSetClass),r&&e.classList.add(r),this._previousFontSetClass=r),this.fontIcon!=this._previousFontIconClass&&(this._previousFontIconClass&&e.classList.remove(this._previousFontIconClass),this.fontIcon&&e.classList.add(this.fontIcon),this._previousFontIconClass=this.fontIcon)}_cleanupFontValue(e){return"string"==typeof e?e.trim().split(" ")[0]:e}_prependPathToReferences(e){const r=this._elementsWithExternalReferences;r&&r.forEach((s,l)=>{s.forEach(u=>{l.setAttribute(u.name,`url('${e}#${u.value}')`)})})}_cacheChildrenWithExternalReferences(e){const r=e.querySelectorAll(A8),s=this._elementsWithExternalReferences=this._elementsWithExternalReferences||new Map;for(let l=0;l<r.length;l++)iO.forEach(u=>{const f=r[l],m=f.getAttribute(u),b=m?m.match(I8):null;if(b){let w=s.get(f);w||(w=[],s.set(f,w)),w.push({name:u,value:b[1]})}})}_updateSvgIcon(e){if(this._svgNamespace=null,this._svgName=null,this._currentIconFetch.unsubscribe(),e){const[r,s]=this._splitIconName(e);r&&(this._svgNamespace=r),s&&(this._svgName=s),this._currentIconFetch=this._iconRegistry.getNamedSvgIcon(s,r).pipe(si(1)).subscribe(l=>this._setSvgElement(l),l=>{this._errorHandler.handleError(new Error(`Error retrieving icon ${r}:${s}! ${l.message}`))})}}}return n.\u0275fac=function(e){return new(e||n)(M(ze),M(t0),ir("aria-hidden"),M(D8),M(qr))},n.\u0275cmp=Ie({type:n,selectors:[["mat-icon"]],hostAttrs:["role","img",1,"mat-icon","notranslate"],hostVars:7,hostBindings:function(e,r){2&e&&(mt("data-mat-icon-type",r._usingFontIcon()?"font":"svg")("data-mat-icon-name",r._svgName||r.fontIcon)("data-mat-icon-namespace",r._svgNamespace||r.fontSet),kt("mat-icon-inline",r.inline)("mat-icon-no-color","primary"!==r.color&&"accent"!==r.color&&"warn"!==r.color))},inputs:{color:"color",inline:"inline",svgIcon:"svgIcon",fontSet:"fontSet",fontIcon:"fontIcon"},exportAs:["matIcon"],features:[Fe],ngContentSelectors:k8,decls:1,vars:0,template:function(e,r){1&e&&(Mn(),dt(0))},styles:[".mat-icon{-webkit-user-select:none;user-select:none;background-repeat:no-repeat;display:inline-block;fill:currentColor;height:24px;width:24px}.mat-icon.mat-icon-inline{font-size:inherit;height:inherit;line-height:inherit;width:inherit}[dir=rtl] .mat-icon-rtl-mirror{transform:scale(-1, 1)}.mat-form-field:not(.mat-form-field-appearance-legacy) .mat-form-field-prefix .mat-icon,.mat-form-field:not(.mat-form-field-appearance-legacy) .mat-form-field-suffix .mat-icon{display:block}.mat-form-field:not(.mat-form-field-appearance-legacy) .mat-form-field-prefix .mat-icon-button .mat-icon,.mat-form-field:not(.mat-form-field-appearance-legacy) .mat-form-field-suffix .mat-icon-button .mat-icon{margin:auto}\n"],encapsulation:2,changeDetection:0}),n})(),P8=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=ue({type:n}),n.\u0275inj=Se({imports:[[xt],xt]}),n})();function R8(n,t){1&n&&(V(0,"mat-icon",6),y(1,"save"),B()),2&n&&Q("@saveIconTransition",ce().iconStatus)}function O8(n,t){1&n&&Me(0,"div",7),2&n&&Q("@saveIconTransition",ce().iconStatus)}function F8(n,t){1&n&&(V(0,"mat-icon",8),y(1,"save"),B()),2&n&&Q("@saveIconTransition",ce().iconStatus)}function N8(n,t){1&n&&(V(0,"mat-icon",9),y(1,"close"),B()),2&n&&Q("@saveIconTransition",ce().iconStatus)}function L8(n,t){1&n&&(V(0,"mat-icon",10),y(1,"refresh"),B())}var Jl=(()=>{return(n=Jl||(Jl={}))[n.hide=0]="hide",n[n.toBeSaved=1]="toBeSaved",n[n.saving=2]="saving",Jl;var n})();let B8=(()=>{class n{constructor(e){this.modificationRequestStatusService=e,this.iconStatusEnum=Jl,this.iconStatus=Jl.hide,this.iconStatusObservable=lo(this.modificationRequestStatusService.dataToSaveIsInputted$,this.modificationRequestStatusService.saveRequestStarted$,this.modificationRequestStatusService.saveRequestEnded$)}ngOnInit(){this.iconStatusSubscription=this.iconStatusObservable.subscribe(e=>{this.iconStatus=0===this.modificationRequestStatusService.activeSaveRequestCount?this.modificationRequestStatusService.dataNeedToBeSaved?Jl.toBeSaved:Jl.hide:Jl.saving})}ngOnDestroy(){this.iconStatusSubscription.unsubscribe()}}return n.\u0275fac=function(e){return new(e||n)(M(Na))},n.\u0275cmp=Ie({type:n,selectors:[["app-save-icone"]],decls:7,vars:6,consts:[["class","floppy-shadow",4,"ngIf"],["class","floppy-shadow-square",4,"ngIf"],["class","floppy",4,"ngIf"],["color","warn","class","close",4,"ngIf"],["color","accent","class","saving",4,"ngIf"],[1,"saved"],[1,"floppy-shadow"],[1,"floppy-shadow-square"],[1,"floppy"],["color","warn",1,"close"],["color","accent",1,"saving"]],template:function(e,r){1&e&&(pe(0,R8,2,1,"mat-icon",0),pe(1,O8,1,1,"div",1),pe(2,F8,2,1,"mat-icon",2),pe(3,N8,2,1,"mat-icon",3),pe(4,L8,2,0,"mat-icon",4),V(5,"mat-icon",5),y(6,"check"),B()),2&e&&(Q("ngIf",r.iconStatus!==r.iconStatusEnum.hide),Y(1),Q("ngIf",r.iconStatus!==r.iconStatusEnum.hide),Y(1),Q("ngIf",r.iconStatus!==r.iconStatusEnum.hide),Y(1),Q("ngIf",r.iconStatus===r.iconStatusEnum.toBeSaved),Y(1),Q("ngIf",r.iconStatus===r.iconStatusEnum.saving),Y(1),Q("@saveIconTransition",r.iconStatus))},directives:[pi,Zo],styles:["[_nghost-%COMP%]{display:inline-flex;align-items:center;position:fixed;z-index:999;bottom:1.5em;right:2em}.floppy[_ngcontent-%COMP%]{position:absolute;color:#79b4d0}.floppy-shadow[_ngcontent-%COMP%]{position:absolute;color:#2b414a;font-size:26px;top:-13px;left:-1px}.floppy-shadow-square[_ngcontent-%COMP%]{position:absolute;top:-8px;left:4px;background-color:#f6f8fa;width:13px;height:17px}.close[_ngcontent-%COMP%], .saving[_ngcontent-%COMP%], .saved[_ngcontent-%COMP%]{position:absolute;font-weight:700;height:auto;width:auto}.close[_ngcontent-%COMP%]{top:-1px;left:11px;font-size:16px}.saving[_ngcontent-%COMP%]{top:-3px;left:9px;font-size:21px;-webkit-animation-name:spin;animation-name:spin;-webkit-animation-duration:1s;animation-duration:1s;-webkit-animation-iteration-count:infinite;animation-iteration-count:infinite;-webkit-animation-timing-function:linear;animation-timing-function:linear}.saved[_ngcontent-%COMP%]{top:-5px;left:10px;font-size:20px;color:#0f0;opacity:0}@-webkit-keyframes spin{0%{transform:rotate(0)}to{transform:rotate(360deg)}}@keyframes spin{0%{transform:rotate(0)}to{transform:rotate(360deg)}}"],data:{animation:[w8]}}),n})();const V8=["addListener","removeListener"],j8=["addEventListener","removeEventListener"],z8=["on","off"];function zs(n,t,e,r){if(j(e)&&(r=e,e=void 0),r)return zs(n,t,e).pipe(tT(r));const[s,l]=function $8(n){return j(n.addEventListener)&&j(n.removeEventListener)}(n)?j8.map(u=>f=>n[u](t,f,e)):function H8(n){return j(n.addListener)&&j(n.removeListener)}(n)?V8.map(rO(n,t)):function U8(n){return j(n.on)&&j(n.off)}(n)?z8.map(rO(n,t)):[];if(!s&&lf(n))return Ln(u=>zs(u,t,e))(gi(n));if(!s)throw new TypeError("Invalid event target");return new Ft(u=>{const f=(...m)=>u.next(1<m.length?m:m[0]);return s(f),()=>l(f)})}function rO(n,t){return e=>r=>n[e](t,r)}const W8=["primaryValueBar"],q8=Zl(class{constructor(n){this._elementRef=n}},"primary"),G8=new re("mat-progress-bar-location",{providedIn:"root",factory:function K8(){const n=Lt(ot),t=n?n.location:null;return{getPathname:()=>t?t.pathname+t.search:""}}}),Q8=new re("MAT_PROGRESS_BAR_DEFAULT_OPTIONS");let Y8=0,Z8=(()=>{class n extends q8{constructor(e,r,s,l,u,f){super(e),this._ngZone=r,this._animationMode=s,this._changeDetectorRef=f,this._isNoopAnimation=!1,this._value=0,this._bufferValue=0,this.animationEnd=new we,this._animationEndSubscription=U.EMPTY,this.mode="determinate",this.progressbarId="mat-progress-bar-"+Y8++;const m=l?l.getPathname().split("#")[0]:"";this._rectangleFillValue=`url('${m}#${this.progressbarId}')`,this._isNoopAnimation="NoopAnimations"===s,u&&(u.color&&(this.color=this.defaultColor=u.color),this.mode=u.mode||this.mode)}get value(){return this._value}set value(e){var r;this._value=oO(Yo(e)||0),null===(r=this._changeDetectorRef)||void 0===r||r.markForCheck()}get bufferValue(){return this._bufferValue}set bufferValue(e){var r;this._bufferValue=oO(e||0),null===(r=this._changeDetectorRef)||void 0===r||r.markForCheck()}_primaryTransform(){return{transform:`scale3d(${this.value/100}, 1, 1)`}}_bufferTransform(){return"buffer"===this.mode?{transform:`scale3d(${this.bufferValue/100}, 1, 1)`}:null}ngAfterViewInit(){this._ngZone.runOutsideAngular(()=>{const e=this._primaryValueBar.nativeElement;this._animationEndSubscription=zs(e,"transitionend").pipe(xi(r=>r.target===e)).subscribe(()=>{0!==this.animationEnd.observers.length&&("determinate"===this.mode||"buffer"===this.mode)&&this._ngZone.run(()=>this.animationEnd.next({value:this.value}))})})}ngOnDestroy(){this._animationEndSubscription.unsubscribe()}}return n.\u0275fac=function(e){return new(e||n)(M(ze),M(He),M(Kn,8),M(G8,8),M(Q8,8),M(ei))},n.\u0275cmp=Ie({type:n,selectors:[["mat-progress-bar"]],viewQuery:function(e,r){if(1&e&&Jn(W8,5),2&e){let s;st(s=at())&&(r._primaryValueBar=s.first)}},hostAttrs:["role","progressbar","aria-valuemin","0","aria-valuemax","100","tabindex","-1",1,"mat-progress-bar"],hostVars:4,hostBindings:function(e,r){2&e&&(mt("aria-valuenow","indeterminate"===r.mode||"query"===r.mode?null:r.value)("mode",r.mode),kt("_mat-animation-noopable",r._isNoopAnimation))},inputs:{color:"color",value:"value",bufferValue:"bufferValue",mode:"mode"},outputs:{animationEnd:"animationEnd"},exportAs:["matProgressBar"],features:[Fe],decls:10,vars:4,consts:[["aria-hidden","true"],["width","100%","height","4","focusable","false",1,"mat-progress-bar-background","mat-progress-bar-element"],["x","4","y","0","width","8","height","4","patternUnits","userSpaceOnUse",3,"id"],["cx","2","cy","2","r","2"],["width","100%","height","100%"],[1,"mat-progress-bar-buffer","mat-progress-bar-element",3,"ngStyle"],[1,"mat-progress-bar-primary","mat-progress-bar-fill","mat-progress-bar-element",3,"ngStyle"],["primaryValueBar",""],[1,"mat-progress-bar-secondary","mat-progress-bar-fill","mat-progress-bar-element"]],template:function(e,r){1&e&&(V(0,"div",0),al(),V(1,"svg",1)(2,"defs")(3,"pattern",2),Me(4,"circle",3),B()(),Me(5,"rect",4),B(),Vf(),Me(6,"div",5)(7,"div",6,7)(9,"div",8),B()),2&e&&(Y(3),Q("id",r.progressbarId),Y(2),mt("fill",r._rectangleFillValue),Y(1),Q("ngStyle",r._bufferTransform()),Y(1),Q("ngStyle",r._primaryTransform()))},directives:[W1],styles:['.mat-progress-bar{display:block;height:4px;overflow:hidden;position:relative;transition:opacity 250ms linear;width:100%}._mat-animation-noopable.mat-progress-bar{transition:none;animation:none}.mat-progress-bar .mat-progress-bar-element,.mat-progress-bar .mat-progress-bar-fill::after{height:100%;position:absolute;width:100%}.mat-progress-bar .mat-progress-bar-background{width:calc(100% + 10px)}.cdk-high-contrast-active .mat-progress-bar .mat-progress-bar-background{display:none}.mat-progress-bar .mat-progress-bar-buffer{transform-origin:top left;transition:transform 250ms ease}.cdk-high-contrast-active .mat-progress-bar .mat-progress-bar-buffer{border-top:solid 5px;opacity:.5}.mat-progress-bar .mat-progress-bar-secondary{display:none}.mat-progress-bar .mat-progress-bar-fill{animation:none;transform-origin:top left;transition:transform 250ms ease}.cdk-high-contrast-active .mat-progress-bar .mat-progress-bar-fill{border-top:solid 4px}.mat-progress-bar .mat-progress-bar-fill::after{animation:none;content:"";display:inline-block;left:0}.mat-progress-bar[dir=rtl],[dir=rtl] .mat-progress-bar{transform:rotateY(180deg)}.mat-progress-bar[mode=query]{transform:rotateZ(180deg)}.mat-progress-bar[mode=query][dir=rtl],[dir=rtl] .mat-progress-bar[mode=query]{transform:rotateZ(180deg) rotateY(180deg)}.mat-progress-bar[mode=indeterminate] .mat-progress-bar-fill,.mat-progress-bar[mode=query] .mat-progress-bar-fill{transition:none}.mat-progress-bar[mode=indeterminate] .mat-progress-bar-primary,.mat-progress-bar[mode=query] .mat-progress-bar-primary{-webkit-backface-visibility:hidden;backface-visibility:hidden;animation:mat-progress-bar-primary-indeterminate-translate 2000ms infinite linear;left:-145.166611%}.mat-progress-bar[mode=indeterminate] .mat-progress-bar-primary.mat-progress-bar-fill::after,.mat-progress-bar[mode=query] .mat-progress-bar-primary.mat-progress-bar-fill::after{-webkit-backface-visibility:hidden;backface-visibility:hidden;animation:mat-progress-bar-primary-indeterminate-scale 2000ms infinite linear}.mat-progress-bar[mode=indeterminate] .mat-progress-bar-secondary,.mat-progress-bar[mode=query] .mat-progress-bar-secondary{-webkit-backface-visibility:hidden;backface-visibility:hidden;animation:mat-progress-bar-secondary-indeterminate-translate 2000ms infinite linear;left:-54.888891%;display:block}.mat-progress-bar[mode=indeterminate] .mat-progress-bar-secondary.mat-progress-bar-fill::after,.mat-progress-bar[mode=query] .mat-progress-bar-secondary.mat-progress-bar-fill::after{-webkit-backface-visibility:hidden;backface-visibility:hidden;animation:mat-progress-bar-secondary-indeterminate-scale 2000ms infinite linear}.mat-progress-bar[mode=buffer] .mat-progress-bar-background{-webkit-backface-visibility:hidden;backface-visibility:hidden;animation:mat-progress-bar-background-scroll 250ms infinite linear;display:block}.mat-progress-bar._mat-animation-noopable .mat-progress-bar-fill,.mat-progress-bar._mat-animation-noopable .mat-progress-bar-fill::after,.mat-progress-bar._mat-animation-noopable .mat-progress-bar-buffer,.mat-progress-bar._mat-animation-noopable .mat-progress-bar-primary,.mat-progress-bar._mat-animation-noopable .mat-progress-bar-primary.mat-progress-bar-fill::after,.mat-progress-bar._mat-animation-noopable .mat-progress-bar-secondary,.mat-progress-bar._mat-animation-noopable .mat-progress-bar-secondary.mat-progress-bar-fill::after,.mat-progress-bar._mat-animation-noopable .mat-progress-bar-background{animation:none;transition-duration:1ms}@keyframes mat-progress-bar-primary-indeterminate-translate{0%{transform:translateX(0)}20%{animation-timing-function:cubic-bezier(0.5, 0, 0.701732, 0.495819);transform:translateX(0)}59.15%{animation-timing-function:cubic-bezier(0.302435, 0.381352, 0.55, 0.956352);transform:translateX(83.67142%)}100%{transform:translateX(200.611057%)}}@keyframes mat-progress-bar-primary-indeterminate-scale{0%{transform:scaleX(0.08)}36.65%{animation-timing-function:cubic-bezier(0.334731, 0.12482, 0.785844, 1);transform:scaleX(0.08)}69.15%{animation-timing-function:cubic-bezier(0.06, 0.11, 0.6, 1);transform:scaleX(0.661479)}100%{transform:scaleX(0.08)}}@keyframes mat-progress-bar-secondary-indeterminate-translate{0%{animation-timing-function:cubic-bezier(0.15, 0, 0.515058, 0.409685);transform:translateX(0)}25%{animation-timing-function:cubic-bezier(0.31033, 0.284058, 0.8, 0.733712);transform:translateX(37.651913%)}48.35%{animation-timing-function:cubic-bezier(0.4, 0.627035, 0.6, 0.902026);transform:translateX(84.386165%)}100%{transform:translateX(160.277782%)}}@keyframes mat-progress-bar-secondary-indeterminate-scale{0%{animation-timing-function:cubic-bezier(0.15, 0, 0.515058, 0.409685);transform:scaleX(0.08)}19.15%{animation-timing-function:cubic-bezier(0.31033, 0.284058, 0.8, 0.733712);transform:scaleX(0.457104)}44.15%{animation-timing-function:cubic-bezier(0.4, 0.627035, 0.6, 0.902026);transform:scaleX(0.72796)}100%{transform:scaleX(0.08)}}@keyframes mat-progress-bar-background-scroll{to{transform:translateX(-8px)}}\n'],encapsulation:2,changeDetection:0}),n})();function oO(n,t=0,e=100){return Math.max(t,Math.min(e,n))}let X8=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=ue({type:n}),n.\u0275inj=Se({imports:[[Qi,xt],xt]}),n})();function J8(n,t){1&n&&(V(0,"a",7),y(1," Logout "),B())}function e6(n,t){1&n&&(V(0,"a",8),y(1," Login "),B())}function t6(n,t){1&n&&Me(0,"mat-progress-bar",9)}let n6=(()=>{class n{constructor(e,r){this.authService=e,this.router=r,this.iconUrl="/public/static/img/favicon.png",this.isLoading=!1}ngOnInit(){this.router.events.subscribe(e=>{e instanceof iw?this.isLoading=!0:e instanceof Ah&&(this.isLoading=!1)})}}return n.\u0275fac=function(e){return new(e||n)(M(Vs),M(ii))},n.\u0275cmp=Ie({type:n,selectors:[["app-navigation"]],decls:11,vars:8,consts:[["color","primary",1,"mat-elevation-z6"],["mat-button","","routerLink","/"],[1,"png-icon",2,"height","26px","margin","0 4px 6px 0",3,"src"],[1,"menu__filler"],["mat-button","","routerLink","/logout",4,"ngIf"],["mat-button","","routerLink","/login",4,"ngIf"],["color","accent","mode","indeterminate",4,"ngIf"],["mat-button","","routerLink","/logout"],["mat-button","","routerLink","/login"],["color","accent","mode","indeterminate"]],template:function(e,r){1&e&&(V(0,"mat-toolbar",0)(1,"a",1),Me(2,"img",2),y(3," ResCodex "),B(),Me(4,"app-save-icone")(5,"div",3),pe(6,J8,2,0,"a",4),Co(7,"async"),pe(8,e6,2,0,"a",5),Co(9,"async"),B(),pe(10,t6,1,0,"mat-progress-bar",6)),2&e&&(Y(2),Q("src",r.iconUrl,vo),Y(4),Q("ngIf",Bl(7,4,r.authService.currentUser$)),Y(2),Q("ngIf",!Bl(9,6,r.authService.currentUser$)),Y(2),Q("ngIf",r.isLoading))},directives:[m8,Jw,Ul,B8,pi,Z8],pipes:[Ky],styles:["[_nghost-%COMP%]{position:relative}.mat-toolbar-row[_ngcontent-%COMP%], .mat-toolbar-single-row[_ngcontent-%COMP%]{height:2.5em}.menu__filler[_ngcontent-%COMP%]{flex:1}.mat-button[_ngcontent-%COMP%]{font-size:.9em}mat-progress-bar[_ngcontent-%COMP%]{position:absolute;bottom:-4px;left:0;right:0}"]}),n})(),i6=(()=>{class n{constructor(){}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275cmp=Ie({type:n,selectors:[["app-root"]],decls:6,vars:0,consts:[[1,"web-page-content"]],template:function(e,r){1&e&&(Me(0,"app-navigation"),V(1,"div",0),Me(2,"router-outlet"),B(),V(3,"footer")(4,"h2"),y(5,"ResCodex 2019.02.05"),B()())},directives:[n6,hw],styles:["[_nghost-%COMP%]{display:flex;flex:1;flex-direction:column;max-width:100%}.web-page-content[_ngcontent-%COMP%]{flex:1}footer[_ngcontent-%COMP%]{margin-top:2em;padding-top:1em;padding-bottom:1em;text-align:center;color:#fff;background-color:#4d7385}"]}),n})(),sO=(()=>{class n{constructor(e,r){this._renderer=e,this._elementRef=r,this.onChange=s=>{},this.onTouched=()=>{}}setProperty(e,r){this._renderer.setProperty(this._elementRef.nativeElement,e,r)}registerOnTouched(e){this.onTouched=e}registerOnChange(e){this.onChange=e}setDisabledState(e){this.setProperty("disabled",e)}}return n.\u0275fac=function(e){return new(e||n)(M(Ca),M(ze))},n.\u0275dir=se({type:n}),n})(),Hd=(()=>{class n extends sO{}return n.\u0275fac=function(){let t;return function(r){return(t||(t=Wn(n)))(r||n)}}(),n.\u0275dir=se({type:n,features:[Fe]}),n})();const ro=new re("NgValueAccessor"),o6={provide:ro,useExisting:Nt(()=>La),multi:!0},a6=new re("CompositionEventMode");let La=(()=>{class n extends sO{constructor(e,r,s){super(e,r),this._compositionMode=s,this._composing=!1,null==this._compositionMode&&(this._compositionMode=!function s6(){const n=Os()?Os().getUserAgent():"";return/android (\d+)/.test(n.toLowerCase())}())}writeValue(e){this.setProperty("value",null==e?"":e)}_handleInput(e){(!this._compositionMode||this._compositionMode&&!this._composing)&&this.onChange(e)}_compositionStart(){this._composing=!0}_compositionEnd(e){this._composing=!1,this._compositionMode&&this.onChange(e)}}return n.\u0275fac=function(e){return new(e||n)(M(Ca),M(ze),M(a6,8))},n.\u0275dir=se({type:n,selectors:[["input","formControlName","",3,"type","checkbox"],["textarea","formControlName",""],["input","formControl","",3,"type","checkbox"],["textarea","formControl",""],["input","ngModel","",3,"type","checkbox"],["textarea","ngModel",""],["","ngDefaultControl",""]],hostBindings:function(e,r){1&e&&Ee("input",function(l){return r._handleInput(l.target.value)})("blur",function(){return r.onTouched()})("compositionstart",function(){return r._compositionStart()})("compositionend",function(l){return r._compositionEnd(l.target.value)})},features:[_t([o6]),Fe]}),n})();function ec(n){return null==n||0===n.length}function lO(n){return null!=n&&"number"==typeof n.length}const Bi=new re("NgValidators"),tc=new re("NgAsyncValidators"),l6=/^(?=.{1,254}$)(?=.{1,64}@)[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+(?:\.[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+)*@[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)*$/;class Ud{static min(t){return function cO(n){return t=>{if(ec(t.value)||ec(n))return null;const e=parseFloat(t.value);return!isNaN(e)&&e<n?{min:{min:n,actual:t.value}}:null}}(t)}static max(t){return function dO(n){return t=>{if(ec(t.value)||ec(n))return null;const e=parseFloat(t.value);return!isNaN(e)&&e>n?{max:{max:n,actual:t.value}}:null}}(t)}static required(t){return function uO(n){return ec(n.value)?{required:!0}:null}(t)}static requiredTrue(t){return function hO(n){return!0===n.value?null:{required:!0}}(t)}static email(t){return function fO(n){return ec(n.value)||l6.test(n.value)?null:{email:!0}}(t)}static minLength(t){return function pO(n){return t=>ec(t.value)||!lO(t.value)?null:t.value.length<n?{minlength:{requiredLength:n,actualLength:t.value.length}}:null}(t)}static maxLength(t){return mO(t)}static pattern(t){return function gO(n){if(!n)return r0;let t,e;return"string"==typeof n?(e="","^"!==n.charAt(0)&&(e+="^"),e+=n,"$"!==n.charAt(n.length-1)&&(e+="$"),t=new RegExp(e)):(e=n.toString(),t=n),r=>{if(ec(r.value))return null;const s=r.value;return t.test(s)?null:{pattern:{requiredPattern:e,actualValue:s}}}}(t)}static nullValidator(t){return null}static compose(t){return kO(t)}static composeAsync(t){return CO(t)}}function mO(n){return t=>lO(t.value)&&t.value.length>n?{maxlength:{requiredLength:n,actualLength:t.value.length}}:null}function r0(n){return null}function _O(n){return null!=n}function bO(n){const t=Fl(n)?Zn(n):n;return Im(t),t}function vO(n){let t={};return n.forEach(e=>{t=null!=e?Object.assign(Object.assign({},t),e):t}),0===Object.keys(t).length?null:t}function yO(n,t){return t.map(e=>e(n))}function wO(n){return n.map(t=>function c6(n){return!n.validate}(t)?t:e=>t.validate(e))}function kO(n){if(!n)return null;const t=n.filter(_O);return 0==t.length?null:function(e){return vO(yO(e,t))}}function vE(n){return null!=n?kO(wO(n)):null}function CO(n){if(!n)return null;const t=n.filter(_O);return 0==t.length?null:function(e){return XR(yO(e,t).map(bO)).pipe(Te(vO))}}function yE(n){return null!=n?CO(wO(n)):null}function xO(n,t){return null===n?[t]:Array.isArray(n)?[...n,t]:[n,t]}function TO(n){return n._rawValidators}function EO(n){return n._rawAsyncValidators}function wE(n){return n?Array.isArray(n)?n:[n]:[]}function o0(n,t){return Array.isArray(n)?n.includes(t):n===t}function SO(n,t){const e=wE(t);return wE(n).forEach(s=>{o0(e,s)||e.push(s)}),e}function DO(n,t){return wE(t).filter(e=>!o0(n,e))}class MO{constructor(){this._rawValidators=[],this._rawAsyncValidators=[],this._onDestroyCallbacks=[]}get value(){return this.control?this.control.value:null}get valid(){return this.control?this.control.valid:null}get invalid(){return this.control?this.control.invalid:null}get pending(){return this.control?this.control.pending:null}get disabled(){return this.control?this.control.disabled:null}get enabled(){return this.control?this.control.enabled:null}get errors(){return this.control?this.control.errors:null}get pristine(){return this.control?this.control.pristine:null}get dirty(){return this.control?this.control.dirty:null}get touched(){return this.control?this.control.touched:null}get status(){return this.control?this.control.status:null}get untouched(){return this.control?this.control.untouched:null}get statusChanges(){return this.control?this.control.statusChanges:null}get valueChanges(){return this.control?this.control.valueChanges:null}get path(){return null}_setValidators(t){this._rawValidators=t||[],this._composedValidatorFn=vE(this._rawValidators)}_setAsyncValidators(t){this._rawAsyncValidators=t||[],this._composedAsyncValidatorFn=yE(this._rawAsyncValidators)}get validator(){return this._composedValidatorFn||null}get asyncValidator(){return this._composedAsyncValidatorFn||null}_registerOnDestroy(t){this._onDestroyCallbacks.push(t)}_invokeOnDestroyCallbacks(){this._onDestroyCallbacks.forEach(t=>t()),this._onDestroyCallbacks=[]}reset(t){this.control&&this.control.reset(t)}hasError(t,e){return!!this.control&&this.control.hasError(t,e)}getError(t,e){return this.control?this.control.getError(t,e):null}}class Hs extends MO{constructor(){super(...arguments),this._parent=null,this.name=null,this.valueAccessor=null}}class mr extends MO{get formDirective(){return null}get path(){return null}}class AO{constructor(t){this._cd=t}is(t){var e,r,s;return"submitted"===t?!!(null===(e=this._cd)||void 0===e?void 0:e.submitted):!!(null===(s=null===(r=this._cd)||void 0===r?void 0:r.control)||void 0===s?void 0:s[t])}}let Ba=(()=>{class n extends AO{constructor(e){super(e)}}return n.\u0275fac=function(e){return new(e||n)(M(Hs,2))},n.\u0275dir=se({type:n,selectors:[["","formControlName",""],["","ngModel",""],["","formControl",""]],hostVars:14,hostBindings:function(e,r){2&e&&kt("ng-untouched",r.is("untouched"))("ng-touched",r.is("touched"))("ng-pristine",r.is("pristine"))("ng-dirty",r.is("dirty"))("ng-valid",r.is("valid"))("ng-invalid",r.is("invalid"))("ng-pending",r.is("pending"))},features:[Fe]}),n})(),nc=(()=>{class n extends AO{constructor(e){super(e)}}return n.\u0275fac=function(e){return new(e||n)(M(mr,10))},n.\u0275dir=se({type:n,selectors:[["","formGroupName",""],["","formArrayName",""],["","ngModelGroup",""],["","formGroup",""],["form",3,"ngNoForm",""],["","ngForm",""]],hostVars:16,hostBindings:function(e,r){2&e&&kt("ng-untouched",r.is("untouched"))("ng-touched",r.is("touched"))("ng-pristine",r.is("pristine"))("ng-dirty",r.is("dirty"))("ng-valid",r.is("valid"))("ng-invalid",r.is("invalid"))("ng-pending",r.is("pending"))("ng-submitted",r.is("submitted"))},features:[Fe]}),n})();function Og(n,t){xE(n,t),t.valueAccessor.writeValue(n.value),function _6(n,t){t.valueAccessor.registerOnChange(e=>{n._pendingValue=e,n._pendingChange=!0,n._pendingDirty=!0,"change"===n.updateOn&&PO(n,t)})}(n,t),function v6(n,t){const e=(r,s)=>{t.valueAccessor.writeValue(r),s&&t.viewToModelUpdate(r)};n.registerOnChange(e),t._registerOnDestroy(()=>{n._unregisterOnChange(e)})}(n,t),function b6(n,t){t.valueAccessor.registerOnTouched(()=>{n._pendingTouched=!0,"blur"===n.updateOn&&n._pendingChange&&PO(n,t),"submit"!==n.updateOn&&n.markAsTouched()})}(n,t),function g6(n,t){if(t.valueAccessor.setDisabledState){const e=r=>{t.valueAccessor.setDisabledState(r)};n.registerOnDisabledChange(e),t._registerOnDestroy(()=>{n._unregisterOnDisabledChange(e)})}}(n,t)}function l0(n,t,e=!0){const r=()=>{};t.valueAccessor&&(t.valueAccessor.registerOnChange(r),t.valueAccessor.registerOnTouched(r)),d0(n,t),n&&(t._invokeOnDestroyCallbacks(),n._registerOnCollectionChange(()=>{}))}function c0(n,t){n.forEach(e=>{e.registerOnValidatorChange&&e.registerOnValidatorChange(t)})}function xE(n,t){const e=TO(n);null!==t.validator?n.setValidators(xO(e,t.validator)):"function"==typeof e&&n.setValidators([e]);const r=EO(n);null!==t.asyncValidator?n.setAsyncValidators(xO(r,t.asyncValidator)):"function"==typeof r&&n.setAsyncValidators([r]);const s=()=>n.updateValueAndValidity();c0(t._rawValidators,s),c0(t._rawAsyncValidators,s)}function d0(n,t){let e=!1;if(null!==n){if(null!==t.validator){const s=TO(n);if(Array.isArray(s)&&s.length>0){const l=s.filter(u=>u!==t.validator);l.length!==s.length&&(e=!0,n.setValidators(l))}}if(null!==t.asyncValidator){const s=EO(n);if(Array.isArray(s)&&s.length>0){const l=s.filter(u=>u!==t.asyncValidator);l.length!==s.length&&(e=!0,n.setAsyncValidators(l))}}}const r=()=>{};return c0(t._rawValidators,r),c0(t._rawAsyncValidators,r),e}function PO(n,t){n._pendingDirty&&n.markAsDirty(),n.setValue(n._pendingValue,{emitModelToViewChange:!1}),t.viewToModelUpdate(n._pendingValue),n._pendingChange=!1}function RO(n,t){xE(n,t)}function TE(n,t){if(!n.hasOwnProperty("model"))return!1;const e=n.model;return!!e.isFirstChange()||!Object.is(t,e.currentValue)}function FO(n,t){n._syncPendingControls(),t.forEach(e=>{const r=e.control;"submit"===r.updateOn&&r._pendingChange&&(e.viewToModelUpdate(r._pendingValue),r._pendingChange=!1)})}function EE(n,t){if(!t)return null;let e,r,s;return Array.isArray(t),t.forEach(l=>{l.constructor===La?e=l:function k6(n){return Object.getPrototypeOf(n.constructor)===Hd}(l)?r=l:s=l}),s||r||e||null}function SE(n,t){const e=n.indexOf(t);e>-1&&n.splice(e,1)}const Fg="VALID",u0="INVALID",Vh="PENDING",Ng="DISABLED";function ME(n){return(h0(n)?n.validators:n)||null}function NO(n){return Array.isArray(n)?vE(n):n||null}function AE(n,t){return(h0(t)?t.asyncValidators:n)||null}function LO(n){return Array.isArray(n)?yE(n):n||null}function h0(n){return null!=n&&!Array.isArray(n)&&"object"==typeof n}const IE=n=>n instanceof p0,f0=n=>n instanceof m0,BO=n=>n instanceof HO;function VO(n){return IE(n)?n.value:n.getRawValue()}function jO(n,t){const e=f0(n),r=n.controls;if(!(e?Object.keys(r):r).length)throw new ye(1e3,"");if(!r[t])throw new ye(1001,"")}function zO(n,t){f0(n),n._forEachChild((r,s)=>{if(void 0===t[s])throw new ye(1002,"")})}class PE{constructor(t,e){this._pendingDirty=!1,this._hasOwnPendingAsyncValidator=!1,this._pendingTouched=!1,this._onCollectionChange=()=>{},this._parent=null,this.pristine=!0,this.touched=!1,this._onDisabledChange=[],this._rawValidators=t,this._rawAsyncValidators=e,this._composedValidatorFn=NO(this._rawValidators),this._composedAsyncValidatorFn=LO(this._rawAsyncValidators)}get validator(){return this._composedValidatorFn}set validator(t){this._rawValidators=this._composedValidatorFn=t}get asyncValidator(){return this._composedAsyncValidatorFn}set asyncValidator(t){this._rawAsyncValidators=this._composedAsyncValidatorFn=t}get parent(){return this._parent}get valid(){return this.status===Fg}get invalid(){return this.status===u0}get pending(){return this.status==Vh}get disabled(){return this.status===Ng}get enabled(){return this.status!==Ng}get dirty(){return!this.pristine}get untouched(){return!this.touched}get updateOn(){return this._updateOn?this._updateOn:this.parent?this.parent.updateOn:"change"}setValidators(t){this._rawValidators=t,this._composedValidatorFn=NO(t)}setAsyncValidators(t){this._rawAsyncValidators=t,this._composedAsyncValidatorFn=LO(t)}addValidators(t){this.setValidators(SO(t,this._rawValidators))}addAsyncValidators(t){this.setAsyncValidators(SO(t,this._rawAsyncValidators))}removeValidators(t){this.setValidators(DO(t,this._rawValidators))}removeAsyncValidators(t){this.setAsyncValidators(DO(t,this._rawAsyncValidators))}hasValidator(t){return o0(this._rawValidators,t)}hasAsyncValidator(t){return o0(this._rawAsyncValidators,t)}clearValidators(){this.validator=null}clearAsyncValidators(){this.asyncValidator=null}markAsTouched(t={}){this.touched=!0,this._parent&&!t.onlySelf&&this._parent.markAsTouched(t)}markAllAsTouched(){this.markAsTouched({onlySelf:!0}),this._forEachChild(t=>t.markAllAsTouched())}markAsUntouched(t={}){this.touched=!1,this._pendingTouched=!1,this._forEachChild(e=>{e.markAsUntouched({onlySelf:!0})}),this._parent&&!t.onlySelf&&this._parent._updateTouched(t)}markAsDirty(t={}){this.pristine=!1,this._parent&&!t.onlySelf&&this._parent.markAsDirty(t)}markAsPristine(t={}){this.pristine=!0,this._pendingDirty=!1,this._forEachChild(e=>{e.markAsPristine({onlySelf:!0})}),this._parent&&!t.onlySelf&&this._parent._updatePristine(t)}markAsPending(t={}){this.status=Vh,!1!==t.emitEvent&&this.statusChanges.emit(this.status),this._parent&&!t.onlySelf&&this._parent.markAsPending(t)}disable(t={}){const e=this._parentMarkedDirty(t.onlySelf);this.status=Ng,this.errors=null,this._forEachChild(r=>{r.disable(Object.assign(Object.assign({},t),{onlySelf:!0}))}),this._updateValue(),!1!==t.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._updateAncestors(Object.assign(Object.assign({},t),{skipPristineCheck:e})),this._onDisabledChange.forEach(r=>r(!0))}enable(t={}){const e=this._parentMarkedDirty(t.onlySelf);this.status=Fg,this._forEachChild(r=>{r.enable(Object.assign(Object.assign({},t),{onlySelf:!0}))}),this.updateValueAndValidity({onlySelf:!0,emitEvent:t.emitEvent}),this._updateAncestors(Object.assign(Object.assign({},t),{skipPristineCheck:e})),this._onDisabledChange.forEach(r=>r(!1))}_updateAncestors(t){this._parent&&!t.onlySelf&&(this._parent.updateValueAndValidity(t),t.skipPristineCheck||this._parent._updatePristine(),this._parent._updateTouched())}setParent(t){this._parent=t}updateValueAndValidity(t={}){this._setInitialStatus(),this._updateValue(),this.enabled&&(this._cancelExistingSubscription(),this.errors=this._runValidator(),this.status=this._calculateStatus(),(this.status===Fg||this.status===Vh)&&this._runAsyncValidator(t.emitEvent)),!1!==t.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._parent&&!t.onlySelf&&this._parent.updateValueAndValidity(t)}_updateTreeValidity(t={emitEvent:!0}){this._forEachChild(e=>e._updateTreeValidity(t)),this.updateValueAndValidity({onlySelf:!0,emitEvent:t.emitEvent})}_setInitialStatus(){this.status=this._allControlsDisabled()?Ng:Fg}_runValidator(){return this.validator?this.validator(this):null}_runAsyncValidator(t){if(this.asyncValidator){this.status=Vh,this._hasOwnPendingAsyncValidator=!0;const e=bO(this.asyncValidator(this));this._asyncValidationSubscription=e.subscribe(r=>{this._hasOwnPendingAsyncValidator=!1,this.setErrors(r,{emitEvent:t})})}}_cancelExistingSubscription(){this._asyncValidationSubscription&&(this._asyncValidationSubscription.unsubscribe(),this._hasOwnPendingAsyncValidator=!1)}setErrors(t,e={}){this.errors=t,this._updateControlsErrors(!1!==e.emitEvent)}get(t){return function C6(n,t,e){if(null==t||(Array.isArray(t)||(t=t.split(e)),Array.isArray(t)&&0===t.length))return null;let r=n;return t.forEach(s=>{r=f0(r)?r.controls.hasOwnProperty(s)?r.controls[s]:null:BO(r)&&r.at(s)||null}),r}(this,t,".")}getError(t,e){const r=e?this.get(e):this;return r&&r.errors?r.errors[t]:null}hasError(t,e){return!!this.getError(t,e)}get root(){let t=this;for(;t._parent;)t=t._parent;return t}_updateControlsErrors(t){this.status=this._calculateStatus(),t&&this.statusChanges.emit(this.status),this._parent&&this._parent._updateControlsErrors(t)}_initObservables(){this.valueChanges=new we,this.statusChanges=new we}_calculateStatus(){return this._allControlsDisabled()?Ng:this.errors?u0:this._hasOwnPendingAsyncValidator||this._anyControlsHaveStatus(Vh)?Vh:this._anyControlsHaveStatus(u0)?u0:Fg}_anyControlsHaveStatus(t){return this._anyControls(e=>e.status===t)}_anyControlsDirty(){return this._anyControls(t=>t.dirty)}_anyControlsTouched(){return this._anyControls(t=>t.touched)}_updatePristine(t={}){this.pristine=!this._anyControlsDirty(),this._parent&&!t.onlySelf&&this._parent._updatePristine(t)}_updateTouched(t={}){this.touched=this._anyControlsTouched(),this._parent&&!t.onlySelf&&this._parent._updateTouched(t)}_isBoxedValue(t){return"object"==typeof t&&null!==t&&2===Object.keys(t).length&&"value"in t&&"disabled"in t}_registerOnCollectionChange(t){this._onCollectionChange=t}_setUpdateStrategy(t){h0(t)&&null!=t.updateOn&&(this._updateOn=t.updateOn)}_parentMarkedDirty(t){return!t&&!(!this._parent||!this._parent.dirty)&&!this._parent._anyControlsDirty()}}class p0 extends PE{constructor(t=null,e,r){super(ME(e),AE(r,e)),this.defaultValue=null,this._onChange=[],this._pendingChange=!1,this._applyFormState(t),this._setUpdateStrategy(e),this._initObservables(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator}),h0(e)&&e.initialValueIsDefault&&(this.defaultValue=this._isBoxedValue(t)?t.value:t)}setValue(t,e={}){this.value=this._pendingValue=t,this._onChange.length&&!1!==e.emitModelToViewChange&&this._onChange.forEach(r=>r(this.value,!1!==e.emitViewToModelChange)),this.updateValueAndValidity(e)}patchValue(t,e={}){this.setValue(t,e)}reset(t=this.defaultValue,e={}){this._applyFormState(t),this.markAsPristine(e),this.markAsUntouched(e),this.setValue(this.value,e),this._pendingChange=!1}_updateValue(){}_anyControls(t){return!1}_allControlsDisabled(){return this.disabled}registerOnChange(t){this._onChange.push(t)}_unregisterOnChange(t){SE(this._onChange,t)}registerOnDisabledChange(t){this._onDisabledChange.push(t)}_unregisterOnDisabledChange(t){SE(this._onDisabledChange,t)}_forEachChild(t){}_syncPendingControls(){return!("submit"!==this.updateOn||(this._pendingDirty&&this.markAsDirty(),this._pendingTouched&&this.markAsTouched(),!this._pendingChange)||(this.setValue(this._pendingValue,{onlySelf:!0,emitModelToViewChange:!1}),0))}_applyFormState(t){this._isBoxedValue(t)?(this.value=this._pendingValue=t.value,t.disabled?this.disable({onlySelf:!0,emitEvent:!1}):this.enable({onlySelf:!0,emitEvent:!1})):this.value=this._pendingValue=t}}class m0 extends PE{constructor(t,e,r){super(ME(e),AE(r,e)),this.controls=t,this._initObservables(),this._setUpdateStrategy(e),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}registerControl(t,e){return this.controls[t]?this.controls[t]:(this.controls[t]=e,e.setParent(this),e._registerOnCollectionChange(this._onCollectionChange),e)}addControl(t,e,r={}){this.registerControl(t,e),this.updateValueAndValidity({emitEvent:r.emitEvent}),this._onCollectionChange()}removeControl(t,e={}){this.controls[t]&&this.controls[t]._registerOnCollectionChange(()=>{}),delete this.controls[t],this.updateValueAndValidity({emitEvent:e.emitEvent}),this._onCollectionChange()}setControl(t,e,r={}){this.controls[t]&&this.controls[t]._registerOnCollectionChange(()=>{}),delete this.controls[t],e&&this.registerControl(t,e),this.updateValueAndValidity({emitEvent:r.emitEvent}),this._onCollectionChange()}contains(t){return this.controls.hasOwnProperty(t)&&this.controls[t].enabled}setValue(t,e={}){zO(this,t),Object.keys(t).forEach(r=>{jO(this,r),this.controls[r].setValue(t[r],{onlySelf:!0,emitEvent:e.emitEvent})}),this.updateValueAndValidity(e)}patchValue(t,e={}){null!=t&&(Object.keys(t).forEach(r=>{this.controls[r]&&this.controls[r].patchValue(t[r],{onlySelf:!0,emitEvent:e.emitEvent})}),this.updateValueAndValidity(e))}reset(t={},e={}){this._forEachChild((r,s)=>{r.reset(t[s],{onlySelf:!0,emitEvent:e.emitEvent})}),this._updatePristine(e),this._updateTouched(e),this.updateValueAndValidity(e)}getRawValue(){return this._reduceChildren({},(t,e,r)=>(t[r]=VO(e),t))}_syncPendingControls(){let t=this._reduceChildren(!1,(e,r)=>!!r._syncPendingControls()||e);return t&&this.updateValueAndValidity({onlySelf:!0}),t}_forEachChild(t){Object.keys(this.controls).forEach(e=>{const r=this.controls[e];r&&t(r,e)})}_setUpControls(){this._forEachChild(t=>{t.setParent(this),t._registerOnCollectionChange(this._onCollectionChange)})}_updateValue(){this.value=this._reduceValue()}_anyControls(t){for(const e of Object.keys(this.controls)){const r=this.controls[e];if(this.contains(e)&&t(r))return!0}return!1}_reduceValue(){return this._reduceChildren({},(t,e,r)=>((e.enabled||this.disabled)&&(t[r]=e.value),t))}_reduceChildren(t,e){let r=t;return this._forEachChild((s,l)=>{r=e(r,s,l)}),r}_allControlsDisabled(){for(const t of Object.keys(this.controls))if(this.controls[t].enabled)return!1;return Object.keys(this.controls).length>0||this.disabled}}class HO extends PE{constructor(t,e,r){super(ME(e),AE(r,e)),this.controls=t,this._initObservables(),this._setUpdateStrategy(e),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}at(t){return this.controls[t]}push(t,e={}){this.controls.push(t),this._registerControl(t),this.updateValueAndValidity({emitEvent:e.emitEvent}),this._onCollectionChange()}insert(t,e,r={}){this.controls.splice(t,0,e),this._registerControl(e),this.updateValueAndValidity({emitEvent:r.emitEvent})}removeAt(t,e={}){this.controls[t]&&this.controls[t]._registerOnCollectionChange(()=>{}),this.controls.splice(t,1),this.updateValueAndValidity({emitEvent:e.emitEvent})}setControl(t,e,r={}){this.controls[t]&&this.controls[t]._registerOnCollectionChange(()=>{}),this.controls.splice(t,1),e&&(this.controls.splice(t,0,e),this._registerControl(e)),this.updateValueAndValidity({emitEvent:r.emitEvent}),this._onCollectionChange()}get length(){return this.controls.length}setValue(t,e={}){zO(this,t),t.forEach((r,s)=>{jO(this,s),this.at(s).setValue(r,{onlySelf:!0,emitEvent:e.emitEvent})}),this.updateValueAndValidity(e)}patchValue(t,e={}){null!=t&&(t.forEach((r,s)=>{this.at(s)&&this.at(s).patchValue(r,{onlySelf:!0,emitEvent:e.emitEvent})}),this.updateValueAndValidity(e))}reset(t=[],e={}){this._forEachChild((r,s)=>{r.reset(t[s],{onlySelf:!0,emitEvent:e.emitEvent})}),this._updatePristine(e),this._updateTouched(e),this.updateValueAndValidity(e)}getRawValue(){return this.controls.map(t=>VO(t))}clear(t={}){this.controls.length<1||(this._forEachChild(e=>e._registerOnCollectionChange(()=>{})),this.controls.splice(0),this.updateValueAndValidity({emitEvent:t.emitEvent}))}_syncPendingControls(){let t=this.controls.reduce((e,r)=>!!r._syncPendingControls()||e,!1);return t&&this.updateValueAndValidity({onlySelf:!0}),t}_forEachChild(t){this.controls.forEach((e,r)=>{t(e,r)})}_updateValue(){this.value=this.controls.filter(t=>t.enabled||this.disabled).map(t=>t.value)}_anyControls(t){return this.controls.some(e=>e.enabled&&t(e))}_setUpControls(){this._forEachChild(t=>this._registerControl(t))}_allControlsDisabled(){for(const t of this.controls)if(t.enabled)return!1;return this.controls.length>0||this.disabled}_registerControl(t){t.setParent(this),t._registerOnCollectionChange(this._onCollectionChange)}}const x6={provide:mr,useExisting:Nt(()=>Bg)},Lg=(()=>Promise.resolve(null))();let Bg=(()=>{class n extends mr{constructor(e,r){super(),this.submitted=!1,this._directives=new Set,this.ngSubmit=new we,this.form=new m0({},vE(e),yE(r))}ngAfterViewInit(){this._setUpdateStrategy()}get formDirective(){return this}get control(){return this.form}get path(){return[]}get controls(){return this.form.controls}addControl(e){Lg.then(()=>{const r=this._findContainer(e.path);e.control=r.registerControl(e.name,e.control),Og(e.control,e),e.control.updateValueAndValidity({emitEvent:!1}),this._directives.add(e)})}getControl(e){return this.form.get(e.path)}removeControl(e){Lg.then(()=>{const r=this._findContainer(e.path);r&&r.removeControl(e.name),this._directives.delete(e)})}addFormGroup(e){Lg.then(()=>{const r=this._findContainer(e.path),s=new m0({});RO(s,e),r.registerControl(e.name,s),s.updateValueAndValidity({emitEvent:!1})})}removeFormGroup(e){Lg.then(()=>{const r=this._findContainer(e.path);r&&r.removeControl(e.name)})}getFormGroup(e){return this.form.get(e.path)}updateModel(e,r){Lg.then(()=>{this.form.get(e.path).setValue(r)})}setValue(e){this.control.setValue(e)}onSubmit(e){return this.submitted=!0,FO(this.form,this._directives),this.ngSubmit.emit(e),!1}onReset(){this.resetForm()}resetForm(e){this.form.reset(e),this.submitted=!1}_setUpdateStrategy(){this.options&&null!=this.options.updateOn&&(this.form._updateOn=this.options.updateOn)}_findContainer(e){return e.pop(),e.length?this.form.get(e):this.form}}return n.\u0275fac=function(e){return new(e||n)(M(Bi,10),M(tc,10))},n.\u0275dir=se({type:n,selectors:[["form",3,"ngNoForm","",3,"formGroup",""],["ng-form"],["","ngForm",""]],hostBindings:function(e,r){1&e&&Ee("submit",function(l){return r.onSubmit(l)})("reset",function(){return r.onReset()})},inputs:{options:["ngFormOptions","options"]},outputs:{ngSubmit:"ngSubmit"},exportAs:["ngForm"],features:[_t([x6]),Fe]}),n})(),ic=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275dir=se({type:n,selectors:[["form",3,"ngNoForm","",3,"ngNativeValidate",""]],hostAttrs:["novalidate",""]}),n})(),KO=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=ue({type:n}),n.\u0275inj=Se({}),n})();const RE=new re("NgModelWithFormControlWarning"),I6={provide:Hs,useExisting:Nt(()=>OE)};let OE=(()=>{class n extends Hs{constructor(e,r,s,l){super(),this._ngModelWarningConfig=l,this.update=new we,this._ngModelWarningSent=!1,this._setValidators(e),this._setAsyncValidators(r),this.valueAccessor=EE(0,s)}set isDisabled(e){}ngOnChanges(e){if(this._isControlChanged(e)){const r=e.form.previousValue;r&&l0(r,this,!1),Og(this.form,this),this.control.disabled&&this.valueAccessor.setDisabledState&&this.valueAccessor.setDisabledState(!0),this.form.updateValueAndValidity({emitEvent:!1})}TE(e,this.viewModel)&&(this.form.setValue(this.model),this.viewModel=this.model)}ngOnDestroy(){this.form&&l0(this.form,this,!1)}get path(){return[]}get control(){return this.form}viewToModelUpdate(e){this.viewModel=e,this.update.emit(e)}_isControlChanged(e){return e.hasOwnProperty("form")}}return n._ngModelWarningSentOnce=!1,n.\u0275fac=function(e){return new(e||n)(M(Bi,10),M(tc,10),M(ro,10),M(RE,8))},n.\u0275dir=se({type:n,selectors:[["","formControl",""]],inputs:{form:["formControl","form"],isDisabled:["disabled","isDisabled"],model:["ngModel","model"]},outputs:{update:"ngModelChange"},exportAs:["ngForm"],features:[_t([I6]),Fe,xn]}),n})();const P6={provide:mr,useExisting:Nt(()=>Ao)};let Ao=(()=>{class n extends mr{constructor(e,r){super(),this.validators=e,this.asyncValidators=r,this.submitted=!1,this._onCollectionChange=()=>this._updateDomValue(),this.directives=[],this.form=null,this.ngSubmit=new we,this._setValidators(e),this._setAsyncValidators(r)}ngOnChanges(e){this._checkFormPresent(),e.hasOwnProperty("form")&&(this._updateValidators(),this._updateDomValue(),this._updateRegistrations(),this._oldForm=this.form)}ngOnDestroy(){this.form&&(d0(this.form,this),this.form._onCollectionChange===this._onCollectionChange&&this.form._registerOnCollectionChange(()=>{}))}get formDirective(){return this}get control(){return this.form}get path(){return[]}addControl(e){const r=this.form.get(e.path);return Og(r,e),r.updateValueAndValidity({emitEvent:!1}),this.directives.push(e),r}getControl(e){return this.form.get(e.path)}removeControl(e){l0(e.control||null,e,!1),SE(this.directives,e)}addFormGroup(e){this._setUpFormContainer(e)}removeFormGroup(e){this._cleanUpFormContainer(e)}getFormGroup(e){return this.form.get(e.path)}addFormArray(e){this._setUpFormContainer(e)}removeFormArray(e){this._cleanUpFormContainer(e)}getFormArray(e){return this.form.get(e.path)}updateModel(e,r){this.form.get(e.path).setValue(r)}onSubmit(e){return this.submitted=!0,FO(this.form,this.directives),this.ngSubmit.emit(e),!1}onReset(){this.resetForm()}resetForm(e){this.form.reset(e),this.submitted=!1}_updateDomValue(){this.directives.forEach(e=>{const r=e.control,s=this.form.get(e.path);r!==s&&(l0(r||null,e),IE(s)&&(Og(s,e),e.control=s))}),this.form._updateTreeValidity({emitEvent:!1})}_setUpFormContainer(e){const r=this.form.get(e.path);RO(r,e),r.updateValueAndValidity({emitEvent:!1})}_cleanUpFormContainer(e){if(this.form){const r=this.form.get(e.path);r&&function y6(n,t){return d0(n,t)}(r,e)&&r.updateValueAndValidity({emitEvent:!1})}}_updateRegistrations(){this.form._registerOnCollectionChange(this._onCollectionChange),this._oldForm&&this._oldForm._registerOnCollectionChange(()=>{})}_updateValidators(){xE(this.form,this),this._oldForm&&d0(this._oldForm,this)}_checkFormPresent(){}}return n.\u0275fac=function(e){return new(e||n)(M(Bi,10),M(tc,10))},n.\u0275dir=se({type:n,selectors:[["","formGroup",""]],hostBindings:function(e,r){1&e&&Ee("submit",function(l){return r.onSubmit(l)})("reset",function(){return r.onReset()})},inputs:{form:["formGroup","form"]},outputs:{ngSubmit:"ngSubmit"},exportAs:["ngForm"],features:[_t([P6]),Fe,xn]}),n})();const F6={provide:Hs,useExisting:Nt(()=>Va)};let Va=(()=>{class n extends Hs{constructor(e,r,s,l,u){super(),this._ngModelWarningConfig=u,this._added=!1,this.update=new we,this._ngModelWarningSent=!1,this._parent=e,this._setValidators(r),this._setAsyncValidators(s),this.valueAccessor=EE(0,l)}set isDisabled(e){}ngOnChanges(e){this._added||this._setUpControl(),TE(e,this.viewModel)&&(this.viewModel=this.model,this.formDirective.updateModel(this,this.model))}ngOnDestroy(){this.formDirective&&this.formDirective.removeControl(this)}viewToModelUpdate(e){this.viewModel=e,this.update.emit(e)}get path(){return function a0(n,t){return[...t.path,n]}(null==this.name?this.name:this.name.toString(),this._parent)}get formDirective(){return this._parent?this._parent.formDirective:null}_checkParentType(){}_setUpControl(){this._checkParentType(),this.control=this.formDirective.addControl(this),this.control.disabled&&this.valueAccessor.setDisabledState&&this.valueAccessor.setDisabledState(!0),this._added=!0}}return n._ngModelWarningSentOnce=!1,n.\u0275fac=function(e){return new(e||n)(M(mr,13),M(Bi,10),M(tc,10),M(ro,10),M(RE,8))},n.\u0275dir=se({type:n,selectors:[["","formControlName",""]],inputs:{name:["formControlName","name"],isDisabled:["disabled","isDisabled"],model:["ngModel","model"]},outputs:{update:"ngModelChange"},features:[_t([F6]),Fe,xn]}),n})();let $d=(()=>{class n{constructor(){this._validator=r0}ngOnChanges(e){if(this.inputName in e){const r=this.normalizeInput(e[this.inputName].currentValue);this._enabled=this.enabled(r),this._validator=this._enabled?this.createValidator(r):r0,this._onChange&&this._onChange()}}validate(e){return this._validator(e)}registerOnValidatorChange(e){this._onChange=e}enabled(e){return null!=e}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275dir=se({type:n,features:[xn]}),n})();const Q6={provide:Bi,useExisting:Nt(()=>Vg),multi:!0};let Vg=(()=>{class n extends $d{constructor(){super(...arguments),this.inputName="maxlength",this.normalizeInput=e=>function eF(n){return"number"==typeof n?n:parseInt(n,10)}(e),this.createValidator=e=>mO(e)}}return n.\u0275fac=function(){let t;return function(r){return(t||(t=Wn(n)))(r||n)}}(),n.\u0275dir=se({type:n,selectors:[["","maxlength","","formControlName",""],["","maxlength","","formControl",""],["","maxlength","","ngModel",""]],hostVars:1,hostBindings:function(e,r){2&e&&mt("maxlength",r._enabled?r.maxlength:null)},inputs:{maxlength:"maxlength"},features:[_t([Q6]),Fe]}),n})(),aF=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=ue({type:n}),n.\u0275inj=Se({imports:[[KO]]}),n})(),g0=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=ue({type:n}),n.\u0275inj=Se({imports:[aF]}),n})(),jg=(()=>{class n{static withConfig(e){return{ngModule:n,providers:[{provide:RE,useValue:e.warnOnNgModelWithFormControl}]}}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=ue({type:n}),n.\u0275inj=Se({imports:[aF]}),n})(),Wd=(()=>{class n{group(e,r=null){const s=this._reduceControls(e);let f,l=null,u=null;return null!=r&&(function Z6(n){return void 0!==n.asyncValidators||void 0!==n.validators||void 0!==n.updateOn}(r)?(l=null!=r.validators?r.validators:null,u=null!=r.asyncValidators?r.asyncValidators:null,f=null!=r.updateOn?r.updateOn:void 0):(l=null!=r.validator?r.validator:null,u=null!=r.asyncValidator?r.asyncValidator:null)),new m0(s,{asyncValidators:u,updateOn:f,validators:l})}control(e,r,s){return new p0(e,r,s)}array(e,r,s){const l=e.map(u=>this._createControl(u));return new HO(l,r,s)}_reduceControls(e){const r={};return Object.keys(e).forEach(s=>{r[s]=this._createControl(e[s])}),r}_createControl(e){return IE(e)||f0(e)||BO(e)?e:Array.isArray(e)?this.control(e[0],e.length>1?e[1]:null,e.length>2?e[2]:null):this.control(e)}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275prov=oe({token:n,factory:n.\u0275fac,providedIn:jg}),n})();const X6=[[["app-web-page-header"]],[["app-web-page-tabs"]],[["app-web-page-content"]]],J6=["app-web-page-header","app-web-page-tabs","app-web-page-content"];var qd=(()=>{return(n=qd||(qd={})).ExtraSmall="main-section--extra-small",n.Small="main-section--small",n.Medium="main-section--medium",n.Large="main-section--large",qd;var n})();let ja=(()=>{class n{constructor(){this.faviconUrl="/public/static/img\favicon.png"}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275cmp=Ie({type:n,selectors:[["app-web-page"]],ngContentSelectors:J6,decls:3,vars:0,template:function(e,r){1&e&&(Mn(X6),dt(0),dt(1,1),dt(2,2))},styles:["[_nghost-%COMP%]{display:block}"]}),n})(),_0=(()=>{class n{constructor(){this._vertical=!1,this._inset=!1}get vertical(){return this._vertical}set vertical(e){this._vertical=jt(e)}get inset(){return this._inset}set inset(e){this._inset=jt(e)}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275cmp=Ie({type:n,selectors:[["mat-divider"]],hostAttrs:["role","separator",1,"mat-divider"],hostVars:7,hostBindings:function(e,r){2&e&&(mt("aria-orientation",r.vertical?"vertical":"horizontal"),kt("mat-divider-vertical",r.vertical)("mat-divider-horizontal",!r.vertical)("mat-divider-inset",r.inset))},inputs:{vertical:"vertical",inset:"inset"},decls:0,vars:0,template:function(e,r){},styles:[".mat-divider{display:block;margin:0;border-top-width:1px;border-top-style:solid}.mat-divider.mat-divider-vertical{border-top:0;border-right-width:1px;border-right-style:solid}.mat-divider.mat-divider-inset{margin-left:80px}[dir=rtl] .mat-divider.mat-divider-inset{margin-left:auto;margin-right:80px}\n"],encapsulation:2,changeDetection:0}),n})(),zE=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=ue({type:n}),n.\u0275inj=Se({imports:[[xt],xt]}),n})();const eU=[[["app-web-page-title"]],[["app-web-page-subtitle"]],[["app-web-page-action-menu"]]],tU=["app-web-page-title","app-web-page-subtitle","app-web-page-action-menu"];let za=(()=>{class n{constructor(){}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275cmp=Ie({type:n,selectors:[["app-web-page-header"]],ngContentSelectors:tU,decls:7,vars:0,consts:[[1,"header"],[1,"header__content"]],template:function(e,r){1&e&&(Mn(eU),V(0,"header",0)(1,"div",1)(2,"div"),dt(3),dt(4,1),B(),dt(5,2),B(),Me(6,"mat-divider"),B())},directives:[_0],styles:["[_nghost-%COMP%]{display:block}.header[_ngcontent-%COMP%]{max-width:1024px;margin-right:auto;margin-left:auto}.header[_ngcontent-%COMP%]   .mat-divider[_ngcontent-%COMP%]{margin:0 1em}.header__content[_ngcontent-%COMP%]{display:flex;flex-wrap:wrap;padding:1em 2em}.header__content[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]{flex:1}"]}),n})();const nU=["*"];let Ha=(()=>{class n{constructor(){}ngOnInit(){}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275cmp=Ie({type:n,selectors:[["app-web-page-title"]],ngContentSelectors:nU,decls:2,vars:0,template:function(e,r){1&e&&(Mn(),V(0,"h1"),dt(1),B())},styles:["[_nghost-%COMP%]{display:block}h1[_ngcontent-%COMP%]{margin:0 0 .3em}h1[_ngcontent-%COMP%]:first-letter{text-transform:uppercase}"]}),n})();const iU=["*"];let Ua=(()=>{class n{constructor(){this.pageSize=qd.Medium}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275cmp=Ie({type:n,selectors:[["app-web-page-content"]],inputs:{pageSize:"pageSize"},ngContentSelectors:iU,decls:3,vars:1,consts:[[1,"main-section",3,"ngClass"],[1,"main-section__container"]],template:function(e,r){1&e&&(Mn(),V(0,"section",0)(1,"div",1),dt(2),B()()),2&e&&Q("ngClass",r.pageSize)},directives:[H1],styles:["[_nghost-%COMP%]{position:relative;display:block}.main-section[_ngcontent-%COMP%]{width:100%;margin-top:1em;margin-right:auto;margin-left:auto}.main-section.main-section--extra-small[_ngcontent-%COMP%]{max-width:320px}.main-section.main-section--medium[_ngcontent-%COMP%]{max-width:1024px}.main-section.main-section--small[_ngcontent-%COMP%]{max-width:640px}.main-section.main-section--large[_ngcontent-%COMP%]{max-width:100%}.main-section__container[_ngcontent-%COMP%]{margin:0 1em}"]}),n})();const rU=["*",[["mat-card-footer"]]],oU=["*","mat-card-footer"],sU=[[["","mat-card-avatar",""],["","matCardAvatar",""]],[["mat-card-title"],["mat-card-subtitle"],["","mat-card-title",""],["","mat-card-subtitle",""],["","matCardTitle",""],["","matCardSubtitle",""]],"*"],aU=["[mat-card-avatar], [matCardAvatar]","mat-card-title, mat-card-subtitle,\n      [mat-card-title], [mat-card-subtitle],\n      [matCardTitle], [matCardSubtitle]","*"];let Gd=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275dir=se({type:n,selectors:[["mat-card-content"],["","mat-card-content",""],["","matCardContent",""]],hostAttrs:[1,"mat-card-content"]}),n})(),jh=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275dir=se({type:n,selectors:[["mat-card-title"],["","mat-card-title",""],["","matCardTitle",""]],hostAttrs:[1,"mat-card-title"]}),n})(),b0=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275dir=se({type:n,selectors:[["mat-card-subtitle"],["","mat-card-subtitle",""],["","matCardSubtitle",""]],hostAttrs:[1,"mat-card-subtitle"]}),n})(),Kd=(()=>{class n{constructor(e){this._animationMode=e}}return n.\u0275fac=function(e){return new(e||n)(M(Kn,8))},n.\u0275cmp=Ie({type:n,selectors:[["mat-card"]],hostAttrs:[1,"mat-card","mat-focus-indicator"],hostVars:2,hostBindings:function(e,r){2&e&&kt("_mat-animation-noopable","NoopAnimations"===r._animationMode)},exportAs:["matCard"],ngContentSelectors:oU,decls:2,vars:0,template:function(e,r){1&e&&(Mn(rU),dt(0),dt(1,1))},styles:[".mat-card{transition:box-shadow 280ms cubic-bezier(0.4, 0, 0.2, 1);display:block;position:relative;padding:16px;border-radius:4px}._mat-animation-noopable.mat-card{transition:none;animation:none}.mat-card .mat-divider-horizontal{position:absolute;left:0;width:100%}[dir=rtl] .mat-card .mat-divider-horizontal{left:auto;right:0}.mat-card .mat-divider-horizontal.mat-divider-inset{position:static;margin:0}[dir=rtl] .mat-card .mat-divider-horizontal.mat-divider-inset{margin-right:0}.cdk-high-contrast-active .mat-card{outline:solid 1px}.mat-card-actions,.mat-card-subtitle,.mat-card-content{display:block;margin-bottom:16px}.mat-card-title{display:block;margin-bottom:8px}.mat-card-actions{margin-left:-8px;margin-right:-8px;padding:8px 0}.mat-card-actions-align-end{display:flex;justify-content:flex-end}.mat-card-image{width:calc(100% + 32px);margin:0 -16px 16px -16px;display:block;overflow:hidden}.mat-card-image img{width:100%}.mat-card-footer{display:block;margin:0 -16px -16px -16px}.mat-card-actions .mat-button,.mat-card-actions .mat-raised-button,.mat-card-actions .mat-stroked-button{margin:0 8px}.mat-card-header{display:flex;flex-direction:row}.mat-card-header .mat-card-title{margin-bottom:12px}.mat-card-header-text{margin:0 16px}.mat-card-avatar{height:40px;width:40px;border-radius:50%;flex-shrink:0;object-fit:cover}.mat-card-title-group{display:flex;justify-content:space-between}.mat-card-sm-image{width:80px;height:80px}.mat-card-md-image{width:112px;height:112px}.mat-card-lg-image{width:152px;height:152px}.mat-card-xl-image{width:240px;height:240px;margin:-8px}.mat-card-title-group>.mat-card-xl-image{margin:-8px 0 8px}@media(max-width: 599px){.mat-card-title-group{margin:0}.mat-card-xl-image{margin-left:0;margin-right:0}}.mat-card>:first-child,.mat-card-content>:first-child{margin-top:0}.mat-card>:last-child:not(.mat-card-footer),.mat-card-content>:last-child:not(.mat-card-footer){margin-bottom:0}.mat-card-image:first-child{margin-top:-16px;border-top-left-radius:inherit;border-top-right-radius:inherit}.mat-card>.mat-card-actions:last-child{margin-bottom:-8px;padding-bottom:0}.mat-card-actions:not(.mat-card-actions-align-end) .mat-button:first-child,.mat-card-actions:not(.mat-card-actions-align-end) .mat-raised-button:first-child,.mat-card-actions:not(.mat-card-actions-align-end) .mat-stroked-button:first-child{margin-left:0;margin-right:0}.mat-card-actions-align-end .mat-button:last-child,.mat-card-actions-align-end .mat-raised-button:last-child,.mat-card-actions-align-end .mat-stroked-button:last-child{margin-left:0;margin-right:0}.mat-card-title:not(:first-child),.mat-card-subtitle:not(:first-child){margin-top:-4px}.mat-card-header .mat-card-subtitle:not(:first-child){margin-top:-8px}.mat-card>.mat-card-xl-image:first-child{margin-top:-8px}.mat-card>.mat-card-xl-image:last-child{margin-bottom:-8px}\n"],encapsulation:2,changeDetection:0}),n})(),zh=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275cmp=Ie({type:n,selectors:[["mat-card-header"]],hostAttrs:[1,"mat-card-header"],ngContentSelectors:aU,decls:4,vars:0,consts:[[1,"mat-card-header-text"]],template:function(e,r){1&e&&(Mn(sU),dt(0),V(1,"div",0),dt(2,1),B(),dt(3,2))},encapsulation:2,changeDetection:0}),n})(),lU=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=ue({type:n}),n.\u0275inj=Se({imports:[[xt],xt]}),n})();const cU=["connectionContainer"],dU=["inputContainer"],uU=["label"];function hU(n,t){1&n&&(Jt(0),V(1,"div",14),Me(2,"div",15)(3,"div",16)(4,"div",17),B(),V(5,"div",18),Me(6,"div",15)(7,"div",16)(8,"div",17),B(),rn())}function fU(n,t){if(1&n){const e=Dn();V(0,"div",19),Ee("cdkObserveContent",function(){return it(e),ce().updateOutlineGap()}),dt(1,1),B()}2&n&&Q("cdkObserveContentDisabled","outline"!=ce().appearance)}function pU(n,t){if(1&n&&(Jt(0),dt(1,2),V(2,"span"),y(3),B(),rn()),2&n){const e=ce(2);Y(3),k(e._control.placeholder)}}function mU(n,t){1&n&&dt(0,3,["*ngSwitchCase","true"])}function gU(n,t){1&n&&(V(0,"span",23),y(1," *"),B())}function _U(n,t){if(1&n){const e=Dn();V(0,"label",20,21),Ee("cdkObserveContent",function(){return it(e),ce().updateOutlineGap()}),pe(2,pU,4,1,"ng-container",12),pe(3,mU,1,0,"ng-content",12),pe(4,gU,2,0,"span",22),B()}if(2&n){const e=ce();kt("mat-empty",e._control.empty&&!e._shouldAlwaysFloat())("mat-form-field-empty",e._control.empty&&!e._shouldAlwaysFloat())("mat-accent","accent"==e.color)("mat-warn","warn"==e.color),Q("cdkObserveContentDisabled","outline"!=e.appearance)("id",e._labelId)("ngSwitch",e._hasLabel()),mt("for",e._control.id)("aria-owns",e._control.id),Y(2),Q("ngSwitchCase",!1),Y(1),Q("ngSwitchCase",!0),Y(1),Q("ngIf",!e.hideRequiredMarker&&e._control.required&&!e._control.disabled)}}function bU(n,t){1&n&&(V(0,"div",24),dt(1,4),B())}function vU(n,t){if(1&n&&(V(0,"div",25),Me(1,"span",26),B()),2&n){const e=ce();Y(1),kt("mat-accent","accent"==e.color)("mat-warn","warn"==e.color)}}function yU(n,t){1&n&&(V(0,"div"),dt(1,5),B()),2&n&&Q("@transitionMessages",ce()._subscriptAnimationState)}function wU(n,t){if(1&n&&(V(0,"div",30),y(1),B()),2&n){const e=ce(2);Q("id",e._hintLabelId),Y(1),k(e.hintLabel)}}function kU(n,t){if(1&n&&(V(0,"div",27),pe(1,wU,2,2,"div",28),dt(2,6),Me(3,"div",29),dt(4,7),B()),2&n){const e=ce();Q("@transitionMessages",e._subscriptAnimationState),Y(1),Q("ngIf",e.hintLabel)}}const CU=["*",[["","matPrefix",""]],[["mat-placeholder"]],[["mat-label"]],[["","matSuffix",""]],[["mat-error"]],[["mat-hint",3,"align","end"]],[["mat-hint","align","end"]]],xU=["*","[matPrefix]","mat-placeholder","mat-label","[matSuffix]","mat-error","mat-hint:not([align='end'])","mat-hint[align='end']"];let TU=0;const lF=new re("MatError");let v0=(()=>{class n{constructor(e,r){this.id="mat-error-"+TU++,e||r.nativeElement.setAttribute("aria-live","polite")}}return n.\u0275fac=function(e){return new(e||n)(ir("aria-live"),M(ze))},n.\u0275dir=se({type:n,selectors:[["mat-error"]],hostAttrs:["aria-atomic","true",1,"mat-error"],hostVars:1,hostBindings:function(e,r){2&e&&mt("id",r.id)},inputs:{id:"id"},features:[_t([{provide:lF,useExisting:n}])]}),n})();const EU={transitionMessages:Oa("transitionMessages",[So("enter",vt({opacity:1,transform:"translateY(0%)"})),Li("void => enter",[vt({opacity:0,transform:"translateY(-5px)"}),mi("300ms cubic-bezier(0.55, 0, 0.55, 0.2)")])])};let y0=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275dir=se({type:n}),n})(),SU=0;const cF=new re("MatHint");let dF=(()=>{class n{constructor(){this.align="start",this.id="mat-hint-"+SU++}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275dir=se({type:n,selectors:[["mat-hint"]],hostAttrs:[1,"mat-hint"],hostVars:4,hostBindings:function(e,r){2&e&&(mt("id",r.id)("align",null),kt("mat-form-field-hint-end","end"===r.align))},inputs:{align:"align",id:"id"},features:[_t([{provide:cF,useExisting:n}])]}),n})(),Qd=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275dir=se({type:n,selectors:[["mat-label"]]}),n})(),DU=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275dir=se({type:n,selectors:[["mat-placeholder"]]}),n})();const MU=new re("MatPrefix"),uF=new re("MatSuffix");let AU=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275dir=se({type:n,selectors:[["","matSuffix",""]],features:[_t([{provide:uF,useExisting:n}])]}),n})(),hF=0;const PU=Zl(class{constructor(n){this._elementRef=n}},"primary"),RU=new re("MAT_FORM_FIELD_DEFAULT_OPTIONS"),pF=new re("MatFormField");let Hh=(()=>{class n extends PU{constructor(e,r,s,l,u,f,m){super(e),this._changeDetectorRef=r,this._dir=s,this._defaults=l,this._platform=u,this._ngZone=f,this._outlineGapCalculationNeededImmediately=!1,this._outlineGapCalculationNeededOnStable=!1,this._destroyed=new Oe,this._showAlwaysAnimate=!1,this._subscriptAnimationState="",this._hintLabel="",this._hintLabelId="mat-hint-"+hF++,this._labelId="mat-form-field-label-"+hF++,this.floatLabel=this._getDefaultFloatLabelState(),this._animationsEnabled="NoopAnimations"!==m,this.appearance=l&&l.appearance?l.appearance:"legacy",this._hideRequiredMarker=!(!l||null==l.hideRequiredMarker)&&l.hideRequiredMarker}get appearance(){return this._appearance}set appearance(e){const r=this._appearance;this._appearance=e||this._defaults&&this._defaults.appearance||"legacy","outline"===this._appearance&&r!==e&&(this._outlineGapCalculationNeededOnStable=!0)}get hideRequiredMarker(){return this._hideRequiredMarker}set hideRequiredMarker(e){this._hideRequiredMarker=jt(e)}_shouldAlwaysFloat(){return"always"===this.floatLabel&&!this._showAlwaysAnimate}_canLabelFloat(){return"never"!==this.floatLabel}get hintLabel(){return this._hintLabel}set hintLabel(e){this._hintLabel=e,this._processHints()}get floatLabel(){return"legacy"!==this.appearance&&"never"===this._floatLabel?"auto":this._floatLabel}set floatLabel(e){e!==this._floatLabel&&(this._floatLabel=e||this._getDefaultFloatLabelState(),this._changeDetectorRef.markForCheck())}get _control(){return this._explicitFormFieldControl||this._controlNonStatic||this._controlStatic}set _control(e){this._explicitFormFieldControl=e}getLabelId(){return this._hasFloatingLabel()?this._labelId:null}getConnectedOverlayOrigin(){return this._connectionContainerRef||this._elementRef}ngAfterContentInit(){this._validateControlChild();const e=this._control;e.controlType&&this._elementRef.nativeElement.classList.add(`mat-form-field-type-${e.controlType}`),e.stateChanges.pipe(Fs(null)).subscribe(()=>{this._validatePlaceholders(),this._syncDescribedByIds(),this._changeDetectorRef.markForCheck()}),e.ngControl&&e.ngControl.valueChanges&&e.ngControl.valueChanges.pipe(Qt(this._destroyed)).subscribe(()=>this._changeDetectorRef.markForCheck()),this._ngZone.runOutsideAngular(()=>{this._ngZone.onStable.pipe(Qt(this._destroyed)).subscribe(()=>{this._outlineGapCalculationNeededOnStable&&this.updateOutlineGap()})}),lo(this._prefixChildren.changes,this._suffixChildren.changes).subscribe(()=>{this._outlineGapCalculationNeededOnStable=!0,this._changeDetectorRef.markForCheck()}),this._hintChildren.changes.pipe(Fs(null)).subscribe(()=>{this._processHints(),this._changeDetectorRef.markForCheck()}),this._errorChildren.changes.pipe(Fs(null)).subscribe(()=>{this._syncDescribedByIds(),this._changeDetectorRef.markForCheck()}),this._dir&&this._dir.change.pipe(Qt(this._destroyed)).subscribe(()=>{"function"==typeof requestAnimationFrame?this._ngZone.runOutsideAngular(()=>{requestAnimationFrame(()=>this.updateOutlineGap())}):this.updateOutlineGap()})}ngAfterContentChecked(){this._validateControlChild(),this._outlineGapCalculationNeededImmediately&&this.updateOutlineGap()}ngAfterViewInit(){this._subscriptAnimationState="enter",this._changeDetectorRef.detectChanges()}ngOnDestroy(){this._destroyed.next(),this._destroyed.complete()}_shouldForward(e){const r=this._control?this._control.ngControl:null;return r&&r[e]}_hasPlaceholder(){return!!(this._control&&this._control.placeholder||this._placeholderChild)}_hasLabel(){return!(!this._labelChildNonStatic&&!this._labelChildStatic)}_shouldLabelFloat(){return this._canLabelFloat()&&(this._control&&this._control.shouldLabelFloat||this._shouldAlwaysFloat())}_hideControlPlaceholder(){return"legacy"===this.appearance&&!this._hasLabel()||this._hasLabel()&&!this._shouldLabelFloat()}_hasFloatingLabel(){return this._hasLabel()||"legacy"===this.appearance&&this._hasPlaceholder()}_getDisplayedMessages(){return this._errorChildren&&this._errorChildren.length>0&&this._control.errorState?"error":"hint"}_animateAndLockLabel(){this._hasFloatingLabel()&&this._canLabelFloat()&&(this._animationsEnabled&&this._label&&(this._showAlwaysAnimate=!0,zs(this._label.nativeElement,"transitionend").pipe(si(1)).subscribe(()=>{this._showAlwaysAnimate=!1})),this.floatLabel="always",this._changeDetectorRef.markForCheck())}_validatePlaceholders(){}_processHints(){this._validateHints(),this._syncDescribedByIds()}_validateHints(){}_getDefaultFloatLabelState(){return this._defaults&&this._defaults.floatLabel||"auto"}_syncDescribedByIds(){if(this._control){let e=[];if(this._control.userAriaDescribedBy&&"string"==typeof this._control.userAriaDescribedBy&&e.push(...this._control.userAriaDescribedBy.split(" ")),"hint"===this._getDisplayedMessages()){const r=this._hintChildren?this._hintChildren.find(l=>"start"===l.align):null,s=this._hintChildren?this._hintChildren.find(l=>"end"===l.align):null;r?e.push(r.id):this._hintLabel&&e.push(this._hintLabelId),s&&e.push(s.id)}else this._errorChildren&&e.push(...this._errorChildren.map(r=>r.id));this._control.setDescribedByIds(e)}}_validateControlChild(){}updateOutlineGap(){const e=this._label?this._label.nativeElement:null,r=this._connectionContainerRef.nativeElement,s=".mat-form-field-outline-start",l=".mat-form-field-outline-gap";if("outline"!==this.appearance||!this._platform.isBrowser)return;if(!e||!e.children.length||!e.textContent.trim()){const w=r.querySelectorAll(`${s}, ${l}`);for(let x=0;x<w.length;x++)w[x].style.width="0";return}if(!this._isAttachedToDOM())return void(this._outlineGapCalculationNeededImmediately=!0);let u=0,f=0;const m=r.querySelectorAll(s),b=r.querySelectorAll(l);if(this._label&&this._label.nativeElement.children.length){const w=r.getBoundingClientRect();if(0===w.width&&0===w.height)return this._outlineGapCalculationNeededOnStable=!0,void(this._outlineGapCalculationNeededImmediately=!1);const x=this._getStartEnd(w),E=e.children,S=this._getStartEnd(E[0].getBoundingClientRect());let I=0;for(let N=0;N<E.length;N++)I+=E[N].offsetWidth;u=Math.abs(S-x)-5,f=I>0?.75*I+10:0}for(let w=0;w<m.length;w++)m[w].style.width=`${u}px`;for(let w=0;w<b.length;w++)b[w].style.width=`${f}px`;this._outlineGapCalculationNeededOnStable=this._outlineGapCalculationNeededImmediately=!1}_getStartEnd(e){return this._dir&&"rtl"===this._dir.value?e.right:e.left}_isAttachedToDOM(){const e=this._elementRef.nativeElement;if(e.getRootNode){const r=e.getRootNode();return r&&r!==e}return document.documentElement.contains(e)}}return n.\u0275fac=function(e){return new(e||n)(M(ze),M(ei),M(Ia,8),M(RU,8),M(yn),M(He),M(Kn,8))},n.\u0275cmp=Ie({type:n,selectors:[["mat-form-field"]],contentQueries:function(e,r,s){if(1&e&&(bn(s,y0,5),bn(s,y0,7),bn(s,Qd,5),bn(s,Qd,7),bn(s,DU,5),bn(s,lF,5),bn(s,cF,5),bn(s,MU,5),bn(s,uF,5)),2&e){let l;st(l=at())&&(r._controlNonStatic=l.first),st(l=at())&&(r._controlStatic=l.first),st(l=at())&&(r._labelChildNonStatic=l.first),st(l=at())&&(r._labelChildStatic=l.first),st(l=at())&&(r._placeholderChild=l.first),st(l=at())&&(r._errorChildren=l),st(l=at())&&(r._hintChildren=l),st(l=at())&&(r._prefixChildren=l),st(l=at())&&(r._suffixChildren=l)}},viewQuery:function(e,r){if(1&e&&(Jn(cU,7),Jn(dU,5),Jn(uU,5)),2&e){let s;st(s=at())&&(r._connectionContainerRef=s.first),st(s=at())&&(r._inputContainerRef=s.first),st(s=at())&&(r._label=s.first)}},hostAttrs:[1,"mat-form-field"],hostVars:40,hostBindings:function(e,r){2&e&&kt("mat-form-field-appearance-standard","standard"==r.appearance)("mat-form-field-appearance-fill","fill"==r.appearance)("mat-form-field-appearance-outline","outline"==r.appearance)("mat-form-field-appearance-legacy","legacy"==r.appearance)("mat-form-field-invalid",r._control.errorState)("mat-form-field-can-float",r._canLabelFloat())("mat-form-field-should-float",r._shouldLabelFloat())("mat-form-field-has-label",r._hasFloatingLabel())("mat-form-field-hide-placeholder",r._hideControlPlaceholder())("mat-form-field-disabled",r._control.disabled)("mat-form-field-autofilled",r._control.autofilled)("mat-focused",r._control.focused)("ng-untouched",r._shouldForward("untouched"))("ng-touched",r._shouldForward("touched"))("ng-pristine",r._shouldForward("pristine"))("ng-dirty",r._shouldForward("dirty"))("ng-valid",r._shouldForward("valid"))("ng-invalid",r._shouldForward("invalid"))("ng-pending",r._shouldForward("pending"))("_mat-animation-noopable",!r._animationsEnabled)},inputs:{color:"color",appearance:"appearance",hideRequiredMarker:"hideRequiredMarker",hintLabel:"hintLabel",floatLabel:"floatLabel"},exportAs:["matFormField"],features:[_t([{provide:pF,useExisting:n}]),Fe],ngContentSelectors:xU,decls:15,vars:8,consts:[[1,"mat-form-field-wrapper"],[1,"mat-form-field-flex",3,"click"],["connectionContainer",""],[4,"ngIf"],["class","mat-form-field-prefix",3,"cdkObserveContentDisabled","cdkObserveContent",4,"ngIf"],[1,"mat-form-field-infix"],["inputContainer",""],[1,"mat-form-field-label-wrapper"],["class","mat-form-field-label",3,"cdkObserveContentDisabled","id","mat-empty","mat-form-field-empty","mat-accent","mat-warn","ngSwitch","cdkObserveContent",4,"ngIf"],["class","mat-form-field-suffix",4,"ngIf"],["class","mat-form-field-underline",4,"ngIf"],[1,"mat-form-field-subscript-wrapper",3,"ngSwitch"],[4,"ngSwitchCase"],["class","mat-form-field-hint-wrapper",4,"ngSwitchCase"],[1,"mat-form-field-outline"],[1,"mat-form-field-outline-start"],[1,"mat-form-field-outline-gap"],[1,"mat-form-field-outline-end"],[1,"mat-form-field-outline","mat-form-field-outline-thick"],[1,"mat-form-field-prefix",3,"cdkObserveContentDisabled","cdkObserveContent"],[1,"mat-form-field-label",3,"cdkObserveContentDisabled","id","ngSwitch","cdkObserveContent"],["label",""],["class","mat-placeholder-required mat-form-field-required-marker","aria-hidden","true",4,"ngIf"],["aria-hidden","true",1,"mat-placeholder-required","mat-form-field-required-marker"],[1,"mat-form-field-suffix"],[1,"mat-form-field-underline"],[1,"mat-form-field-ripple"],[1,"mat-form-field-hint-wrapper"],["class","mat-hint",3,"id",4,"ngIf"],[1,"mat-form-field-hint-spacer"],[1,"mat-hint",3,"id"]],template:function(e,r){1&e&&(Mn(CU),V(0,"div",0)(1,"div",1,2),Ee("click",function(l){return r._control.onContainerClick&&r._control.onContainerClick(l)}),pe(3,hU,9,0,"ng-container",3),pe(4,fU,2,1,"div",4),V(5,"div",5,6),dt(7),V(8,"span",7),pe(9,_U,5,16,"label",8),B()(),pe(10,bU,2,0,"div",9),B(),pe(11,vU,2,4,"div",10),V(12,"div",11),pe(13,yU,2,1,"div",12),pe(14,kU,5,2,"div",13),B()()),2&e&&(Y(3),Q("ngIf","outline"==r.appearance),Y(1),Q("ngIf",r._prefixChildren.length),Y(5),Q("ngIf",r._hasFloatingLabel()),Y(1),Q("ngIf",r._suffixChildren.length),Y(1),Q("ngIf","outline"!=r.appearance),Y(1),Q("ngSwitch",r._getDisplayedMessages()),Y(1),Q("ngSwitchCase","error"),Y(1),Q("ngSwitchCase","hint"))},directives:[pi,zT,ag,$1],styles:[".mat-form-field{display:inline-block;position:relative;text-align:left}[dir=rtl] .mat-form-field{text-align:right}.mat-form-field-wrapper{position:relative}.mat-form-field-flex{display:inline-flex;align-items:baseline;box-sizing:border-box;width:100%}.mat-form-field-prefix,.mat-form-field-suffix{white-space:nowrap;flex:none;position:relative}.mat-form-field-infix{display:block;position:relative;flex:auto;min-width:0;width:180px}.cdk-high-contrast-active .mat-form-field-infix{border-image:linear-gradient(transparent, transparent)}.mat-form-field-label-wrapper{position:absolute;left:0;box-sizing:content-box;width:100%;height:100%;overflow:hidden;pointer-events:none}[dir=rtl] .mat-form-field-label-wrapper{left:auto;right:0}.mat-form-field-label{position:absolute;left:0;font:inherit;pointer-events:none;width:100%;white-space:nowrap;text-overflow:ellipsis;overflow:hidden;transform-origin:0 0;transition:transform 400ms cubic-bezier(0.25, 0.8, 0.25, 1),color 400ms cubic-bezier(0.25, 0.8, 0.25, 1),width 400ms cubic-bezier(0.25, 0.8, 0.25, 1);display:none}[dir=rtl] .mat-form-field-label{transform-origin:100% 0;left:auto;right:0}.cdk-high-contrast-active .mat-form-field-disabled .mat-form-field-label{color:GrayText}.mat-form-field-empty.mat-form-field-label,.mat-form-field-can-float.mat-form-field-should-float .mat-form-field-label{display:block}.mat-form-field-autofill-control:-webkit-autofill+.mat-form-field-label-wrapper .mat-form-field-label{display:none}.mat-form-field-can-float .mat-form-field-autofill-control:-webkit-autofill+.mat-form-field-label-wrapper .mat-form-field-label{display:block;transition:none}.mat-input-server:focus+.mat-form-field-label-wrapper .mat-form-field-label,.mat-input-server[placeholder]:not(:placeholder-shown)+.mat-form-field-label-wrapper .mat-form-field-label{display:none}.mat-form-field-can-float .mat-input-server:focus+.mat-form-field-label-wrapper .mat-form-field-label,.mat-form-field-can-float .mat-input-server[placeholder]:not(:placeholder-shown)+.mat-form-field-label-wrapper .mat-form-field-label{display:block}.mat-form-field-label:not(.mat-form-field-empty){transition:none}.mat-form-field-underline{position:absolute;width:100%;pointer-events:none;transform:scale3d(1, 1.0001, 1)}.mat-form-field-ripple{position:absolute;left:0;width:100%;transform-origin:50%;transform:scaleX(0.5);opacity:0;transition:background-color 300ms cubic-bezier(0.55, 0, 0.55, 0.2)}.mat-form-field.mat-focused .mat-form-field-ripple,.mat-form-field.mat-form-field-invalid .mat-form-field-ripple{opacity:1;transform:none;transition:transform 300ms cubic-bezier(0.25, 0.8, 0.25, 1),opacity 100ms cubic-bezier(0.25, 0.8, 0.25, 1),background-color 300ms cubic-bezier(0.25, 0.8, 0.25, 1)}.mat-form-field-subscript-wrapper{position:absolute;box-sizing:border-box;width:100%;overflow:hidden}.mat-form-field-subscript-wrapper .mat-icon,.mat-form-field-label-wrapper .mat-icon{width:1em;height:1em;font-size:inherit;vertical-align:baseline}.mat-form-field-hint-wrapper{display:flex}.mat-form-field-hint-spacer{flex:1 0 1em}.mat-error{display:block}.mat-form-field-control-wrapper{position:relative}.mat-form-field-hint-end{order:1}.mat-form-field._mat-animation-noopable .mat-form-field-label,.mat-form-field._mat-animation-noopable .mat-form-field-ripple{transition:none}\n",'.mat-form-field-appearance-fill .mat-form-field-flex{border-radius:4px 4px 0 0;padding:.75em .75em 0 .75em}.cdk-high-contrast-active .mat-form-field-appearance-fill .mat-form-field-flex{outline:solid 1px}.cdk-high-contrast-active .mat-form-field-appearance-fill.mat-form-field-disabled .mat-form-field-flex{outline-color:GrayText}.cdk-high-contrast-active .mat-form-field-appearance-fill.mat-focused .mat-form-field-flex{outline:dashed 3px}.mat-form-field-appearance-fill .mat-form-field-underline::before{content:"";display:block;position:absolute;bottom:0;height:1px;width:100%}.mat-form-field-appearance-fill .mat-form-field-ripple{bottom:0;height:2px}.cdk-high-contrast-active .mat-form-field-appearance-fill .mat-form-field-ripple{height:0}.mat-form-field-appearance-fill:not(.mat-form-field-disabled) .mat-form-field-flex:hover~.mat-form-field-underline .mat-form-field-ripple{opacity:1;transform:none;transition:opacity 600ms cubic-bezier(0.25, 0.8, 0.25, 1)}.mat-form-field-appearance-fill._mat-animation-noopable:not(.mat-form-field-disabled) .mat-form-field-flex:hover~.mat-form-field-underline .mat-form-field-ripple{transition:none}.mat-form-field-appearance-fill .mat-form-field-subscript-wrapper{padding:0 1em}\n','.mat-input-element{font:inherit;background:transparent;color:currentColor;border:none;outline:none;padding:0;margin:0;width:100%;max-width:100%;vertical-align:bottom;text-align:inherit;box-sizing:content-box}.mat-input-element:-moz-ui-invalid{box-shadow:none}.mat-input-element,.mat-input-element::-webkit-search-cancel-button,.mat-input-element::-webkit-search-decoration,.mat-input-element::-webkit-search-results-button,.mat-input-element::-webkit-search-results-decoration{-webkit-appearance:none}.mat-input-element::-webkit-contacts-auto-fill-button,.mat-input-element::-webkit-caps-lock-indicator,.mat-input-element:not([type=password])::-webkit-credentials-auto-fill-button{visibility:hidden}.mat-input-element[type=date],.mat-input-element[type=datetime],.mat-input-element[type=datetime-local],.mat-input-element[type=month],.mat-input-element[type=week],.mat-input-element[type=time]{line-height:1}.mat-input-element[type=date]::after,.mat-input-element[type=datetime]::after,.mat-input-element[type=datetime-local]::after,.mat-input-element[type=month]::after,.mat-input-element[type=week]::after,.mat-input-element[type=time]::after{content:" ";white-space:pre;width:1px}.mat-input-element::-webkit-inner-spin-button,.mat-input-element::-webkit-calendar-picker-indicator,.mat-input-element::-webkit-clear-button{font-size:.75em}.mat-input-element::placeholder{-webkit-user-select:none;user-select:none;transition:color 400ms 133.3333333333ms cubic-bezier(0.25, 0.8, 0.25, 1)}.mat-input-element::-moz-placeholder{-webkit-user-select:none;user-select:none;transition:color 400ms 133.3333333333ms cubic-bezier(0.25, 0.8, 0.25, 1)}.mat-input-element::-webkit-input-placeholder{-webkit-user-select:none;user-select:none;transition:color 400ms 133.3333333333ms cubic-bezier(0.25, 0.8, 0.25, 1)}.mat-input-element:-ms-input-placeholder{-webkit-user-select:none;user-select:none;transition:color 400ms 133.3333333333ms cubic-bezier(0.25, 0.8, 0.25, 1)}.mat-form-field-hide-placeholder .mat-input-element::placeholder{color:transparent !important;-webkit-text-fill-color:transparent;transition:none}.cdk-high-contrast-active .mat-form-field-hide-placeholder .mat-input-element::placeholder{opacity:0}.mat-form-field-hide-placeholder .mat-input-element::-moz-placeholder{color:transparent !important;-webkit-text-fill-color:transparent;transition:none}.cdk-high-contrast-active .mat-form-field-hide-placeholder .mat-input-element::-moz-placeholder{opacity:0}.mat-form-field-hide-placeholder .mat-input-element::-webkit-input-placeholder{color:transparent !important;-webkit-text-fill-color:transparent;transition:none}.cdk-high-contrast-active .mat-form-field-hide-placeholder .mat-input-element::-webkit-input-placeholder{opacity:0}.mat-form-field-hide-placeholder .mat-input-element:-ms-input-placeholder{color:transparent !important;-webkit-text-fill-color:transparent;transition:none}.cdk-high-contrast-active .mat-form-field-hide-placeholder .mat-input-element:-ms-input-placeholder{opacity:0}textarea.mat-input-element{resize:vertical;overflow:auto}textarea.mat-input-element.cdk-textarea-autosize{resize:none}textarea.mat-input-element{padding:2px 0;margin:-2px 0}select.mat-input-element{-moz-appearance:none;-webkit-appearance:none;position:relative;background-color:transparent;display:inline-flex;box-sizing:border-box;padding-top:1em;top:-1em;margin-bottom:-1em}select.mat-input-element::-moz-focus-inner{border:0}select.mat-input-element:not(:disabled){cursor:pointer}.mat-form-field-type-mat-native-select .mat-form-field-infix::after{content:"";width:0;height:0;border-left:5px solid transparent;border-right:5px solid transparent;border-top:5px solid;position:absolute;top:50%;right:0;margin-top:-2.5px;pointer-events:none}[dir=rtl] .mat-form-field-type-mat-native-select .mat-form-field-infix::after{right:auto;left:0}.mat-form-field-type-mat-native-select .mat-input-element{padding-right:15px}[dir=rtl] .mat-form-field-type-mat-native-select .mat-input-element{padding-right:0;padding-left:15px}.mat-form-field-type-mat-native-select .mat-form-field-label-wrapper{max-width:calc(100% - 10px)}.mat-form-field-type-mat-native-select.mat-form-field-appearance-outline .mat-form-field-infix::after{margin-top:-5px}.mat-form-field-type-mat-native-select.mat-form-field-appearance-fill .mat-form-field-infix::after{margin-top:-10px}\n',".mat-form-field-appearance-legacy .mat-form-field-label{transform:perspective(100px)}.mat-form-field-appearance-legacy .mat-form-field-prefix .mat-icon,.mat-form-field-appearance-legacy .mat-form-field-suffix .mat-icon{width:1em}.mat-form-field-appearance-legacy .mat-form-field-prefix .mat-icon-button,.mat-form-field-appearance-legacy .mat-form-field-suffix .mat-icon-button{font:inherit;vertical-align:baseline}.mat-form-field-appearance-legacy .mat-form-field-prefix .mat-icon-button .mat-icon,.mat-form-field-appearance-legacy .mat-form-field-suffix .mat-icon-button .mat-icon{font-size:inherit}.mat-form-field-appearance-legacy .mat-form-field-underline{height:1px}.cdk-high-contrast-active .mat-form-field-appearance-legacy .mat-form-field-underline{height:0;border-top:solid 1px}.mat-form-field-appearance-legacy .mat-form-field-ripple{top:0;height:2px;overflow:hidden}.cdk-high-contrast-active .mat-form-field-appearance-legacy .mat-form-field-ripple{height:0;border-top:solid 2px}.mat-form-field-appearance-legacy.mat-form-field-disabled .mat-form-field-underline{background-position:0;background-color:transparent}.cdk-high-contrast-active .mat-form-field-appearance-legacy.mat-form-field-disabled .mat-form-field-underline{border-top-style:dotted;border-top-width:2px;border-top-color:GrayText}.mat-form-field-appearance-legacy.mat-form-field-invalid:not(.mat-focused) .mat-form-field-ripple{height:1px}\n",".mat-form-field-appearance-outline .mat-form-field-wrapper{margin:.25em 0}.mat-form-field-appearance-outline .mat-form-field-flex{padding:0 .75em 0 .75em;margin-top:-0.25em;position:relative}.mat-form-field-appearance-outline .mat-form-field-prefix,.mat-form-field-appearance-outline .mat-form-field-suffix{top:.25em}.mat-form-field-appearance-outline .mat-form-field-outline{display:flex;position:absolute;top:.25em;left:0;right:0;bottom:0;pointer-events:none}.mat-form-field-appearance-outline .mat-form-field-outline-start,.mat-form-field-appearance-outline .mat-form-field-outline-end{border:1px solid currentColor;min-width:5px}.mat-form-field-appearance-outline .mat-form-field-outline-start{border-radius:5px 0 0 5px;border-right-style:none}[dir=rtl] .mat-form-field-appearance-outline .mat-form-field-outline-start{border-right-style:solid;border-left-style:none;border-radius:0 5px 5px 0}.mat-form-field-appearance-outline .mat-form-field-outline-end{border-radius:0 5px 5px 0;border-left-style:none;flex-grow:1}[dir=rtl] .mat-form-field-appearance-outline .mat-form-field-outline-end{border-left-style:solid;border-right-style:none;border-radius:5px 0 0 5px}.mat-form-field-appearance-outline .mat-form-field-outline-gap{border-radius:.000001px;border:1px solid currentColor;border-left-style:none;border-right-style:none}.mat-form-field-appearance-outline.mat-form-field-can-float.mat-form-field-should-float .mat-form-field-outline-gap{border-top-color:transparent}.mat-form-field-appearance-outline .mat-form-field-outline-thick{opacity:0}.mat-form-field-appearance-outline .mat-form-field-outline-thick .mat-form-field-outline-start,.mat-form-field-appearance-outline .mat-form-field-outline-thick .mat-form-field-outline-end,.mat-form-field-appearance-outline .mat-form-field-outline-thick .mat-form-field-outline-gap{border-width:2px}.mat-form-field-appearance-outline.mat-focused .mat-form-field-outline,.mat-form-field-appearance-outline.mat-form-field-invalid .mat-form-field-outline{opacity:0;transition:opacity 100ms cubic-bezier(0.25, 0.8, 0.25, 1)}.mat-form-field-appearance-outline.mat-focused .mat-form-field-outline-thick,.mat-form-field-appearance-outline.mat-form-field-invalid .mat-form-field-outline-thick{opacity:1}.cdk-high-contrast-active .mat-form-field-appearance-outline.mat-focused .mat-form-field-outline-thick{border:3px dashed}.mat-form-field-appearance-outline:not(.mat-form-field-disabled) .mat-form-field-flex:hover .mat-form-field-outline{opacity:0;transition:opacity 600ms cubic-bezier(0.25, 0.8, 0.25, 1)}.mat-form-field-appearance-outline:not(.mat-form-field-disabled) .mat-form-field-flex:hover .mat-form-field-outline-thick{opacity:1}.mat-form-field-appearance-outline .mat-form-field-subscript-wrapper{padding:0 1em}.cdk-high-contrast-active .mat-form-field-appearance-outline.mat-form-field-disabled .mat-form-field-outline{color:GrayText}.mat-form-field-appearance-outline._mat-animation-noopable:not(.mat-form-field-disabled) .mat-form-field-flex:hover~.mat-form-field-outline,.mat-form-field-appearance-outline._mat-animation-noopable .mat-form-field-outline,.mat-form-field-appearance-outline._mat-animation-noopable .mat-form-field-outline-start,.mat-form-field-appearance-outline._mat-animation-noopable .mat-form-field-outline-end,.mat-form-field-appearance-outline._mat-animation-noopable .mat-form-field-outline-gap{transition:none}\n",".mat-form-field-appearance-standard .mat-form-field-flex{padding-top:.75em}.mat-form-field-appearance-standard .mat-form-field-underline{height:1px}.cdk-high-contrast-active .mat-form-field-appearance-standard .mat-form-field-underline{height:0;border-top:solid 1px}.mat-form-field-appearance-standard .mat-form-field-ripple{bottom:0;height:2px}.cdk-high-contrast-active .mat-form-field-appearance-standard .mat-form-field-ripple{height:0;border-top:solid 2px}.mat-form-field-appearance-standard.mat-form-field-disabled .mat-form-field-underline{background-position:0;background-color:transparent}.cdk-high-contrast-active .mat-form-field-appearance-standard.mat-form-field-disabled .mat-form-field-underline{border-top-style:dotted;border-top-width:2px}.mat-form-field-appearance-standard:not(.mat-form-field-disabled) .mat-form-field-flex:hover~.mat-form-field-underline .mat-form-field-ripple{opacity:1;transform:none;transition:opacity 600ms cubic-bezier(0.25, 0.8, 0.25, 1)}.mat-form-field-appearance-standard._mat-animation-noopable:not(.mat-form-field-disabled) .mat-form-field-flex:hover~.mat-form-field-underline .mat-form-field-ripple{transition:none}\n"],encapsulation:2,data:{animation:[EU.transitionMessages]},changeDetection:0}),n})(),mF=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=ue({type:n}),n.\u0275inj=Se({imports:[[Qi,xt,Sw],xt]}),n})();function HE(n=0,t,e=Az){let r=-1;return null!=t&&(au(t)?e=t:r=t),new Ft(s=>{let l=function FU(n){return n instanceof Date&&!isNaN(n)}(n)?+n-e.now():n;l<0&&(l=0);let u=0;return e.schedule(function(){s.closed||(s.next(u++),0<=r?this.schedule(void 0,r):s.complete())},l)})}function UE(n,t=xw){return function OU(n){return mn((t,e)=>{let r=!1,s=null,l=null,u=!1;const f=()=>{if(null==l||l.unsubscribe(),l=null,r){r=!1;const b=s;s=null,e.next(b)}u&&e.complete()},m=()=>{l=null,u&&e.complete()};t.subscribe(on(e,b=>{r=!0,s=b,l||gi(n(b)).subscribe(l=on(e,f,m))},()=>{u=!0,(!r||!l||l.closed)&&e.complete()}))})}(()=>HE(n,t))}const gF=Fh({passive:!0});let NU=(()=>{class n{constructor(e,r){this._platform=e,this._ngZone=r,this._monitoredElements=new Map}monitor(e){if(!this._platform.isBrowser)return Fr;const r=Pa(e),s=this._monitoredElements.get(r);if(s)return s.subject;const l=new Oe,u="cdk-text-field-autofilled",f=m=>{"cdk-text-field-autofill-start"!==m.animationName||r.classList.contains(u)?"cdk-text-field-autofill-end"===m.animationName&&r.classList.contains(u)&&(r.classList.remove(u),this._ngZone.run(()=>l.next({target:m.target,isAutofilled:!1}))):(r.classList.add(u),this._ngZone.run(()=>l.next({target:m.target,isAutofilled:!0})))};return this._ngZone.runOutsideAngular(()=>{r.addEventListener("animationstart",f,gF),r.classList.add("cdk-text-field-autofill-monitored")}),this._monitoredElements.set(r,{subject:l,unlisten:()=>{r.removeEventListener("animationstart",f,gF)}}),l}stopMonitoring(e){const r=Pa(e),s=this._monitoredElements.get(r);s&&(s.unlisten(),s.subject.complete(),r.classList.remove("cdk-text-field-autofill-monitored"),r.classList.remove("cdk-text-field-autofilled"),this._monitoredElements.delete(r))}ngOnDestroy(){this._monitoredElements.forEach((e,r)=>this.stopMonitoring(r))}}return n.\u0275fac=function(e){return new(e||n)(L(yn),L(He))},n.\u0275prov=oe({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),LU=(()=>{class n{constructor(e,r,s,l){this._elementRef=e,this._platform=r,this._ngZone=s,this._destroyed=new Oe,this._enabled=!0,this._previousMinRows=-1,this._isViewInited=!1,this._handleFocusEvent=u=>{this._hasFocus="focus"===u.type},this._document=l,this._textareaElement=this._elementRef.nativeElement}get minRows(){return this._minRows}set minRows(e){this._minRows=Yo(e),this._setMinHeight()}get maxRows(){return this._maxRows}set maxRows(e){this._maxRows=Yo(e),this._setMaxHeight()}get enabled(){return this._enabled}set enabled(e){e=jt(e),this._enabled!==e&&((this._enabled=e)?this.resizeToFitContent(!0):this.reset())}get placeholder(){return this._textareaElement.placeholder}set placeholder(e){this._cachedPlaceholderHeight=void 0,e?this._textareaElement.setAttribute("placeholder",e):this._textareaElement.removeAttribute("placeholder"),this._cacheTextareaPlaceholderHeight()}_setMinHeight(){const e=this.minRows&&this._cachedLineHeight?this.minRows*this._cachedLineHeight+"px":null;e&&(this._textareaElement.style.minHeight=e)}_setMaxHeight(){const e=this.maxRows&&this._cachedLineHeight?this.maxRows*this._cachedLineHeight+"px":null;e&&(this._textareaElement.style.maxHeight=e)}ngAfterViewInit(){this._platform.isBrowser&&(this._initialHeight=this._textareaElement.style.height,this.resizeToFitContent(),this._ngZone.runOutsideAngular(()=>{zs(this._getWindow(),"resize").pipe(UE(16),Qt(this._destroyed)).subscribe(()=>this.resizeToFitContent(!0)),this._textareaElement.addEventListener("focus",this._handleFocusEvent),this._textareaElement.addEventListener("blur",this._handleFocusEvent)}),this._isViewInited=!0,this.resizeToFitContent(!0))}ngOnDestroy(){this._textareaElement.removeEventListener("focus",this._handleFocusEvent),this._textareaElement.removeEventListener("blur",this._handleFocusEvent),this._destroyed.next(),this._destroyed.complete()}_cacheTextareaLineHeight(){if(this._cachedLineHeight)return;let e=this._textareaElement.cloneNode(!1);e.rows=1,e.style.position="absolute",e.style.visibility="hidden",e.style.border="none",e.style.padding="0",e.style.height="",e.style.minHeight="",e.style.maxHeight="",e.style.overflow="hidden",this._textareaElement.parentNode.appendChild(e),this._cachedLineHeight=e.clientHeight,e.remove(),this._setMinHeight(),this._setMaxHeight()}_measureScrollHeight(){const e=this._textareaElement,r=e.style.marginBottom||"",s=this._platform.FIREFOX,l=s&&this._hasFocus,u=s?"cdk-textarea-autosize-measuring-firefox":"cdk-textarea-autosize-measuring";l&&(e.style.marginBottom=`${e.clientHeight}px`),e.classList.add(u);const f=e.scrollHeight-4;return e.classList.remove(u),l&&(e.style.marginBottom=r),f}_cacheTextareaPlaceholderHeight(){if(!this._isViewInited||null!=this._cachedPlaceholderHeight)return;if(!this.placeholder)return void(this._cachedPlaceholderHeight=0);const e=this._textareaElement.value;this._textareaElement.value=this._textareaElement.placeholder,this._cachedPlaceholderHeight=this._measureScrollHeight(),this._textareaElement.value=e}ngDoCheck(){this._platform.isBrowser&&this.resizeToFitContent()}resizeToFitContent(e=!1){if(!this._enabled||(this._cacheTextareaLineHeight(),this._cacheTextareaPlaceholderHeight(),!this._cachedLineHeight))return;const r=this._elementRef.nativeElement,s=r.value;if(!e&&this._minRows===this._previousMinRows&&s===this._previousValue)return;const l=this._measureScrollHeight(),u=Math.max(l,this._cachedPlaceholderHeight||0);r.style.height=`${u}px`,this._ngZone.runOutsideAngular(()=>{"undefined"!=typeof requestAnimationFrame?requestAnimationFrame(()=>this._scrollToCaretPosition(r)):setTimeout(()=>this._scrollToCaretPosition(r))}),this._previousValue=s,this._previousMinRows=this._minRows}reset(){void 0!==this._initialHeight&&(this._textareaElement.style.height=this._initialHeight)}_noopInputHandler(){}_getDocument(){return this._document||document}_getWindow(){return this._getDocument().defaultView||window}_scrollToCaretPosition(e){const{selectionStart:r,selectionEnd:s}=e;!this._destroyed.isStopped&&this._hasFocus&&e.setSelectionRange(r,s)}}return n.\u0275fac=function(e){return new(e||n)(M(ze),M(yn),M(He),M(ot,8))},n.\u0275dir=se({type:n,selectors:[["textarea","cdkTextareaAutosize",""]],hostAttrs:["rows","1",1,"cdk-textarea-autosize"],hostBindings:function(e,r){1&e&&Ee("input",function(){return r._noopInputHandler()})},inputs:{minRows:["cdkAutosizeMinRows","minRows"],maxRows:["cdkAutosizeMaxRows","maxRows"],enabled:["cdkTextareaAutosize","enabled"],placeholder:"placeholder"},exportAs:["cdkTextareaAutosize"]}),n})(),_F=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=ue({type:n}),n.\u0275inj=Se({}),n})();const BU=new re("MAT_INPUT_VALUE_ACCESSOR"),VU=["button","checkbox","file","hidden","image","radio","range","reset","submit"];let jU=0;const zU=zR(class{constructor(n,t,e,r){this._defaultErrorStateMatcher=n,this._parentForm=t,this._parentFormGroup=e,this.ngControl=r}});let Uh=(()=>{class n extends zU{constructor(e,r,s,l,u,f,m,b,w,x){super(f,l,u,s),this._elementRef=e,this._platform=r,this._autofillMonitor=b,this._formField=x,this._uid="mat-input-"+jU++,this.focused=!1,this.stateChanges=new Oe,this.controlType="mat-input",this.autofilled=!1,this._disabled=!1,this._type="text",this._readonly=!1,this._neverEmptyInputTypes=["date","datetime","datetime-local","month","time","week"].filter(I=>EP().has(I)),this._iOSKeyupListener=I=>{const N=I.target;!N.value&&0===N.selectionStart&&0===N.selectionEnd&&(N.setSelectionRange(1,1),N.setSelectionRange(0,0))};const E=this._elementRef.nativeElement,S=E.nodeName.toLowerCase();this._inputValueAccessor=m||E,this._previousNativeValue=this.value,this.id=this.id,r.IOS&&w.runOutsideAngular(()=>{e.nativeElement.addEventListener("keyup",this._iOSKeyupListener)}),this._isServer=!this._platform.isBrowser,this._isNativeSelect="select"===S,this._isTextarea="textarea"===S,this._isInFormField=!!x,this._isNativeSelect&&(this.controlType=E.multiple?"mat-native-select-multiple":"mat-native-select")}get disabled(){return this.ngControl&&null!==this.ngControl.disabled?this.ngControl.disabled:this._disabled}set disabled(e){this._disabled=jt(e),this.focused&&(this.focused=!1,this.stateChanges.next())}get id(){return this._id}set id(e){this._id=e||this._uid}get required(){var e,r,s,l;return null!==(l=null!==(e=this._required)&&void 0!==e?e:null===(s=null===(r=this.ngControl)||void 0===r?void 0:r.control)||void 0===s?void 0:s.hasValidator(Ud.required))&&void 0!==l&&l}set required(e){this._required=jt(e)}get type(){return this._type}set type(e){this._type=e||"text",this._validateType(),!this._isTextarea&&EP().has(this._type)&&(this._elementRef.nativeElement.type=this._type)}get value(){return this._inputValueAccessor.value}set value(e){e!==this.value&&(this._inputValueAccessor.value=e,this.stateChanges.next())}get readonly(){return this._readonly}set readonly(e){this._readonly=jt(e)}ngAfterViewInit(){this._platform.isBrowser&&this._autofillMonitor.monitor(this._elementRef.nativeElement).subscribe(e=>{this.autofilled=e.isAutofilled,this.stateChanges.next()})}ngOnChanges(){this.stateChanges.next()}ngOnDestroy(){this.stateChanges.complete(),this._platform.isBrowser&&this._autofillMonitor.stopMonitoring(this._elementRef.nativeElement),this._platform.IOS&&this._elementRef.nativeElement.removeEventListener("keyup",this._iOSKeyupListener)}ngDoCheck(){this.ngControl&&this.updateErrorState(),this._dirtyCheckNativeValue(),this._dirtyCheckPlaceholder()}focus(e){this._elementRef.nativeElement.focus(e)}_focusChanged(e){e!==this.focused&&(this.focused=e,this.stateChanges.next())}_onInput(){}_dirtyCheckPlaceholder(){var e,r;const s=(null===(r=null===(e=this._formField)||void 0===e?void 0:e._hideControlPlaceholder)||void 0===r?void 0:r.call(e))?null:this.placeholder;if(s!==this._previousPlaceholder){const l=this._elementRef.nativeElement;this._previousPlaceholder=s,s?l.setAttribute("placeholder",s):l.removeAttribute("placeholder")}}_dirtyCheckNativeValue(){const e=this._elementRef.nativeElement.value;this._previousNativeValue!==e&&(this._previousNativeValue=e,this.stateChanges.next())}_validateType(){VU.indexOf(this._type)}_isNeverEmpty(){return this._neverEmptyInputTypes.indexOf(this._type)>-1}_isBadInput(){let e=this._elementRef.nativeElement.validity;return e&&e.badInput}get empty(){return!(this._isNeverEmpty()||this._elementRef.nativeElement.value||this._isBadInput()||this.autofilled)}get shouldLabelFloat(){if(this._isNativeSelect){const e=this._elementRef.nativeElement,r=e.options[0];return this.focused||e.multiple||!this.empty||!!(e.selectedIndex>-1&&r&&r.label)}return this.focused||!this.empty}setDescribedByIds(e){e.length?this._elementRef.nativeElement.setAttribute("aria-describedby",e.join(" ")):this._elementRef.nativeElement.removeAttribute("aria-describedby")}onContainerClick(){this.focused||this.focus()}_isInlineSelect(){const e=this._elementRef.nativeElement;return this._isNativeSelect&&(e.multiple||e.size>1)}}return n.\u0275fac=function(e){return new(e||n)(M(ze),M(yn),M(Hs,10),M(Bg,8),M(Ao,8),M(Zw),M(BU,10),M(NU),M(He),M(pF,8))},n.\u0275dir=se({type:n,selectors:[["input","matInput",""],["textarea","matInput",""],["select","matNativeControl",""],["input","matNativeControl",""],["textarea","matNativeControl",""]],hostAttrs:[1,"mat-input-element","mat-form-field-autofill-control"],hostVars:12,hostBindings:function(e,r){1&e&&Ee("focus",function(){return r._focusChanged(!0)})("blur",function(){return r._focusChanged(!1)})("input",function(){return r._onInput()}),2&e&&(Ll("disabled",r.disabled)("required",r.required),mt("id",r.id)("data-placeholder",r.placeholder)("name",r.name||null)("readonly",r.readonly&&!r._isNativeSelect||null)("aria-invalid",r.empty&&r.required?null:r.errorState)("aria-required",r.required),kt("mat-input-server",r._isServer)("mat-native-select-inline",r._isInlineSelect()))},inputs:{disabled:"disabled",id:"id",placeholder:"placeholder",name:"name",required:"required",type:"type",errorStateMatcher:"errorStateMatcher",userAriaDescribedBy:["aria-describedby","userAriaDescribedBy"],value:"value",readonly:"readonly"},exportAs:["matInput"],features:[_t([{provide:y0,useExisting:n}]),Fe,xn]}),n})(),HU=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=ue({type:n}),n.\u0275inj=Se({providers:[Zw],imports:[[_F,mF,xt],_F,mF]}),n})();function UU(n,t){if(1&n&&(Jt(0),V(1,"h1"),Gm(2,2),B(),rn()),2&n){const e=t.ngIf;Y(2),Zx(e.name),hM(2)}}function $U(n,t){1&n&&(V(0,"mat-error"),y(1,"Invalid user name or password"),B())}function WU(n,t){if(1&n){const e=Dn();Jt(0),V(1,"form",3),Ee("ngSubmit",function(){return it(e),ce().tryLogin()}),V(2,"mat-form-field")(3,"mat-label"),y(4,"User Name"),B(),Me(5,"input",4),V(6,"mat-error"),y(7,"Please enter your user name"),B()(),V(8,"mat-form-field")(9,"mat-label"),y(10,"Password"),B(),Me(11,"input",5),V(12,"mat-error"),y(13,"Please enter your password"),B()(),V(14,"div",6),pe(15,$U,2,0,"mat-error",1),B(),V(16,"div",7)(17,"button",8),y(18," Login "),B()()(),rn()}if(2&n){const e=ce();Y(1),Q("formGroup",e.loginForm),Y(14),Q("ngIf",e.loginForm.hasError("invalidUserOrPassword"))}}const qU=[{path:"",redirectTo:"codex",pathMatch:"full"},{path:"login",component:(()=>{class n{constructor(e,r,s,l){this.authService=e,this.router=r,this.route=s,this.fb=l,this.loginForm=this.fb.group({userName:["",Ud.required],password:["",Ud.required]}),this.hide=!0,this.webPageSize=qd}get userName(){return this.loginForm.get("userName")}get password(){return this.loginForm.get("password")}tryLogin(){this.loginForm.valid&&this.authService.login(this.loginForm.get("userName").value,this.loginForm.get("password").value).subscribe(e=>{const r=this.route.snapshot.queryParamMap.get("next");this.router.navigateByUrl(r)},e=>(400===e.status&&this.loginForm.setErrors({invalidUserOrPassword:!0}),jl(e)))}}return n.\u0275fac=function(e){return new(e||n)(M(Vs),M(ii),M(to),M(Wd))},n.\u0275cmp=Ie({type:n,selectors:[["app-login"]],decls:11,vars:7,consts:function(){let t;return t=$localize`:␟78bbf45f2b13b0f563e0d8d858b2fb0e3c6d3cd2␟7024494788454221699:You are already connected as ${"\ufffd0\ufffd"}:INTERPOLATION:.`,[[3,"pageSize"],[4,"ngIf"],t,[1,"login-form",3,"formGroup","ngSubmit"],["formControlName","userName","matInput","","name","username","type","text"],["formControlName","password","matInput","","name","password","type","password"],[1,"formGroupError"],[1,"button-container"],["color","primary","mat-raised-button","","type","submit"]]},template:function(e,r){1&e&&(V(0,"app-web-page")(1,"app-web-page-header")(2,"app-web-page-title"),y(3,"Connexion"),B()(),V(4,"app-web-page-content",0)(5,"mat-card")(6,"mat-card-content"),pe(7,UU,3,1,"ng-container",1),Co(8,"async"),pe(9,WU,19,2,"ng-container",1),Co(10,"async"),B()()()()),2&e&&(Y(4),Q("pageSize",r.webPageSize.ExtraSmall),Y(3),Q("ngIf",Bl(8,3,r.authService.currentUser$)),Y(2),Q("ngIf",!Bl(10,5,r.authService.currentUser$)))},directives:[ja,za,Ha,Ua,Kd,Gd,pi,ic,nc,Ao,Hh,Qd,La,Uh,Ba,Va,v0,Or],pipes:[Ky],styles:[".mat-card-content[_ngcontent-%COMP%]{padding:2em}form[_ngcontent-%COMP%]   .mat-form-field[_ngcontent-%COMP%]{display:block;margin-bottom:1em}form[_ngcontent-%COMP%]   .button-container[_ngcontent-%COMP%]{display:flex;justify-content:space-evenly}form[_ngcontent-%COMP%]   .mat-form-field[_ngcontent-%COMP%]:last-of-type{margin-bottom:2em}form[_ngcontent-%COMP%]   .formGroupError[_ngcontent-%COMP%]{height:1em;margin-bottom:1.5em}form[_ngcontent-%COMP%]   .mat-form-field[_ngcontent-%COMP%]:last-of-type{margin-bottom:0}h1[_ngcontent-%COMP%]{-webkit-hyphens:none;hyphens:none}"]}),n})()},{path:"logout",component:(()=>{class n{constructor(e){this.authService=e}ngOnInit(){this.authService.logout()}}return n.\u0275fac=function(e){return new(e||n)(M(Vs))},n.\u0275cmp=Ie({type:n,selectors:[["app-logout"]],decls:7,vars:0,consts:function(){let t;return t=$localize`:␟6d032a80ebc8d93a0c73f5acafe6b3cf397638be␟7644057174483029242:You are disconnected`,[t]},template:function(e,r){1&e&&(V(0,"app-web-page")(1,"app-web-page-header")(2,"app-web-page-title"),y(3,"Disconnection"),B()(),V(4,"app-web-page-content")(5,"h1"),Gm(6,0),B()()())},directives:[ja,za,Ha,Ua],styles:["h1[_ngcontent-%COMP%]{padding:1em;text-align:center}"]}),n})()}];let GU=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=ue({type:n}),n.\u0275inj=Se({imports:[[$l.forRoot(qU)],$l]}),n})();const zg={schedule(n){let t=requestAnimationFrame,e=cancelAnimationFrame;const{delegate:r}=zg;r&&(t=r.requestAnimationFrame,e=r.cancelAnimationFrame);const s=t(l=>{e=void 0,n(l)});return new U(()=>null==e?void 0:e(s))},requestAnimationFrame(...n){const{delegate:t}=zg;return((null==t?void 0:t.requestAnimationFrame)||requestAnimationFrame)(...n)},cancelAnimationFrame(...n){const{delegate:t}=zg;return((null==t?void 0:t.cancelAnimationFrame)||cancelAnimationFrame)(...n)},delegate:void 0};new class QU extends jT{flush(t){this._active=!0;const e=this._scheduled;this._scheduled=void 0;const{actions:r}=this;let s;t=t||r.shift();do{if(s=t.execute(t.state,t.delay))break}while((t=r[0])&&t.id===e&&r.shift());if(this._active=!1,s){for(;(t=r[0])&&t.id===e&&r.shift();)t.unsubscribe();throw s}}}(class KU extends VT{constructor(t,e){super(t,e),this.scheduler=t,this.work=e}requestAsyncId(t,e,r=0){return null!==r&&r>0?super.requestAsyncId(t,e,r):(t.actions.push(this),t._scheduled||(t._scheduled=zg.requestAnimationFrame(()=>t.flush(void 0))))}recycleAsyncId(t,e,r=0){if(null!=r&&r>0||null==r&&this.delay>0)return super.recycleAsyncId(t,e,r);t.actions.some(s=>s.id===e)||(zg.cancelAnimationFrame(e),t._scheduled=void 0)}});let $E,ZU=1;const w0={};function bF(n){return n in w0&&(delete w0[n],!0)}const XU={setImmediate(n){const t=ZU++;return w0[t]=!0,$E||($E=Promise.resolve()),$E.then(()=>bF(t)&&n()),t},clearImmediate(n){bF(n)}},{setImmediate:JU,clearImmediate:e$}=XU,k0={setImmediate(...n){const{delegate:t}=k0;return((null==t?void 0:t.setImmediate)||JU)(...n)},clearImmediate(n){const{delegate:t}=k0;return((null==t?void 0:t.clearImmediate)||e$)(n)},delegate:void 0};new class n$ extends jT{flush(t){this._active=!0;const e=this._scheduled;this._scheduled=void 0;const{actions:r}=this;let s;t=t||r.shift();do{if(s=t.execute(t.state,t.delay))break}while((t=r[0])&&t.id===e&&r.shift());if(this._active=!1,s){for(;(t=r[0])&&t.id===e&&r.shift();)t.unsubscribe();throw s}}}(class t$ extends VT{constructor(t,e){super(t,e),this.scheduler=t,this.work=e}requestAsyncId(t,e,r=0){return null!==r&&r>0?super.requestAsyncId(t,e,r):(t.actions.push(this),t._scheduled||(t._scheduled=k0.setImmediate(t.flush.bind(t,void 0))))}recycleAsyncId(t,e,r=0){if(null!=r&&r>0||null==r&&this.delay>0)return super.recycleAsyncId(t,e,r);t.actions.some(s=>s.id===e)||(k0.clearImmediate(e),t._scheduled=void 0)}});let vF=(()=>{class n{constructor(e,r,s){this._ngZone=e,this._platform=r,this._scrolled=new Oe,this._globalSubscription=null,this._scrolledCount=0,this.scrollContainers=new Map,this._document=s}register(e){this.scrollContainers.has(e)||this.scrollContainers.set(e,e.elementScrolled().subscribe(()=>this._scrolled.next(e)))}deregister(e){const r=this.scrollContainers.get(e);r&&(r.unsubscribe(),this.scrollContainers.delete(e))}scrolled(e=20){return this._platform.isBrowser?new Ft(r=>{this._globalSubscription||this._addGlobalListener();const s=e>0?this._scrolled.pipe(UE(e)).subscribe(r):this._scrolled.subscribe(r);return this._scrolledCount++,()=>{s.unsubscribe(),this._scrolledCount--,this._scrolledCount||this._removeGlobalListener()}}):Ue()}ngOnDestroy(){this._removeGlobalListener(),this.scrollContainers.forEach((e,r)=>this.deregister(r)),this._scrolled.complete()}ancestorScrolled(e,r){const s=this.getAncestorScrollContainers(e);return this.scrolled(r).pipe(xi(l=>!l||s.indexOf(l)>-1))}getAncestorScrollContainers(e){const r=[];return this.scrollContainers.forEach((s,l)=>{this._scrollableContainsElement(l,e)&&r.push(l)}),r}_getWindow(){return this._document.defaultView||window}_scrollableContainsElement(e,r){let s=Pa(r),l=e.getElementRef().nativeElement;do{if(s==l)return!0}while(s=s.parentElement);return!1}_addGlobalListener(){this._globalSubscription=this._ngZone.runOutsideAngular(()=>zs(this._getWindow().document,"scroll").subscribe(()=>this._scrolled.next()))}_removeGlobalListener(){this._globalSubscription&&(this._globalSubscription.unsubscribe(),this._globalSubscription=null)}}return n.\u0275fac=function(e){return new(e||n)(L(He),L(yn),L(ot,8))},n.\u0275prov=oe({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),$h=(()=>{class n{constructor(e,r,s){this._platform=e,this._change=new Oe,this._changeListener=l=>{this._change.next(l)},this._document=s,r.runOutsideAngular(()=>{if(e.isBrowser){const l=this._getWindow();l.addEventListener("resize",this._changeListener),l.addEventListener("orientationchange",this._changeListener)}this.change().subscribe(()=>this._viewportSize=null)})}ngOnDestroy(){if(this._platform.isBrowser){const e=this._getWindow();e.removeEventListener("resize",this._changeListener),e.removeEventListener("orientationchange",this._changeListener)}this._change.complete()}getViewportSize(){this._viewportSize||this._updateViewportSize();const e={width:this._viewportSize.width,height:this._viewportSize.height};return this._platform.isBrowser||(this._viewportSize=null),e}getViewportRect(){const e=this.getViewportScrollPosition(),{width:r,height:s}=this.getViewportSize();return{top:e.top,left:e.left,bottom:e.top+s,right:e.left+r,height:s,width:r}}getViewportScrollPosition(){if(!this._platform.isBrowser)return{top:0,left:0};const e=this._document,r=this._getWindow(),s=e.documentElement,l=s.getBoundingClientRect();return{top:-l.top||e.body.scrollTop||r.scrollY||s.scrollTop||0,left:-l.left||e.body.scrollLeft||r.scrollX||s.scrollLeft||0}}change(e=20){return e>0?this._change.pipe(UE(e)):this._change}_getWindow(){return this._document.defaultView||window}_updateViewportSize(){const e=this._getWindow();this._viewportSize=this._platform.isBrowser?{width:e.innerWidth,height:e.innerHeight}:{width:0,height:0}}}return n.\u0275fac=function(e){return new(e||n)(L(yn),L(He),L(ot,8))},n.\u0275prov=oe({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),Hg=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=ue({type:n}),n.\u0275inj=Se({}),n})(),WE=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=ue({type:n}),n.\u0275inj=Se({imports:[[xg,Hg],xg,Hg]}),n})(),s$=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=ue({type:n}),n.\u0275inj=Se({}),n})();const yF=new Set;let Wh,a$=(()=>{class n{constructor(e){this._platform=e,this._matchMedia=this._platform.isBrowser&&window.matchMedia?window.matchMedia.bind(window):c$}matchMedia(e){return(this._platform.WEBKIT||this._platform.BLINK)&&function l$(n){if(!yF.has(n))try{Wh||(Wh=document.createElement("style"),Wh.setAttribute("type","text/css"),document.head.appendChild(Wh)),Wh.sheet&&(Wh.sheet.insertRule(`@media ${n} {body{ }}`,0),yF.add(n))}catch(t){console.error(t)}}(e),this._matchMedia(e)}}return n.\u0275fac=function(e){return new(e||n)(L(yn))},n.\u0275prov=oe({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();function c$(n){return{matches:"all"===n||""===n,media:n,addListener:()=>{},removeListener:()=>{}}}let qE=(()=>{class n{constructor(e,r){this._mediaMatcher=e,this._zone=r,this._queries=new Map,this._destroySubject=new Oe}ngOnDestroy(){this._destroySubject.next(),this._destroySubject.complete()}isMatched(e){return wF(Ew(e)).some(s=>this._registerQuery(s).mql.matches)}observe(e){let l=oI(wF(Ew(e)).map(u=>this._registerQuery(u).observable));return l=nw(l.pipe(si(1)),l.pipe(OP(1),Nd(0))),l.pipe(Te(u=>{const f={matches:!1,breakpoints:{}};return u.forEach(({matches:m,query:b})=>{f.matches=f.matches||m,f.breakpoints[b]=m}),f}))}_registerQuery(e){if(this._queries.has(e))return this._queries.get(e);const r=this._mediaMatcher.matchMedia(e),l={observable:new Ft(u=>{const f=m=>this._zone.run(()=>u.next(m));return r.addListener(f),()=>{r.removeListener(f)}}).pipe(Fs(r),Te(({matches:u})=>({query:e,matches:u})),Qt(this._destroySubject)),mql:r};return this._queries.set(e,l),l}}return n.\u0275fac=function(e){return new(e||n)(L(a$),L(He))},n.\u0275prov=oe({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();function wF(n){return n.map(t=>t.split(",")).reduce((t,e)=>t.concat(e)).map(t=>t.trim())}class GE{attach(t){return this._attachedHost=t,t.attach(this)}detach(){let t=this._attachedHost;null!=t&&(this._attachedHost=null,t.detach())}get isAttached(){return null!=this._attachedHost}setAttachedHost(t){this._attachedHost=t}}class qh extends GE{constructor(t,e,r,s){super(),this.component=t,this.viewContainerRef=e,this.injector=r,this.componentFactoryResolver=s}}class KE extends GE{constructor(t,e,r){super(),this.templateRef=t,this.viewContainerRef=e,this.context=r}get origin(){return this.templateRef.elementRef}attach(t,e=this.context){return this.context=e,super.attach(t)}detach(){return this.context=void 0,super.detach()}}class d$ extends GE{constructor(t){super(),this.element=t instanceof ze?t.nativeElement:t}}class C0{constructor(){this._isDisposed=!1,this.attachDomPortal=null}hasAttached(){return!!this._attachedPortal}attach(t){return t instanceof qh?(this._attachedPortal=t,this.attachComponentPortal(t)):t instanceof KE?(this._attachedPortal=t,this.attachTemplatePortal(t)):this.attachDomPortal&&t instanceof d$?(this._attachedPortal=t,this.attachDomPortal(t)):void 0}detach(){this._attachedPortal&&(this._attachedPortal.setAttachedHost(null),this._attachedPortal=null),this._invokeDisposeFn()}dispose(){this.hasAttached()&&this.detach(),this._invokeDisposeFn(),this._isDisposed=!0}setDisposeFn(t){this._disposeFn=t}_invokeDisposeFn(){this._disposeFn&&(this._disposeFn(),this._disposeFn=null)}}class u$ extends C0{constructor(t,e,r,s,l){super(),this.outletElement=t,this._componentFactoryResolver=e,this._appRef=r,this._defaultInjector=s,this.attachDomPortal=u=>{const f=u.element,m=this._document.createComment("dom-portal");f.parentNode.insertBefore(m,f),this.outletElement.appendChild(f),this._attachedPortal=u,super.setDisposeFn(()=>{m.parentNode&&m.parentNode.replaceChild(f,m)})},this._document=l}attachComponentPortal(t){const r=(t.componentFactoryResolver||this._componentFactoryResolver).resolveComponentFactory(t.component);let s;return t.viewContainerRef?(s=t.viewContainerRef.createComponent(r,t.viewContainerRef.length,t.injector||t.viewContainerRef.injector),this.setDisposeFn(()=>s.destroy())):(s=r.create(t.injector||this._defaultInjector||nn.NULL),this._appRef.attachView(s.hostView),this.setDisposeFn(()=>{this._appRef.detachView(s.hostView),s.destroy()})),this.outletElement.appendChild(this._getComponentRootNode(s)),this._attachedPortal=t,s}attachTemplatePortal(t){let e=t.viewContainerRef,r=e.createEmbeddedView(t.templateRef,t.context);return r.rootNodes.forEach(s=>this.outletElement.appendChild(s)),r.detectChanges(),this.setDisposeFn(()=>{let s=e.indexOf(r);-1!==s&&e.remove(s)}),this._attachedPortal=t,r}dispose(){super.dispose(),this.outletElement.remove()}_getComponentRootNode(t){return t.hostView.rootNodes[0]}}let x0=(()=>{class n extends C0{constructor(e,r,s){super(),this._componentFactoryResolver=e,this._viewContainerRef=r,this._isInitialized=!1,this.attached=new we,this.attachDomPortal=l=>{const u=l.element,f=this._document.createComment("dom-portal");l.setAttachedHost(this),u.parentNode.insertBefore(f,u),this._getRootNode().appendChild(u),this._attachedPortal=l,super.setDisposeFn(()=>{f.parentNode&&f.parentNode.replaceChild(u,f)})},this._document=s}get portal(){return this._attachedPortal}set portal(e){this.hasAttached()&&!e&&!this._isInitialized||(this.hasAttached()&&super.detach(),e&&super.attach(e),this._attachedPortal=e||null)}get attachedRef(){return this._attachedRef}ngOnInit(){this._isInitialized=!0}ngOnDestroy(){super.dispose(),this._attachedPortal=null,this._attachedRef=null}attachComponentPortal(e){e.setAttachedHost(this);const r=null!=e.viewContainerRef?e.viewContainerRef:this._viewContainerRef,l=(e.componentFactoryResolver||this._componentFactoryResolver).resolveComponentFactory(e.component),u=r.createComponent(l,r.length,e.injector||r.injector);return r!==this._viewContainerRef&&this._getRootNode().appendChild(u.hostView.rootNodes[0]),super.setDisposeFn(()=>u.destroy()),this._attachedPortal=e,this._attachedRef=u,this.attached.emit(u),u}attachTemplatePortal(e){e.setAttachedHost(this);const r=this._viewContainerRef.createEmbeddedView(e.templateRef,e.context);return super.setDisposeFn(()=>this._viewContainerRef.clear()),this._attachedPortal=e,this._attachedRef=r,this.attached.emit(r),r}_getRootNode(){const e=this._viewContainerRef.element.nativeElement;return e.nodeType===e.ELEMENT_NODE?e:e.parentNode}}return n.\u0275fac=function(e){return new(e||n)(M(Cd),M(eo),M(ot))},n.\u0275dir=se({type:n,selectors:[["","cdkPortalOutlet",""]],inputs:{portal:["cdkPortalOutlet","portal"]},outputs:{attached:"attached"},exportAs:["cdkPortalOutlet"],features:[Fe]}),n})(),T0=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=ue({type:n}),n.\u0275inj=Se({}),n})();const h$=["*"],f$=["tabListContainer"],p$=["tabList"],m$=["tabListInner"],g$=["nextPaginator"],_$=["previousPaginator"],w$=["mat-tab-nav-bar",""],k$=new re("MatInkBarPositioner",{providedIn:"root",factory:function C$(){return t=>({left:t?(t.offsetLeft||0)+"px":"0",width:t?(t.offsetWidth||0)+"px":"0"})}});let CF=(()=>{class n{constructor(e,r,s,l){this._elementRef=e,this._ngZone=r,this._inkBarPositioner=s,this._animationMode=l}alignToElement(e){this.show(),this._ngZone.onStable.pipe(si(1)).subscribe(()=>{const r=this._inkBarPositioner(e),s=this._elementRef.nativeElement;s.style.left=r.left,s.style.width=r.width})}show(){this._elementRef.nativeElement.style.visibility="visible"}hide(){this._elementRef.nativeElement.style.visibility="hidden"}}return n.\u0275fac=function(e){return new(e||n)(M(ze),M(He),M(k$),M(Kn,8))},n.\u0275dir=se({type:n,selectors:[["mat-ink-bar"]],hostAttrs:[1,"mat-ink-bar"],hostVars:2,hostBindings:function(e,r){2&e&&kt("_mat-animation-noopable","NoopAnimations"===r._animationMode)}}),n})();const xF=Fh({passive:!0});let E$=(()=>{class n{constructor(e,r,s,l,u,f,m){this._elementRef=e,this._changeDetectorRef=r,this._viewportRuler=s,this._dir=l,this._ngZone=u,this._platform=f,this._animationMode=m,this._scrollDistance=0,this._selectedIndexChanged=!1,this._destroyed=new Oe,this._showPaginationControls=!1,this._disableScrollAfter=!0,this._disableScrollBefore=!0,this._stopScrolling=new Oe,this.disablePagination=!1,this._selectedIndex=0,this.selectFocusedIndex=new we,this.indexFocused=new we,u.runOutsideAngular(()=>{zs(e.nativeElement,"mouseleave").pipe(Qt(this._destroyed)).subscribe(()=>{this._stopInterval()})})}get selectedIndex(){return this._selectedIndex}set selectedIndex(e){e=Yo(e),this._selectedIndex!=e&&(this._selectedIndexChanged=!0,this._selectedIndex=e,this._keyManager&&this._keyManager.updateActiveItem(e))}ngAfterViewInit(){zs(this._previousPaginator.nativeElement,"touchstart",xF).pipe(Qt(this._destroyed)).subscribe(()=>{this._handlePaginatorPress("before")}),zs(this._nextPaginator.nativeElement,"touchstart",xF).pipe(Qt(this._destroyed)).subscribe(()=>{this._handlePaginatorPress("after")})}ngAfterContentInit(){const e=this._dir?this._dir.change:Ue("ltr"),r=this._viewportRuler.change(150),s=()=>{this.updatePagination(),this._alignInkBarToSelectedTab()};this._keyManager=new UT(this._items).withHorizontalOrientation(this._getLayoutDirection()).withHomeAndEnd().withWrap(),this._keyManager.updateActiveItem(this._selectedIndex),this._ngZone.onStable.pipe(si(1)).subscribe(s),lo(e,r,this._items.changes).pipe(Qt(this._destroyed)).subscribe(()=>{this._ngZone.run(()=>{Promise.resolve().then(()=>{this._scrollDistance=Math.max(0,Math.min(this._getMaxScrollDistance(),this._scrollDistance)),s()})}),this._keyManager.withHorizontalOrientation(this._getLayoutDirection())}),this._keyManager.change.pipe(Qt(this._destroyed)).subscribe(l=>{this.indexFocused.emit(l),this._setTabFocus(l)})}ngAfterContentChecked(){this._tabLabelCount!=this._items.length&&(this.updatePagination(),this._tabLabelCount=this._items.length,this._changeDetectorRef.markForCheck()),this._selectedIndexChanged&&(this._scrollToLabel(this._selectedIndex),this._checkScrollingControls(),this._alignInkBarToSelectedTab(),this._selectedIndexChanged=!1,this._changeDetectorRef.markForCheck()),this._scrollDistanceChanged&&(this._updateTabScrollPosition(),this._scrollDistanceChanged=!1,this._changeDetectorRef.markForCheck())}ngOnDestroy(){this._destroyed.next(),this._destroyed.complete(),this._stopScrolling.complete()}_handleKeydown(e){if(!Gl(e))switch(e.keyCode){case 13:case 32:this.focusIndex!==this.selectedIndex&&(this.selectFocusedIndex.emit(this.focusIndex),this._itemSelected(e));break;default:this._keyManager.onKeydown(e)}}_onContentChanges(){const e=this._elementRef.nativeElement.textContent;e!==this._currentTextContent&&(this._currentTextContent=e||"",this._ngZone.run(()=>{this.updatePagination(),this._alignInkBarToSelectedTab(),this._changeDetectorRef.markForCheck()}))}updatePagination(){this._checkPaginationEnabled(),this._checkScrollingControls(),this._updateTabScrollPosition()}get focusIndex(){return this._keyManager?this._keyManager.activeItemIndex:0}set focusIndex(e){!this._isValidIndex(e)||this.focusIndex===e||!this._keyManager||this._keyManager.setActiveItem(e)}_isValidIndex(e){if(!this._items)return!0;const r=this._items?this._items.toArray()[e]:null;return!!r&&!r.disabled}_setTabFocus(e){if(this._showPaginationControls&&this._scrollToLabel(e),this._items&&this._items.length){this._items.toArray()[e].focus();const r=this._tabListContainer.nativeElement;r.scrollLeft="ltr"==this._getLayoutDirection()?0:r.scrollWidth-r.offsetWidth}}_getLayoutDirection(){return this._dir&&"rtl"===this._dir.value?"rtl":"ltr"}_updateTabScrollPosition(){if(this.disablePagination)return;const e=this.scrollDistance,r="ltr"===this._getLayoutDirection()?-e:e;this._tabList.nativeElement.style.transform=`translateX(${Math.round(r)}px)`,(this._platform.TRIDENT||this._platform.EDGE)&&(this._tabListContainer.nativeElement.scrollLeft=0)}get scrollDistance(){return this._scrollDistance}set scrollDistance(e){this._scrollTo(e)}_scrollHeader(e){return this._scrollTo(this._scrollDistance+("before"==e?-1:1)*this._tabListContainer.nativeElement.offsetWidth/3)}_handlePaginatorClick(e){this._stopInterval(),this._scrollHeader(e)}_scrollToLabel(e){if(this.disablePagination)return;const r=this._items?this._items.toArray()[e]:null;if(!r)return;const s=this._tabListContainer.nativeElement.offsetWidth,{offsetLeft:l,offsetWidth:u}=r.elementRef.nativeElement;let f,m;"ltr"==this._getLayoutDirection()?(f=l,m=f+u):(m=this._tabListInner.nativeElement.offsetWidth-l,f=m-u);const b=this.scrollDistance,w=this.scrollDistance+s;f<b?this.scrollDistance-=b-f+60:m>w&&(this.scrollDistance+=m-w+60)}_checkPaginationEnabled(){if(this.disablePagination)this._showPaginationControls=!1;else{const e=this._tabListInner.nativeElement.scrollWidth>this._elementRef.nativeElement.offsetWidth;e||(this.scrollDistance=0),e!==this._showPaginationControls&&this._changeDetectorRef.markForCheck(),this._showPaginationControls=e}}_checkScrollingControls(){this.disablePagination?this._disableScrollAfter=this._disableScrollBefore=!0:(this._disableScrollBefore=0==this.scrollDistance,this._disableScrollAfter=this.scrollDistance==this._getMaxScrollDistance(),this._changeDetectorRef.markForCheck())}_getMaxScrollDistance(){return this._tabListInner.nativeElement.scrollWidth-this._tabListContainer.nativeElement.offsetWidth||0}_alignInkBarToSelectedTab(){const e=this._items&&this._items.length?this._items.toArray()[this.selectedIndex]:null,r=e?e.elementRef.nativeElement:null;r?this._inkBar.alignToElement(r):this._inkBar.hide()}_stopInterval(){this._stopScrolling.next()}_handlePaginatorPress(e,r){r&&null!=r.button&&0!==r.button||(this._stopInterval(),HE(650,100).pipe(Qt(lo(this._stopScrolling,this._destroyed))).subscribe(()=>{const{maxScrollDistance:s,distance:l}=this._scrollHeader(e);(0===l||l>=s)&&this._stopInterval()}))}_scrollTo(e){if(this.disablePagination)return{maxScrollDistance:0,distance:0};const r=this._getMaxScrollDistance();return this._scrollDistance=Math.max(0,Math.min(r,e)),this._scrollDistanceChanged=!0,this._checkScrollingControls(),{maxScrollDistance:r,distance:this._scrollDistance}}}return n.\u0275fac=function(e){return new(e||n)(M(ze),M(ei),M($h),M(Ia,8),M(He),M(yn),M(Kn,8))},n.\u0275dir=se({type:n,inputs:{disablePagination:"disablePagination"}}),n})(),S$=0,EF=(()=>{class n extends E${constructor(e,r,s,l,u,f,m){super(e,l,u,r,s,f,m),this._disableRipple=!1,this.color="primary"}get backgroundColor(){return this._backgroundColor}set backgroundColor(e){const r=this._elementRef.nativeElement.classList;r.remove(`mat-background-${this.backgroundColor}`),e&&r.add(`mat-background-${e}`),this._backgroundColor=e}get disableRipple(){return this._disableRipple}set disableRipple(e){this._disableRipple=jt(e)}_itemSelected(){}ngAfterContentInit(){this._items.changes.pipe(Fs(null),Qt(this._destroyed)).subscribe(()=>{this.updateActiveLink()}),super.ngAfterContentInit()}updateActiveLink(){if(!this._items)return;const e=this._items.toArray();for(let r=0;r<e.length;r++)if(e[r].active)return this.selectedIndex=r,this._changeDetectorRef.markForCheck(),void(this.tabPanel&&(this.tabPanel._activeTabId=e[r].id));this.selectedIndex=-1,this._inkBar.hide()}_getRole(){return this.tabPanel?"tablist":this._elementRef.nativeElement.getAttribute("role")}}return n.\u0275fac=function(e){return new(e||n)(M(ze),M(Ia,8),M(He),M(ei),M($h),M(yn),M(Kn,8))},n.\u0275dir=se({type:n,inputs:{backgroundColor:"backgroundColor",disableRipple:"disableRipple",color:"color",tabPanel:"tabPanel"},features:[Fe]}),n})(),SF=(()=>{class n extends EF{constructor(e,r,s,l,u,f,m){super(e,r,s,l,u,f,m)}}return n.\u0275fac=function(e){return new(e||n)(M(ze),M(Ia,8),M(He),M(ei),M($h),M(yn),M(Kn,8))},n.\u0275cmp=Ie({type:n,selectors:[["","mat-tab-nav-bar",""]],contentQueries:function(e,r,s){if(1&e&&bn(s,DF,5),2&e){let l;st(l=at())&&(r._items=l)}},viewQuery:function(e,r){if(1&e&&(Jn(CF,7),Jn(f$,7),Jn(p$,7),Jn(m$,7),Jn(g$,5),Jn(_$,5)),2&e){let s;st(s=at())&&(r._inkBar=s.first),st(s=at())&&(r._tabListContainer=s.first),st(s=at())&&(r._tabList=s.first),st(s=at())&&(r._tabListInner=s.first),st(s=at())&&(r._nextPaginator=s.first),st(s=at())&&(r._previousPaginator=s.first)}},hostAttrs:[1,"mat-tab-nav-bar","mat-tab-header"],hostVars:11,hostBindings:function(e,r){2&e&&(mt("role",r._getRole()),kt("mat-tab-header-pagination-controls-enabled",r._showPaginationControls)("mat-tab-header-rtl","rtl"==r._getLayoutDirection())("mat-primary","warn"!==r.color&&"accent"!==r.color)("mat-accent","accent"===r.color)("mat-warn","warn"===r.color))},inputs:{color:"color"},exportAs:["matTabNavBar","matTabNav"],features:[Fe],attrs:w$,ngContentSelectors:h$,decls:14,vars:10,consts:[["aria-hidden","true","type","button","mat-ripple","","tabindex","-1",1,"mat-tab-header-pagination","mat-tab-header-pagination-before","mat-elevation-z4",3,"matRippleDisabled","disabled","click","mousedown","touchend"],["previousPaginator",""],[1,"mat-tab-header-pagination-chevron"],[1,"mat-tab-link-container",3,"keydown"],["tabListContainer",""],[1,"mat-tab-list",3,"cdkObserveContent"],["tabList",""],[1,"mat-tab-links"],["tabListInner",""],["aria-hidden","true","type","button","mat-ripple","","tabindex","-1",1,"mat-tab-header-pagination","mat-tab-header-pagination-after","mat-elevation-z4",3,"matRippleDisabled","disabled","mousedown","click","touchend"],["nextPaginator",""]],template:function(e,r){1&e&&(Mn(),V(0,"button",0,1),Ee("click",function(){return r._handlePaginatorClick("before")})("mousedown",function(l){return r._handlePaginatorPress("before",l)})("touchend",function(){return r._stopInterval()}),Me(2,"div",2),B(),V(3,"div",3,4),Ee("keydown",function(l){return r._handleKeydown(l)}),V(5,"div",5,6),Ee("cdkObserveContent",function(){return r._onContentChanges()}),V(7,"div",7,8),dt(9),B(),Me(10,"mat-ink-bar"),B()(),V(11,"button",9,10),Ee("mousedown",function(l){return r._handlePaginatorPress("after",l)})("click",function(){return r._handlePaginatorClick("after")})("touchend",function(){return r._stopInterval()}),Me(13,"div",2),B()),2&e&&(kt("mat-tab-header-pagination-disabled",r._disableScrollBefore),Q("matRippleDisabled",r._disableScrollBefore||r.disableRipple)("disabled",r._disableScrollBefore||null),Y(5),kt("_mat-animation-noopable","NoopAnimations"===r._animationMode),Y(6),kt("mat-tab-header-pagination-disabled",r._disableScrollAfter),Q("matRippleDisabled",r._disableScrollAfter||r.disableRipple)("disabled",r._disableScrollAfter||null))},directives:[Fa,zT,CF],styles:[".mat-tab-header{display:flex;overflow:hidden;position:relative;flex-shrink:0}.mat-tab-header-pagination{-webkit-user-select:none;user-select:none;position:relative;display:none;justify-content:center;align-items:center;min-width:32px;cursor:pointer;z-index:2;-webkit-tap-highlight-color:transparent;touch-action:none;box-sizing:content-box;background:none;border:none;outline:0;padding:0}.mat-tab-header-pagination::-moz-focus-inner{border:0}.mat-tab-header-pagination-controls-enabled .mat-tab-header-pagination{display:flex}.mat-tab-header-pagination-before,.mat-tab-header-rtl .mat-tab-header-pagination-after{padding-left:4px}.mat-tab-header-pagination-before .mat-tab-header-pagination-chevron,.mat-tab-header-rtl .mat-tab-header-pagination-after .mat-tab-header-pagination-chevron{transform:rotate(-135deg)}.mat-tab-header-rtl .mat-tab-header-pagination-before,.mat-tab-header-pagination-after{padding-right:4px}.mat-tab-header-rtl .mat-tab-header-pagination-before .mat-tab-header-pagination-chevron,.mat-tab-header-pagination-after .mat-tab-header-pagination-chevron{transform:rotate(45deg)}.mat-tab-header-pagination-chevron{border-style:solid;border-width:2px 2px 0 0;height:8px;width:8px}.mat-tab-header-pagination-disabled{box-shadow:none;cursor:default}.mat-tab-list{flex-grow:1;position:relative;transition:transform 500ms cubic-bezier(0.35, 0, 0.25, 1)}.mat-tab-links{display:flex}[mat-align-tabs=center]>.mat-tab-link-container .mat-tab-links{justify-content:center}[mat-align-tabs=end]>.mat-tab-link-container .mat-tab-links{justify-content:flex-end}.mat-ink-bar{position:absolute;bottom:0;height:2px;transition:500ms cubic-bezier(0.35, 0, 0.25, 1)}._mat-animation-noopable.mat-ink-bar{transition:none;animation:none}.mat-tab-group-inverted-header .mat-ink-bar{bottom:auto;top:0}.cdk-high-contrast-active .mat-ink-bar{outline:solid 2px;height:0}.mat-tab-link-container{display:flex;flex-grow:1;overflow:hidden;z-index:1}.mat-tab-link{height:48px;padding:0 24px;cursor:pointer;box-sizing:border-box;opacity:.6;min-width:160px;text-align:center;display:inline-flex;justify-content:center;align-items:center;white-space:nowrap;vertical-align:top;text-decoration:none;position:relative;overflow:hidden;-webkit-tap-highlight-color:transparent}.mat-tab-link:focus{outline:none}.mat-tab-link:focus:not(.mat-tab-disabled){opacity:1}.cdk-high-contrast-active .mat-tab-link:focus{outline:dotted 2px;outline-offset:-2px}.mat-tab-link.mat-tab-disabled{cursor:default}.cdk-high-contrast-active .mat-tab-link.mat-tab-disabled{opacity:.5}.mat-tab-link .mat-tab-label-content{display:inline-flex;justify-content:center;align-items:center;white-space:nowrap}.cdk-high-contrast-active .mat-tab-link{opacity:1}[mat-stretch-tabs] .mat-tab-link{flex-basis:0;flex-grow:1}.mat-tab-link.mat-tab-disabled{pointer-events:none}@media(max-width: 599px){.mat-tab-link{min-width:72px}}\n"],encapsulation:2}),n})();const D$=gE(Xl(Yw(class{})));let M$=(()=>{class n extends D${constructor(e,r,s,l,u,f){super(),this._tabNavBar=e,this.elementRef=r,this._focusMonitor=u,this._isActive=!1,this.id="mat-tab-link-"+S$++,this.rippleConfig=s||{},this.tabIndex=parseInt(l)||0,"NoopAnimations"===f&&(this.rippleConfig.animation={enterDuration:0,exitDuration:0})}get active(){return this._isActive}set active(e){const r=jt(e);r!==this._isActive&&(this._isActive=r,this._tabNavBar.updateActiveLink())}get rippleDisabled(){return this.disabled||this.disableRipple||this._tabNavBar.disableRipple||!!this.rippleConfig.disabled}focus(){this.elementRef.nativeElement.focus()}ngAfterViewInit(){this._focusMonitor.monitor(this.elementRef)}ngOnDestroy(){this._focusMonitor.stopMonitoring(this.elementRef)}_handleFocus(){this._tabNavBar.focusIndex=this._tabNavBar._items.toArray().indexOf(this)}_handleKeydown(e){this._tabNavBar.tabPanel&&32===e.keyCode&&this.elementRef.nativeElement.click()}_getAriaControls(){var e;return this._tabNavBar.tabPanel?null===(e=this._tabNavBar.tabPanel)||void 0===e?void 0:e.id:this.elementRef.nativeElement.getAttribute("aria-controls")}_getAriaSelected(){return this._tabNavBar.tabPanel?this.active?"true":"false":this.elementRef.nativeElement.getAttribute("aria-selected")}_getAriaCurrent(){return this.active&&!this._tabNavBar.tabPanel?"page":null}_getRole(){return this._tabNavBar.tabPanel?"tab":this.elementRef.nativeElement.getAttribute("role")}_getTabIndex(){return this._tabNavBar.tabPanel?this._isActive?0:-1:this.tabIndex}}return n.\u0275fac=function(e){return new(e||n)(M(EF),M(ze),M(Xw,8),ir("tabindex"),M(Kl),M(Kn,8))},n.\u0275dir=se({type:n,inputs:{active:"active",id:"id"},features:[Fe]}),n})(),DF=(()=>{class n extends M${constructor(e,r,s,l,u,f,m,b){super(e,r,u,f,m,b),this._tabLinkRipple=new bE(this,s,r,l),this._tabLinkRipple.setupTriggerEvents(r.nativeElement)}ngOnDestroy(){super.ngOnDestroy(),this._tabLinkRipple._removeTriggerEvents()}}return n.\u0275fac=function(e){return new(e||n)(M(SF),M(ze),M(He),M(yn),M(Xw,8),ir("tabindex"),M(Kl),M(Kn,8))},n.\u0275dir=se({type:n,selectors:[["","mat-tab-link",""],["","matTabLink",""]],hostAttrs:[1,"mat-tab-link","mat-focus-indicator"],hostVars:11,hostBindings:function(e,r){1&e&&Ee("focus",function(){return r._handleFocus()})("keydown",function(l){return r._handleKeydown(l)}),2&e&&(mt("aria-controls",r._getAriaControls())("aria-current",r._getAriaCurrent())("aria-disabled",r.disabled)("aria-selected",r._getAriaSelected())("id",r.id)("tabIndex",r._getTabIndex())("role",r._getRole()),kt("mat-tab-disabled",r.disabled)("mat-tab-label-active",r.active))},inputs:{disabled:"disabled",disableRipple:"disableRipple",tabIndex:"tabIndex"},exportAs:["matTabLink"],features:[Fe]}),n})(),MF=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=ue({type:n}),n.\u0275inj=Se({imports:[[Qi,xt,T0,Pg,Sw,YP],xt]}),n})(),A$=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=ue({type:n}),n.\u0275inj=Se({imports:[[Qi,$l,zE,MF]]}),n})();const $a=function I$(n){var t=typeof n;return null!=n&&("object"==t||"function"==t)},AF="object"==typeof global&&global&&global.Object===Object&&global;var R$="object"==typeof self&&self&&self.Object===Object&&self;const Xo=AF||R$||Function("return this")(),QE=function(){return Xo.Date.now()};var N$=/\s/;var V$=/^\s+/;const z$=function j$(n){return n&&n.slice(0,function L$(n){for(var t=n.length;t--&&N$.test(n.charAt(t)););return t}(n)+1).replace(V$,"")},Gh=Xo.Symbol;var IF=Object.prototype,U$=IF.hasOwnProperty,$$=IF.toString,Ug=Gh?Gh.toStringTag:void 0;var K$=Object.prototype.toString;var PF=Gh?Gh.toStringTag:void 0;const Yd=function J$(n){return null==n?void 0===n?"[object Undefined]":"[object Null]":PF&&PF in Object(n)?function W$(n){var t=U$.call(n,Ug),e=n[Ug];try{n[Ug]=void 0;var r=!0}catch(l){}var s=$$.call(n);return r&&(t?n[Ug]=e:delete n[Ug]),s}(n):function Q$(n){return K$.call(n)}(n)},rc=function e9(n){return null!=n&&"object"==typeof n};var r9=/^[-+]0x[0-9a-f]+$/i,o9=/^0b[01]+$/i,s9=/^0o[0-7]+$/i,a9=parseInt;const OF=function l9(n){if("number"==typeof n)return n;if(function n9(n){return"symbol"==typeof n||rc(n)&&"[object Symbol]"==Yd(n)}(n))return NaN;if($a(n)){var t="function"==typeof n.valueOf?n.valueOf():n;n=$a(t)?t+"":t}if("string"!=typeof n)return 0===n?n:+n;n=z$(n);var e=o9.test(n);return e||s9.test(n)?a9(n.slice(2),e?2:8):r9.test(n)?NaN:+n};var d9=Math.max,u9=Math.min;const g9=function m9(n,t,e){var r=!0,s=!0;if("function"!=typeof n)throw new TypeError("Expected a function");return $a(e)&&(r="leading"in e?!!e.leading:r,s="trailing"in e?!!e.trailing:s),function h9(n,t,e){var r,s,l,u,f,m,b=0,w=!1,x=!1,E=!0;if("function"!=typeof n)throw new TypeError("Expected a function");function S(qe){var Tt=r,kn=s;return r=s=void 0,b=qe,u=n.apply(kn,Tt)}function I(qe){return b=qe,f=setTimeout(G,t),w?S(qe):u}function K(qe){var Tt=qe-m;return void 0===m||Tt>=t||Tt<0||x&&qe-b>=l}function G(){var qe=QE();if(K(qe))return H(qe);f=setTimeout(G,function N(qe){var Ei=t-(qe-m);return x?u9(Ei,l-(qe-b)):Ei}(qe))}function H(qe){return f=void 0,E&&r?S(qe):(r=s=void 0,u)}function We(){var qe=QE(),Tt=K(qe);if(r=arguments,s=this,m=qe,Tt){if(void 0===f)return I(m);if(x)return clearTimeout(f),f=setTimeout(G,t),S(m)}return void 0===f&&(f=setTimeout(G,t)),u}return t=OF(t)||0,$a(e)&&(w=!!e.leading,l=(x="maxWait"in e)?d9(OF(e.maxWait)||0,t):l,E="trailing"in e?!!e.trailing:E),We.cancel=function fe(){void 0!==f&&clearTimeout(f),b=0,r=m=s=f=void 0},We.flush=function ve(){return void 0===f?u:H(QE())},We}(n,t,{leading:r,maxWait:t,trailing:s})},FF=function v9(n,t){return n===t||n!=n&&t!=t},E0=function y9(n,t){for(var e=n.length;e--;)if(FF(n[e][0],t))return e;return-1};var k9=Array.prototype.splice;function Kh(n){var t=-1,e=null==n?0:n.length;for(this.clear();++t<e;){var r=n[t];this.set(r[0],r[1])}}Kh.prototype.clear=function _9(){this.__data__=[],this.size=0},Kh.prototype.delete=function C9(n){var t=this.__data__,e=E0(t,n);return!(e<0||(e==t.length-1?t.pop():k9.call(t,e,1),--this.size,0))},Kh.prototype.get=function T9(n){var t=this.__data__,e=E0(t,n);return e<0?void 0:t[e][1]},Kh.prototype.has=function S9(n){return E0(this.__data__,n)>-1},Kh.prototype.set=function M9(n,t){var e=this.__data__,r=E0(e,n);return r<0?(++this.size,e.push([n,t])):e[r][1]=t,this};const S0=Kh,NF=function U9(n){if(!$a(n))return!1;var t=Yd(n);return"[object Function]"==t||"[object GeneratorFunction]"==t||"[object AsyncFunction]"==t||"[object Proxy]"==t};var n,$9=Xo["__core-js_shared__"],LF=(n=/[^.]+$/.exec($9&&$9.keys&&$9.keys.IE_PROTO||""))?"Symbol(src)_1."+n:"";var K9=Function.prototype.toString;const Zd=function Q9(n){if(null!=n){try{return K9.call(n)}catch(t){}try{return n+""}catch(t){}}return""};var Z9=/^\[object .+?Constructor\]$/,nW=RegExp("^"+Function.prototype.toString.call(Object.prototype.hasOwnProperty).replace(/[\\^$.*+?()[\]{}|]/g,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");const rW=function iW(n){return!(!$a(n)||function W9(n){return!!LF&&LF in n}(n))&&(NF(n)?nW:Z9).test(Zd(n))},Xd=function aW(n,t){var e=function oW(n,t){return null==n?void 0:n[t]}(n,t);return rW(e)?e:void 0},$g=Xd(Xo,"Map"),Wg=Xd(Object,"create");var gW=Object.prototype.hasOwnProperty;var yW=Object.prototype.hasOwnProperty;function Qh(n){var t=-1,e=null==n?0:n.length;for(this.clear();++t<e;){var r=n[t];this.set(r[0],r[1])}}Qh.prototype.clear=function dW(){this.__data__=Wg?Wg(null):{},this.size=0},Qh.prototype.delete=function hW(n){var t=this.has(n)&&delete this.__data__[n];return this.size-=t?1:0,t},Qh.prototype.get=function _W(n){var t=this.__data__;if(Wg){var e=t[n];return"__lodash_hash_undefined__"===e?void 0:e}return gW.call(t,n)?t[n]:void 0},Qh.prototype.has=function wW(n){var t=this.__data__;return Wg?void 0!==t[n]:yW.call(t,n)},Qh.prototype.set=function xW(n,t){var e=this.__data__;return this.size+=this.has(n)?0:1,e[n]=Wg&&void 0===t?"__lodash_hash_undefined__":t,this};const BF=Qh,D0=function AW(n,t){var e=n.__data__;return function DW(n){var t=typeof n;return"string"==t||"number"==t||"symbol"==t||"boolean"==t?"__proto__"!==n:null===n}(t)?e["string"==typeof t?"string":"hash"]:e.map};function Yh(n){var t=-1,e=null==n?0:n.length;for(this.clear();++t<e;){var r=n[t];this.set(r[0],r[1])}}Yh.prototype.clear=function EW(){this.size=0,this.__data__={hash:new BF,map:new($g||S0),string:new BF}},Yh.prototype.delete=function IW(n){var t=D0(this,n).delete(n);return this.size-=t?1:0,t},Yh.prototype.get=function RW(n){return D0(this,n).get(n)},Yh.prototype.has=function FW(n){return D0(this,n).has(n)},Yh.prototype.set=function LW(n,t){var e=D0(this,n),r=e.size;return e.set(n,t),this.size+=e.size==r?0:1,this};const VW=Yh;function Zh(n){var t=this.__data__=new S0(n);this.size=t.size}Zh.prototype.clear=function I9(){this.__data__=new S0,this.size=0},Zh.prototype.delete=function R9(n){var t=this.__data__,e=t.delete(n);return this.size=t.size,e},Zh.prototype.get=function F9(n){return this.__data__.get(n)},Zh.prototype.has=function L9(n){return this.__data__.has(n)},Zh.prototype.set=function zW(n,t){var e=this.__data__;if(e instanceof S0){var r=e.__data__;if(!$g||r.length<199)return r.push([n,t]),this.size=++e.size,this;e=this.__data__=new VW(r)}return e.set(n,t),this.size=e.size,this};const UW=Zh;var qW=function(){try{var n=Xd(Object,"defineProperty");return n({},"",{}),n}catch(t){}}();const VF=qW,jF=function GW(n,t,e){"__proto__"==t&&VF?VF(n,t,{configurable:!0,enumerable:!0,value:e,writable:!0}):n[t]=e};var QW=Object.prototype.hasOwnProperty;const zF=function YW(n,t,e){var r=n[t];(!QW.call(n,t)||!FF(r,e)||void 0===e&&!(t in n))&&jF(n,t,e)},M0=function ZW(n,t,e,r){var s=!e;e||(e={});for(var l=-1,u=t.length;++l<u;){var f=t[l],m=r?r(e[f],n[f],f,e,n):void 0;void 0===m&&(m=n[f]),s?jF(e,f,m):zF(e,f,m)}return e},HF=function tq(n){return rc(n)&&"[object Arguments]"==Yd(n)};var UF=Object.prototype,nq=UF.hasOwnProperty,iq=UF.propertyIsEnumerable,rq=HF(function(){return arguments}())?HF:function(n){return rc(n)&&nq.call(n,"callee")&&!iq.call(n,"callee")};const oq=rq,ZE=Array.isArray;var $F="object"==typeof exports&&exports&&!exports.nodeType&&exports,WF=$F&&"object"==typeof module&&module&&!module.nodeType&&module,qF=WF&&WF.exports===$F?Xo.Buffer:void 0;const GF=(qF?qF.isBuffer:void 0)||function aq(){return!1};var fq=/^(?:0|[1-9]\d*)$/;const mq=function pq(n,t){var e=typeof n;return!!(t=null==t?9007199254740991:t)&&("number"==e||"symbol"!=e&&fq.test(n))&&n>-1&&n%1==0&&n<t},KF=function _q(n){return"number"==typeof n&&n>-1&&n%1==0&&n<=9007199254740991};var wn={};wn["[object Float32Array]"]=wn["[object Float64Array]"]=wn["[object Int8Array]"]=wn["[object Int16Array]"]=wn["[object Int32Array]"]=wn["[object Uint8Array]"]=wn["[object Uint8ClampedArray]"]=wn["[object Uint16Array]"]=wn["[object Uint32Array]"]=!0,wn["[object Arguments]"]=wn["[object Array]"]=wn["[object ArrayBuffer]"]=wn["[object Boolean]"]=wn["[object DataView]"]=wn["[object Date]"]=wn["[object Error]"]=wn["[object Function]"]=wn["[object Map]"]=wn["[object Number]"]=wn["[object Object]"]=wn["[object RegExp]"]=wn["[object Set]"]=wn["[object String]"]=wn["[object WeakMap]"]=!1;const XE=function $q(n){return function(t){return n(t)}};var QF="object"==typeof exports&&exports&&!exports.nodeType&&exports,qg=QF&&"object"==typeof module&&module&&!module.nodeType&&module,JE=qg&&qg.exports===QF&&AF.process;const Xh=function(){try{return qg&&qg.require&&qg.require("util").types||JE&&JE.binding&&JE.binding("util")}catch(t){}}();var YF=Xh&&Xh.isTypedArray;const Kq=YF?XE(YF):function Hq(n){return rc(n)&&KF(n.length)&&!!wn[Yd(n)]};var Yq=Object.prototype.hasOwnProperty;const ZF=function Zq(n,t){var e=ZE(n),r=!e&&oq(n),s=!e&&!r&&GF(n),l=!e&&!r&&!s&&Kq(n),u=e||r||s||l,f=u?function XW(n,t){for(var e=-1,r=Array(n);++e<n;)r[e]=t(e);return r}(n.length,String):[],m=f.length;for(var b in n)(t||Yq.call(n,b))&&(!u||!("length"==b||s&&("offset"==b||"parent"==b)||l&&("buffer"==b||"byteLength"==b||"byteOffset"==b)||mq(b,m)))&&f.push(b);return f};var Xq=Object.prototype;const eS=function Jq(n){var t=n&&n.constructor;return n===("function"==typeof t&&t.prototype||Xq)},XF=function eG(n,t){return function(e){return n(t(e))}},nG=XF(Object.keys,Object);var rG=Object.prototype.hasOwnProperty;const JF=function aG(n){return null!=n&&KF(n.length)&&!NF(n)},tS=function lG(n){return JF(n)?ZF(n):function oG(n){if(!eS(n))return nG(n);var t=[];for(var e in Object(n))rG.call(n,e)&&"constructor"!=e&&t.push(e);return t}(n)};var pG=Object.prototype.hasOwnProperty;const gG=function mG(n){if(!$a(n))return function uG(n){var t=[];if(null!=n)for(var e in Object(n))t.push(e);return t}(n);var t=eS(n),e=[];for(var r in n)"constructor"==r&&(t||!pG.call(n,r))||e.push(r);return e},nS=function _G(n){return JF(n)?ZF(n,!0):gG(n)};var eN="object"==typeof exports&&exports&&!exports.nodeType&&exports,tN=eN&&"object"==typeof module&&module&&!module.nodeType&&module,nN=tN&&tN.exports===eN?Xo.Buffer:void 0,iN=nN?nN.allocUnsafe:void 0;const rN=function SG(){return[]};var MG=Object.prototype.propertyIsEnumerable,oN=Object.getOwnPropertySymbols,AG=oN?function(n){return null==n?[]:(n=Object(n),function TG(n,t){for(var e=-1,r=null==n?0:n.length,s=0,l=[];++e<r;){var u=n[e];t(u,e,n)&&(l[s++]=u)}return l}(oN(n),function(t){return MG.call(n,t)}))}:rN;const iS=AG,sN=function RG(n,t){for(var e=-1,r=t.length,s=n.length;++e<r;)n[s+e]=t[e];return n},rS=XF(Object.getPrototypeOf,Object);var NG=Object.getOwnPropertySymbols?function(n){for(var t=[];n;)sN(t,iS(n)),n=rS(n);return t}:rN;const aN=NG,lN=function VG(n,t,e){var r=t(n);return ZE(n)?r:sN(r,e(n))},zG=function jG(n){return lN(n,tS,iS)},UG=function HG(n){return lN(n,nS,aN)},oS=Xd(Xo,"DataView"),sS=Xd(Xo,"Promise"),aS=Xd(Xo,"Set"),lS=Xd(Xo,"WeakMap");var cN="[object Map]",dN="[object Promise]",uN="[object Set]",hN="[object WeakMap]",fN="[object DataView]",QG=Zd(oS),YG=Zd($g),ZG=Zd(sS),XG=Zd(aS),JG=Zd(lS),Jd=Yd;(oS&&Jd(new oS(new ArrayBuffer(1)))!=fN||$g&&Jd(new $g)!=cN||sS&&Jd(sS.resolve())!=dN||aS&&Jd(new aS)!=uN||lS&&Jd(new lS)!=hN)&&(Jd=function(n){var t=Yd(n),e="[object Object]"==t?n.constructor:void 0,r=e?Zd(e):"";if(r)switch(r){case QG:return fN;case YG:return cN;case ZG:return dN;case XG:return uN;case JG:return hN}return t});const cS=Jd;var tK=Object.prototype.hasOwnProperty;const pN=Xo.Uint8Array,dS=function oK(n){var t=new n.constructor(n.byteLength);return new pN(t).set(new pN(n)),t};var lK=/\w*$/;var mN=Gh?Gh.prototype:void 0,gN=mN?mN.valueOf:void 0;const FK=function OK(n,t,e){var r=n.constructor;switch(t){case"[object ArrayBuffer]":return dS(n);case"[object Boolean]":case"[object Date]":return new r(+n);case"[object DataView]":return function sK(n,t){var e=t?dS(n.buffer):n.buffer;return new n.constructor(e,n.byteOffset,n.byteLength)}(n,e);case"[object Float32Array]":case"[object Float64Array]":case"[object Int8Array]":case"[object Int16Array]":case"[object Int32Array]":case"[object Uint8Array]":case"[object Uint8ClampedArray]":case"[object Uint16Array]":case"[object Uint32Array]":return function fK(n,t){var e=t?dS(n.buffer):n.buffer;return new n.constructor(e,n.byteOffset,n.length)}(n,e);case"[object Map]":case"[object Set]":return new r;case"[object Number]":case"[object String]":return new r(n);case"[object RegExp]":return function cK(n){var t=new n.constructor(n.source,lK.exec(n));return t.lastIndex=n.lastIndex,t}(n);case"[object Symbol]":return function uK(n){return gN?Object(gN.call(n)):{}}(n)}};var _N=Object.create,NK=function(){function n(){}return function(t){if(!$a(t))return{};if(_N)return _N(t);n.prototype=t;var e=new n;return n.prototype=void 0,e}}();const LK=NK;var bN=Xh&&Xh.isMap;const $K=bN?XE(bN):function zK(n){return rc(n)&&"[object Map]"==cS(n)};var vN=Xh&&Xh.isSet;const QK=vN?XE(vN):function qK(n){return rc(n)&&"[object Set]"==cS(n)};var yN="[object Arguments]",wN="[object Function]",kN="[object Object]",pn={};pn[yN]=pn["[object Array]"]=pn["[object ArrayBuffer]"]=pn["[object DataView]"]=pn["[object Boolean]"]=pn["[object Date]"]=pn["[object Float32Array]"]=pn["[object Float64Array]"]=pn["[object Int8Array]"]=pn["[object Int16Array]"]=pn["[object Int32Array]"]=pn["[object Map]"]=pn["[object Number]"]=pn[kN]=pn["[object RegExp]"]=pn["[object Set]"]=pn["[object String]"]=pn["[object Symbol]"]=pn["[object Uint8Array]"]=pn["[object Uint8ClampedArray]"]=pn["[object Uint16Array]"]=pn["[object Uint32Array]"]=!0,pn["[object Error]"]=pn[wN]=pn["[object WeakMap]"]=!1;const kQ=function A0(n,t,e,r,s,l){var u,f=1&t,m=2&t,b=4&t;if(e&&(u=s?e(n,r,s,l):e(n)),void 0!==u)return u;if(!$a(n))return n;var w=ZE(n);if(w){if(u=function nK(n){var t=n.length,e=new n.constructor(t);return t&&"string"==typeof n[0]&&tK.call(n,"index")&&(e.index=n.index,e.input=n.input),e}(n),!f)return function CG(n,t){var e=-1,r=n.length;for(t||(t=Array(r));++e<r;)t[e]=n[e];return t}(n,u)}else{var x=cS(n),E=x==wN||"[object GeneratorFunction]"==x;if(GF(n))return function wG(n,t){if(t)return n.slice();var e=n.length,r=iN?iN(e):new n.constructor(e);return n.copy(r),r}(n,f);if(x==kN||x==yN||E&&!s){if(u=m||E?{}:function BK(n){return"function"!=typeof n.constructor||eS(n)?{}:LK(rS(n))}(n),!f)return m?function LG(n,t){return M0(n,aN(n),t)}(n,function bG(n,t){return n&&M0(t,nS(t),n)}(u,n)):function IG(n,t){return M0(n,iS(n),t)}(n,function cG(n,t){return n&&M0(t,tS(t),n)}(u,n))}else{if(!pn[x])return s?n:{};u=FK(n,x,f)}}l||(l=new UW);var S=l.get(n);if(S)return S;l.set(n,u),QK(n)?n.forEach(function(K){u.add(A0(K,t,e,K,n,l))}):$K(n)&&n.forEach(function(K,G){u.set(G,A0(K,t,e,G,n,l))});var N=w?void 0:(b?m?UG:zG:m?nS:tS)(n);return function $W(n,t){for(var e=-1,r=null==n?0:n.length;++e<r&&!1!==t(n[e],e,n););}(N||n,function(K,G){N&&(K=n[G=K]),zF(u,G,A0(K,t,e,G,n,l))}),u};var CN=Function.prototype.toString,AQ=Object.prototype.hasOwnProperty,IQ=CN.call(Object);const FQ=function OQ(n){return rc(n)&&1===n.nodeType&&!function PQ(n){if(!rc(n)||"[object Object]"!=Yd(n))return!1;var t=rS(n);if(null===t)return!0;var e=AQ.call(t,"constructor")&&t.constructor;return"function"==typeof e&&e instanceof e&&CN.call(e)==IQ}(n)};function xN(n,t=new Set){const e=[n],r=new Set;let s=0;for(;e.length>s;){const l=e[s++];if(!(r.has(l)||NQ(l)||t.has(l)))if(r.add(l),l[Symbol.iterator])try{for(const u of l)e.push(u)}catch(u){}else for(const u in l)"defaultValue"!==u&&e.push(l[u])}return r}function NQ(n){const t=Object.prototype.toString.call(n),e=typeof n;return"number"===e||"boolean"===e||"string"===e||"symbol"===e||"function"===e||"[object Date]"===t||"[object RegExp]"===t||"[object Module]"===t||null==n||n instanceof EventTarget||n instanceof Event}class jQ extends class VQ{constructor(t){if(this.crashes=[],this.state="initializing",this._crashNumberLimit="number"==typeof t.crashNumberLimit?t.crashNumberLimit:3,this._now=Date.now,this._minimumNonErrorTimePeriod="number"==typeof t.minimumNonErrorTimePeriod?t.minimumNonErrorTimePeriod:5e3,this._boundErrorHandler=e=>{const r=e.error||e.reason;r instanceof Error&&this._handleError(r,e)},this._listeners={},!this._restart)throw new Error("The Watchdog class was split into the abstract `Watchdog` class and the `EditorWatchdog` class. Please, use `EditorWatchdog` if you have used the `Watchdog` class previously.")}setCreator(t){this._creator=t}setDestructor(t){this._destructor=t}destroy(){this._stopErrorHandling(),this._listeners={}}on(t,e){this._listeners[t]||(this._listeners[t]=[]),this._listeners[t].push(e)}off(t,e){this._listeners[t]=this._listeners[t].filter(r=>r!==e)}_fire(t,...e){const r=this._listeners[t]||[];for(const s of r)s.apply(this,[null,...e])}_startErrorHandling(){window.addEventListener("error",this._boundErrorHandler),window.addEventListener("unhandledrejection",this._boundErrorHandler)}_stopErrorHandling(){window.removeEventListener("error",this._boundErrorHandler),window.removeEventListener("unhandledrejection",this._boundErrorHandler)}_handleError(t,e){if(this._shouldReactToError(t)){this.crashes.push({message:t.message,stack:t.stack,filename:e.filename,lineno:e.lineno,colno:e.colno,date:this._now()});const r=this._shouldRestart();this.state="crashed",this._fire("stateChange"),this._fire("error",{error:t,causesRestart:r}),r?this._restart():(this.state="crashedPermanently",this._fire("stateChange"))}}_shouldReactToError(t){return t.is&&t.is("CKEditorError")&&null!=t.context&&"ready"===this.state&&this._isErrorComingFromThisItem(t)}_shouldRestart(){return this.crashes.length<=this._crashNumberLimit||(this.crashes[this.crashes.length-1].date-this.crashes[this.crashes.length-1-this._crashNumberLimit].date)/this._crashNumberLimit>this._minimumNonErrorTimePeriod}}{constructor(t,e={}){super(e),this._editor=null,this._throttledSave=g9(this._save.bind(this),"number"==typeof e.saveInterval?e.saveInterval:5e3),this._creator=(r,s)=>t.create(r,s),this._destructor=r=>r.destroy()}get editor(){return this._editor}get _item(){return this._editor}_restart(){return Promise.resolve().then(()=>(this.state="initializing",this._fire("stateChange"),this._destroy())).catch(t=>{console.error("An error happened during the editor destroying.",t)}).then(()=>{if("string"==typeof this._elementOrData)return this.create(this._data,this._config,this._config.context);{const t=Object.assign({},this._config,{initialData:this._data});return this.create(this._elementOrData,t,t.context)}}).then(()=>{this._fire("restart")})}create(t=this._elementOrData,e=this._config,r){return Promise.resolve().then(()=>(super._startErrorHandling(),this._elementOrData=t,this._config=this._cloneEditorConfiguration(e)||{},this._config.context=r,this._creator(t,this._config))).then(s=>{this._editor=s,s.model.document.on("change:data",this._throttledSave),this._lastDocumentVersion=s.model.document.version,this._data=this._getData(),this.state="ready",this._fire("stateChange")})}destroy(){return Promise.resolve().then(()=>(this.state="destroyed",this._fire("stateChange"),super.destroy(),this._destroy()))}_destroy(){return Promise.resolve().then(()=>{this._stopErrorHandling(),this._throttledSave.flush();const t=this._editor;return this._editor=null,t.model.document.off("change:data",this._throttledSave),this._destructor(t)})}_save(){const t=this._editor.model.document.version;if(t!==this._lastDocumentVersion)try{this._data=this._getData(),this._lastDocumentVersion=t}catch(e){console.error(e,"An error happened during restoring editor data. Editor will be restored from the previously saved data.")}}_setExcludedProperties(t){this._excludedProps=t}_getData(){const t={};for(const e of this._editor.model.document.getRootNames())t[e]=this._editor.data.get({rootName:e});return t}_isErrorComingFromThisItem(t){return function LQ(n,t,e=new Set){if(n===t&&function BQ(n){return"object"==typeof n&&null!==n}(n))return!0;const r=xN(n,e),s=xN(t,e);for(const l of r)if(s.has(l))return!0;return!1}(this._editor,t.context,this._excludedProps)}_cloneEditorConfiguration(t){return function TQ(n,t){return kQ(n,5,t="function"==typeof t?t:void 0)}(t,(e,r)=>{if(FQ(e)||"context"===r)return e})}}function zQ(n,t){}const Zi=new Array(256).fill(0).map((n,t)=>("0"+t.toString(16)).slice(-2)),uS="Lock from Angular integration (@ckeditor/ckeditor5-angular)";let TN=(()=>{class n{constructor(e,r){this.config={},this.data="",this.tagName="div",this.ready=new we,this.change=new we,this.blur=new we,this.focus=new we,this.error=new we,this.initiallyDisabled=!1,this.isEditorSettingData=!1,this.id=function UQ(){const n=4294967296*Math.random()>>>0,t=4294967296*Math.random()>>>0,e=4294967296*Math.random()>>>0,r=4294967296*Math.random()>>>0;return"e"+Zi[n>>0&255]+Zi[n>>8&255]+Zi[n>>16&255]+Zi[n>>24&255]+Zi[t>>0&255]+Zi[t>>8&255]+Zi[t>>16&255]+Zi[t>>24&255]+Zi[e>>0&255]+Zi[e>>8&255]+Zi[e>>16&255]+Zi[e>>24&255]+Zi[r>>0&255]+Zi[r>>8&255]+Zi[r>>16&255]+Zi[r>>24&255]}(),this.ngZone=r,this.elementRef=e;const{CKEDITOR_VERSION:s}=window;if(s){const[l]=s.split(".").map(Number);l<34&&console.warn("The <CKEditor> component requires using CKEditor 5 in version 34 or higher.")}else console.warn('Cannot find the "CKEDITOR_VERSION" in the "window" scope.')}set disabled(e){this.setDisabledState(e)}get disabled(){return this.editorInstance?this.editorInstance.isReadOnly:this.initiallyDisabled}get editorInstance(){let e=this.editorWatchdog;return this.watchdog&&(e=this.watchdog._watchdogs.get(this.id)),e?e.editor:null}ngAfterViewInit(){this.attachToWatchdog()}ngOnDestroy(){return lc(this,void 0,void 0,function*(){this.watchdog?yield this.watchdog.remove(this.id):this.editorWatchdog&&this.editorWatchdog.editor&&(yield this.editorWatchdog.destroy(),this.editorWatchdog=void 0)})}writeValue(e){null===e&&(e=""),this.editorInstance?(this.isEditorSettingData=!0,this.editorInstance.setData(e),this.isEditorSettingData=!1):(this.data=e,this.ready.pipe(zl()).subscribe(r=>{r.setData(this.data)}))}registerOnChange(e){this.cvaOnChange=e}registerOnTouched(e){this.cvaOnTouched=e}setDisabledState(e){this.editorInstance&&(e?this.editorInstance.enableReadOnlyMode(uS):this.editorInstance.disableReadOnlyMode(uS)),this.initiallyDisabled=e}attachToWatchdog(){const e=(f,m)=>lc(this,void 0,void 0,function*(){return this.ngZone.runOutsideAngular(()=>lc(this,void 0,void 0,function*(){this.elementRef.nativeElement.appendChild(f);const b=yield this.editor.create(f,m);return this.initiallyDisabled&&b.enableReadOnlyMode(uS),this.ngZone.run(()=>{this.ready.emit(b)}),this.setUpEditorEvents(b),b}))}),r=f=>lc(this,void 0,void 0,function*(){yield f.destroy(),this.elementRef.nativeElement.removeChild(this.editorElement)}),s=()=>{this.ngZone.run(()=>{this.error.emit()})},l=document.createElement(this.tagName),u=this.getConfig();if(this.editorElement=l,this.watchdog)this.watchdog.add({id:this.id,type:"editor",creator:e,destructor:r,sourceElementOrData:l,config:u}),this.watchdog.on("itemError",(f,{itemId:m})=>{m===this.id&&s()});else{const f=new jQ(this.editor);f.setCreator(e),f.setDestructor(r),f.on("error",s),this.editorWatchdog=f,this.editorWatchdog.create(l,u)}}getConfig(){if(this.data&&this.config.initialData)throw new Error("Editor data should be provided either using `config.initialData` or `data` properties.");const e=Object.assign({},this.config),r=this.config.initialData||this.data;return r&&(e.initialData=r),e}setUpEditorEvents(e){const s=e.editing.view.document;e.model.document.on("change:data",l=>{this.ngZone.run(()=>{if(this.cvaOnChange&&!this.isEditorSettingData){const u=e.getData();this.cvaOnChange(u)}this.change.emit({event:l,editor:e})})}),s.on("focus",l=>{this.ngZone.run(()=>{this.focus.emit({event:l,editor:e})})}),s.on("blur",l=>{this.ngZone.run(()=>{this.cvaOnTouched&&this.cvaOnTouched(),this.blur.emit({event:l,editor:e})})})}}return n.\u0275fac=function(e){return new(e||n)(M(ze),M(He))},n.\u0275cmp=Ie({type:n,selectors:[["ckeditor"]],inputs:{config:"config",data:"data",tagName:"tagName",disabled:"disabled",editor:"editor",watchdog:"watchdog"},outputs:{ready:"ready",change:"change",blur:"blur",focus:"focus",error:"error"},features:[_t([{provide:ro,useExisting:Nt(()=>n),multi:!0}])],decls:1,vars:0,template:function(e,r){1&e&&pe(0,zQ,0,0,"ng-template")},encapsulation:2}),n})(),$Q=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=ue({type:n}),n.\u0275inj=Se({imports:[[g0,Qi]]}),n})();const WQ=["input"],qQ=function(n){return{enterDuration:n}},GQ=["*"],KQ=new re("mat-checkbox-default-options",{providedIn:"root",factory:EN});function EN(){return{color:"accent",clickAction:"check-indeterminate"}}let QQ=0;const SN=EN(),YQ={provide:ro,useExisting:Nt(()=>DN),multi:!0};class ZQ{}const XQ=gE(Zl(Xl(Yw(class{constructor(n){this._elementRef=n}}))));let DN=(()=>{class n extends XQ{constructor(e,r,s,l,u,f,m){super(e),this._changeDetectorRef=r,this._focusMonitor=s,this._ngZone=l,this._animationMode=f,this._options=m,this.ariaLabel="",this.ariaLabelledby=null,this._uniqueId="mat-checkbox-"+ ++QQ,this.id=this._uniqueId,this.labelPosition="after",this.name=null,this.change=new we,this.indeterminateChange=new we,this._onTouched=()=>{},this._currentAnimationClass="",this._currentCheckState=0,this._controlValueAccessorChangeFn=()=>{},this._checked=!1,this._disabled=!1,this._indeterminate=!1,this._options=this._options||SN,this.color=this.defaultColor=this._options.color||SN.color,this.tabIndex=parseInt(u)||0}get inputId(){return`${this.id||this._uniqueId}-input`}get required(){return this._required}set required(e){this._required=jt(e)}ngAfterViewInit(){this._focusMonitor.monitor(this._elementRef,!0).subscribe(e=>{e||Promise.resolve().then(()=>{this._onTouched(),this._changeDetectorRef.markForCheck()})}),this._syncIndeterminate(this._indeterminate)}ngAfterViewChecked(){}ngOnDestroy(){this._focusMonitor.stopMonitoring(this._elementRef)}get checked(){return this._checked}set checked(e){const r=jt(e);r!=this.checked&&(this._checked=r,this._changeDetectorRef.markForCheck())}get disabled(){return this._disabled}set disabled(e){const r=jt(e);r!==this.disabled&&(this._disabled=r,this._changeDetectorRef.markForCheck())}get indeterminate(){return this._indeterminate}set indeterminate(e){const r=e!=this._indeterminate;this._indeterminate=jt(e),r&&(this._transitionCheckState(this._indeterminate?3:this.checked?1:2),this.indeterminateChange.emit(this._indeterminate)),this._syncIndeterminate(this._indeterminate)}_isRippleDisabled(){return this.disableRipple||this.disabled}_onLabelTextChange(){this._changeDetectorRef.detectChanges()}writeValue(e){this.checked=!!e}registerOnChange(e){this._controlValueAccessorChangeFn=e}registerOnTouched(e){this._onTouched=e}setDisabledState(e){this.disabled=e}_getAriaChecked(){return this.checked?"true":this.indeterminate?"mixed":"false"}_transitionCheckState(e){let r=this._currentCheckState,s=this._elementRef.nativeElement;if(r!==e&&(this._currentAnimationClass.length>0&&s.classList.remove(this._currentAnimationClass),this._currentAnimationClass=this._getAnimationClassForCheckStateTransition(r,e),this._currentCheckState=e,this._currentAnimationClass.length>0)){s.classList.add(this._currentAnimationClass);const l=this._currentAnimationClass;this._ngZone.runOutsideAngular(()=>{setTimeout(()=>{s.classList.remove(l)},1e3)})}}_emitChangeEvent(){const e=new ZQ;e.source=this,e.checked=this.checked,this._controlValueAccessorChangeFn(this.checked),this.change.emit(e),this._inputElement&&(this._inputElement.nativeElement.checked=this.checked)}toggle(){this.checked=!this.checked,this._controlValueAccessorChangeFn(this.checked)}_onInputClick(e){var r;const s=null===(r=this._options)||void 0===r?void 0:r.clickAction;e.stopPropagation(),this.disabled||"noop"===s?!this.disabled&&"noop"===s&&(this._inputElement.nativeElement.checked=this.checked,this._inputElement.nativeElement.indeterminate=this.indeterminate):(this.indeterminate&&"check"!==s&&Promise.resolve().then(()=>{this._indeterminate=!1,this.indeterminateChange.emit(this._indeterminate)}),this._checked=!this._checked,this._transitionCheckState(this._checked?1:2),this._emitChangeEvent())}focus(e,r){e?this._focusMonitor.focusVia(this._inputElement,e,r):this._inputElement.nativeElement.focus(r)}_onInteractionEvent(e){e.stopPropagation()}_getAnimationClassForCheckStateTransition(e,r){if("NoopAnimations"===this._animationMode)return"";let s="";switch(e){case 0:if(1===r)s="unchecked-checked";else{if(3!=r)return"";s="unchecked-indeterminate"}break;case 2:s=1===r?"unchecked-checked":"unchecked-indeterminate";break;case 1:s=2===r?"checked-unchecked":"checked-indeterminate";break;case 3:s=1===r?"indeterminate-checked":"indeterminate-unchecked"}return`mat-checkbox-anim-${s}`}_syncIndeterminate(e){const r=this._inputElement;r&&(r.nativeElement.indeterminate=e)}}return n.\u0275fac=function(e){return new(e||n)(M(ze),M(ei),M(Kl),M(He),ir("tabindex"),M(Kn,8),M(KQ,8))},n.\u0275cmp=Ie({type:n,selectors:[["mat-checkbox"]],viewQuery:function(e,r){if(1&e&&(Jn(WQ,5),Jn(Fa,5)),2&e){let s;st(s=at())&&(r._inputElement=s.first),st(s=at())&&(r.ripple=s.first)}},hostAttrs:[1,"mat-checkbox"],hostVars:14,hostBindings:function(e,r){2&e&&(Ll("id",r.id),mt("tabindex",null)("aria-label",null)("aria-labelledby",null),kt("mat-checkbox-indeterminate",r.indeterminate)("mat-checkbox-checked",r.checked)("mat-checkbox-disabled",r.disabled)("mat-checkbox-label-before","before"==r.labelPosition)("_mat-animation-noopable","NoopAnimations"===r._animationMode))},inputs:{disableRipple:"disableRipple",color:"color",tabIndex:"tabIndex",ariaLabel:["aria-label","ariaLabel"],ariaLabelledby:["aria-labelledby","ariaLabelledby"],ariaDescribedby:["aria-describedby","ariaDescribedby"],id:"id",required:"required",labelPosition:"labelPosition",name:"name",value:"value",checked:"checked",disabled:"disabled",indeterminate:"indeterminate"},outputs:{change:"change",indeterminateChange:"indeterminateChange"},exportAs:["matCheckbox"],features:[_t([YQ]),Fe],ngContentSelectors:GQ,decls:17,vars:21,consts:[[1,"mat-checkbox-layout"],["label",""],[1,"mat-checkbox-inner-container"],["type","checkbox",1,"mat-checkbox-input","cdk-visually-hidden",3,"id","required","checked","disabled","tabIndex","change","click"],["input",""],["matRipple","",1,"mat-checkbox-ripple","mat-focus-indicator",3,"matRippleTrigger","matRippleDisabled","matRippleRadius","matRippleCentered","matRippleAnimation"],[1,"mat-ripple-element","mat-checkbox-persistent-ripple"],[1,"mat-checkbox-frame"],[1,"mat-checkbox-background"],["version","1.1","focusable","false","viewBox","0 0 24 24","aria-hidden","true",1,"mat-checkbox-checkmark"],["fill","none","stroke","white","d","M4.1,12.7 9,17.6 20.3,6.3",1,"mat-checkbox-checkmark-path"],[1,"mat-checkbox-mixedmark"],[1,"mat-checkbox-label",3,"cdkObserveContent"],["checkboxLabel",""],[2,"display","none"]],template:function(e,r){if(1&e&&(Mn(),V(0,"label",0,1)(2,"span",2)(3,"input",3,4),Ee("change",function(l){return r._onInteractionEvent(l)})("click",function(l){return r._onInputClick(l)}),B(),V(5,"span",5),Me(6,"span",6),B(),Me(7,"span",7),V(8,"span",8),al(),V(9,"svg",9),Me(10,"path",10),B(),Vf(),Me(11,"span",11),B()(),V(12,"span",12,13),Ee("cdkObserveContent",function(){return r._onLabelTextChange()}),V(14,"span",14),y(15,"\xa0"),B(),dt(16),B()()),2&e){const s=hi(1),l=hi(13);mt("for",r.inputId),Y(2),kt("mat-checkbox-inner-container-no-side-margin",!l.textContent||!l.textContent.trim()),Y(1),Q("id",r.inputId)("required",r.required)("checked",r.checked)("disabled",r.disabled)("tabIndex",r.tabIndex),mt("value",r.value)("name",r.name)("aria-label",r.ariaLabel||null)("aria-labelledby",r.ariaLabelledby)("aria-checked",r._getAriaChecked())("aria-describedby",r.ariaDescribedby),Y(2),Q("matRippleTrigger",s)("matRippleDisabled",r._isRippleDisabled())("matRippleRadius",20)("matRippleCentered",!0)("matRippleAnimation",Th(19,qQ,"NoopAnimations"===r._animationMode?0:150))}},directives:[Fa,zT],styles:["@keyframes mat-checkbox-fade-in-background{0%{opacity:0}50%{opacity:1}}@keyframes mat-checkbox-fade-out-background{0%,50%{opacity:1}100%{opacity:0}}@keyframes mat-checkbox-unchecked-checked-checkmark-path{0%,50%{stroke-dashoffset:22.910259}50%{animation-timing-function:cubic-bezier(0, 0, 0.2, 0.1)}100%{stroke-dashoffset:0}}@keyframes mat-checkbox-unchecked-indeterminate-mixedmark{0%,68.2%{transform:scaleX(0)}68.2%{animation-timing-function:cubic-bezier(0, 0, 0, 1)}100%{transform:scaleX(1)}}@keyframes mat-checkbox-checked-unchecked-checkmark-path{from{animation-timing-function:cubic-bezier(0.4, 0, 1, 1);stroke-dashoffset:0}to{stroke-dashoffset:-22.910259}}@keyframes mat-checkbox-checked-indeterminate-checkmark{from{animation-timing-function:cubic-bezier(0, 0, 0.2, 0.1);opacity:1;transform:rotate(0deg)}to{opacity:0;transform:rotate(45deg)}}@keyframes mat-checkbox-indeterminate-checked-checkmark{from{animation-timing-function:cubic-bezier(0.14, 0, 0, 1);opacity:0;transform:rotate(45deg)}to{opacity:1;transform:rotate(360deg)}}@keyframes mat-checkbox-checked-indeterminate-mixedmark{from{animation-timing-function:cubic-bezier(0, 0, 0.2, 0.1);opacity:0;transform:rotate(-45deg)}to{opacity:1;transform:rotate(0deg)}}@keyframes mat-checkbox-indeterminate-checked-mixedmark{from{animation-timing-function:cubic-bezier(0.14, 0, 0, 1);opacity:1;transform:rotate(0deg)}to{opacity:0;transform:rotate(315deg)}}@keyframes mat-checkbox-indeterminate-unchecked-mixedmark{0%{animation-timing-function:linear;opacity:1;transform:scaleX(1)}32.8%,100%{opacity:0;transform:scaleX(0)}}.mat-checkbox-background,.mat-checkbox-frame{top:0;left:0;right:0;bottom:0;position:absolute;border-radius:2px;box-sizing:border-box;pointer-events:none}.mat-checkbox{display:inline-block;transition:background 400ms cubic-bezier(0.25, 0.8, 0.25, 1),box-shadow 280ms cubic-bezier(0.4, 0, 0.2, 1);cursor:pointer;-webkit-tap-highlight-color:transparent}._mat-animation-noopable.mat-checkbox{transition:none;animation:none}.mat-checkbox .mat-ripple-element:not(.mat-checkbox-persistent-ripple){opacity:.16}.mat-checkbox .mat-checkbox-ripple{position:absolute;left:calc(50% - 20px);top:calc(50% - 20px);height:40px;width:40px;z-index:1;pointer-events:none}.cdk-high-contrast-active .mat-checkbox.cdk-keyboard-focused .mat-checkbox-ripple{outline:solid 3px}.mat-checkbox-layout{-webkit-user-select:none;user-select:none;cursor:inherit;align-items:baseline;vertical-align:middle;display:inline-flex;white-space:nowrap}.mat-checkbox-label{-webkit-user-select:auto;user-select:auto}.mat-checkbox-inner-container{display:inline-block;height:16px;line-height:0;margin:auto;margin-right:8px;order:0;position:relative;vertical-align:middle;white-space:nowrap;width:16px;flex-shrink:0}[dir=rtl] .mat-checkbox-inner-container{margin-left:8px;margin-right:auto}.mat-checkbox-inner-container-no-side-margin{margin-left:0;margin-right:0}.mat-checkbox-frame{background-color:transparent;transition:border-color 90ms cubic-bezier(0, 0, 0.2, 0.1);border-width:2px;border-style:solid}._mat-animation-noopable .mat-checkbox-frame{transition:none}.mat-checkbox-background{align-items:center;display:inline-flex;justify-content:center;transition:background-color 90ms cubic-bezier(0, 0, 0.2, 0.1),opacity 90ms cubic-bezier(0, 0, 0.2, 0.1);-webkit-print-color-adjust:exact;color-adjust:exact}._mat-animation-noopable .mat-checkbox-background{transition:none}.cdk-high-contrast-active .mat-checkbox .mat-checkbox-background{background:none}.mat-checkbox-persistent-ripple{display:block;width:100%;height:100%;transform:none}.mat-checkbox-inner-container:hover .mat-checkbox-persistent-ripple{opacity:.04}.mat-checkbox.cdk-keyboard-focused .mat-checkbox-persistent-ripple{opacity:.12}.mat-checkbox-persistent-ripple,.mat-checkbox.mat-checkbox-disabled .mat-checkbox-inner-container:hover .mat-checkbox-persistent-ripple{opacity:0}@media(hover: none){.mat-checkbox-inner-container:hover .mat-checkbox-persistent-ripple{display:none}}.mat-checkbox-checkmark{top:0;left:0;right:0;bottom:0;position:absolute;width:100%}.mat-checkbox-checkmark-path{stroke-dashoffset:22.910259;stroke-dasharray:22.910259;stroke-width:2.1333333333px}.cdk-high-contrast-black-on-white .mat-checkbox-checkmark-path{stroke:#000 !important}.mat-checkbox-mixedmark{width:calc(100% - 6px);height:2px;opacity:0;transform:scaleX(0) rotate(0deg);border-radius:2px}.cdk-high-contrast-active .mat-checkbox-mixedmark{height:0;border-top:solid 2px;margin-top:2px}.mat-checkbox-label-before .mat-checkbox-inner-container{order:1;margin-left:8px;margin-right:auto}[dir=rtl] .mat-checkbox-label-before .mat-checkbox-inner-container{margin-left:auto;margin-right:8px}.mat-checkbox-checked .mat-checkbox-checkmark{opacity:1}.mat-checkbox-checked .mat-checkbox-checkmark-path{stroke-dashoffset:0}.mat-checkbox-checked .mat-checkbox-mixedmark{transform:scaleX(1) rotate(-45deg)}.mat-checkbox-indeterminate .mat-checkbox-checkmark{opacity:0;transform:rotate(45deg)}.mat-checkbox-indeterminate .mat-checkbox-checkmark-path{stroke-dashoffset:0}.mat-checkbox-indeterminate .mat-checkbox-mixedmark{opacity:1;transform:scaleX(1) rotate(0deg)}.mat-checkbox-unchecked .mat-checkbox-background{background-color:transparent}.mat-checkbox-disabled{cursor:default}.cdk-high-contrast-active .mat-checkbox-disabled{opacity:.5}.mat-checkbox-anim-unchecked-checked .mat-checkbox-background{animation:180ms linear 0ms mat-checkbox-fade-in-background}.mat-checkbox-anim-unchecked-checked .mat-checkbox-checkmark-path{animation:180ms linear 0ms mat-checkbox-unchecked-checked-checkmark-path}.mat-checkbox-anim-unchecked-indeterminate .mat-checkbox-background{animation:180ms linear 0ms mat-checkbox-fade-in-background}.mat-checkbox-anim-unchecked-indeterminate .mat-checkbox-mixedmark{animation:90ms linear 0ms mat-checkbox-unchecked-indeterminate-mixedmark}.mat-checkbox-anim-checked-unchecked .mat-checkbox-background{animation:180ms linear 0ms mat-checkbox-fade-out-background}.mat-checkbox-anim-checked-unchecked .mat-checkbox-checkmark-path{animation:90ms linear 0ms mat-checkbox-checked-unchecked-checkmark-path}.mat-checkbox-anim-checked-indeterminate .mat-checkbox-checkmark{animation:90ms linear 0ms mat-checkbox-checked-indeterminate-checkmark}.mat-checkbox-anim-checked-indeterminate .mat-checkbox-mixedmark{animation:90ms linear 0ms mat-checkbox-checked-indeterminate-mixedmark}.mat-checkbox-anim-indeterminate-checked .mat-checkbox-checkmark{animation:500ms linear 0ms mat-checkbox-indeterminate-checked-checkmark}.mat-checkbox-anim-indeterminate-checked .mat-checkbox-mixedmark{animation:500ms linear 0ms mat-checkbox-indeterminate-checked-mixedmark}.mat-checkbox-anim-indeterminate-unchecked .mat-checkbox-background{animation:180ms linear 0ms mat-checkbox-fade-out-background}.mat-checkbox-anim-indeterminate-unchecked .mat-checkbox-mixedmark{animation:300ms linear 0ms mat-checkbox-indeterminate-unchecked-mixedmark}.mat-checkbox-input{bottom:0;left:50%}\n"],encapsulation:2,changeDetection:0}),n})(),MN=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=ue({type:n}),n.\u0275inj=Se({}),n})(),tY=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=ue({type:n}),n.\u0275inj=Se({imports:[[Pg,xt,Sw,MN],xt,MN]}),n})(),iY=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=ue({type:n}),n.\u0275inj=Se({imports:[[Qi,xt,Hg],Hg,xt]}),n})();class hS{constructor(t=!1,e,r=!0){this._multiple=t,this._emitChanges=r,this._selection=new Set,this._deselectedToEmit=[],this._selectedToEmit=[],this.changed=new Oe,e&&e.length&&(t?e.forEach(s=>this._markSelected(s)):this._markSelected(e[0]),this._selectedToEmit.length=0)}get selected(){return this._selected||(this._selected=Array.from(this._selection.values())),this._selected}select(...t){this._verifyValueAssignment(t),t.forEach(e=>this._markSelected(e)),this._emitChangeEvent()}deselect(...t){this._verifyValueAssignment(t),t.forEach(e=>this._unmarkSelected(e)),this._emitChangeEvent()}toggle(t){this.isSelected(t)?this.deselect(t):this.select(t)}clear(){this._unmarkAll(),this._emitChangeEvent()}isSelected(t){return this._selection.has(t)}isEmpty(){return 0===this._selection.size}hasValue(){return!this.isEmpty()}sort(t){this._multiple&&this.selected&&this._selected.sort(t)}isMultipleSelection(){return this._multiple}_emitChangeEvent(){this._selected=null,(this._selectedToEmit.length||this._deselectedToEmit.length)&&(this.changed.next({source:this,added:this._selectedToEmit,removed:this._deselectedToEmit}),this._deselectedToEmit=[],this._selectedToEmit=[])}_markSelected(t){this.isSelected(t)||(this._multiple||this._unmarkAll(),this._selection.add(t),this._emitChanges&&this._selectedToEmit.push(t))}_unmarkSelected(t){this.isSelected(t)&&(this._selection.delete(t),this._emitChanges&&this._deselectedToEmit.push(t))}_unmarkAll(){this.isEmpty()||this._selection.forEach(t=>this._unmarkSelected(t))}_verifyValueAssignment(t){}}const AN=["*"],rY=[[["","mat-list-avatar",""],["","mat-list-icon",""],["","matListAvatar",""],["","matListIcon",""]],[["","mat-line",""],["","matLine",""]],"*"],oY=["[mat-list-avatar], [mat-list-icon], [matListAvatar], [matListIcon]","[mat-line], [matLine]","*"],dY=Yw(Xl(class{})),uY=Xl(class{}),PN=new re("MatList"),hY=new re("MatNavList");let fS=(()=>{class n extends dY{constructor(e){super(),this._elementRef=e,this._stateChanges=new Oe,"action-list"===this._getListType()&&e.nativeElement.classList.add("mat-action-list")}_getListType(){const e=this._elementRef.nativeElement.nodeName.toLowerCase();return"mat-list"===e?"list":"mat-action-list"===e?"action-list":null}ngOnChanges(){this._stateChanges.next()}ngOnDestroy(){this._stateChanges.complete()}}return n.\u0275fac=function(e){return new(e||n)(M(ze))},n.\u0275cmp=Ie({type:n,selectors:[["mat-list"],["mat-action-list"]],hostAttrs:[1,"mat-list","mat-list-base"],inputs:{disableRipple:"disableRipple",disabled:"disabled"},exportAs:["matList"],features:[_t([{provide:PN,useExisting:n}]),Fe,xn],ngContentSelectors:AN,decls:1,vars:0,template:function(e,r){1&e&&(Mn(),dt(0))},styles:['.mat-subheader{display:flex;box-sizing:border-box;padding:16px;align-items:center}.mat-list-base .mat-subheader{margin:0}button.mat-list-item,button.mat-list-option{padding:0;width:100%;background:none;color:inherit;border:none;outline:inherit;-webkit-tap-highlight-color:transparent;text-align:left}[dir=rtl] button.mat-list-item,[dir=rtl] button.mat-list-option{text-align:right}button.mat-list-item::-moz-focus-inner,button.mat-list-option::-moz-focus-inner{border:0}.mat-list-base{padding-top:8px;display:block;-webkit-tap-highlight-color:transparent}.mat-list-base .mat-subheader{height:48px;line-height:16px}.mat-list-base .mat-subheader:first-child{margin-top:-8px}.mat-list-base .mat-list-item,.mat-list-base .mat-list-option{display:block;height:48px;-webkit-tap-highlight-color:transparent;width:100%;padding:0}.mat-list-base .mat-list-item .mat-list-item-content,.mat-list-base .mat-list-option .mat-list-item-content{display:flex;flex-direction:row;align-items:center;box-sizing:border-box;padding:0 16px;position:relative;height:inherit}.mat-list-base .mat-list-item .mat-list-item-content-reverse,.mat-list-base .mat-list-option .mat-list-item-content-reverse{display:flex;align-items:center;padding:0 16px;flex-direction:row-reverse;justify-content:space-around}.mat-list-base .mat-list-item .mat-list-item-ripple,.mat-list-base .mat-list-option .mat-list-item-ripple{display:block;top:0;left:0;right:0;bottom:0;position:absolute;pointer-events:none}.mat-list-base .mat-list-item.mat-list-item-with-avatar,.mat-list-base .mat-list-option.mat-list-item-with-avatar{height:56px}.mat-list-base .mat-list-item.mat-2-line,.mat-list-base .mat-list-option.mat-2-line{height:72px}.mat-list-base .mat-list-item.mat-3-line,.mat-list-base .mat-list-option.mat-3-line{height:88px}.mat-list-base .mat-list-item.mat-multi-line,.mat-list-base .mat-list-option.mat-multi-line{height:auto}.mat-list-base .mat-list-item.mat-multi-line .mat-list-item-content,.mat-list-base .mat-list-option.mat-multi-line .mat-list-item-content{padding-top:16px;padding-bottom:16px}.mat-list-base .mat-list-item .mat-list-text,.mat-list-base .mat-list-option .mat-list-text{display:flex;flex-direction:column;flex:auto;box-sizing:border-box;overflow:hidden;padding:0}.mat-list-base .mat-list-item .mat-list-text>*,.mat-list-base .mat-list-option .mat-list-text>*{margin:0;padding:0;font-weight:normal;font-size:inherit}.mat-list-base .mat-list-item .mat-list-text:empty,.mat-list-base .mat-list-option .mat-list-text:empty{display:none}.mat-list-base .mat-list-item.mat-list-item-with-avatar .mat-list-item-content .mat-list-text,.mat-list-base .mat-list-item.mat-list-option .mat-list-item-content .mat-list-text,.mat-list-base .mat-list-option.mat-list-item-with-avatar .mat-list-item-content .mat-list-text,.mat-list-base .mat-list-option.mat-list-option .mat-list-item-content .mat-list-text{padding-right:0;padding-left:16px}[dir=rtl] .mat-list-base .mat-list-item.mat-list-item-with-avatar .mat-list-item-content .mat-list-text,[dir=rtl] .mat-list-base .mat-list-item.mat-list-option .mat-list-item-content .mat-list-text,[dir=rtl] .mat-list-base .mat-list-option.mat-list-item-with-avatar .mat-list-item-content .mat-list-text,[dir=rtl] .mat-list-base .mat-list-option.mat-list-option .mat-list-item-content .mat-list-text{padding-right:16px;padding-left:0}.mat-list-base .mat-list-item.mat-list-item-with-avatar .mat-list-item-content-reverse .mat-list-text,.mat-list-base .mat-list-item.mat-list-option .mat-list-item-content-reverse .mat-list-text,.mat-list-base .mat-list-option.mat-list-item-with-avatar .mat-list-item-content-reverse .mat-list-text,.mat-list-base .mat-list-option.mat-list-option .mat-list-item-content-reverse .mat-list-text{padding-left:0;padding-right:16px}[dir=rtl] .mat-list-base .mat-list-item.mat-list-item-with-avatar .mat-list-item-content-reverse .mat-list-text,[dir=rtl] .mat-list-base .mat-list-item.mat-list-option .mat-list-item-content-reverse .mat-list-text,[dir=rtl] .mat-list-base .mat-list-option.mat-list-item-with-avatar .mat-list-item-content-reverse .mat-list-text,[dir=rtl] .mat-list-base .mat-list-option.mat-list-option .mat-list-item-content-reverse .mat-list-text{padding-right:0;padding-left:16px}.mat-list-base .mat-list-item.mat-list-item-with-avatar.mat-list-option .mat-list-item-content-reverse .mat-list-text,.mat-list-base .mat-list-item.mat-list-item-with-avatar.mat-list-option .mat-list-item-content .mat-list-text,.mat-list-base .mat-list-option.mat-list-item-with-avatar.mat-list-option .mat-list-item-content-reverse .mat-list-text,.mat-list-base .mat-list-option.mat-list-item-with-avatar.mat-list-option .mat-list-item-content .mat-list-text{padding-right:16px;padding-left:16px}.mat-list-base .mat-list-item .mat-list-avatar,.mat-list-base .mat-list-option .mat-list-avatar{flex-shrink:0;width:40px;height:40px;border-radius:50%;object-fit:cover}.mat-list-base .mat-list-item .mat-list-avatar~.mat-divider-inset,.mat-list-base .mat-list-option .mat-list-avatar~.mat-divider-inset{margin-left:72px;width:calc(100% - 72px)}[dir=rtl] .mat-list-base .mat-list-item .mat-list-avatar~.mat-divider-inset,[dir=rtl] .mat-list-base .mat-list-option .mat-list-avatar~.mat-divider-inset{margin-left:auto;margin-right:72px}.mat-list-base .mat-list-item .mat-list-icon,.mat-list-base .mat-list-option .mat-list-icon{flex-shrink:0;width:24px;height:24px;font-size:24px;box-sizing:content-box;border-radius:50%;padding:4px}.mat-list-base .mat-list-item .mat-list-icon~.mat-divider-inset,.mat-list-base .mat-list-option .mat-list-icon~.mat-divider-inset{margin-left:64px;width:calc(100% - 64px)}[dir=rtl] .mat-list-base .mat-list-item .mat-list-icon~.mat-divider-inset,[dir=rtl] .mat-list-base .mat-list-option .mat-list-icon~.mat-divider-inset{margin-left:auto;margin-right:64px}.mat-list-base .mat-list-item .mat-divider,.mat-list-base .mat-list-option .mat-divider{position:absolute;bottom:0;left:0;width:100%;margin:0}[dir=rtl] .mat-list-base .mat-list-item .mat-divider,[dir=rtl] .mat-list-base .mat-list-option .mat-divider{margin-left:auto;margin-right:0}.mat-list-base .mat-list-item .mat-divider.mat-divider-inset,.mat-list-base .mat-list-option .mat-divider.mat-divider-inset{position:absolute}.mat-list-base[dense]{padding-top:4px;display:block}.mat-list-base[dense] .mat-subheader{height:40px;line-height:8px}.mat-list-base[dense] .mat-subheader:first-child{margin-top:-4px}.mat-list-base[dense] .mat-list-item,.mat-list-base[dense] .mat-list-option{display:block;height:40px;-webkit-tap-highlight-color:transparent;width:100%;padding:0}.mat-list-base[dense] .mat-list-item .mat-list-item-content,.mat-list-base[dense] .mat-list-option .mat-list-item-content{display:flex;flex-direction:row;align-items:center;box-sizing:border-box;padding:0 16px;position:relative;height:inherit}.mat-list-base[dense] .mat-list-item .mat-list-item-content-reverse,.mat-list-base[dense] .mat-list-option .mat-list-item-content-reverse{display:flex;align-items:center;padding:0 16px;flex-direction:row-reverse;justify-content:space-around}.mat-list-base[dense] .mat-list-item .mat-list-item-ripple,.mat-list-base[dense] .mat-list-option .mat-list-item-ripple{display:block;top:0;left:0;right:0;bottom:0;position:absolute;pointer-events:none}.mat-list-base[dense] .mat-list-item.mat-list-item-with-avatar,.mat-list-base[dense] .mat-list-option.mat-list-item-with-avatar{height:48px}.mat-list-base[dense] .mat-list-item.mat-2-line,.mat-list-base[dense] .mat-list-option.mat-2-line{height:60px}.mat-list-base[dense] .mat-list-item.mat-3-line,.mat-list-base[dense] .mat-list-option.mat-3-line{height:76px}.mat-list-base[dense] .mat-list-item.mat-multi-line,.mat-list-base[dense] .mat-list-option.mat-multi-line{height:auto}.mat-list-base[dense] .mat-list-item.mat-multi-line .mat-list-item-content,.mat-list-base[dense] .mat-list-option.mat-multi-line .mat-list-item-content{padding-top:16px;padding-bottom:16px}.mat-list-base[dense] .mat-list-item .mat-list-text,.mat-list-base[dense] .mat-list-option .mat-list-text{display:flex;flex-direction:column;flex:auto;box-sizing:border-box;overflow:hidden;padding:0}.mat-list-base[dense] .mat-list-item .mat-list-text>*,.mat-list-base[dense] .mat-list-option .mat-list-text>*{margin:0;padding:0;font-weight:normal;font-size:inherit}.mat-list-base[dense] .mat-list-item .mat-list-text:empty,.mat-list-base[dense] .mat-list-option .mat-list-text:empty{display:none}.mat-list-base[dense] .mat-list-item.mat-list-item-with-avatar .mat-list-item-content .mat-list-text,.mat-list-base[dense] .mat-list-item.mat-list-option .mat-list-item-content .mat-list-text,.mat-list-base[dense] .mat-list-option.mat-list-item-with-avatar .mat-list-item-content .mat-list-text,.mat-list-base[dense] .mat-list-option.mat-list-option .mat-list-item-content .mat-list-text{padding-right:0;padding-left:16px}[dir=rtl] .mat-list-base[dense] .mat-list-item.mat-list-item-with-avatar .mat-list-item-content .mat-list-text,[dir=rtl] .mat-list-base[dense] .mat-list-item.mat-list-option .mat-list-item-content .mat-list-text,[dir=rtl] .mat-list-base[dense] .mat-list-option.mat-list-item-with-avatar .mat-list-item-content .mat-list-text,[dir=rtl] .mat-list-base[dense] .mat-list-option.mat-list-option .mat-list-item-content .mat-list-text{padding-right:16px;padding-left:0}.mat-list-base[dense] .mat-list-item.mat-list-item-with-avatar .mat-list-item-content-reverse .mat-list-text,.mat-list-base[dense] .mat-list-item.mat-list-option .mat-list-item-content-reverse .mat-list-text,.mat-list-base[dense] .mat-list-option.mat-list-item-with-avatar .mat-list-item-content-reverse .mat-list-text,.mat-list-base[dense] .mat-list-option.mat-list-option .mat-list-item-content-reverse .mat-list-text{padding-left:0;padding-right:16px}[dir=rtl] .mat-list-base[dense] .mat-list-item.mat-list-item-with-avatar .mat-list-item-content-reverse .mat-list-text,[dir=rtl] .mat-list-base[dense] .mat-list-item.mat-list-option .mat-list-item-content-reverse .mat-list-text,[dir=rtl] .mat-list-base[dense] .mat-list-option.mat-list-item-with-avatar .mat-list-item-content-reverse .mat-list-text,[dir=rtl] .mat-list-base[dense] .mat-list-option.mat-list-option .mat-list-item-content-reverse .mat-list-text{padding-right:0;padding-left:16px}.mat-list-base[dense] .mat-list-item.mat-list-item-with-avatar.mat-list-option .mat-list-item-content-reverse .mat-list-text,.mat-list-base[dense] .mat-list-item.mat-list-item-with-avatar.mat-list-option .mat-list-item-content .mat-list-text,.mat-list-base[dense] .mat-list-option.mat-list-item-with-avatar.mat-list-option .mat-list-item-content-reverse .mat-list-text,.mat-list-base[dense] .mat-list-option.mat-list-item-with-avatar.mat-list-option .mat-list-item-content .mat-list-text{padding-right:16px;padding-left:16px}.mat-list-base[dense] .mat-list-item .mat-list-avatar,.mat-list-base[dense] .mat-list-option .mat-list-avatar{flex-shrink:0;width:36px;height:36px;border-radius:50%;object-fit:cover}.mat-list-base[dense] .mat-list-item .mat-list-avatar~.mat-divider-inset,.mat-list-base[dense] .mat-list-option .mat-list-avatar~.mat-divider-inset{margin-left:68px;width:calc(100% - 68px)}[dir=rtl] .mat-list-base[dense] .mat-list-item .mat-list-avatar~.mat-divider-inset,[dir=rtl] .mat-list-base[dense] .mat-list-option .mat-list-avatar~.mat-divider-inset{margin-left:auto;margin-right:68px}.mat-list-base[dense] .mat-list-item .mat-list-icon,.mat-list-base[dense] .mat-list-option .mat-list-icon{flex-shrink:0;width:20px;height:20px;font-size:20px;box-sizing:content-box;border-radius:50%;padding:4px}.mat-list-base[dense] .mat-list-item .mat-list-icon~.mat-divider-inset,.mat-list-base[dense] .mat-list-option .mat-list-icon~.mat-divider-inset{margin-left:60px;width:calc(100% - 60px)}[dir=rtl] .mat-list-base[dense] .mat-list-item .mat-list-icon~.mat-divider-inset,[dir=rtl] .mat-list-base[dense] .mat-list-option .mat-list-icon~.mat-divider-inset{margin-left:auto;margin-right:60px}.mat-list-base[dense] .mat-list-item .mat-divider,.mat-list-base[dense] .mat-list-option .mat-divider{position:absolute;bottom:0;left:0;width:100%;margin:0}[dir=rtl] .mat-list-base[dense] .mat-list-item .mat-divider,[dir=rtl] .mat-list-base[dense] .mat-list-option .mat-divider{margin-left:auto;margin-right:0}.mat-list-base[dense] .mat-list-item .mat-divider.mat-divider-inset,.mat-list-base[dense] .mat-list-option .mat-divider.mat-divider-inset{position:absolute}.mat-nav-list a{text-decoration:none;color:inherit}.mat-nav-list .mat-list-item{cursor:pointer;outline:none}mat-action-list .mat-list-item{cursor:pointer;outline:inherit}.mat-list-option:not(.mat-list-item-disabled){cursor:pointer;outline:none}.mat-list-item-disabled{pointer-events:none}.cdk-high-contrast-active .mat-list-item-disabled{opacity:.5}.cdk-high-contrast-active :host .mat-list-item-disabled{opacity:.5}.cdk-high-contrast-active .mat-selection-list:focus{outline-style:dotted}.cdk-high-contrast-active .mat-list-option:hover,.cdk-high-contrast-active .mat-list-option:focus,.cdk-high-contrast-active .mat-nav-list .mat-list-item:hover,.cdk-high-contrast-active .mat-nav-list .mat-list-item:focus,.cdk-high-contrast-active mat-action-list .mat-list-item:hover,.cdk-high-contrast-active mat-action-list .mat-list-item:focus{outline:dotted 1px;z-index:1}.cdk-high-contrast-active .mat-list-single-selected-option::after{content:"";position:absolute;top:50%;right:16px;transform:translateY(-50%);width:10px;height:0;border-bottom:solid 10px;border-radius:10px}.cdk-high-contrast-active [dir=rtl] .mat-list-single-selected-option::after{right:auto;left:16px}@media(hover: none){.mat-list-option:not(.mat-list-single-selected-option):not(.mat-list-item-disabled):hover,.mat-nav-list .mat-list-item:not(.mat-list-item-disabled):hover,.mat-action-list .mat-list-item:not(.mat-list-item-disabled):hover{background:none}}\n'],encapsulation:2,changeDetection:0}),n})(),RN=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275dir=se({type:n,selectors:[["","mat-list-avatar",""],["","matListAvatar",""]],hostAttrs:[1,"mat-list-avatar"]}),n})(),ON=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275dir=se({type:n,selectors:[["","mat-list-icon",""],["","matListIcon",""]],hostAttrs:[1,"mat-list-icon"]}),n})(),fY=(()=>{class n extends uY{constructor(e,r,s,l){super(),this._element=e,this._isInteractiveList=!1,this._destroyed=new Oe,this._disabled=!1,this._isInteractiveList=!!(s||l&&"action-list"===l._getListType()),this._list=s||l;const u=this._getHostElement();"button"===u.nodeName.toLowerCase()&&!u.hasAttribute("type")&&u.setAttribute("type","button"),this._list&&this._list._stateChanges.pipe(Qt(this._destroyed)).subscribe(()=>{r.markForCheck()})}get disabled(){return this._disabled||!(!this._list||!this._list.disabled)}set disabled(e){this._disabled=jt(e)}ngAfterContentInit(){!function UR(n,t,e="mat"){n.changes.pipe(Fs(n)).subscribe(({length:r})=>{Ig(t,`${e}-2-line`,!1),Ig(t,`${e}-3-line`,!1),Ig(t,`${e}-multi-line`,!1),2===r||3===r?Ig(t,`${e}-${r}-line`,!0):r>3&&Ig(t,`${e}-multi-line`,!0)})}(this._lines,this._element)}ngOnDestroy(){this._destroyed.next(),this._destroyed.complete()}_isRippleDisabled(){return!this._isInteractiveList||this.disableRipple||!(!this._list||!this._list.disableRipple)}_getHostElement(){return this._element.nativeElement}}return n.\u0275fac=function(e){return new(e||n)(M(ze),M(ei),M(hY,8),M(PN,8))},n.\u0275cmp=Ie({type:n,selectors:[["mat-list-item"],["a","mat-list-item",""],["button","mat-list-item",""]],contentQueries:function(e,r,s){if(1&e&&(bn(s,RN,5),bn(s,ON,5),bn(s,HR,5)),2&e){let l;st(l=at())&&(r._avatar=l.first),st(l=at())&&(r._icon=l.first),st(l=at())&&(r._lines=l)}},hostAttrs:[1,"mat-list-item","mat-focus-indicator"],hostVars:6,hostBindings:function(e,r){2&e&&kt("mat-list-item-disabled",r.disabled)("mat-list-item-avatar",r._avatar||r._icon)("mat-list-item-with-avatar",r._avatar||r._icon)},inputs:{disableRipple:"disableRipple",disabled:"disabled"},exportAs:["matListItem"],features:[Fe],ngContentSelectors:oY,decls:6,vars:2,consts:[[1,"mat-list-item-content"],["mat-ripple","",1,"mat-list-item-ripple",3,"matRippleTrigger","matRippleDisabled"],[1,"mat-list-text"]],template:function(e,r){1&e&&(Mn(rY),V(0,"span",0),Me(1,"span",1),dt(2),V(3,"span",2),dt(4,1),B(),dt(5,2),B()),2&e&&(Y(1),Q("matRippleTrigger",r._getHostElement())("matRippleDisabled",r._isRippleDisabled()))},directives:[Fa],encapsulation:2,changeDetection:0}),n})(),vY=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=ue({type:n}),n.\u0275inj=Se({imports:[[$R,Pg,xt,KR,Qi],$R,xt,KR,zE]}),n})();function yY(n,t){if(1&n&&(al(),Me(0,"circle",4)),2&n){const e=ce(),r=hi(1);wa("animation-name","mat-progress-spinner-stroke-rotate-"+e._spinnerAnimationLabel)("stroke-dashoffset",e._getStrokeDashOffset(),"px")("stroke-dasharray",e._getStrokeCircumference(),"px")("stroke-width",e._getCircleStrokeWidth(),"%")("transform-origin",e._getCircleTransformOrigin(r)),mt("r",e._getCircleRadius())}}function wY(n,t){if(1&n&&(al(),Me(0,"circle",4)),2&n){const e=ce(),r=hi(1);wa("stroke-dashoffset",e._getStrokeDashOffset(),"px")("stroke-dasharray",e._getStrokeCircumference(),"px")("stroke-width",e._getCircleStrokeWidth(),"%")("transform-origin",e._getCircleTransformOrigin(r)),mt("r",e._getCircleRadius())}}const CY=Zl(class{constructor(n){this._elementRef=n}},"primary"),xY=new re("mat-progress-spinner-default-options",{providedIn:"root",factory:function TY(){return{diameter:100}}});class Wa extends CY{constructor(t,e,r,s,l,u,f,m){super(t),this._document=r,this._diameter=100,this._value=0,this._resizeSubscription=U.EMPTY,this.mode="determinate";const b=Wa._diameters;this._spinnerAnimationLabel=this._getSpinnerAnimationLabel(),b.has(r.head)||b.set(r.head,new Set([100])),this._noopAnimations="NoopAnimations"===s&&!!l&&!l._forceAnimations,"mat-spinner"===t.nativeElement.nodeName.toLowerCase()&&(this.mode="indeterminate"),l&&(l.diameter&&(this.diameter=l.diameter),l.strokeWidth&&(this.strokeWidth=l.strokeWidth)),e.isBrowser&&e.SAFARI&&f&&u&&m&&(this._resizeSubscription=f.change(150).subscribe(()=>{"indeterminate"===this.mode&&m.run(()=>u.markForCheck())}))}get diameter(){return this._diameter}set diameter(t){this._diameter=Yo(t),this._spinnerAnimationLabel=this._getSpinnerAnimationLabel(),this._styleRoot&&this._attachStyleNode()}get strokeWidth(){return this._strokeWidth||this.diameter/10}set strokeWidth(t){this._strokeWidth=Yo(t)}get value(){return"determinate"===this.mode?this._value:0}set value(t){this._value=Math.max(0,Math.min(100,Yo(t)))}ngOnInit(){const t=this._elementRef.nativeElement;this._styleRoot=SP(t)||this._document.head,this._attachStyleNode(),t.classList.add("mat-progress-spinner-indeterminate-animation")}ngOnDestroy(){this._resizeSubscription.unsubscribe()}_getCircleRadius(){return(this.diameter-10)/2}_getViewBox(){const t=2*this._getCircleRadius()+this.strokeWidth;return`0 0 ${t} ${t}`}_getStrokeCircumference(){return 2*Math.PI*this._getCircleRadius()}_getStrokeDashOffset(){return"determinate"===this.mode?this._getStrokeCircumference()*(100-this._value)/100:null}_getCircleStrokeWidth(){return this.strokeWidth/this.diameter*100}_getCircleTransformOrigin(t){var e;const r=50*(null!==(e=t.currentScale)&&void 0!==e?e:1);return`${r}% ${r}%`}_attachStyleNode(){const t=this._styleRoot,e=this._diameter,r=Wa._diameters;let s=r.get(t);if(!s||!s.has(e)){const l=this._document.createElement("style");l.setAttribute("mat-spinner-animation",this._spinnerAnimationLabel),l.textContent=this._getAnimationText(),t.appendChild(l),s||(s=new Set,r.set(t,s)),s.add(e)}}_getAnimationText(){const t=this._getStrokeCircumference();return"\n @keyframes mat-progress-spinner-stroke-rotate-DIAMETER {\n    0%      { stroke-dashoffset: START_VALUE;  transform: rotate(0); }\n    12.5%   { stroke-dashoffset: END_VALUE;    transform: rotate(0); }\n    12.5001%  { stroke-dashoffset: END_VALUE;    transform: rotateX(180deg) rotate(72.5deg); }\n    25%     { stroke-dashoffset: START_VALUE;  transform: rotateX(180deg) rotate(72.5deg); }\n\n    25.0001%   { stroke-dashoffset: START_VALUE;  transform: rotate(270deg); }\n    37.5%   { stroke-dashoffset: END_VALUE;    transform: rotate(270deg); }\n    37.5001%  { stroke-dashoffset: END_VALUE;    transform: rotateX(180deg) rotate(161.5deg); }\n    50%     { stroke-dashoffset: START_VALUE;  transform: rotateX(180deg) rotate(161.5deg); }\n\n    50.0001%  { stroke-dashoffset: START_VALUE;  transform: rotate(180deg); }\n    62.5%   { stroke-dashoffset: END_VALUE;    transform: rotate(180deg); }\n    62.5001%  { stroke-dashoffset: END_VALUE;    transform: rotateX(180deg) rotate(251.5deg); }\n    75%     { stroke-dashoffset: START_VALUE;  transform: rotateX(180deg) rotate(251.5deg); }\n\n    75.0001%  { stroke-dashoffset: START_VALUE;  transform: rotate(90deg); }\n    87.5%   { stroke-dashoffset: END_VALUE;    transform: rotate(90deg); }\n    87.5001%  { stroke-dashoffset: END_VALUE;    transform: rotateX(180deg) rotate(341.5deg); }\n    100%    { stroke-dashoffset: START_VALUE;  transform: rotateX(180deg) rotate(341.5deg); }\n  }\n".replace(/START_VALUE/g,""+.95*t).replace(/END_VALUE/g,""+.2*t).replace(/DIAMETER/g,`${this._spinnerAnimationLabel}`)}_getSpinnerAnimationLabel(){return this.diameter.toString().replace(".","_")}}Wa._diameters=new WeakMap,Wa.\u0275fac=function(t){return new(t||Wa)(M(ze),M(yn),M(ot,8),M(Kn,8),M(xY),M(ei),M($h),M(He))},Wa.\u0275cmp=Ie({type:Wa,selectors:[["mat-progress-spinner"],["mat-spinner"]],hostAttrs:["role","progressbar","tabindex","-1",1,"mat-progress-spinner","mat-spinner"],hostVars:10,hostBindings:function(t,e){2&t&&(mt("aria-valuemin","determinate"===e.mode?0:null)("aria-valuemax","determinate"===e.mode?100:null)("aria-valuenow","determinate"===e.mode?e.value:null)("mode",e.mode),wa("width",e.diameter,"px")("height",e.diameter,"px"),kt("_mat-animation-noopable",e._noopAnimations))},inputs:{color:"color",diameter:"diameter",strokeWidth:"strokeWidth",mode:"mode",value:"value"},exportAs:["matProgressSpinner"],features:[Fe],decls:4,vars:8,consts:[["preserveAspectRatio","xMidYMid meet","focusable","false","aria-hidden","true",3,"ngSwitch"],["svg",""],["cx","50%","cy","50%",3,"animation-name","stroke-dashoffset","stroke-dasharray","stroke-width","transform-origin",4,"ngSwitchCase"],["cx","50%","cy","50%",3,"stroke-dashoffset","stroke-dasharray","stroke-width","transform-origin",4,"ngSwitchCase"],["cx","50%","cy","50%"]],template:function(t,e){1&t&&(al(),V(0,"svg",0,1),pe(2,yY,1,11,"circle",2),pe(3,wY,1,9,"circle",3),B()),2&t&&(wa("width",e.diameter,"px")("height",e.diameter,"px"),Q("ngSwitch","indeterminate"===e.mode),mt("viewBox",e._getViewBox()),Y(2),Q("ngSwitchCase",!0),Y(1),Q("ngSwitchCase",!1))},directives:[ag,$1],styles:[".mat-progress-spinner{display:block;position:relative;overflow:hidden}.mat-progress-spinner svg{position:absolute;transform:rotate(-90deg);top:0;left:0;transform-origin:center;overflow:visible}.mat-progress-spinner circle{fill:transparent;transition:stroke-dashoffset 225ms linear}._mat-animation-noopable.mat-progress-spinner circle{transition:none;animation:none}.cdk-high-contrast-active .mat-progress-spinner circle{stroke:CanvasText}.mat-progress-spinner.mat-progress-spinner-indeterminate-animation[mode=indeterminate] svg{animation:mat-progress-spinner-linear-rotate 2000ms linear infinite}._mat-animation-noopable.mat-progress-spinner.mat-progress-spinner-indeterminate-animation[mode=indeterminate] svg{transition:none;animation:none}.mat-progress-spinner.mat-progress-spinner-indeterminate-animation[mode=indeterminate] circle{transition-property:stroke;animation-duration:4000ms;animation-timing-function:cubic-bezier(0.35, 0, 0.25, 1);animation-iteration-count:infinite}._mat-animation-noopable.mat-progress-spinner.mat-progress-spinner-indeterminate-animation[mode=indeterminate] circle{transition:none;animation:none}@keyframes mat-progress-spinner-linear-rotate{0%{transform:rotate(0deg)}100%{transform:rotate(360deg)}}@keyframes mat-progress-spinner-stroke-rotate-100{0%{stroke-dashoffset:268.606171575px;transform:rotate(0)}12.5%{stroke-dashoffset:56.5486677px;transform:rotate(0)}12.5001%{stroke-dashoffset:56.5486677px;transform:rotateX(180deg) rotate(72.5deg)}25%{stroke-dashoffset:268.606171575px;transform:rotateX(180deg) rotate(72.5deg)}25.0001%{stroke-dashoffset:268.606171575px;transform:rotate(270deg)}37.5%{stroke-dashoffset:56.5486677px;transform:rotate(270deg)}37.5001%{stroke-dashoffset:56.5486677px;transform:rotateX(180deg) rotate(161.5deg)}50%{stroke-dashoffset:268.606171575px;transform:rotateX(180deg) rotate(161.5deg)}50.0001%{stroke-dashoffset:268.606171575px;transform:rotate(180deg)}62.5%{stroke-dashoffset:56.5486677px;transform:rotate(180deg)}62.5001%{stroke-dashoffset:56.5486677px;transform:rotateX(180deg) rotate(251.5deg)}75%{stroke-dashoffset:268.606171575px;transform:rotateX(180deg) rotate(251.5deg)}75.0001%{stroke-dashoffset:268.606171575px;transform:rotate(90deg)}87.5%{stroke-dashoffset:56.5486677px;transform:rotate(90deg)}87.5001%{stroke-dashoffset:56.5486677px;transform:rotateX(180deg) rotate(341.5deg)}100%{stroke-dashoffset:268.606171575px;transform:rotateX(180deg) rotate(341.5deg)}}\n"],encapsulation:2,changeDetection:0});let SY=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=ue({type:n}),n.\u0275inj=Se({imports:[[xt,Qi],xt]}),n})();const DY=["*"],NN=new re("MatChipRemove"),LN=new re("MatChipAvatar"),BN=new re("MatChipTrailingIcon");class MY{constructor(t){this._elementRef=t}}const AY=gE(Zl(Xl(MY),"primary"),-1);let I0=(()=>{class n extends AY{constructor(e,r,s,l,u,f,m,b){super(e),this._ngZone=r,this._changeDetectorRef=u,this._hasFocus=!1,this.chipListSelectable=!0,this._chipListMultiple=!1,this._chipListDisabled=!1,this._selected=!1,this._selectable=!0,this._disabled=!1,this._removable=!0,this._onFocus=new Oe,this._onBlur=new Oe,this.selectionChange=new we,this.destroyed=new we,this.removed=new we,this._addHostClassName(),this._chipRippleTarget=f.createElement("div"),this._chipRippleTarget.classList.add("mat-chip-ripple"),this._elementRef.nativeElement.appendChild(this._chipRippleTarget),this._chipRipple=new bE(this,r,this._chipRippleTarget,s),this._chipRipple.setupTriggerEvents(e),this.rippleConfig=l||{},this._animationsDisabled="NoopAnimations"===m,this.tabIndex=null!=b&&parseInt(b)||-1}get rippleDisabled(){return this.disabled||this.disableRipple||this._animationsDisabled||!!this.rippleConfig.disabled}get selected(){return this._selected}set selected(e){const r=jt(e);r!==this._selected&&(this._selected=r,this._dispatchSelectionChange())}get value(){return void 0!==this._value?this._value:this._elementRef.nativeElement.textContent}set value(e){this._value=e}get selectable(){return this._selectable&&this.chipListSelectable}set selectable(e){this._selectable=jt(e)}get disabled(){return this._chipListDisabled||this._disabled}set disabled(e){this._disabled=jt(e)}get removable(){return this._removable}set removable(e){this._removable=jt(e)}get ariaSelected(){return this.selectable&&(this._chipListMultiple||this.selected)?this.selected.toString():null}_addHostClassName(){const e="mat-basic-chip",r=this._elementRef.nativeElement;r.hasAttribute(e)||r.tagName.toLowerCase()===e?r.classList.add(e):r.classList.add("mat-standard-chip")}ngOnDestroy(){this.destroyed.emit({chip:this}),this._chipRipple._removeTriggerEvents()}select(){this._selected||(this._selected=!0,this._dispatchSelectionChange(),this._changeDetectorRef.markForCheck())}deselect(){this._selected&&(this._selected=!1,this._dispatchSelectionChange(),this._changeDetectorRef.markForCheck())}selectViaInteraction(){this._selected||(this._selected=!0,this._dispatchSelectionChange(!0),this._changeDetectorRef.markForCheck())}toggleSelected(e=!1){return this._selected=!this.selected,this._dispatchSelectionChange(e),this._changeDetectorRef.markForCheck(),this.selected}focus(){this._hasFocus||(this._elementRef.nativeElement.focus(),this._onFocus.next({chip:this})),this._hasFocus=!0}remove(){this.removable&&this.removed.emit({chip:this})}_handleClick(e){this.disabled&&e.preventDefault()}_handleKeydown(e){if(!this.disabled)switch(e.keyCode){case 46:case 8:this.remove(),e.preventDefault();break;case 32:this.selectable&&this.toggleSelected(!0),e.preventDefault()}}_blur(){this._ngZone.onStable.pipe(si(1)).subscribe(()=>{this._ngZone.run(()=>{this._hasFocus=!1,this._onBlur.next({chip:this})})})}_dispatchSelectionChange(e=!1){this.selectionChange.emit({source:this,isUserInput:e,selected:this._selected})}}return n.\u0275fac=function(e){return new(e||n)(M(ze),M(He),M(yn),M(Xw,8),M(ei),M(ot),M(Kn,8),ir("tabindex"))},n.\u0275dir=se({type:n,selectors:[["mat-basic-chip"],["","mat-basic-chip",""],["mat-chip"],["","mat-chip",""]],contentQueries:function(e,r,s){if(1&e&&(bn(s,LN,5),bn(s,BN,5),bn(s,NN,5)),2&e){let l;st(l=at())&&(r.avatar=l.first),st(l=at())&&(r.trailingIcon=l.first),st(l=at())&&(r.removeIcon=l.first)}},hostAttrs:["role","option",1,"mat-chip","mat-focus-indicator"],hostVars:14,hostBindings:function(e,r){1&e&&Ee("click",function(l){return r._handleClick(l)})("keydown",function(l){return r._handleKeydown(l)})("focus",function(){return r.focus()})("blur",function(){return r._blur()}),2&e&&(mt("tabindex",r.disabled?null:r.tabIndex)("disabled",r.disabled||null)("aria-disabled",r.disabled.toString())("aria-selected",r.ariaSelected),kt("mat-chip-selected",r.selected)("mat-chip-with-avatar",r.avatar)("mat-chip-with-trailing-icon",r.trailingIcon||r.removeIcon)("mat-chip-disabled",r.disabled)("_mat-animation-noopable",r._animationsDisabled))},inputs:{color:"color",disableRipple:"disableRipple",tabIndex:"tabIndex",selected:"selected",value:"value",selectable:"selectable",disabled:"disabled",removable:"removable"},outputs:{selectionChange:"selectionChange",destroyed:"destroyed",removed:"removed"},exportAs:["matChip"],features:[Fe]}),n})();const VN=new re("mat-chips-default-options"),NY=zR(class{constructor(n,t,e,r){this._defaultErrorStateMatcher=n,this._parentForm=t,this._parentFormGroup=e,this.ngControl=r}});let LY=0;class BY{constructor(t,e){this.source=t,this.value=e}}let jN=(()=>{class n extends NY{constructor(e,r,s,l,u,f,m){super(f,l,u,m),this._elementRef=e,this._changeDetectorRef=r,this._dir=s,this.controlType="mat-chip-list",this._lastDestroyedChipIndex=null,this._destroyed=new Oe,this._uid="mat-chip-list-"+LY++,this._tabIndex=0,this._userTabIndex=null,this._onTouched=()=>{},this._onChange=()=>{},this._multiple=!1,this._compareWith=(b,w)=>b===w,this._disabled=!1,this.ariaOrientation="horizontal",this._selectable=!0,this.change=new we,this.valueChange=new we,this.ngControl&&(this.ngControl.valueAccessor=this)}get selected(){var e,r;return this.multiple?(null===(e=this._selectionModel)||void 0===e?void 0:e.selected)||[]:null===(r=this._selectionModel)||void 0===r?void 0:r.selected[0]}get role(){return this.empty?null:"listbox"}get multiple(){return this._multiple}set multiple(e){this._multiple=jt(e),this._syncChipsState()}get compareWith(){return this._compareWith}set compareWith(e){this._compareWith=e,this._selectionModel&&this._initializeSelection()}get value(){return this._value}set value(e){this.writeValue(e),this._value=e}get id(){return this._chipInput?this._chipInput.id:this._uid}get required(){var e,r,s,l;return null!==(l=null!==(e=this._required)&&void 0!==e?e:null===(s=null===(r=this.ngControl)||void 0===r?void 0:r.control)||void 0===s?void 0:s.hasValidator(Ud.required))&&void 0!==l&&l}set required(e){this._required=jt(e),this.stateChanges.next()}get placeholder(){return this._chipInput?this._chipInput.placeholder:this._placeholder}set placeholder(e){this._placeholder=e,this.stateChanges.next()}get focused(){return this._chipInput&&this._chipInput.focused||this._hasFocusedChip()}get empty(){return(!this._chipInput||this._chipInput.empty)&&(!this.chips||0===this.chips.length)}get shouldLabelFloat(){return!this.empty||this.focused}get disabled(){return this.ngControl?!!this.ngControl.disabled:this._disabled}set disabled(e){this._disabled=jt(e),this._syncChipsState()}get selectable(){return this._selectable}set selectable(e){this._selectable=jt(e),this.chips&&this.chips.forEach(r=>r.chipListSelectable=this._selectable)}set tabIndex(e){this._userTabIndex=e,this._tabIndex=e}get chipSelectionChanges(){return lo(...this.chips.map(e=>e.selectionChange))}get chipFocusChanges(){return lo(...this.chips.map(e=>e._onFocus))}get chipBlurChanges(){return lo(...this.chips.map(e=>e._onBlur))}get chipRemoveChanges(){return lo(...this.chips.map(e=>e.destroyed))}ngAfterContentInit(){this._keyManager=new UT(this.chips).withWrap().withVerticalOrientation().withHomeAndEnd().withHorizontalOrientation(this._dir?this._dir.value:"ltr"),this._dir&&this._dir.change.pipe(Qt(this._destroyed)).subscribe(e=>this._keyManager.withHorizontalOrientation(e)),this._keyManager.tabOut.pipe(Qt(this._destroyed)).subscribe(()=>{this._allowFocusEscape()}),this.chips.changes.pipe(Fs(null),Qt(this._destroyed)).subscribe(()=>{this.disabled&&Promise.resolve().then(()=>{this._syncChipsState()}),this._resetChips(),this._initializeSelection(),this._updateTabIndex(),this._updateFocusForDestroyedChips(),this.stateChanges.next()})}ngOnInit(){this._selectionModel=new hS(this.multiple,void 0,!1),this.stateChanges.next()}ngDoCheck(){this.ngControl&&(this.updateErrorState(),this.ngControl.disabled!==this._disabled&&(this.disabled=!!this.ngControl.disabled))}ngOnDestroy(){this._destroyed.next(),this._destroyed.complete(),this.stateChanges.complete(),this._dropSubscriptions()}registerInput(e){this._chipInput=e,this._elementRef.nativeElement.setAttribute("data-mat-chip-input",e.id)}setDescribedByIds(e){this._ariaDescribedby=e.join(" ")}writeValue(e){this.chips&&this._setSelectionByValue(e,!1)}registerOnChange(e){this._onChange=e}registerOnTouched(e){this._onTouched=e}setDisabledState(e){this.disabled=e,this.stateChanges.next()}onContainerClick(e){this._originatesFromChip(e)||this.focus()}focus(e){this.disabled||this._chipInput&&this._chipInput.focused||(this.chips.length>0?(this._keyManager.setFirstItemActive(),this.stateChanges.next()):(this._focusInput(e),this.stateChanges.next()))}_focusInput(e){this._chipInput&&this._chipInput.focus(e)}_keydown(e){const r=e.target;r&&r.classList.contains("mat-chip")&&(this._keyManager.onKeydown(e),this.stateChanges.next())}_updateTabIndex(){this._tabIndex=this._userTabIndex||(0===this.chips.length?-1:0)}_updateFocusForDestroyedChips(){if(null!=this._lastDestroyedChipIndex)if(this.chips.length){const e=Math.min(this._lastDestroyedChipIndex,this.chips.length-1);this._keyManager.setActiveItem(e)}else this.focus();this._lastDestroyedChipIndex=null}_isValidIndex(e){return e>=0&&e<this.chips.length}_setSelectionByValue(e,r=!0){if(this._clearSelection(),this.chips.forEach(s=>s.deselect()),Array.isArray(e))e.forEach(s=>this._selectValue(s,r)),this._sortValues();else{const s=this._selectValue(e,r);s&&r&&this._keyManager.setActiveItem(s)}}_selectValue(e,r=!0){const s=this.chips.find(l=>null!=l.value&&this._compareWith(l.value,e));return s&&(r?s.selectViaInteraction():s.select(),this._selectionModel.select(s)),s}_initializeSelection(){Promise.resolve().then(()=>{(this.ngControl||this._value)&&(this._setSelectionByValue(this.ngControl?this.ngControl.value:this._value,!1),this.stateChanges.next())})}_clearSelection(e){this._selectionModel.clear(),this.chips.forEach(r=>{r!==e&&r.deselect()}),this.stateChanges.next()}_sortValues(){this._multiple&&(this._selectionModel.clear(),this.chips.forEach(e=>{e.selected&&this._selectionModel.select(e)}),this.stateChanges.next())}_propagateChanges(e){let r=null;r=Array.isArray(this.selected)?this.selected.map(s=>s.value):this.selected?this.selected.value:e,this._value=r,this.change.emit(new BY(this,r)),this.valueChange.emit(r),this._onChange(r),this._changeDetectorRef.markForCheck()}_blur(){this._hasFocusedChip()||this._keyManager.setActiveItem(-1),this.disabled||(this._chipInput?setTimeout(()=>{this.focused||this._markAsTouched()}):this._markAsTouched())}_markAsTouched(){this._onTouched(),this._changeDetectorRef.markForCheck(),this.stateChanges.next()}_allowFocusEscape(){-1!==this._tabIndex&&(this._tabIndex=-1,setTimeout(()=>{this._tabIndex=this._userTabIndex||0,this._changeDetectorRef.markForCheck()}))}_resetChips(){this._dropSubscriptions(),this._listenToChipsFocus(),this._listenToChipsSelection(),this._listenToChipsRemoved()}_dropSubscriptions(){this._chipFocusSubscription&&(this._chipFocusSubscription.unsubscribe(),this._chipFocusSubscription=null),this._chipBlurSubscription&&(this._chipBlurSubscription.unsubscribe(),this._chipBlurSubscription=null),this._chipSelectionSubscription&&(this._chipSelectionSubscription.unsubscribe(),this._chipSelectionSubscription=null),this._chipRemoveSubscription&&(this._chipRemoveSubscription.unsubscribe(),this._chipRemoveSubscription=null)}_listenToChipsSelection(){this._chipSelectionSubscription=this.chipSelectionChanges.subscribe(e=>{e.source.selected?this._selectionModel.select(e.source):this._selectionModel.deselect(e.source),this.multiple||this.chips.forEach(r=>{!this._selectionModel.isSelected(r)&&r.selected&&r.deselect()}),e.isUserInput&&this._propagateChanges()})}_listenToChipsFocus(){this._chipFocusSubscription=this.chipFocusChanges.subscribe(e=>{let r=this.chips.toArray().indexOf(e.chip);this._isValidIndex(r)&&this._keyManager.updateActiveItem(r),this.stateChanges.next()}),this._chipBlurSubscription=this.chipBlurChanges.subscribe(()=>{this._blur(),this.stateChanges.next()})}_listenToChipsRemoved(){this._chipRemoveSubscription=this.chipRemoveChanges.subscribe(e=>{const r=e.chip,s=this.chips.toArray().indexOf(e.chip);this._isValidIndex(s)&&r._hasFocus&&(this._lastDestroyedChipIndex=s)})}_originatesFromChip(e){let r=e.target;for(;r&&r!==this._elementRef.nativeElement;){if(r.classList.contains("mat-chip"))return!0;r=r.parentElement}return!1}_hasFocusedChip(){return this.chips&&this.chips.some(e=>e._hasFocus)}_syncChipsState(){this.chips&&this.chips.forEach(e=>{e._chipListDisabled=this._disabled,e._chipListMultiple=this.multiple})}}return n.\u0275fac=function(e){return new(e||n)(M(ze),M(ei),M(Ia,8),M(Bg,8),M(Ao,8),M(Zw),M(Hs,10))},n.\u0275cmp=Ie({type:n,selectors:[["mat-chip-list"]],contentQueries:function(e,r,s){if(1&e&&bn(s,I0,5),2&e){let l;st(l=at())&&(r.chips=l)}},hostAttrs:[1,"mat-chip-list"],hostVars:15,hostBindings:function(e,r){1&e&&Ee("focus",function(){return r.focus()})("blur",function(){return r._blur()})("keydown",function(l){return r._keydown(l)}),2&e&&(Ll("id",r._uid),mt("tabindex",r.disabled?null:r._tabIndex)("aria-describedby",r._ariaDescribedby||null)("aria-required",r.role?r.required:null)("aria-disabled",r.disabled.toString())("aria-invalid",r.errorState)("aria-multiselectable",r.multiple)("role",r.role)("aria-orientation",r.ariaOrientation),kt("mat-chip-list-disabled",r.disabled)("mat-chip-list-invalid",r.errorState)("mat-chip-list-required",r.required))},inputs:{errorStateMatcher:"errorStateMatcher",multiple:"multiple",compareWith:"compareWith",value:"value",required:"required",placeholder:"placeholder",disabled:"disabled",ariaOrientation:["aria-orientation","ariaOrientation"],selectable:"selectable",tabIndex:"tabIndex"},outputs:{change:"change",valueChange:"valueChange"},exportAs:["matChipList"],features:[_t([{provide:y0,useExisting:n}]),Fe],ngContentSelectors:DY,decls:2,vars:0,consts:[[1,"mat-chip-list-wrapper"]],template:function(e,r){1&e&&(Mn(),V(0,"div",0),dt(1),B())},styles:['.mat-chip{position:relative;box-sizing:border-box;-webkit-tap-highlight-color:transparent;border:none;-webkit-appearance:none;-moz-appearance:none}.mat-standard-chip{transition:box-shadow 280ms cubic-bezier(0.4, 0, 0.2, 1);display:inline-flex;padding:7px 12px;border-radius:16px;align-items:center;cursor:default;min-height:32px;height:1px}._mat-animation-noopable.mat-standard-chip{transition:none;animation:none}.mat-standard-chip .mat-chip-remove{border:none;-webkit-appearance:none;-moz-appearance:none;padding:0;background:none}.mat-standard-chip .mat-chip-remove.mat-icon,.mat-standard-chip .mat-chip-remove .mat-icon{width:18px;height:18px;font-size:18px}.mat-standard-chip::after{top:0;left:0;right:0;bottom:0;position:absolute;border-radius:inherit;opacity:0;content:"";pointer-events:none;transition:opacity 200ms cubic-bezier(0.35, 0, 0.25, 1)}.mat-standard-chip:hover::after{opacity:.12}.mat-standard-chip:focus{outline:none}.mat-standard-chip:focus::after{opacity:.16}.cdk-high-contrast-active .mat-standard-chip{outline:solid 1px}.cdk-high-contrast-active .mat-standard-chip:focus{outline:dotted 2px}.cdk-high-contrast-active .mat-standard-chip.mat-chip-selected{outline-width:3px}.mat-standard-chip.mat-chip-disabled::after{opacity:0}.mat-standard-chip.mat-chip-disabled .mat-chip-remove,.mat-standard-chip.mat-chip-disabled .mat-chip-trailing-icon{cursor:default}.mat-standard-chip.mat-chip-with-trailing-icon.mat-chip-with-avatar,.mat-standard-chip.mat-chip-with-avatar{padding-top:0;padding-bottom:0}.mat-standard-chip.mat-chip-with-trailing-icon.mat-chip-with-avatar{padding-right:8px;padding-left:0}[dir=rtl] .mat-standard-chip.mat-chip-with-trailing-icon.mat-chip-with-avatar{padding-left:8px;padding-right:0}.mat-standard-chip.mat-chip-with-trailing-icon{padding-top:7px;padding-bottom:7px;padding-right:8px;padding-left:12px}[dir=rtl] .mat-standard-chip.mat-chip-with-trailing-icon{padding-left:8px;padding-right:12px}.mat-standard-chip.mat-chip-with-avatar{padding-left:0;padding-right:12px}[dir=rtl] .mat-standard-chip.mat-chip-with-avatar{padding-right:0;padding-left:12px}.mat-standard-chip .mat-chip-avatar{width:24px;height:24px;margin-right:8px;margin-left:4px}[dir=rtl] .mat-standard-chip .mat-chip-avatar{margin-left:8px;margin-right:4px}.mat-standard-chip .mat-chip-remove,.mat-standard-chip .mat-chip-trailing-icon{width:18px;height:18px;cursor:pointer}.mat-standard-chip .mat-chip-remove,.mat-standard-chip .mat-chip-trailing-icon{margin-left:8px;margin-right:0}[dir=rtl] .mat-standard-chip .mat-chip-remove,[dir=rtl] .mat-standard-chip .mat-chip-trailing-icon{margin-right:8px;margin-left:0}.mat-chip-ripple{top:0;left:0;right:0;bottom:0;position:absolute;pointer-events:none;border-radius:inherit;overflow:hidden;transform:translateZ(0)}.mat-chip-list-wrapper{display:flex;flex-direction:row;flex-wrap:wrap;align-items:center;margin:-4px}.mat-chip-list-wrapper input.mat-input-element,.mat-chip-list-wrapper .mat-standard-chip{margin:4px}.mat-chip-list-stacked .mat-chip-list-wrapper{flex-direction:column;align-items:flex-start}.mat-chip-list-stacked .mat-chip-list-wrapper .mat-standard-chip{width:100%}.mat-chip-avatar{border-radius:50%;justify-content:center;align-items:center;display:flex;overflow:hidden;object-fit:cover}input.mat-chip-input{width:150px;margin:4px;flex:1 0 150px}\n'],encapsulation:2,changeDetection:0}),n})(),VY=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=ue({type:n}),n.\u0275inj=Se({providers:[Zw,{provide:VN,useValue:{separatorKeyCodes:[13]}}],imports:[[xt]]}),n})();const zN=pz();class jY{constructor(t,e){this._viewportRuler=t,this._previousHTMLStyles={top:"",left:""},this._isEnabled=!1,this._document=e}attach(){}enable(){if(this._canBeEnabled()){const t=this._document.documentElement;this._previousScrollPosition=this._viewportRuler.getViewportScrollPosition(),this._previousHTMLStyles.left=t.style.left||"",this._previousHTMLStyles.top=t.style.top||"",t.style.left=oi(-this._previousScrollPosition.left),t.style.top=oi(-this._previousScrollPosition.top),t.classList.add("cdk-global-scrollblock"),this._isEnabled=!0}}disable(){if(this._isEnabled){const t=this._document.documentElement,r=t.style,s=this._document.body.style,l=r.scrollBehavior||"",u=s.scrollBehavior||"";this._isEnabled=!1,r.left=this._previousHTMLStyles.left,r.top=this._previousHTMLStyles.top,t.classList.remove("cdk-global-scrollblock"),zN&&(r.scrollBehavior=s.scrollBehavior="auto"),window.scroll(this._previousScrollPosition.left,this._previousScrollPosition.top),zN&&(r.scrollBehavior=l,s.scrollBehavior=u)}}_canBeEnabled(){if(this._document.documentElement.classList.contains("cdk-global-scrollblock")||this._isEnabled)return!1;const e=this._document.body,r=this._viewportRuler.getViewportSize();return e.scrollHeight>r.height||e.scrollWidth>r.width}}class zY{constructor(t,e,r,s){this._scrollDispatcher=t,this._ngZone=e,this._viewportRuler=r,this._config=s,this._scrollSubscription=null,this._detach=()=>{this.disable(),this._overlayRef.hasAttached()&&this._ngZone.run(()=>this._overlayRef.detach())}}attach(t){this._overlayRef=t}enable(){if(this._scrollSubscription)return;const t=this._scrollDispatcher.scrolled(0);this._config&&this._config.threshold&&this._config.threshold>1?(this._initialScrollPosition=this._viewportRuler.getViewportScrollPosition().top,this._scrollSubscription=t.subscribe(()=>{const e=this._viewportRuler.getViewportScrollPosition().top;Math.abs(e-this._initialScrollPosition)>this._config.threshold?this._detach():this._overlayRef.updatePosition()})):this._scrollSubscription=t.subscribe(this._detach)}disable(){this._scrollSubscription&&(this._scrollSubscription.unsubscribe(),this._scrollSubscription=null)}detach(){this.disable(),this._overlayRef=null}}class HN{enable(){}disable(){}attach(){}}function mS(n,t){return t.some(e=>n.bottom<e.top||n.top>e.bottom||n.right<e.left||n.left>e.right)}function UN(n,t){return t.some(e=>n.top<e.top||n.bottom>e.bottom||n.left<e.left||n.right>e.right)}class HY{constructor(t,e,r,s){this._scrollDispatcher=t,this._viewportRuler=e,this._ngZone=r,this._config=s,this._scrollSubscription=null}attach(t){this._overlayRef=t}enable(){this._scrollSubscription||(this._scrollSubscription=this._scrollDispatcher.scrolled(this._config?this._config.scrollThrottle:0).subscribe(()=>{if(this._overlayRef.updatePosition(),this._config&&this._config.autoClose){const e=this._overlayRef.overlayElement.getBoundingClientRect(),{width:r,height:s}=this._viewportRuler.getViewportSize();mS(e,[{width:r,height:s,bottom:s,right:r,top:0,left:0}])&&(this.disable(),this._ngZone.run(()=>this._overlayRef.detach()))}}))}disable(){this._scrollSubscription&&(this._scrollSubscription.unsubscribe(),this._scrollSubscription=null)}detach(){this.disable(),this._overlayRef=null}}let UY=(()=>{class n{constructor(e,r,s,l){this._scrollDispatcher=e,this._viewportRuler=r,this._ngZone=s,this.noop=()=>new HN,this.close=u=>new zY(this._scrollDispatcher,this._ngZone,this._viewportRuler,u),this.block=()=>new jY(this._viewportRuler,this._document),this.reposition=u=>new HY(this._scrollDispatcher,this._viewportRuler,this._ngZone,u),this._document=l}}return n.\u0275fac=function(e){return new(e||n)(L(vF),L($h),L(He),L(ot))},n.\u0275prov=oe({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();class gS{constructor(t){if(this.scrollStrategy=new HN,this.panelClass="",this.hasBackdrop=!1,this.backdropClass="cdk-overlay-dark-backdrop",this.disposeOnNavigation=!1,t){const e=Object.keys(t);for(const r of e)void 0!==t[r]&&(this[r]=t[r])}}}class $Y{constructor(t,e){this.connectionPair=t,this.scrollableViewProperties=e}}class WY{constructor(t,e,r,s,l,u,f,m,b){this._portalOutlet=t,this._host=e,this._pane=r,this._config=s,this._ngZone=l,this._keyboardDispatcher=u,this._document=f,this._location=m,this._outsideClickDispatcher=b,this._backdropElement=null,this._backdropClick=new Oe,this._attachments=new Oe,this._detachments=new Oe,this._locationChanges=U.EMPTY,this._backdropClickHandler=w=>this._backdropClick.next(w),this._backdropTransitionendHandler=w=>{this._disposeBackdrop(w.target)},this._keydownEvents=new Oe,this._outsidePointerEvents=new Oe,s.scrollStrategy&&(this._scrollStrategy=s.scrollStrategy,this._scrollStrategy.attach(this)),this._positionStrategy=s.positionStrategy}get overlayElement(){return this._pane}get backdropElement(){return this._backdropElement}get hostElement(){return this._host}attach(t){let e=this._portalOutlet.attach(t);return!this._host.parentElement&&this._previousHostParent&&this._previousHostParent.appendChild(this._host),this._positionStrategy&&this._positionStrategy.attach(this),this._updateStackingOrder(),this._updateElementSize(),this._updateElementDirection(),this._scrollStrategy&&this._scrollStrategy.enable(),this._ngZone.onStable.pipe(si(1)).subscribe(()=>{this.hasAttached()&&this.updatePosition()}),this._togglePointerEvents(!0),this._config.hasBackdrop&&this._attachBackdrop(),this._config.panelClass&&this._toggleClasses(this._pane,this._config.panelClass,!0),this._attachments.next(),this._keyboardDispatcher.add(this),this._config.disposeOnNavigation&&(this._locationChanges=this._location.subscribe(()=>this.dispose())),this._outsideClickDispatcher.add(this),e}detach(){if(!this.hasAttached())return;this.detachBackdrop(),this._togglePointerEvents(!1),this._positionStrategy&&this._positionStrategy.detach&&this._positionStrategy.detach(),this._scrollStrategy&&this._scrollStrategy.disable();const t=this._portalOutlet.detach();return this._detachments.next(),this._keyboardDispatcher.remove(this),this._detachContentWhenStable(),this._locationChanges.unsubscribe(),this._outsideClickDispatcher.remove(this),t}dispose(){var t;const e=this.hasAttached();this._positionStrategy&&this._positionStrategy.dispose(),this._disposeScrollStrategy(),this._disposeBackdrop(this._backdropElement),this._locationChanges.unsubscribe(),this._keyboardDispatcher.remove(this),this._portalOutlet.dispose(),this._attachments.complete(),this._backdropClick.complete(),this._keydownEvents.complete(),this._outsidePointerEvents.complete(),this._outsideClickDispatcher.remove(this),null===(t=this._host)||void 0===t||t.remove(),this._previousHostParent=this._pane=this._host=null,e&&this._detachments.next(),this._detachments.complete()}hasAttached(){return this._portalOutlet.hasAttached()}backdropClick(){return this._backdropClick}attachments(){return this._attachments}detachments(){return this._detachments}keydownEvents(){return this._keydownEvents}outsidePointerEvents(){return this._outsidePointerEvents}getConfig(){return this._config}updatePosition(){this._positionStrategy&&this._positionStrategy.apply()}updatePositionStrategy(t){t!==this._positionStrategy&&(this._positionStrategy&&this._positionStrategy.dispose(),this._positionStrategy=t,this.hasAttached()&&(t.attach(this),this.updatePosition()))}updateSize(t){this._config=Object.assign(Object.assign({},this._config),t),this._updateElementSize()}setDirection(t){this._config=Object.assign(Object.assign({},this._config),{direction:t}),this._updateElementDirection()}addPanelClass(t){this._pane&&this._toggleClasses(this._pane,t,!0)}removePanelClass(t){this._pane&&this._toggleClasses(this._pane,t,!1)}getDirection(){const t=this._config.direction;return t?"string"==typeof t?t:t.value:"ltr"}updateScrollStrategy(t){t!==this._scrollStrategy&&(this._disposeScrollStrategy(),this._scrollStrategy=t,this.hasAttached()&&(t.attach(this),t.enable()))}_updateElementDirection(){this._host.setAttribute("dir",this.getDirection())}_updateElementSize(){if(!this._pane)return;const t=this._pane.style;t.width=oi(this._config.width),t.height=oi(this._config.height),t.minWidth=oi(this._config.minWidth),t.minHeight=oi(this._config.minHeight),t.maxWidth=oi(this._config.maxWidth),t.maxHeight=oi(this._config.maxHeight)}_togglePointerEvents(t){this._pane.style.pointerEvents=t?"":"none"}_attachBackdrop(){const t="cdk-overlay-backdrop-showing";this._backdropElement=this._document.createElement("div"),this._backdropElement.classList.add("cdk-overlay-backdrop"),this._config.backdropClass&&this._toggleClasses(this._backdropElement,this._config.backdropClass,!0),this._host.parentElement.insertBefore(this._backdropElement,this._host),this._backdropElement.addEventListener("click",this._backdropClickHandler),"undefined"!=typeof requestAnimationFrame?this._ngZone.runOutsideAngular(()=>{requestAnimationFrame(()=>{this._backdropElement&&this._backdropElement.classList.add(t)})}):this._backdropElement.classList.add(t)}_updateStackingOrder(){this._host.nextSibling&&this._host.parentNode.appendChild(this._host)}detachBackdrop(){const t=this._backdropElement;!t||(t.classList.remove("cdk-overlay-backdrop-showing"),this._ngZone.runOutsideAngular(()=>{t.addEventListener("transitionend",this._backdropTransitionendHandler)}),t.style.pointerEvents="none",this._backdropTimeout=this._ngZone.runOutsideAngular(()=>setTimeout(()=>{this._disposeBackdrop(t)},500)))}_toggleClasses(t,e,r){const s=Ew(e||[]).filter(l=>!!l);s.length&&(r?t.classList.add(...s):t.classList.remove(...s))}_detachContentWhenStable(){this._ngZone.runOutsideAngular(()=>{const t=this._ngZone.onStable.pipe(Qt(lo(this._attachments,this._detachments))).subscribe(()=>{(!this._pane||!this._host||0===this._pane.children.length)&&(this._pane&&this._config.panelClass&&this._toggleClasses(this._pane,this._config.panelClass,!1),this._host&&this._host.parentElement&&(this._previousHostParent=this._host.parentElement,this._host.remove()),t.unsubscribe())})})}_disposeScrollStrategy(){const t=this._scrollStrategy;t&&(t.disable(),t.detach&&t.detach())}_disposeBackdrop(t){t&&(t.removeEventListener("click",this._backdropClickHandler),t.removeEventListener("transitionend",this._backdropTransitionendHandler),t.remove(),this._backdropElement===t&&(this._backdropElement=null)),this._backdropTimeout&&(clearTimeout(this._backdropTimeout),this._backdropTimeout=void 0)}}let _S=(()=>{class n{constructor(e,r){this._platform=r,this._document=e}ngOnDestroy(){var e;null===(e=this._containerElement)||void 0===e||e.remove()}getContainerElement(){return this._containerElement||this._createContainer(),this._containerElement}_createContainer(){const e="cdk-overlay-container";if(this._platform.isBrowser||NT()){const s=this._document.querySelectorAll(`.${e}[platform="server"], .${e}[platform="test"]`);for(let l=0;l<s.length;l++)s[l].remove()}const r=this._document.createElement("div");r.classList.add(e),NT()?r.setAttribute("platform","test"):this._platform.isBrowser||r.setAttribute("platform","server"),this._document.body.appendChild(r),this._containerElement=r}}return n.\u0275fac=function(e){return new(e||n)(L(ot),L(yn))},n.\u0275prov=oe({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();const $N="cdk-overlay-connected-position-bounding-box",qY=/([A-Za-z%]+)$/;class GY{constructor(t,e,r,s,l){this._viewportRuler=e,this._document=r,this._platform=s,this._overlayContainer=l,this._lastBoundingBoxSize={width:0,height:0},this._isPushed=!1,this._canPush=!0,this._growAfterOpen=!1,this._hasFlexibleDimensions=!0,this._positionLocked=!1,this._viewportMargin=0,this._scrollables=[],this._preferredPositions=[],this._positionChanges=new Oe,this._resizeSubscription=U.EMPTY,this._offsetX=0,this._offsetY=0,this._appliedPanelClasses=[],this.positionChanges=this._positionChanges,this.setOrigin(t)}get positions(){return this._preferredPositions}attach(t){this._validatePositions(),t.hostElement.classList.add($N),this._overlayRef=t,this._boundingBox=t.hostElement,this._pane=t.overlayElement,this._isDisposed=!1,this._isInitialRender=!0,this._lastPosition=null,this._resizeSubscription.unsubscribe(),this._resizeSubscription=this._viewportRuler.change().subscribe(()=>{this._isInitialRender=!0,this.apply()})}apply(){if(this._isDisposed||!this._platform.isBrowser)return;if(!this._isInitialRender&&this._positionLocked&&this._lastPosition)return void this.reapplyLastPosition();this._clearPanelClasses(),this._resetOverlayElementStyles(),this._resetBoundingBoxStyles(),this._viewportRect=this._getNarrowedViewportRect(),this._originRect=this._getOriginRect(),this._overlayRect=this._pane.getBoundingClientRect(),this._containerRect=this._overlayContainer.getContainerElement().getBoundingClientRect();const t=this._originRect,e=this._overlayRect,r=this._viewportRect,s=this._containerRect,l=[];let u;for(let f of this._preferredPositions){let m=this._getOriginPoint(t,s,f),b=this._getOverlayPoint(m,e,f),w=this._getOverlayFit(b,e,r,f);if(w.isCompletelyWithinViewport)return this._isPushed=!1,void this._applyPosition(f,m);this._canFitWithFlexibleDimensions(w,b,r)?l.push({position:f,origin:m,overlayRect:e,boundingBoxRect:this._calculateBoundingBoxRect(m,f)}):(!u||u.overlayFit.visibleArea<w.visibleArea)&&(u={overlayFit:w,overlayPoint:b,originPoint:m,position:f,overlayRect:e})}if(l.length){let f=null,m=-1;for(const b of l){const w=b.boundingBoxRect.width*b.boundingBoxRect.height*(b.position.weight||1);w>m&&(m=w,f=b)}return this._isPushed=!1,void this._applyPosition(f.position,f.origin)}if(this._canPush)return this._isPushed=!0,void this._applyPosition(u.position,u.originPoint);this._applyPosition(u.position,u.originPoint)}detach(){this._clearPanelClasses(),this._lastPosition=null,this._previousPushAmount=null,this._resizeSubscription.unsubscribe()}dispose(){this._isDisposed||(this._boundingBox&&eu(this._boundingBox.style,{top:"",left:"",right:"",bottom:"",height:"",width:"",alignItems:"",justifyContent:""}),this._pane&&this._resetOverlayElementStyles(),this._overlayRef&&this._overlayRef.hostElement.classList.remove($N),this.detach(),this._positionChanges.complete(),this._overlayRef=this._boundingBox=null,this._isDisposed=!0)}reapplyLastPosition(){if(this._isDisposed||!this._platform.isBrowser)return;const t=this._lastPosition;if(t){this._originRect=this._getOriginRect(),this._overlayRect=this._pane.getBoundingClientRect(),this._viewportRect=this._getNarrowedViewportRect(),this._containerRect=this._overlayContainer.getContainerElement().getBoundingClientRect();const e=this._getOriginPoint(this._originRect,this._containerRect,t);this._applyPosition(t,e)}else this.apply()}withScrollableContainers(t){return this._scrollables=t,this}withPositions(t){return this._preferredPositions=t,-1===t.indexOf(this._lastPosition)&&(this._lastPosition=null),this._validatePositions(),this}withViewportMargin(t){return this._viewportMargin=t,this}withFlexibleDimensions(t=!0){return this._hasFlexibleDimensions=t,this}withGrowAfterOpen(t=!0){return this._growAfterOpen=t,this}withPush(t=!0){return this._canPush=t,this}withLockedPosition(t=!0){return this._positionLocked=t,this}setOrigin(t){return this._origin=t,this}withDefaultOffsetX(t){return this._offsetX=t,this}withDefaultOffsetY(t){return this._offsetY=t,this}withTransformOriginOn(t){return this._transformOriginSelector=t,this}_getOriginPoint(t,e,r){let s,l;if("center"==r.originX)s=t.left+t.width/2;else{const u=this._isRtl()?t.right:t.left,f=this._isRtl()?t.left:t.right;s="start"==r.originX?u:f}return e.left<0&&(s-=e.left),l="center"==r.originY?t.top+t.height/2:"top"==r.originY?t.top:t.bottom,e.top<0&&(l-=e.top),{x:s,y:l}}_getOverlayPoint(t,e,r){let s,l;return s="center"==r.overlayX?-e.width/2:"start"===r.overlayX?this._isRtl()?-e.width:0:this._isRtl()?0:-e.width,l="center"==r.overlayY?-e.height/2:"top"==r.overlayY?0:-e.height,{x:t.x+s,y:t.y+l}}_getOverlayFit(t,e,r,s){const l=qN(e);let{x:u,y:f}=t,m=this._getOffset(s,"x"),b=this._getOffset(s,"y");m&&(u+=m),b&&(f+=b);let E=0-f,S=f+l.height-r.height,I=this._subtractOverflows(l.width,0-u,u+l.width-r.width),N=this._subtractOverflows(l.height,E,S),K=I*N;return{visibleArea:K,isCompletelyWithinViewport:l.width*l.height===K,fitsInViewportVertically:N===l.height,fitsInViewportHorizontally:I==l.width}}_canFitWithFlexibleDimensions(t,e,r){if(this._hasFlexibleDimensions){const s=r.bottom-e.y,l=r.right-e.x,u=WN(this._overlayRef.getConfig().minHeight),f=WN(this._overlayRef.getConfig().minWidth),b=t.fitsInViewportHorizontally||null!=f&&f<=l;return(t.fitsInViewportVertically||null!=u&&u<=s)&&b}return!1}_pushOverlayOnScreen(t,e,r){if(this._previousPushAmount&&this._positionLocked)return{x:t.x+this._previousPushAmount.x,y:t.y+this._previousPushAmount.y};const s=qN(e),l=this._viewportRect,u=Math.max(t.x+s.width-l.width,0),f=Math.max(t.y+s.height-l.height,0),m=Math.max(l.top-r.top-t.y,0),b=Math.max(l.left-r.left-t.x,0);let w=0,x=0;return w=s.width<=l.width?b||-u:t.x<this._viewportMargin?l.left-r.left-t.x:0,x=s.height<=l.height?m||-f:t.y<this._viewportMargin?l.top-r.top-t.y:0,this._previousPushAmount={x:w,y:x},{x:t.x+w,y:t.y+x}}_applyPosition(t,e){if(this._setTransformOrigin(t),this._setOverlayElementStyles(e,t),this._setBoundingBoxStyles(e,t),t.panelClass&&this._addPanelClasses(t.panelClass),this._lastPosition=t,this._positionChanges.observers.length){const r=this._getScrollVisibility(),s=new $Y(t,r);this._positionChanges.next(s)}this._isInitialRender=!1}_setTransformOrigin(t){if(!this._transformOriginSelector)return;const e=this._boundingBox.querySelectorAll(this._transformOriginSelector);let r,s=t.overlayY;r="center"===t.overlayX?"center":this._isRtl()?"start"===t.overlayX?"right":"left":"start"===t.overlayX?"left":"right";for(let l=0;l<e.length;l++)e[l].style.transformOrigin=`${r} ${s}`}_calculateBoundingBoxRect(t,e){const r=this._viewportRect,s=this._isRtl();let l,u,f,w,x,E;if("top"===e.overlayY)u=t.y,l=r.height-u+this._viewportMargin;else if("bottom"===e.overlayY)f=r.height-t.y+2*this._viewportMargin,l=r.height-f+this._viewportMargin;else{const S=Math.min(r.bottom-t.y+r.top,t.y),I=this._lastBoundingBoxSize.height;l=2*S,u=t.y-S,l>I&&!this._isInitialRender&&!this._growAfterOpen&&(u=t.y-I/2)}if("end"===e.overlayX&&!s||"start"===e.overlayX&&s)E=r.width-t.x+this._viewportMargin,w=t.x-this._viewportMargin;else if("start"===e.overlayX&&!s||"end"===e.overlayX&&s)x=t.x,w=r.right-t.x;else{const S=Math.min(r.right-t.x+r.left,t.x),I=this._lastBoundingBoxSize.width;w=2*S,x=t.x-S,w>I&&!this._isInitialRender&&!this._growAfterOpen&&(x=t.x-I/2)}return{top:u,left:x,bottom:f,right:E,width:w,height:l}}_setBoundingBoxStyles(t,e){const r=this._calculateBoundingBoxRect(t,e);!this._isInitialRender&&!this._growAfterOpen&&(r.height=Math.min(r.height,this._lastBoundingBoxSize.height),r.width=Math.min(r.width,this._lastBoundingBoxSize.width));const s={};if(this._hasExactPosition())s.top=s.left="0",s.bottom=s.right=s.maxHeight=s.maxWidth="",s.width=s.height="100%";else{const l=this._overlayRef.getConfig().maxHeight,u=this._overlayRef.getConfig().maxWidth;s.height=oi(r.height),s.top=oi(r.top),s.bottom=oi(r.bottom),s.width=oi(r.width),s.left=oi(r.left),s.right=oi(r.right),s.alignItems="center"===e.overlayX?"center":"end"===e.overlayX?"flex-end":"flex-start",s.justifyContent="center"===e.overlayY?"center":"bottom"===e.overlayY?"flex-end":"flex-start",l&&(s.maxHeight=oi(l)),u&&(s.maxWidth=oi(u))}this._lastBoundingBoxSize=r,eu(this._boundingBox.style,s)}_resetBoundingBoxStyles(){eu(this._boundingBox.style,{top:"0",left:"0",right:"0",bottom:"0",height:"",width:"",alignItems:"",justifyContent:""})}_resetOverlayElementStyles(){eu(this._pane.style,{top:"",left:"",bottom:"",right:"",position:"",transform:""})}_setOverlayElementStyles(t,e){const r={},s=this._hasExactPosition(),l=this._hasFlexibleDimensions,u=this._overlayRef.getConfig();if(s){const w=this._viewportRuler.getViewportScrollPosition();eu(r,this._getExactOverlayY(e,t,w)),eu(r,this._getExactOverlayX(e,t,w))}else r.position="static";let f="",m=this._getOffset(e,"x"),b=this._getOffset(e,"y");m&&(f+=`translateX(${m}px) `),b&&(f+=`translateY(${b}px)`),r.transform=f.trim(),u.maxHeight&&(s?r.maxHeight=oi(u.maxHeight):l&&(r.maxHeight="")),u.maxWidth&&(s?r.maxWidth=oi(u.maxWidth):l&&(r.maxWidth="")),eu(this._pane.style,r)}_getExactOverlayY(t,e,r){let s={top:"",bottom:""},l=this._getOverlayPoint(e,this._overlayRect,t);return this._isPushed&&(l=this._pushOverlayOnScreen(l,this._overlayRect,r)),"bottom"===t.overlayY?s.bottom=this._document.documentElement.clientHeight-(l.y+this._overlayRect.height)+"px":s.top=oi(l.y),s}_getExactOverlayX(t,e,r){let u,s={left:"",right:""},l=this._getOverlayPoint(e,this._overlayRect,t);return this._isPushed&&(l=this._pushOverlayOnScreen(l,this._overlayRect,r)),u=this._isRtl()?"end"===t.overlayX?"left":"right":"end"===t.overlayX?"right":"left","right"===u?s.right=this._document.documentElement.clientWidth-(l.x+this._overlayRect.width)+"px":s.left=oi(l.x),s}_getScrollVisibility(){const t=this._getOriginRect(),e=this._pane.getBoundingClientRect(),r=this._scrollables.map(s=>s.getElementRef().nativeElement.getBoundingClientRect());return{isOriginClipped:UN(t,r),isOriginOutsideView:mS(t,r),isOverlayClipped:UN(e,r),isOverlayOutsideView:mS(e,r)}}_subtractOverflows(t,...e){return e.reduce((r,s)=>r-Math.max(s,0),t)}_getNarrowedViewportRect(){const t=this._document.documentElement.clientWidth,e=this._document.documentElement.clientHeight,r=this._viewportRuler.getViewportScrollPosition();return{top:r.top+this._viewportMargin,left:r.left+this._viewportMargin,right:r.left+t-this._viewportMargin,bottom:r.top+e-this._viewportMargin,width:t-2*this._viewportMargin,height:e-2*this._viewportMargin}}_isRtl(){return"rtl"===this._overlayRef.getDirection()}_hasExactPosition(){return!this._hasFlexibleDimensions||this._isPushed}_getOffset(t,e){return"x"===e?null==t.offsetX?this._offsetX:t.offsetX:null==t.offsetY?this._offsetY:t.offsetY}_validatePositions(){}_addPanelClasses(t){this._pane&&Ew(t).forEach(e=>{""!==e&&-1===this._appliedPanelClasses.indexOf(e)&&(this._appliedPanelClasses.push(e),this._pane.classList.add(e))})}_clearPanelClasses(){this._pane&&(this._appliedPanelClasses.forEach(t=>{this._pane.classList.remove(t)}),this._appliedPanelClasses=[])}_getOriginRect(){const t=this._origin;if(t instanceof ze)return t.nativeElement.getBoundingClientRect();if(t instanceof Element)return t.getBoundingClientRect();const e=t.width||0,r=t.height||0;return{top:t.y,bottom:t.y+r,left:t.x,right:t.x+e,height:r,width:e}}}function eu(n,t){for(let e in t)t.hasOwnProperty(e)&&(n[e]=t[e]);return n}function WN(n){if("number"!=typeof n&&null!=n){const[t,e]=n.split(qY);return e&&"px"!==e?null:parseFloat(t)}return n||null}function qN(n){return{top:Math.floor(n.top),right:Math.floor(n.right),bottom:Math.floor(n.bottom),left:Math.floor(n.left),width:Math.floor(n.width),height:Math.floor(n.height)}}const GN="cdk-global-overlay-wrapper";class KY{constructor(){this._cssPosition="static",this._topOffset="",this._bottomOffset="",this._leftOffset="",this._rightOffset="",this._alignItems="",this._justifyContent="",this._width="",this._height=""}attach(t){const e=t.getConfig();this._overlayRef=t,this._width&&!e.width&&t.updateSize({width:this._width}),this._height&&!e.height&&t.updateSize({height:this._height}),t.hostElement.classList.add(GN),this._isDisposed=!1}top(t=""){return this._bottomOffset="",this._topOffset=t,this._alignItems="flex-start",this}left(t=""){return this._rightOffset="",this._leftOffset=t,this._justifyContent="flex-start",this}bottom(t=""){return this._topOffset="",this._bottomOffset=t,this._alignItems="flex-end",this}right(t=""){return this._leftOffset="",this._rightOffset=t,this._justifyContent="flex-end",this}width(t=""){return this._overlayRef?this._overlayRef.updateSize({width:t}):this._width=t,this}height(t=""){return this._overlayRef?this._overlayRef.updateSize({height:t}):this._height=t,this}centerHorizontally(t=""){return this.left(t),this._justifyContent="center",this}centerVertically(t=""){return this.top(t),this._alignItems="center",this}apply(){if(!this._overlayRef||!this._overlayRef.hasAttached())return;const t=this._overlayRef.overlayElement.style,e=this._overlayRef.hostElement.style,r=this._overlayRef.getConfig(),{width:s,height:l,maxWidth:u,maxHeight:f}=r,m=!("100%"!==s&&"100vw"!==s||u&&"100%"!==u&&"100vw"!==u),b=!("100%"!==l&&"100vh"!==l||f&&"100%"!==f&&"100vh"!==f);t.position=this._cssPosition,t.marginLeft=m?"0":this._leftOffset,t.marginTop=b?"0":this._topOffset,t.marginBottom=this._bottomOffset,t.marginRight=this._rightOffset,m?e.justifyContent="flex-start":"center"===this._justifyContent?e.justifyContent="center":"rtl"===this._overlayRef.getConfig().direction?"flex-start"===this._justifyContent?e.justifyContent="flex-end":"flex-end"===this._justifyContent&&(e.justifyContent="flex-start"):e.justifyContent=this._justifyContent,e.alignItems=b?"flex-start":this._alignItems}dispose(){if(this._isDisposed||!this._overlayRef)return;const t=this._overlayRef.overlayElement.style,e=this._overlayRef.hostElement,r=e.style;e.classList.remove(GN),r.justifyContent=r.alignItems=t.marginTop=t.marginBottom=t.marginLeft=t.marginRight=t.position="",this._overlayRef=null,this._isDisposed=!0}}let QY=(()=>{class n{constructor(e,r,s,l){this._viewportRuler=e,this._document=r,this._platform=s,this._overlayContainer=l}global(){return new KY}flexibleConnectedTo(e){return new GY(e,this._viewportRuler,this._document,this._platform,this._overlayContainer)}}return n.\u0275fac=function(e){return new(e||n)(L($h),L(ot),L(yn),L(_S))},n.\u0275prov=oe({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),KN=(()=>{class n{constructor(e){this._attachedOverlays=[],this._document=e}ngOnDestroy(){this.detach()}add(e){this.remove(e),this._attachedOverlays.push(e)}remove(e){const r=this._attachedOverlays.indexOf(e);r>-1&&this._attachedOverlays.splice(r,1),0===this._attachedOverlays.length&&this.detach()}}return n.\u0275fac=function(e){return new(e||n)(L(ot))},n.\u0275prov=oe({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),YY=(()=>{class n extends KN{constructor(e,r){super(e),this._ngZone=r,this._keydownListener=s=>{const l=this._attachedOverlays;for(let u=l.length-1;u>-1;u--)if(l[u]._keydownEvents.observers.length>0){const f=l[u]._keydownEvents;this._ngZone?this._ngZone.run(()=>f.next(s)):f.next(s);break}}}add(e){super.add(e),this._isAttached||(this._ngZone?this._ngZone.runOutsideAngular(()=>this._document.body.addEventListener("keydown",this._keydownListener)):this._document.body.addEventListener("keydown",this._keydownListener),this._isAttached=!0)}detach(){this._isAttached&&(this._document.body.removeEventListener("keydown",this._keydownListener),this._isAttached=!1)}}return n.\u0275fac=function(e){return new(e||n)(L(ot),L(He,8))},n.\u0275prov=oe({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),ZY=(()=>{class n extends KN{constructor(e,r,s){super(e),this._platform=r,this._ngZone=s,this._cursorStyleIsSet=!1,this._pointerDownListener=l=>{this._pointerDownEventTarget=Fd(l)},this._clickListener=l=>{const u=Fd(l),f="click"===l.type&&this._pointerDownEventTarget?this._pointerDownEventTarget:u;this._pointerDownEventTarget=null;const m=this._attachedOverlays.slice();for(let b=m.length-1;b>-1;b--){const w=m[b];if(w._outsidePointerEvents.observers.length<1||!w.hasAttached())continue;if(w.overlayElement.contains(u)||w.overlayElement.contains(f))break;const x=w._outsidePointerEvents;this._ngZone?this._ngZone.run(()=>x.next(l)):x.next(l)}}}add(e){if(super.add(e),!this._isAttached){const r=this._document.body;this._ngZone?this._ngZone.runOutsideAngular(()=>this._addEventListeners(r)):this._addEventListeners(r),this._platform.IOS&&!this._cursorStyleIsSet&&(this._cursorOriginalValue=r.style.cursor,r.style.cursor="pointer",this._cursorStyleIsSet=!0),this._isAttached=!0}}detach(){if(this._isAttached){const e=this._document.body;e.removeEventListener("pointerdown",this._pointerDownListener,!0),e.removeEventListener("click",this._clickListener,!0),e.removeEventListener("auxclick",this._clickListener,!0),e.removeEventListener("contextmenu",this._clickListener,!0),this._platform.IOS&&this._cursorStyleIsSet&&(e.style.cursor=this._cursorOriginalValue,this._cursorStyleIsSet=!1),this._isAttached=!1}}_addEventListeners(e){e.addEventListener("pointerdown",this._pointerDownListener,!0),e.addEventListener("click",this._clickListener,!0),e.addEventListener("auxclick",this._clickListener,!0),e.addEventListener("contextmenu",this._clickListener,!0)}}return n.\u0275fac=function(e){return new(e||n)(L(ot),L(yn),L(He,8))},n.\u0275prov=oe({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),XY=0,oc=(()=>{class n{constructor(e,r,s,l,u,f,m,b,w,x,E){this.scrollStrategies=e,this._overlayContainer=r,this._componentFactoryResolver=s,this._positionBuilder=l,this._keyboardDispatcher=u,this._injector=f,this._ngZone=m,this._document=b,this._directionality=w,this._location=x,this._outsideClickDispatcher=E}create(e){const r=this._createHostElement(),s=this._createPaneElement(r),l=this._createPortalOutlet(s),u=new gS(e);return u.direction=u.direction||this._directionality.value,new WY(l,r,s,u,this._ngZone,this._keyboardDispatcher,this._document,this._location,this._outsideClickDispatcher)}position(){return this._positionBuilder}_createPaneElement(e){const r=this._document.createElement("div");return r.id="cdk-overlay-"+XY++,r.classList.add("cdk-overlay-pane"),e.appendChild(r),r}_createHostElement(){const e=this._document.createElement("div");return this._overlayContainer.getContainerElement().appendChild(e),e}_createPortalOutlet(e){return this._appRef||(this._appRef=this._injector.get(Ry)),new u$(e,this._componentFactoryResolver,this._appRef,this._injector,this._document)}}return n.\u0275fac=function(e){return new(e||n)(L(UY),L(_S),L(Cd),L(QY),L(YY),L(nn),L(He),L(ot),L(Ia),L(rg),L(ZY))},n.\u0275prov=oe({token:n,factory:n.\u0275fac}),n})();const tZ={provide:new re("cdk-connected-overlay-scroll-strategy"),deps:[oc],useFactory:function eZ(n){return()=>n.scrollStrategies.reposition()}};let bS=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=ue({type:n}),n.\u0275inj=Se({providers:[oc,tZ],imports:[[xg,T0,WE],WE]}),n})();function nZ(n,t){if(1&n){const e=Dn();V(0,"div",2)(1,"button",3),Ee("click",function(){return it(e),ce().action()}),y(2),B()()}if(2&n){const e=ce();Y(2),k(e.data.action)}}function iZ(n,t){}const QN=new re("MatSnackBarData");class P0{constructor(){this.politeness="assertive",this.announcementMessage="",this.duration=0,this.data=null,this.horizontalPosition="center",this.verticalPosition="bottom"}}const rZ=Math.pow(2,31)-1;class vS{constructor(t,e){this._overlayRef=e,this._afterDismissed=new Oe,this._afterOpened=new Oe,this._onAction=new Oe,this._dismissedByAction=!1,this.containerInstance=t,this.onAction().subscribe(()=>this.dismiss()),t._onExit.subscribe(()=>this._finishDismiss())}dismiss(){this._afterDismissed.closed||this.containerInstance.exit(),clearTimeout(this._durationTimeoutId)}dismissWithAction(){this._onAction.closed||(this._dismissedByAction=!0,this._onAction.next(),this._onAction.complete()),clearTimeout(this._durationTimeoutId)}closeWithAction(){this.dismissWithAction()}_dismissAfter(t){this._durationTimeoutId=setTimeout(()=>this.dismiss(),Math.min(t,rZ))}_open(){this._afterOpened.closed||(this._afterOpened.next(),this._afterOpened.complete())}_finishDismiss(){this._overlayRef.dispose(),this._onAction.closed||this._onAction.complete(),this._afterDismissed.next({dismissedByAction:this._dismissedByAction}),this._afterDismissed.complete(),this._dismissedByAction=!1}afterDismissed(){return this._afterDismissed}afterOpened(){return this.containerInstance._onEnter}onAction(){return this._onAction}}let oZ=(()=>{class n{constructor(e,r){this.snackBarRef=e,this.data=r}action(){this.snackBarRef.dismissWithAction()}get hasAction(){return!!this.data.action}}return n.\u0275fac=function(e){return new(e||n)(M(vS),M(QN))},n.\u0275cmp=Ie({type:n,selectors:[["simple-snack-bar"]],hostAttrs:[1,"mat-simple-snackbar"],decls:3,vars:2,consts:[[1,"mat-simple-snack-bar-content"],["class","mat-simple-snackbar-action",4,"ngIf"],[1,"mat-simple-snackbar-action"],["mat-button","",3,"click"]],template:function(e,r){1&e&&(V(0,"span",0),y(1),B(),pe(2,nZ,3,1,"div",1)),2&e&&(Y(1),k(r.data.message),Y(1),Q("ngIf",r.hasAction))},directives:[Or,pi],styles:[".mat-simple-snackbar{display:flex;justify-content:space-between;align-items:center;line-height:20px;opacity:1}.mat-simple-snackbar-action{flex-shrink:0;margin:-8px -8px -8px 8px}.mat-simple-snackbar-action button{max-height:36px;min-width:0}[dir=rtl] .mat-simple-snackbar-action{margin-left:-8px;margin-right:8px}.mat-simple-snack-bar-content{overflow:hidden;text-overflow:ellipsis}\n"],encapsulation:2,changeDetection:0}),n})();const sZ={snackBarState:Oa("state",[So("void, hidden",vt({transform:"scale(0.8)",opacity:0})),So("visible",vt({transform:"scale(1)",opacity:1})),Li("* => visible",mi("150ms cubic-bezier(0, 0, 0.2, 1)")),Li("* => void, * => hidden",mi("75ms cubic-bezier(0.4, 0.0, 1, 1)",vt({opacity:0})))])};let aZ=(()=>{class n extends C0{constructor(e,r,s,l,u){super(),this._ngZone=e,this._elementRef=r,this._changeDetectorRef=s,this._platform=l,this.snackBarConfig=u,this._announceDelay=150,this._destroyed=!1,this._onAnnounce=new Oe,this._onExit=new Oe,this._onEnter=new Oe,this._animationState="void",this.attachDomPortal=f=>(this._assertNotAttached(),this._applySnackBarClasses(),this._portalOutlet.attachDomPortal(f)),this._live="assertive"!==u.politeness||u.announcementMessage?"off"===u.politeness?"off":"polite":"assertive",this._platform.FIREFOX&&("polite"===this._live&&(this._role="status"),"assertive"===this._live&&(this._role="alert"))}attachComponentPortal(e){return this._assertNotAttached(),this._applySnackBarClasses(),this._portalOutlet.attachComponentPortal(e)}attachTemplatePortal(e){return this._assertNotAttached(),this._applySnackBarClasses(),this._portalOutlet.attachTemplatePortal(e)}onAnimationEnd(e){const{fromState:r,toState:s}=e;if(("void"===s&&"void"!==r||"hidden"===s)&&this._completeExit(),"visible"===s){const l=this._onEnter;this._ngZone.run(()=>{l.next(),l.complete()})}}enter(){this._destroyed||(this._animationState="visible",this._changeDetectorRef.detectChanges(),this._screenReaderAnnounce())}exit(){return this._ngZone.run(()=>{this._animationState="hidden",this._elementRef.nativeElement.setAttribute("mat-exit",""),clearTimeout(this._announceTimeoutId)}),this._onExit}ngOnDestroy(){this._destroyed=!0,this._completeExit()}_completeExit(){this._ngZone.onMicrotaskEmpty.pipe(si(1)).subscribe(()=>{this._ngZone.run(()=>{this._onExit.next(),this._onExit.complete()})})}_applySnackBarClasses(){const e=this._elementRef.nativeElement,r=this.snackBarConfig.panelClass;r&&(Array.isArray(r)?r.forEach(s=>e.classList.add(s)):e.classList.add(r)),"center"===this.snackBarConfig.horizontalPosition&&e.classList.add("mat-snack-bar-center"),"top"===this.snackBarConfig.verticalPosition&&e.classList.add("mat-snack-bar-top")}_assertNotAttached(){this._portalOutlet.hasAttached()}_screenReaderAnnounce(){this._announceTimeoutId||this._ngZone.runOutsideAngular(()=>{this._announceTimeoutId=setTimeout(()=>{const e=this._elementRef.nativeElement.querySelector("[aria-hidden]"),r=this._elementRef.nativeElement.querySelector("[aria-live]");if(e&&r){let s=null;this._platform.isBrowser&&document.activeElement instanceof HTMLElement&&e.contains(document.activeElement)&&(s=document.activeElement),e.removeAttribute("aria-hidden"),r.appendChild(e),null==s||s.focus(),this._onAnnounce.next(),this._onAnnounce.complete()}},this._announceDelay)})}}return n.\u0275fac=function(e){return new(e||n)(M(He),M(ze),M(ei),M(yn),M(P0))},n.\u0275cmp=Ie({type:n,selectors:[["snack-bar-container"]],viewQuery:function(e,r){if(1&e&&Jn(x0,7),2&e){let s;st(s=at())&&(r._portalOutlet=s.first)}},hostAttrs:[1,"mat-snack-bar-container"],hostVars:1,hostBindings:function(e,r){1&e&&yd("@state.done",function(l){return r.onAnimationEnd(l)}),2&e&&ky("@state",r._animationState)},features:[Fe],decls:3,vars:2,consts:[["aria-hidden","true"],["cdkPortalOutlet",""]],template:function(e,r){1&e&&(V(0,"div",0),pe(1,iZ,0,0,"ng-template",1),B(),Me(2,"div")),2&e&&(Y(2),mt("aria-live",r._live)("role",r._role))},directives:[x0],styles:[".mat-snack-bar-container{border-radius:4px;box-sizing:border-box;display:block;margin:24px;max-width:33vw;min-width:344px;padding:14px 16px;min-height:48px;transform-origin:center}.cdk-high-contrast-active .mat-snack-bar-container{border:solid 1px}.mat-snack-bar-handset{width:100%}.mat-snack-bar-handset .mat-snack-bar-container{margin:8px;max-width:100%;min-width:0;width:100%}\n"],encapsulation:2,data:{animation:[sZ.snackBarState]}}),n})(),YN=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=ue({type:n}),n.\u0275inj=Se({imports:[[bS,T0,Qi,ZR,xt],xt]}),n})();const ZN=new re("mat-snack-bar-default-options",{providedIn:"root",factory:function lZ(){return new P0}});let cZ=(()=>{class n{constructor(e,r,s,l,u,f){this._overlay=e,this._live=r,this._injector=s,this._breakpointObserver=l,this._parentSnackBar=u,this._defaultConfig=f,this._snackBarRefAtThisLevel=null}get _openedSnackBarRef(){const e=this._parentSnackBar;return e?e._openedSnackBarRef:this._snackBarRefAtThisLevel}set _openedSnackBarRef(e){this._parentSnackBar?this._parentSnackBar._openedSnackBarRef=e:this._snackBarRefAtThisLevel=e}openFromComponent(e,r){return this._attach(e,r)}openFromTemplate(e,r){return this._attach(e,r)}open(e,r="",s){const l=Object.assign(Object.assign({},this._defaultConfig),s);return l.data={message:e,action:r},l.announcementMessage===e&&(l.announcementMessage=void 0),this.openFromComponent(this.simpleSnackBarComponent,l)}dismiss(){this._openedSnackBarRef&&this._openedSnackBarRef.dismiss()}ngOnDestroy(){this._snackBarRefAtThisLevel&&this._snackBarRefAtThisLevel.dismiss()}_attachSnackBarContainer(e,r){const l=nn.create({parent:r&&r.viewContainerRef&&r.viewContainerRef.injector||this._injector,providers:[{provide:P0,useValue:r}]}),u=new qh(this.snackBarContainerComponent,r.viewContainerRef,l),f=e.attach(u);return f.instance.snackBarConfig=r,f.instance}_attach(e,r){const s=Object.assign(Object.assign(Object.assign({},new P0),this._defaultConfig),r),l=this._createOverlay(s),u=this._attachSnackBarContainer(l,s),f=new vS(u,l);if(e instanceof qo){const m=new KE(e,null,{$implicit:s.data,snackBarRef:f});f.instance=u.attachTemplatePortal(m)}else{const m=this._createInjector(s,f),b=new qh(e,void 0,m),w=u.attachComponentPortal(b);f.instance=w.instance}return this._breakpointObserver.observe("(max-width: 599.98px) and (orientation: portrait)").pipe(Qt(l.detachments())).subscribe(m=>{l.overlayElement.classList.toggle(this.handsetCssClass,m.matches)}),s.announcementMessage&&u._onAnnounce.subscribe(()=>{this._live.announce(s.announcementMessage,s.politeness)}),this._animateSnackBar(f,s),this._openedSnackBarRef=f,this._openedSnackBarRef}_animateSnackBar(e,r){e.afterDismissed().subscribe(()=>{this._openedSnackBarRef==e&&(this._openedSnackBarRef=null),r.announcementMessage&&this._live.clear()}),this._openedSnackBarRef?(this._openedSnackBarRef.afterDismissed().subscribe(()=>{e.containerInstance.enter()}),this._openedSnackBarRef.dismiss()):e.containerInstance.enter(),r.duration&&r.duration>0&&e.afterOpened().subscribe(()=>e._dismissAfter(r.duration))}_createOverlay(e){const r=new gS;r.direction=e.direction;let s=this._overlay.position().global();const l="rtl"===e.direction,u="left"===e.horizontalPosition||"start"===e.horizontalPosition&&!l||"end"===e.horizontalPosition&&l,f=!u&&"center"!==e.horizontalPosition;return u?s.left("0"):f?s.right("0"):s.centerHorizontally(),"top"===e.verticalPosition?s.top("0"):s.bottom("0"),r.positionStrategy=s,this._overlay.create(r)}_createInjector(e,r){return nn.create({parent:e&&e.viewContainerRef&&e.viewContainerRef.injector||this._injector,providers:[{provide:vS,useValue:r},{provide:QN,useValue:e.data}]})}}return n.\u0275fac=function(e){return new(e||n)(L(oc),L(qP),L(nn),L(qE),L(n,12),L(ZN))},n.\u0275prov=oe({token:n,factory:n.\u0275fac}),n})(),dZ=(()=>{class n extends cZ{constructor(e,r,s,l,u,f){super(e,r,s,l,u,f),this.simpleSnackBarComponent=oZ,this.snackBarContainerComponent=aZ,this.handsetCssClass="mat-snack-bar-handset"}}return n.\u0275fac=function(e){return new(e||n)(L(oc),L(qP),L(nn),L(qE),L(n,12),L(ZN))},n.\u0275prov=oe({token:n,factory:n.\u0275fac,providedIn:YN}),n})();function uZ(n,t){}class yS{constructor(){this.role="dialog",this.panelClass="",this.hasBackdrop=!0,this.backdropClass="",this.disableClose=!1,this.width="",this.height="",this.maxWidth="80vw",this.data=null,this.ariaDescribedBy=null,this.ariaLabelledBy=null,this.ariaLabel=null,this.autoFocus="first-tabbable",this.restoreFocus=!0,this.delayFocusTrap=!0,this.closeOnNavigation=!0}}const hZ={dialogContainer:Oa("dialogContainer",[So("void, exit",vt({opacity:0,transform:"scale(0.7)"})),So("enter",vt({transform:"none"})),Li("* => enter",XP([mi("150ms cubic-bezier(0, 0, 0.2, 1)",vt({transform:"none",opacity:1})),Sg("@*",eR(),{optional:!0})])),Li("* => void, * => exit",XP([mi("75ms cubic-bezier(0.4, 0.0, 0.2, 1)",vt({opacity:0})),Sg("@*",eR(),{optional:!0})]))])};let fZ=(()=>{class n extends C0{constructor(e,r,s,l,u,f,m,b){super(),this._elementRef=e,this._focusTrapFactory=r,this._changeDetectorRef=s,this._config=u,this._interactivityChecker=f,this._ngZone=m,this._focusMonitor=b,this._animationStateChanged=new we,this._elementFocusedBeforeDialogWasOpened=null,this._closeInteractionType=null,this.attachDomPortal=w=>(this._portalOutlet.hasAttached(),this._portalOutlet.attachDomPortal(w)),this._ariaLabelledBy=u.ariaLabelledBy||null,this._document=l}_initializeWithAttachedContent(){this._focusTrap=this._focusTrapFactory.create(this._elementRef.nativeElement),this._document&&(this._elementFocusedBeforeDialogWasOpened=FT())}attachComponentPortal(e){return this._portalOutlet.hasAttached(),this._portalOutlet.attachComponentPortal(e)}attachTemplatePortal(e){return this._portalOutlet.hasAttached(),this._portalOutlet.attachTemplatePortal(e)}_recaptureFocus(){this._containsFocus()||this._trapFocus()}_forceFocus(e,r){this._interactivityChecker.isFocusable(e)||(e.tabIndex=-1,this._ngZone.runOutsideAngular(()=>{const s=()=>{e.removeEventListener("blur",s),e.removeEventListener("mousedown",s),e.removeAttribute("tabindex")};e.addEventListener("blur",s),e.addEventListener("mousedown",s)})),e.focus(r)}_focusByCssSelector(e,r){let s=this._elementRef.nativeElement.querySelector(e);s&&this._forceFocus(s,r)}_trapFocus(){const e=this._elementRef.nativeElement;switch(this._config.autoFocus){case!1:case"dialog":this._containsFocus()||e.focus();break;case!0:case"first-tabbable":this._focusTrap.focusInitialElementWhenReady().then(r=>{r||this._focusDialogContainer()});break;case"first-heading":this._focusByCssSelector('h1, h2, h3, h4, h5, h6, [role="heading"]');break;default:this._focusByCssSelector(this._config.autoFocus)}}_restoreFocus(){const e=this._elementFocusedBeforeDialogWasOpened;if(this._config.restoreFocus&&e&&"function"==typeof e.focus){const r=FT(),s=this._elementRef.nativeElement;(!r||r===this._document.body||r===s||s.contains(r))&&(this._focusMonitor?(this._focusMonitor.focusVia(e,this._closeInteractionType),this._closeInteractionType=null):e.focus())}this._focusTrap&&this._focusTrap.destroy()}_focusDialogContainer(){this._elementRef.nativeElement.focus&&this._elementRef.nativeElement.focus()}_containsFocus(){const e=this._elementRef.nativeElement,r=FT();return e===r||e.contains(r)}}return n.\u0275fac=function(e){return new(e||n)(M(ze),M(Qz),M(ei),M(ot,8),M(yS),M(jP),M(He),M(Kl))},n.\u0275dir=se({type:n,viewQuery:function(e,r){if(1&e&&Jn(x0,7),2&e){let s;st(s=at())&&(r._portalOutlet=s.first)}},features:[Fe]}),n})(),pZ=(()=>{class n extends fZ{constructor(){super(...arguments),this._state="enter"}_onAnimationDone({toState:e,totalTime:r}){"enter"===e?(this._config.delayFocusTrap&&this._trapFocus(),this._animationStateChanged.next({state:"opened",totalTime:r})):"exit"===e&&(this._restoreFocus(),this._animationStateChanged.next({state:"closed",totalTime:r}))}_onAnimationStart({toState:e,totalTime:r}){"enter"===e?this._animationStateChanged.next({state:"opening",totalTime:r}):("exit"===e||"void"===e)&&this._animationStateChanged.next({state:"closing",totalTime:r})}_startExitAnimation(){this._state="exit",this._changeDetectorRef.markForCheck()}_initializeWithAttachedContent(){super._initializeWithAttachedContent(),this._config.delayFocusTrap||this._trapFocus()}}return n.\u0275fac=function(){let t;return function(r){return(t||(t=Wn(n)))(r||n)}}(),n.\u0275cmp=Ie({type:n,selectors:[["mat-dialog-container"]],hostAttrs:["tabindex","-1","aria-modal","true",1,"mat-dialog-container"],hostVars:6,hostBindings:function(e,r){1&e&&yd("@dialogContainer.start",function(l){return r._onAnimationStart(l)})("@dialogContainer.done",function(l){return r._onAnimationDone(l)}),2&e&&(Ll("id",r._id),mt("role",r._config.role)("aria-labelledby",r._config.ariaLabel?null:r._ariaLabelledBy)("aria-label",r._config.ariaLabel)("aria-describedby",r._config.ariaDescribedBy||null),ky("@dialogContainer",r._state))},features:[Fe],decls:1,vars:0,consts:[["cdkPortalOutlet",""]],template:function(e,r){1&e&&pe(0,uZ,0,0,"ng-template",0)},directives:[x0],styles:[".mat-dialog-container{display:block;padding:24px;border-radius:4px;box-sizing:border-box;overflow:auto;outline:0;width:100%;height:100%;min-height:inherit;max-height:inherit}.cdk-high-contrast-active .mat-dialog-container{outline:solid 1px}.mat-dialog-content{display:block;margin:0 -24px;padding:0 24px;max-height:65vh;overflow:auto;-webkit-overflow-scrolling:touch}.mat-dialog-title{margin:0 0 20px;display:block}.mat-dialog-actions{padding:8px 0;display:flex;flex-wrap:wrap;min-height:52px;align-items:center;box-sizing:content-box;margin-bottom:-24px}.mat-dialog-actions[align=end]{justify-content:flex-end}.mat-dialog-actions[align=center]{justify-content:center}.mat-dialog-actions .mat-button-base+.mat-button-base,.mat-dialog-actions .mat-mdc-button-base+.mat-mdc-button-base{margin-left:8px}[dir=rtl] .mat-dialog-actions .mat-button-base+.mat-button-base,[dir=rtl] .mat-dialog-actions .mat-mdc-button-base+.mat-mdc-button-base{margin-left:0;margin-right:8px}\n"],encapsulation:2,data:{animation:[hZ.dialogContainer]}}),n})(),mZ=0;class R0{constructor(t,e,r="mat-dialog-"+mZ++){this._overlayRef=t,this._containerInstance=e,this.id=r,this.disableClose=this._containerInstance._config.disableClose,this._afterOpened=new Oe,this._afterClosed=new Oe,this._beforeClosed=new Oe,this._state=0,e._id=r,e._animationStateChanged.pipe(xi(s=>"opened"===s.state),si(1)).subscribe(()=>{this._afterOpened.next(),this._afterOpened.complete()}),e._animationStateChanged.pipe(xi(s=>"closed"===s.state),si(1)).subscribe(()=>{clearTimeout(this._closeFallbackTimeout),this._finishDialogClose()}),t.detachments().subscribe(()=>{this._beforeClosed.next(this._result),this._beforeClosed.complete(),this._afterClosed.next(this._result),this._afterClosed.complete(),this.componentInstance=null,this._overlayRef.dispose()}),t.keydownEvents().pipe(xi(s=>27===s.keyCode&&!this.disableClose&&!Gl(s))).subscribe(s=>{s.preventDefault(),wS(this,"keyboard")}),t.backdropClick().subscribe(()=>{this.disableClose?this._containerInstance._recaptureFocus():wS(this,"mouse")})}close(t){this._result=t,this._containerInstance._animationStateChanged.pipe(xi(e=>"closing"===e.state),si(1)).subscribe(e=>{this._beforeClosed.next(t),this._beforeClosed.complete(),this._overlayRef.detachBackdrop(),this._closeFallbackTimeout=setTimeout(()=>this._finishDialogClose(),e.totalTime+100)}),this._state=1,this._containerInstance._startExitAnimation()}afterOpened(){return this._afterOpened}afterClosed(){return this._afterClosed}beforeClosed(){return this._beforeClosed}backdropClick(){return this._overlayRef.backdropClick()}keydownEvents(){return this._overlayRef.keydownEvents()}updatePosition(t){let e=this._getPositionStrategy();return t&&(t.left||t.right)?t.left?e.left(t.left):e.right(t.right):e.centerHorizontally(),t&&(t.top||t.bottom)?t.top?e.top(t.top):e.bottom(t.bottom):e.centerVertically(),this._overlayRef.updatePosition(),this}updateSize(t="",e=""){return this._overlayRef.updateSize({width:t,height:e}),this._overlayRef.updatePosition(),this}addPanelClass(t){return this._overlayRef.addPanelClass(t),this}removePanelClass(t){return this._overlayRef.removePanelClass(t),this}getState(){return this._state}_finishDialogClose(){this._state=2,this._overlayRef.dispose()}_getPositionStrategy(){return this._overlayRef.getConfig().positionStrategy}}function wS(n,t,e){return void 0!==n._containerInstance&&(n._containerInstance._closeInteractionType=t),n.close(e)}const XN=new re("MatDialogData"),gZ=new re("mat-dialog-default-options"),JN=new re("mat-dialog-scroll-strategy"),bZ={provide:JN,deps:[oc],useFactory:function _Z(n){return()=>n.scrollStrategies.block()}};let vZ=(()=>{class n{constructor(e,r,s,l,u,f,m,b,w,x){this._overlay=e,this._injector=r,this._defaultOptions=s,this._parentDialog=l,this._overlayContainer=u,this._dialogRefConstructor=m,this._dialogContainerType=b,this._dialogDataToken=w,this._openDialogsAtThisLevel=[],this._afterAllClosedAtThisLevel=new Oe,this._afterOpenedAtThisLevel=new Oe,this._ariaHiddenElements=new Map,this.afterAllClosed=nT(()=>this.openDialogs.length?this._getAfterAllClosed():this._getAfterAllClosed().pipe(Fs(void 0))),this._scrollStrategy=f}get openDialogs(){return this._parentDialog?this._parentDialog.openDialogs:this._openDialogsAtThisLevel}get afterOpened(){return this._parentDialog?this._parentDialog.afterOpened:this._afterOpenedAtThisLevel}_getAfterAllClosed(){const e=this._parentDialog;return e?e._getAfterAllClosed():this._afterAllClosedAtThisLevel}open(e,r){r=function yZ(n,t){return Object.assign(Object.assign({},t),n)}(r,this._defaultOptions||new yS),r.id&&this.getDialogById(r.id);const s=this._createOverlay(r),l=this._attachDialogContainer(s,r),u=this._attachDialogContent(e,l,s,r);return this.openDialogs.length||this._hideNonDialogContentFromAssistiveTechnology(),this.openDialogs.push(u),u.afterClosed().subscribe(()=>this._removeOpenDialog(u)),this.afterOpened.next(u),l._initializeWithAttachedContent(),u}closeAll(){this._closeDialogs(this.openDialogs)}getDialogById(e){return this.openDialogs.find(r=>r.id===e)}ngOnDestroy(){this._closeDialogs(this._openDialogsAtThisLevel),this._afterAllClosedAtThisLevel.complete(),this._afterOpenedAtThisLevel.complete()}_createOverlay(e){const r=this._getOverlayConfig(e);return this._overlay.create(r)}_getOverlayConfig(e){const r=new gS({positionStrategy:this._overlay.position().global(),scrollStrategy:e.scrollStrategy||this._scrollStrategy(),panelClass:e.panelClass,hasBackdrop:e.hasBackdrop,direction:e.direction,minWidth:e.minWidth,minHeight:e.minHeight,maxWidth:e.maxWidth,maxHeight:e.maxHeight,disposeOnNavigation:e.closeOnNavigation});return e.backdropClass&&(r.backdropClass=e.backdropClass),r}_attachDialogContainer(e,r){const l=nn.create({parent:r&&r.viewContainerRef&&r.viewContainerRef.injector||this._injector,providers:[{provide:yS,useValue:r}]}),u=new qh(this._dialogContainerType,r.viewContainerRef,l,r.componentFactoryResolver);return e.attach(u).instance}_attachDialogContent(e,r,s,l){const u=new this._dialogRefConstructor(s,r,l.id);if(e instanceof qo)r.attachTemplatePortal(new KE(e,null,{$implicit:l.data,dialogRef:u}));else{const f=this._createInjector(l,u,r),m=r.attachComponentPortal(new qh(e,l.viewContainerRef,f,l.componentFactoryResolver));u.componentInstance=m.instance}return u.updateSize(l.width,l.height).updatePosition(l.position),u}_createInjector(e,r,s){const l=e&&e.viewContainerRef&&e.viewContainerRef.injector,u=[{provide:this._dialogContainerType,useValue:s},{provide:this._dialogDataToken,useValue:e.data},{provide:this._dialogRefConstructor,useValue:r}];return e.direction&&(!l||!l.get(Ia,null,Qe.Optional))&&u.push({provide:Ia,useValue:{value:e.direction,change:Ue()}}),nn.create({parent:l||this._injector,providers:u})}_removeOpenDialog(e){const r=this.openDialogs.indexOf(e);r>-1&&(this.openDialogs.splice(r,1),this.openDialogs.length||(this._ariaHiddenElements.forEach((s,l)=>{s?l.setAttribute("aria-hidden",s):l.removeAttribute("aria-hidden")}),this._ariaHiddenElements.clear(),this._getAfterAllClosed().next()))}_hideNonDialogContentFromAssistiveTechnology(){const e=this._overlayContainer.getContainerElement();if(e.parentElement){const r=e.parentElement.children;for(let s=r.length-1;s>-1;s--){let l=r[s];l!==e&&"SCRIPT"!==l.nodeName&&"STYLE"!==l.nodeName&&!l.hasAttribute("aria-live")&&(this._ariaHiddenElements.set(l,l.getAttribute("aria-hidden")),l.setAttribute("aria-hidden","true"))}}}_closeDialogs(e){let r=e.length;for(;r--;)e[r].close()}}return n.\u0275fac=function(e){Ol()},n.\u0275dir=se({type:n}),n})(),O0=(()=>{class n extends vZ{constructor(e,r,s,l,u,f,m,b){super(e,r,l,f,m,u,R0,pZ,XN,b)}}return n.\u0275fac=function(e){return new(e||n)(L(oc),L(nn),L(rg,8),L(gZ,8),L(JN),L(n,12),L(_S),L(Kn,8))},n.\u0275prov=oe({token:n,factory:n.\u0275fac}),n})(),wZ=0,kZ=(()=>{class n{constructor(e,r,s){this.dialogRef=e,this._elementRef=r,this._dialog=s,this.type="button"}ngOnInit(){this.dialogRef||(this.dialogRef=eL(this._elementRef,this._dialog.openDialogs))}ngOnChanges(e){const r=e._matDialogClose||e._matDialogCloseResult;r&&(this.dialogResult=r.currentValue)}_onButtonClick(e){wS(this.dialogRef,0===e.screenX&&0===e.screenY?"keyboard":"mouse",this.dialogResult)}}return n.\u0275fac=function(e){return new(e||n)(M(R0,8),M(ze),M(O0))},n.\u0275dir=se({type:n,selectors:[["","mat-dialog-close",""],["","matDialogClose",""]],hostVars:2,hostBindings:function(e,r){1&e&&Ee("click",function(l){return r._onButtonClick(l)}),2&e&&mt("aria-label",r.ariaLabel||null)("type",r.type)},inputs:{ariaLabel:["aria-label","ariaLabel"],type:"type",dialogResult:["mat-dialog-close","dialogResult"],_matDialogClose:["matDialogClose","_matDialogClose"]},exportAs:["matDialogClose"],features:[xn]}),n})(),CZ=(()=>{class n{constructor(e,r,s){this._dialogRef=e,this._elementRef=r,this._dialog=s,this.id="mat-dialog-title-"+wZ++}ngOnInit(){this._dialogRef||(this._dialogRef=eL(this._elementRef,this._dialog.openDialogs)),this._dialogRef&&Promise.resolve().then(()=>{const e=this._dialogRef._containerInstance;e&&!e._ariaLabelledBy&&(e._ariaLabelledBy=this.id)})}}return n.\u0275fac=function(e){return new(e||n)(M(R0,8),M(ze),M(O0))},n.\u0275dir=se({type:n,selectors:[["","mat-dialog-title",""],["","matDialogTitle",""]],hostAttrs:[1,"mat-dialog-title"],hostVars:1,hostBindings:function(e,r){2&e&&Ll("id",r.id)},inputs:{id:"id"},exportAs:["matDialogTitle"]}),n})(),xZ=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275dir=se({type:n,selectors:[["","mat-dialog-content",""],["mat-dialog-content"],["","matDialogContent",""]],hostAttrs:[1,"mat-dialog-content"]}),n})(),TZ=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275dir=se({type:n,selectors:[["","mat-dialog-actions",""],["mat-dialog-actions"],["","matDialogActions",""]],hostAttrs:[1,"mat-dialog-actions"]}),n})();function eL(n,t){let e=n.nativeElement.parentElement;for(;e&&!e.classList.contains("mat-dialog-container");)e=e.parentElement;return e?t.find(r=>r.id===e.id):null}let EZ=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=ue({type:n}),n.\u0275inj=Se({providers:[O0,bZ],imports:[[bS,T0,xt],xt]}),n})();const SZ=["tooltip"],tL="tooltip-panel",nL=Fh({passive:!0}),iL=new re("mat-tooltip-scroll-strategy"),IZ={provide:iL,deps:[oc],useFactory:function AZ(n){return()=>n.scrollStrategies.reposition({scrollThrottle:20})}},PZ=new re("mat-tooltip-default-options",{providedIn:"root",factory:function RZ(){return{showDelay:0,hideDelay:0,touchendHideDelay:1500}}});let OZ=(()=>{class n{constructor(e,r,s,l,u,f,m,b,w,x,E,S){this._overlay=e,this._elementRef=r,this._scrollDispatcher=s,this._viewContainerRef=l,this._ngZone=u,this._platform=f,this._ariaDescriber=m,this._focusMonitor=b,this._dir=x,this._defaultOptions=E,this._position="below",this._disabled=!1,this._viewInitialized=!1,this._pointerExitEventsInitialized=!1,this._viewportMargin=8,this._cssClassPrefix="mat",this._showDelay=this._defaultOptions.showDelay,this._hideDelay=this._defaultOptions.hideDelay,this.touchGestures="auto",this._message="",this._passiveListeners=[],this._destroyed=new Oe,this._scrollStrategy=w,this._document=S,E&&(E.position&&(this.position=E.position),E.touchGestures&&(this.touchGestures=E.touchGestures)),x.change.pipe(Qt(this._destroyed)).subscribe(()=>{this._overlayRef&&this._updatePosition(this._overlayRef)})}get position(){return this._position}set position(e){var r;e!==this._position&&(this._position=e,this._overlayRef&&(this._updatePosition(this._overlayRef),null===(r=this._tooltipInstance)||void 0===r||r.show(0),this._overlayRef.updatePosition()))}get disabled(){return this._disabled}set disabled(e){this._disabled=jt(e),this._disabled?this.hide(0):this._setupPointerEnterEventsIfNeeded()}get showDelay(){return this._showDelay}set showDelay(e){this._showDelay=Yo(e)}get hideDelay(){return this._hideDelay}set hideDelay(e){this._hideDelay=Yo(e),this._tooltipInstance&&(this._tooltipInstance._mouseLeaveHideDelay=this._hideDelay)}get message(){return this._message}set message(e){this._ariaDescriber.removeDescription(this._elementRef.nativeElement,this._message,"tooltip"),this._message=null!=e?String(e).trim():"",!this._message&&this._isTooltipVisible()?this.hide(0):(this._setupPointerEnterEventsIfNeeded(),this._updateTooltipMessage(),this._ngZone.runOutsideAngular(()=>{Promise.resolve().then(()=>{this._ariaDescriber.describe(this._elementRef.nativeElement,this.message,"tooltip")})}))}get tooltipClass(){return this._tooltipClass}set tooltipClass(e){this._tooltipClass=e,this._tooltipInstance&&this._setTooltipClass(this._tooltipClass)}ngAfterViewInit(){this._viewInitialized=!0,this._setupPointerEnterEventsIfNeeded(),this._focusMonitor.monitor(this._elementRef).pipe(Qt(this._destroyed)).subscribe(e=>{e?"keyboard"===e&&this._ngZone.run(()=>this.show()):this._ngZone.run(()=>this.hide(0))})}ngOnDestroy(){const e=this._elementRef.nativeElement;clearTimeout(this._touchstartTimeout),this._overlayRef&&(this._overlayRef.dispose(),this._tooltipInstance=null),this._passiveListeners.forEach(([r,s])=>{e.removeEventListener(r,s,nL)}),this._passiveListeners.length=0,this._destroyed.next(),this._destroyed.complete(),this._ariaDescriber.removeDescription(e,this.message,"tooltip"),this._focusMonitor.stopMonitoring(e)}show(e=this.showDelay){if(this.disabled||!this.message||this._isTooltipVisible()&&!this._tooltipInstance._showTimeoutId&&!this._tooltipInstance._hideTimeoutId)return;const r=this._createOverlay();this._detach(),this._portal=this._portal||new qh(this._tooltipComponent,this._viewContainerRef);const s=this._tooltipInstance=r.attach(this._portal).instance;s._triggerElement=this._elementRef.nativeElement,s._mouseLeaveHideDelay=this._hideDelay,s.afterHidden().pipe(Qt(this._destroyed)).subscribe(()=>this._detach()),this._setTooltipClass(this._tooltipClass),this._updateTooltipMessage(),s.show(e)}hide(e=this.hideDelay){this._tooltipInstance&&this._tooltipInstance.hide(e)}toggle(){this._isTooltipVisible()?this.hide():this.show()}_isTooltipVisible(){return!!this._tooltipInstance&&this._tooltipInstance.isVisible()}_createOverlay(){var e;if(this._overlayRef)return this._overlayRef;const r=this._scrollDispatcher.getAncestorScrollContainers(this._elementRef),s=this._overlay.position().flexibleConnectedTo(this._elementRef).withTransformOriginOn(`.${this._cssClassPrefix}-tooltip`).withFlexibleDimensions(!1).withViewportMargin(this._viewportMargin).withScrollableContainers(r);return s.positionChanges.pipe(Qt(this._destroyed)).subscribe(l=>{this._updateCurrentPositionClass(l.connectionPair),this._tooltipInstance&&l.scrollableViewProperties.isOverlayClipped&&this._tooltipInstance.isVisible()&&this._ngZone.run(()=>this.hide(0))}),this._overlayRef=this._overlay.create({direction:this._dir,positionStrategy:s,panelClass:`${this._cssClassPrefix}-${tL}`,scrollStrategy:this._scrollStrategy()}),this._updatePosition(this._overlayRef),this._overlayRef.detachments().pipe(Qt(this._destroyed)).subscribe(()=>this._detach()),this._overlayRef.outsidePointerEvents().pipe(Qt(this._destroyed)).subscribe(()=>{var l;return null===(l=this._tooltipInstance)||void 0===l?void 0:l._handleBodyInteraction()}),this._overlayRef.keydownEvents().pipe(Qt(this._destroyed)).subscribe(l=>{this._isTooltipVisible()&&27===l.keyCode&&!Gl(l)&&(l.preventDefault(),l.stopPropagation(),this._ngZone.run(()=>this.hide(0)))}),(null===(e=this._defaultOptions)||void 0===e?void 0:e.disableTooltipInteractivity)&&this._overlayRef.addPanelClass(`${this._cssClassPrefix}-tooltip-panel-non-interactive`),this._overlayRef}_detach(){this._overlayRef&&this._overlayRef.hasAttached()&&this._overlayRef.detach(),this._tooltipInstance=null}_updatePosition(e){const r=e.getConfig().positionStrategy,s=this._getOrigin(),l=this._getOverlayPosition();r.withPositions([this._addOffset(Object.assign(Object.assign({},s.main),l.main)),this._addOffset(Object.assign(Object.assign({},s.fallback),l.fallback))])}_addOffset(e){return e}_getOrigin(){const e=!this._dir||"ltr"==this._dir.value,r=this.position;let s;"above"==r||"below"==r?s={originX:"center",originY:"above"==r?"top":"bottom"}:"before"==r||"left"==r&&e||"right"==r&&!e?s={originX:"start",originY:"center"}:("after"==r||"right"==r&&e||"left"==r&&!e)&&(s={originX:"end",originY:"center"});const{x:l,y:u}=this._invertPosition(s.originX,s.originY);return{main:s,fallback:{originX:l,originY:u}}}_getOverlayPosition(){const e=!this._dir||"ltr"==this._dir.value,r=this.position;let s;"above"==r?s={overlayX:"center",overlayY:"bottom"}:"below"==r?s={overlayX:"center",overlayY:"top"}:"before"==r||"left"==r&&e||"right"==r&&!e?s={overlayX:"end",overlayY:"center"}:("after"==r||"right"==r&&e||"left"==r&&!e)&&(s={overlayX:"start",overlayY:"center"});const{x:l,y:u}=this._invertPosition(s.overlayX,s.overlayY);return{main:s,fallback:{overlayX:l,overlayY:u}}}_updateTooltipMessage(){this._tooltipInstance&&(this._tooltipInstance.message=this.message,this._tooltipInstance._markForCheck(),this._ngZone.onMicrotaskEmpty.pipe(si(1),Qt(this._destroyed)).subscribe(()=>{this._tooltipInstance&&this._overlayRef.updatePosition()}))}_setTooltipClass(e){this._tooltipInstance&&(this._tooltipInstance.tooltipClass=e,this._tooltipInstance._markForCheck())}_invertPosition(e,r){return"above"===this.position||"below"===this.position?"top"===r?r="bottom":"bottom"===r&&(r="top"):"end"===e?e="start":"start"===e&&(e="end"),{x:e,y:r}}_updateCurrentPositionClass(e){const{overlayY:r,originX:s,originY:l}=e;let u;if(u="center"===r?this._dir&&"rtl"===this._dir.value?"end"===s?"left":"right":"start"===s?"left":"right":"bottom"===r&&"top"===l?"above":"below",u!==this._currentPosition){const f=this._overlayRef;if(f){const m=`${this._cssClassPrefix}-${tL}-`;f.removePanelClass(m+this._currentPosition),f.addPanelClass(m+u)}this._currentPosition=u}}_setupPointerEnterEventsIfNeeded(){this._disabled||!this.message||!this._viewInitialized||this._passiveListeners.length||(this._platformSupportsMouseEvents()?this._passiveListeners.push(["mouseenter",()=>{this._setupPointerExitEventsIfNeeded(),this.show()}]):"off"!==this.touchGestures&&(this._disableNativeGesturesIfNecessary(),this._passiveListeners.push(["touchstart",()=>{this._setupPointerExitEventsIfNeeded(),clearTimeout(this._touchstartTimeout),this._touchstartTimeout=setTimeout(()=>this.show(),500)}])),this._addListeners(this._passiveListeners))}_setupPointerExitEventsIfNeeded(){if(this._pointerExitEventsInitialized)return;this._pointerExitEventsInitialized=!0;const e=[];if(this._platformSupportsMouseEvents())e.push(["mouseleave",r=>{var s;const l=r.relatedTarget;(!l||!(null===(s=this._overlayRef)||void 0===s?void 0:s.overlayElement.contains(l)))&&this.hide()}],["wheel",r=>this._wheelListener(r)]);else if("off"!==this.touchGestures){this._disableNativeGesturesIfNecessary();const r=()=>{clearTimeout(this._touchstartTimeout),this.hide(this._defaultOptions.touchendHideDelay)};e.push(["touchend",r],["touchcancel",r])}this._addListeners(e),this._passiveListeners.push(...e)}_addListeners(e){e.forEach(([r,s])=>{this._elementRef.nativeElement.addEventListener(r,s,nL)})}_platformSupportsMouseEvents(){return!this._platform.IOS&&!this._platform.ANDROID}_wheelListener(e){if(this._isTooltipVisible()){const r=this._document.elementFromPoint(e.clientX,e.clientY),s=this._elementRef.nativeElement;r!==s&&!s.contains(r)&&this.hide()}}_disableNativeGesturesIfNecessary(){const e=this.touchGestures;if("off"!==e){const r=this._elementRef.nativeElement,s=r.style;("on"===e||"INPUT"!==r.nodeName&&"TEXTAREA"!==r.nodeName)&&(s.userSelect=s.msUserSelect=s.webkitUserSelect=s.MozUserSelect="none"),("on"===e||!r.draggable)&&(s.webkitUserDrag="none"),s.touchAction="none",s.webkitTapHighlightColor="transparent"}}}return n.\u0275fac=function(e){Ol()},n.\u0275dir=se({type:n,inputs:{position:["matTooltipPosition","position"],disabled:["matTooltipDisabled","disabled"],showDelay:["matTooltipShowDelay","showDelay"],hideDelay:["matTooltipHideDelay","hideDelay"],touchGestures:["matTooltipTouchGestures","touchGestures"],message:["matTooltip","message"],tooltipClass:["matTooltipClass","tooltipClass"]}}),n})(),FZ=(()=>{class n extends OZ{constructor(e,r,s,l,u,f,m,b,w,x,E,S){super(e,r,s,l,u,f,m,b,w,x,E,S),this._tooltipComponent=LZ}}return n.\u0275fac=function(e){return new(e||n)(M(oc),M(ze),M(vF),M(eo),M(He),M(yn),M(Nz),M(Kl),M(iL),M(Ia,8),M(PZ,8),M(ot))},n.\u0275dir=se({type:n,selectors:[["","matTooltip",""]],hostAttrs:[1,"mat-tooltip-trigger"],exportAs:["matTooltip"],features:[Fe]}),n})(),NZ=(()=>{class n{constructor(e,r){this._changeDetectorRef=e,this._visibility="initial",this._closeOnInteraction=!1,this._isVisible=!1,this._onHide=new Oe,this._animationsDisabled="NoopAnimations"===r}show(e){clearTimeout(this._hideTimeoutId),this._showTimeoutId=setTimeout(()=>{this._toggleVisibility(!0),this._showTimeoutId=void 0},e)}hide(e){clearTimeout(this._showTimeoutId),this._hideTimeoutId=setTimeout(()=>{this._toggleVisibility(!1),this._hideTimeoutId=void 0},e)}afterHidden(){return this._onHide}isVisible(){return this._isVisible}ngOnDestroy(){clearTimeout(this._showTimeoutId),clearTimeout(this._hideTimeoutId),this._onHide.complete(),this._triggerElement=null}_handleBodyInteraction(){this._closeOnInteraction&&this.hide(0)}_markForCheck(){this._changeDetectorRef.markForCheck()}_handleMouseLeave({relatedTarget:e}){(!e||!this._triggerElement.contains(e))&&this.hide(this._mouseLeaveHideDelay)}_onShow(){}_handleAnimationEnd({animationName:e}){(e===this._showAnimation||e===this._hideAnimation)&&this._finalizeAnimation(e===this._showAnimation)}_finalizeAnimation(e){e?this._closeOnInteraction=!0:this.isVisible()||this._onHide.next()}_toggleVisibility(e){const r=this._tooltip.nativeElement,s=this._showAnimation,l=this._hideAnimation;if(r.classList.remove(e?l:s),r.classList.add(e?s:l),this._isVisible=e,e&&!this._animationsDisabled&&"function"==typeof getComputedStyle){const u=getComputedStyle(r);("0s"===u.getPropertyValue("animation-duration")||"none"===u.getPropertyValue("animation-name"))&&(this._animationsDisabled=!0)}e&&this._onShow(),this._animationsDisabled&&(r.classList.add("_mat-animation-noopable"),this._finalizeAnimation(e))}}return n.\u0275fac=function(e){return new(e||n)(M(ei),M(Kn,8))},n.\u0275dir=se({type:n}),n})(),LZ=(()=>{class n extends NZ{constructor(e,r,s){super(e,s),this._breakpointObserver=r,this._isHandset=this._breakpointObserver.observe("(max-width: 599.98px) and (orientation: portrait), (max-width: 959.98px) and (orientation: landscape)"),this._showAnimation="mat-tooltip-show",this._hideAnimation="mat-tooltip-hide"}}return n.\u0275fac=function(e){return new(e||n)(M(ei),M(qE),M(Kn,8))},n.\u0275cmp=Ie({type:n,selectors:[["mat-tooltip-component"]],viewQuery:function(e,r){if(1&e&&Jn(SZ,7),2&e){let s;st(s=at())&&(r._tooltip=s.first)}},hostAttrs:["aria-hidden","true"],hostVars:2,hostBindings:function(e,r){1&e&&Ee("mouseleave",function(l){return r._handleMouseLeave(l)}),2&e&&wa("zoom",r.isVisible()?1:null)},features:[Fe],decls:4,vars:6,consts:[[1,"mat-tooltip",3,"ngClass","animationend"],["tooltip",""]],template:function(e,r){if(1&e&&(V(0,"div",0,1),Ee("animationend",function(l){return r._handleAnimationEnd(l)}),Co(2,"async"),y(3),B()),2&e){let s;kt("mat-tooltip-handset",null==(s=Bl(2,4,r._isHandset))?null:s.matches),Q("ngClass",r.tooltipClass),Y(3),k(r.message)}},directives:[H1],pipes:[Ky],styles:[".mat-tooltip{color:#fff;border-radius:4px;margin:14px;max-width:250px;padding-left:8px;padding-right:8px;overflow:hidden;text-overflow:ellipsis;transform:scale(0)}.mat-tooltip._mat-animation-noopable{animation:none;transform:scale(1)}.cdk-high-contrast-active .mat-tooltip{outline:solid 1px}.mat-tooltip-handset{margin:24px;padding-left:16px;padding-right:16px}.mat-tooltip-panel-non-interactive{pointer-events:none}@keyframes mat-tooltip-show{0%{opacity:0;transform:scale(0)}50%{opacity:.5;transform:scale(0.99)}100%{opacity:1;transform:scale(1)}}@keyframes mat-tooltip-hide{0%{opacity:1;transform:scale(1)}100%{opacity:0;transform:scale(1)}}.mat-tooltip-show{animation:mat-tooltip-show 200ms cubic-bezier(0, 0, 0.2, 1) forwards}.mat-tooltip-hide{animation:mat-tooltip-hide 100ms cubic-bezier(0, 0, 0.2, 1) forwards}\n"],encapsulation:2,changeDetection:0}),n})(),BZ=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=ue({type:n}),n.\u0275inj=Se({providers:[IZ],imports:[[YP,Qi,bS,xt],xt,Hg]}),n})(),tu=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=ue({type:n}),n.\u0275inj=Se({imports:[[],Qi,g0,jg,s$,g8,ZR,tY,iY,P8,EZ,YN,vY,Pg,lU,BZ,HU,VY,zE,MF,A$,WE,SY,$Q]}),n})(),VZ=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=ue({type:n}),n.\u0275inj=Se({imports:[[tu]]}),n})(),jZ=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=ue({type:n}),n.\u0275inj=Se({imports:[[tu,VZ,$l,lz,X8]]}),n})();var zZ=A(901);class HZ{fromJson(t,e){const r=new kT;return r.id=parseInt(t.id,10),r.title=t.title,r.slug=t.slug,r.description=t.description,r.todoTasks=parseInt(t.todo_tasks,10),r.creationDate=new Date(t.creation_date),r.nestedUpdateDate=new Date(t.nested_update_date),r.updateDate=new Date(t.update_date),r.state=e,r}toJson(t){return{title:t.title,description:t.description}}toCreateJson(t){return this.toJson(t)}toUpdateJson(t){return this.toJson(t)}}class rL{fromJson(t,e){const r=new xT;return r.id=parseInt(t.id,10),r.page=parseInt(t.page,10),r.text=t.text,r.initialHash=t.initial_hash,r.creationDate=new Date(t.creation_date),r.updateDate=new Date(t.update_date),r.state=e,r}toCreateJson(t){return{text:t.text,codex:t.codex}}toUpdateJson(t){return{text:t.text,modification_hash:t.initialHash}}}class oL{fromJson(t,e){const r=new TT;return r.id=parseInt(t.id,10),r.page=parseInt(t.page,10),r.text=t.text,r.isAchieved=t.is_achieved,r.initialHash=t.initial_hash,r.achievedDate=t.achieved_date?new Date(t.achieved_date):null,r.creationDate=new Date(t.creation_date),r.updateDate=new Date(t.update_date),r.state=e,r}toCreateJson(t){return{text:t.text,is_achieved:t.isAchieved,codex:t.codex}}toUpdateJson(t){return{text:t.text,is_achieved:t.isAchieved,modification_hash:t.initialHash}}}class UZ{fromJson(t,e){const r=new CT;r.id=parseInt(t.id,10),r.codex=parseInt(t.codex,10),r.date=new Date(t.date),r.creationDate=new Date(t.creation_date),r.nestedUpdateDate=new Date(t.nested_update_date);const s=new rL;r.note=t.note?s.fromJson(t.note,e):null;const l=new oL;return r.tasks=Array.from(t.tasks,u=>l.fromJson(u,e)),r.state=e,r}toCreateJson(t){}toUpdateJson(t){}}class $Z{fromJson(t,e){const r=new ET;return r.id=parseInt(t.id,10),r.codex=parseInt(t.codex,10),r.text=t.text,r.initialHash=t.initial_hash,r.creationDate=new Date(t.creation_date),r.updateDate=new Date(t.update_date),r.state=e,r}toCreateJson(t){return{codex:t.codex,text:t.text}}toUpdateJson(t){return{text:t.text,modification_hash:t.initialHash}}}class sL{constructor(t,e,r,s){this.userService=t,this.model=e,this.serializer=r,this.modificationRequestStatusService=s}updateList(t,e){const r=Object.assign([],t),s=Object.assign({},e),l=r.find(function(f){return f.id===this},s.id),u=r.indexOf(l);return r[u]=s,r}deleteFromList(t,e){return t.filter(function(r){return r.id!==this},e.id)}get(t){return this.userService.http.get(`/api/${this.model.modelName}/${t}/`).pipe(Te(e=>[this.serializer.fromJson(e,Wl.Retrieved)]))}create(t){return this.modificationRequestStatusService.startSaveRequest(),this.userService.http.post(`/api/${this.model.modelPlural}/`,this.serializer.toCreateJson(t)).pipe(vn(()=>this.modificationRequestStatusService.endSaveRequest()),Te(e=>this.serializer.fromJson(e,Wl.Created)))}update(t){return this.modificationRequestStatusService.startSaveRequest(),this.userService.http.put(`/api/${this.model.modelPlural}/${t[this.model.lookupField]}/`,this.serializer.toUpdateJson(t)).pipe(vn(()=>this.modificationRequestStatusService.endSaveRequest()),Te(e=>this.serializer.fromJson(e,Wl.Modified)))}delete(t){return this.modificationRequestStatusService.startSaveRequest(),this.userService.http.delete(`/api/${this.model.modelPlural}/${t[this.model.lookupField]}/`).pipe(vn(()=>this.modificationRequestStatusService.endSaveRequest()),Te(()=>{}))}}class F0 extends sL{constructor(t,e,r,s){super(t,e,r,s)}list(){return this.userService.http.get(`/api/${this.model.modelPlural}/`).pipe(Te(t=>this.convertData(t)))}filteredList(t){return this.userService.http.get(`/api/${this.model.modelPlural}/?${t}`).pipe(Te(e=>this.convertData(e)))}convertData(t){return t.map(e=>this.serializer.fromJson(e,Wl.Retrieved))}}let Gg=(()=>{class n extends F0{constructor(e,r){super(e,kT,new HZ,r)}}return n.\u0275fac=function(e){return new(e||n)(L(Vs),L(Na))},n.\u0275prov=oe({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();const WZ=["*"];let N0=(()=>{class n{constructor(){}ngOnInit(){}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275cmp=Ie({type:n,selectors:[["app-web-page-subtitle"]],ngContentSelectors:WZ,decls:2,vars:0,template:function(e,r){1&e&&(Mn(),V(0,"h2"),dt(1),B())},styles:["[_nghost-%COMP%]{display:block}h2[_ngcontent-%COMP%]{display:flex;align-items:center;color:#0000008a}h2[_ngcontent-%COMP%]:first-letter{text-transform:uppercase}"]}),n})();const qZ=["*"];let kS=(()=>{class n{constructor(){}ngOnInit(){}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275cmp=Ie({type:n,selectors:[["app-web-page-action-menu"]],ngContentSelectors:qZ,decls:1,vars:0,template:function(e,r){1&e&&(Mn(),dt(0))},styles:["[_nghost-%COMP%]{display:block;padding:1em}"]}),n})();function GZ(n,t){1&n&&(V(0,"h1"),Gm(1,5),B())}const KZ=function(n){return["/codex/details",n]},QZ=function(n){return{"border-color":n}};function YZ(n,t){if(1&n&&(V(0,"div",6)(1,"a",7)(2,"div",8),y(3),Co(4,"titlecase"),B(),V(5,"div",9),y(6),Co(7,"date"),V(8,"mat-chip-list")(9,"mat-chip",10),y(10),B()()()()()),2&n){const e=t.$implicit,r=ce(2);Y(1),Q("routerLink",Th(11,KZ,e.slug)),Y(2),T(" ",Bl(4,6,e.title)," "),Y(2),Q("ngStyle",Th(13,QZ,r.getCodexColor(e))),Y(1),T(" ",Zm(7,8,e.nestedUpdateDate,"d LLL y")," "),Y(3),Q("color",e.todoTasks>0?"primary":"accent"),Y(1),k(e.todoTasks)}}function ZZ(n,t){if(1&n&&(V(0,"app-web-page-content"),pe(1,GZ,2,0,"h1",3),pe(2,YZ,11,15,"div",4),B()),2&n){const e=ce();Y(1),Q("ngIf",0===e.filteredCodexList.length),Y(1),Q("ngForOf",e.filteredCodexList)}}let XZ=(()=>{class n{constructor(e,r){this.codexService=e,this.route=r}ngOnInit(){this.fetchCodex(),this.codexSearchControl=new p0,this.codexSearchControlOnChange=this.codexSearchControl.valueChanges.pipe(Nd(200)).subscribe(e=>this.codexSearch(e))}ngOnDestroy(){this.codexSearchControlOnChange.unsubscribe()}fetchCodex(){this.route.data.subscribe(e=>{this.dataSource=e.codexList,this.filteredCodexList=Object.assign([],this.dataSource)})}getCodexColor(e){const r=zZ(e.id.toString());return"hsl("+Math.floor(360*r()).toString()+",100%,70%)"}codexSearch(e){const r=e.toLowerCase().split(" ");this.filteredCodexList=this.dataSource.filter(s=>{let l=!0;for(const u of r)l=Boolean(s.title.toLowerCase().includes(u)&&l);return l})}}return n.\u0275fac=function(e){return new(e||n)(M(Gg),M(to))},n.\u0275cmp=Ie({type:n,selectors:[["app-codex-list"]],decls:16,vars:2,consts:function(){let t;return t=$localize`:␟b104d0049b8dd7bb809d7ff73ca4925629f3ff75␟2856647216364769356:No Codex found`,[["matSuffix",""],["autocomplete","off","matInput","","maxlength","256","type","search",3,"formControl"],["color","primary","mat-stroked-button","","routerLink","/codex/add"],[4,"ngIf"],["class","codex",4,"ngFor","ngForOf"],t,[1,"codex"],["matRipple","",1,"codex__link",3,"routerLink"],[1,"codex__title","title"],[1,"codex__date",3,"ngStyle"],["selected","",3,"color"]]},template:function(e,r){1&e&&(V(0,"app-web-page")(1,"app-web-page-header")(2,"app-web-page-title"),y(3," Most recent Codex "),B(),V(4,"app-web-page-subtitle"),y(5," Search : "),V(6,"mat-form-field")(7,"mat-icon",0),y(8,"search"),B(),Me(9,"input",1),B()(),V(10,"app-web-page-action-menu")(11,"a",2),y(12," New Codex "),V(13,"mat-icon"),y(14,"add"),B()()()(),pe(15,ZZ,3,2,"app-web-page-content",3),B()),2&e&&(Y(9),Q("formControl",r.codexSearchControl),Y(6),Q("ngIf",r.filteredCodexList))},directives:[ja,za,Ha,N0,Hh,Zo,AU,Uh,La,Vg,Ba,OE,kS,Jw,Ul,pi,Ua,Sd,Fa,W1,jN,I0],pipes:[q1,Qy],styles:["mat-form-field[_ngcontent-%COMP%]{margin:-.4em 0 -1em .2em}mat-form-field[_ngcontent-%COMP%]   mat-icon[_ngcontent-%COMP%]{margin-right:.1em;vertical-align:bottom}mat-form-field[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{padding-left:.1em;color:#000}app-web-page-content[_ngcontent-%COMP%]     .main-section__container{display:flex;flex-flow:row wrap;justify-content:center}app-web-page-content[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]{margin:1em}.codex[_ngcontent-%COMP%]   .codex__title[_ngcontent-%COMP%]{font-size:1.4em;line-height:1.3em;overflow:hidden;flex:1 1 auto;padding:.5em .5em 0}.codex[_ngcontent-%COMP%]   .codex__date[_ngcontent-%COMP%]{font-size:.9em;padding:.3em .5em .4em 0;text-align:right;border-top:2px solid;border-left:1px solid;border-top-left-radius:28px;background:white}.codex[_ngcontent-%COMP%]   .codex__date[_ngcontent-%COMP%]   .mat-chip-list[_ngcontent-%COMP%]{display:inline-block;margin-top:-.3em;margin-left:.2em;vertical-align:middle}.codex[_ngcontent-%COMP%]   .codex__date[_ngcontent-%COMP%]   .mat-standard-chip[_ngcontent-%COMP%]{min-height:18px;padding:0 7px}.codex[_ngcontent-%COMP%]   .codex__link[_ngcontent-%COMP%]{display:flex;flex-direction:column;width:10em;height:9em;margin:.5em;transition:background-color .1s ease;border-radius:4px;background-color:#f6f8fa;box-shadow:0 2px 1px -1px #0003,0 1px 1px #00000024,0 1px 3px #0000001f}.codex[_ngcontent-%COMP%]   .codex__link[_ngcontent-%COMP%]:link, .codex[_ngcontent-%COMP%]   .codex__link[_ngcontent-%COMP%]:visited, .codex[_ngcontent-%COMP%]   .codex__link[_ngcontent-%COMP%]:hover, .codex[_ngcontent-%COMP%]   .codex__link[_ngcontent-%COMP%]:active, .codex[_ngcontent-%COMP%]   .codex__link[_ngcontent-%COMP%]:focus{text-decoration:none;color:#000}.codex[_ngcontent-%COMP%]   .codex__link[_ngcontent-%COMP%]:hover, .codex[_ngcontent-%COMP%]   .codex__link[_ngcontent-%COMP%]:active, .codex[_ngcontent-%COMP%]   .codex__link[_ngcontent-%COMP%]:focus{background-color:#4d7385}.codex[_ngcontent-%COMP%]   .codex__link[_ngcontent-%COMP%]:hover   .codex__title[_ngcontent-%COMP%]{color:#fff}"]}),n})();class JZ{}class eX extends sL{constructor(t,e,r,s){super(t,e,r,s)}list(t){return this.userService.http.get(`/api/${this.model.modelPlural}/?page=${t>0?t:0}`).pipe(Te(r=>this.convertData(r)))}filteredList(t,e){return this.userService.http.get(`/api/${this.model.modelPlural}/?${t}&page=${e>0?e:0}`).pipe(Te(s=>this.convertData(s)))}convertData(t){const e=new JZ;return e.count=t.count,e.next=t.next,e.previous=t.previous,e.results=t.results.map(r=>this.serializer.fromJson(r,Wl.Retrieved)),e}}let Jh=(()=>{class n extends F0{constructor(e,r){super(e,TT,new oL,r)}static taskShouldBeDeleted(e){return""===e}getCodexToDoTask(e){return this.filteredList(`page__codex__slug=${e}&is_achieved=false`)}}return n.\u0275fac=function(e){return new(e||n)(L(Vs),L(Na))},n.\u0275prov=oe({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),Us=(()=>{class n extends eX{constructor(e,r,s){super(e,CT,new UZ,r),this.taskService=s}static addCreatedTask(e,r){const s=Object.assign({},e);return s.tasks=[r].concat(e.tasks),s}static filterTodayPage(e){let r;return r=e.length>0?zy(e[0].date,"yyyy-MM-dd","en")===zy(new Date,"yyyy-MM-dd","en")?e.slice(1):Object.assign([],e):[],r}static addCreatedNote(e,r){const s=Object.assign({},e);return s.note=r,s}static updateNote(e,r){const s=Object.assign({},e);return s.note=Object.assign({},r),s}static deleteNote(e,r){const s=Object.assign({},e);return s.note=void 0,s}getCodexPage(e,r){return this.filteredList(`codex__slug=${e}`,r)}getTodayCodexPage(e){const r=zy(new Date,"yyyy-MM-dd","en");return this.filteredList(`codex__slug=${e}&date=${r}`,1).pipe(Te(l=>{let u;const f=l.results;return f.length>0?u=f[0]:(u=new CT,u.date=new Date),u}))}updateTask(e,r){const s=Object.assign({},e),l=Object.assign({},r);return s.tasks=this.taskService.updateList(s.tasks,l),s}deleteTask(e,r){const s=Object.assign({},e);return s.tasks=this.taskService.deleteFromList(s.tasks,r),s}}return n.\u0275fac=function(e){return new(e||n)(L(Vs),L(Na),L(Jh))},n.\u0275prov=oe({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),Kg=(()=>{class n{constructor(e,r){this.codexService=e,this.router=r,this.activeCodexSubject=new Rr(void 0),this.activeCodex$=this.activeCodexSubject.asObservable()}setActiveCodex(e){return this.codexService.get(e).pipe(Te(r=>{let s;return r.length>0&&(s=r[0]),this.activeCodexSubject.next(s),s}))}removeActiveCodex(){this.activeCodexSubject.next(void 0)}}return n.\u0275fac=function(e){return new(e||n)(L(Gg),L(ii))},n.\u0275prov=oe({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),CS=(()=>{class n extends F0{constructor(e,r){super(e,xT,new rL,r)}static noteShouldBeDeleted(e){return""===e}}return n.\u0275fac=function(e){return new(e||n)(L(Vs),L(Na))},n.\u0275prov=oe({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();const xS=Oa("slideTopTransition",[Li("void => CREATED",[vt({height:0,opacity:0,transform:"scale(0.5)"}),mi("0.5s ease-in-out",vt({height:"*",opacity:1,transform:"scale(1)"}))]),Li("* => void",[vt({height:"*",opacity:1,transform:"scale(1)"}),mi("0.5s ease-in-out",vt({height:0,opacity:0,transform:"scale(0.5)"}))])]);var aL=A(442);let lL=(()=>{class n{constructor(e){this.sanitizer=e}}return n.\u0275fac=function(e){return new(e||n)(M(Mh))},n.\u0275cmp=Ie({type:n,selectors:[["app-ckeditor-display"]],inputs:{content:"content"},decls:1,vars:1,consts:[[1,"ck-content",3,"innerHTML"]],template:function(e,r){1&e&&Me(0,"div",0),2&e&&Q("innerHTML",r.sanitizer.bypassSecurityTrustHtml(r.content),hb)},styles:["[_nghost-%COMP%]{width:100%;padding:28px 32px}  .ck-content h2{font-size:2em;border-bottom:1px solid #cad5da;padding-bottom:.3em}  .ck-content h2,   .ck-content h3,   .ck-content h4{font-weight:600;line-height:1.25;margin-bottom:16px}  .ck-content h2:not(:first-child),   .ck-content h3:not(:first-child),   .ck-content h4:not(:first-child){margin-top:24px}  .ck-content blockquote{overflow:hidden;padding-right:1.5em;padding-left:1.5em;margin:2rem 0;font-style:italic;border-left:solid 5px #cad5da}  .ck-content .table{margin:1em auto;display:table}  .ck-content .table table{border-collapse:collapse;border-spacing:0;width:100%;height:100%;border:1px double #b3b3b3}  .ck-content .table table td,   .ck-content .table table th{min-width:2em;padding:.4em;border:1px solid #d9d9d9}  .ck-content .table table th{font-weight:700;background:#fafafa}  .ck-content .image{display:table;clear:both;text-align:center;margin:1em auto}  .ck-content .image>img{display:block;margin:0 auto;max-width:100%;min-width:50px}  .ck-content .image.image_resized{max-width:100%;display:block;box-sizing:border-box}  .ck-content .image.image_resized img{width:100%}  .ck-content .image-style-side,   .ck-content .image-style-align-left,   .ck-content .image-style-align-center,   .ck-content .image-style-align-right{max-width:50%}  .ck-content .image-style-side{float:right;margin-left:var(--ck-image-style-spacing)}  .ck-content .image-style-align-left{float:left;margin-right:var(--ck-image-style-spacing)}  .ck-content .image-style-align-center{margin-left:auto;margin-right:auto}  .ck-content .image-style-align-right{float:right;margin-left:var(--ck-image-style-spacing)}  .ck-content hr{border-width:1px 0 0;border-style:solid;border-color:#5e5e5e;margin:0}  .ck-content pre{padding:1em;color:#353535;background:rgba(199,199,199,.3);border:1px solid #c4c4c4;border-radius:2px;text-align:left;direction:ltr;-moz-tab-size:4;-o-tab-size:4;tab-size:4;white-space:pre-wrap;font-style:normal;min-width:200px}  .ck-content ul{margin:1rem 0}"]}),n})();const tX=["noteField"];function nX(n,t){if(1&n&&(Jt(0),V(1,"form",3),Me(2,"ckeditor",4,5),B(),rn()),2&n){const e=ce();Y(1),Q("formGroup",e.noteTextControl),Y(1),Q("editor",e.Editor)}}function iX(n,t){1&n&&Me(0,"app-ckeditor-display",8),2&n&&Q("content",ce(2).noteTextControl.get("noteText").value)}function rX(n,t){if(1&n){const e=Dn();V(0,"div",9)(1,"button",10),Ee("click",function(){return it(e),ce(2).switchNoteEditableMode()}),y(2," Write what's going on today about your codex here ! "),B()()}}function oX(n,t){if(1&n&&(pe(0,iX,1,1,"app-ckeditor-display",6),pe(1,rX,3,0,"ng-template",null,7,Eh)),2&n){const e=hi(2);Q("ngIf",ce().note)("ngIfElse",e)}}let cL=(()=>{class n{constructor(e,r,s){this.noteService=e,this.modificationRequestStatus=r,this.fb=s,this.noteLabel="",this.editableChange=new we,this.noteCreated=new we,this.noteTextChanged=new we,this.noteDeleted=new we,this.Editor=aL}get editable(){return this._editable}set editable(e){void 0!==this._editable&&this.editableChange.emit(e),this._editable=e}ngOnInit(){this.noteTextControl=this.fb.group({noteText:[this.note?this.note.text:""]}),this.noteTextControlOnChange=this.noteTextControl.get("noteText").valueChanges.pipe(Te(e=>e.trim()),xi(e=>""!==e||!!this.note),Tw(),vn(e=>this.modificationRequestStatus.inputDataToSave(e)),Nd(400)).subscribe(e=>this.createOrUpdateOrDeleteNote(e))}ngOnDestroy(){this.noteTextControlOnChange.unsubscribe()}switchNoteEditableMode(){this.editable=!this.editable,setTimeout(()=>{this.noteTextarea.nativeElement.focus()},0)}createOrUpdateOrDeleteNote(e){if(this.note)CS.noteShouldBeDeleted(e)?this.noteDeleted.emit():this.noteTextChanged.emit(e);else{const r=new xT;r.text=e,this.noteCreated.emit(r)}}}return n.\u0275fac=function(e){return new(e||n)(M(CS),M(Na),M(Wd))},n.\u0275cmp=Ie({type:n,selectors:[["app-note-details"]],viewQuery:function(e,r){if(1&e&&Jn(tX,5),2&e){let s;st(s=at())&&(r.noteTextarea=s.first)}},inputs:{note:"note",noteLabel:"noteLabel",editable:"editable"},outputs:{editableChange:"editableChange",noteCreated:"noteCreated",noteTextChanged:"noteTextChanged",noteDeleted:"noteDeleted"},decls:4,vars:2,consts:[[1,"note"],[4,"ngIf","ngIfElse"],["displayNote",""],[3,"formGroup"],["formControlName","noteText",3,"editor"],["noteEditorField",""],[3,"content",4,"ngIf","ngIfElse"],["newNote",""],[3,"content"],[1,"note-placeholder"],["mat-button","",3,"click"]],template:function(e,r){if(1&e&&(V(0,"div",0),pe(1,nX,4,2,"ng-container",1),pe(2,oX,3,2,"ng-template",null,2,Eh),B()),2&e){const s=hi(3);Y(1),Q("ngIf",r.editable)("ngIfElse",s)}},directives:[pi,ic,nc,Ao,TN,Ba,Va,lL,Or],styles:[".note[_ngcontent-%COMP%]{display:flex;min-height:8.5em}.note-placeholder[_ngcontent-%COMP%]{align-self:center;flex:1;text-align:center}.note-placeholder[_ngcontent-%COMP%]   .mat-button[_ngcontent-%COMP%]{white-space:normal}.note__disable-text[_ngcontent-%COMP%]{display:block;overflow:hidden;flex:999;margin:16px}form[_ngcontent-%COMP%], ckeditor[_ngcontent-%COMP%]{width:100%}  mat-card mat-card-content.mat-card-content[class]{padding:0}"],changeDetection:0}),n})();function sX(n,t){1&n&&Me(0,"mat-error")}let aX=(()=>{class n{constructor(e,r){this.taskService=e,this.fb=r,this.taskCreated=new we,this.createTaskFrom=this.fb.group({taskText:[""]})}onSubmit(){if(""!==this.createTaskFrom.get("taskText").value.trim()){const e=new TT;e.text=this.createTaskFrom.get("taskText").value,this.createTaskFrom.get("taskText").reset(""),this.taskCreated.emit(e)}else this.createTaskFrom.get("taskText").setErrors({value_empty:!0})}}return n.\u0275fac=function(e){return new(e||n)(M(Jh),M(Wd))},n.\u0275cmp=Ie({type:n,selectors:[["app-task-add"]],outputs:{taskCreated:"taskCreated"},decls:10,vars:2,consts:[[1,"task","task--new",3,"formGroup","ngSubmit"],["appearance","outline","color","primary"],["formControlName","taskText","matInput","","type","text",3,"keydown.control.enter"],[4,"ngIf"],["color","primary","mat-raised-button","","type","submit",1,"task__add-button"]],template:function(e,r){1&e&&(V(0,"form",0),Ee("ngSubmit",function(){return r.onSubmit()}),V(1,"mat-form-field",1)(2,"mat-label"),y(3,"New task"),B(),V(4,"input",2),Ee("keydown.control.enter",function(){return r.onSubmit()}),B(),pe(5,sX,1,0,"mat-error",3),B(),V(6,"button",4),y(7," Add "),V(8,"mat-icon"),y(9,"add_circle_outline"),B()()()),2&e&&(Q("formGroup",r.createTaskFrom),Y(5),Q("ngIf",r.createTaskFrom.get("taskText").hasError("value_empty")))},directives:[ic,nc,Ao,Hh,Qd,La,Uh,Ba,Va,pi,v0,Or,Zo],styles:[".task[_ngcontent-%COMP%]{display:flex;align-items:center}.task__add-button[_ngcontent-%COMP%]{margin:0 26px 0 16px}.mat-form-field[_ngcontent-%COMP%]{margin:7px 0 7px 16px}"]}),n})();function lX(n,t){if(1&n&&(V(0,"pre",6),y(1),B()),2&n){const e=ce(2);Y(1),k(e.task.text)}}function cX(n,t){1&n&&(V(0,"form",7)(1,"mat-form-field",8),Me(2,"mat-label")(3,"input",9),B()()),2&n&&Q("formGroup",ce(2).taskTextControl)}function dX(n,t){if(1&n){const e=Dn();V(0,"button",10),Ee("click",function(){return it(e),ce(2).switchTaskEditableMode()}),V(1,"mat-icon"),y(2,"edit"),B()()}}function uX(n,t){if(1&n){const e=Dn();V(0,"mat-list-item",1)(1,"mat-checkbox",2),Ee("change",function(s){return it(e),ce().updateTaskIsAchieved(s)}),pe(2,lX,2,1,"pre",3),B(),pe(3,cX,4,1,"form",4),pe(4,dX,3,0,"button",5),B()}if(2&n){const e=ce();Y(1),Q("checked",e.task.isAchieved)("id",e.task.id.toString()),Y(1),Q("ngIf",!e.editable),Y(1),Q("ngIf",e.editable),Y(1),Q("ngIf",e.allowChangeEditable)}}let TS=(()=>{class n{constructor(e,r){this.modificationRequestStatus=e,this.fb=r,this.allowChangeEditable=!0,this.editable=!0,this.taskTextChanged=new we,this.taskIsAchievedChanged=new we,this.taskDeleted=new we}ngOnInit(){this.taskTextControl=this.fb.group({taskText:[this.task.text,Ud.required]}),this.taskTextControlOnChange=this.taskTextControl.get("taskText").valueChanges.pipe(Te(e=>e.trim()),Tw(),vn(e=>this.modificationRequestStatus.inputDataToSave(e)),Nd(400)).subscribe(e=>this.updateOrDeleteTaskText(e))}ngOnDestroy(){this.taskTextControlOnChange.unsubscribe()}switchTaskEditableMode(){this.editable=!this.editable}updateOrDeleteTaskText(e){Jh.taskShouldBeDeleted(e)?this.taskDeleted.emit():this.taskTextChanged.emit(e)}updateTaskIsAchieved(e){this.taskIsAchievedChanged.emit(e.checked)}}return n.\u0275fac=function(e){return new(e||n)(M(Na),M(Wd))},n.\u0275cmp=Ie({type:n,selectors:[["app-task-details"]],inputs:{task:"task",allowChangeEditable:"allowChangeEditable",editable:"editable"},outputs:{taskTextChanged:"taskTextChanged",taskIsAchievedChanged:"taskIsAchievedChanged",taskDeleted:"taskDeleted"},decls:1,vars:1,consts:[["class","task",4,"ngIf"],[1,"task"],[3,"checked","id","change"],["class","task__disable-text",4,"ngIf"],[3,"formGroup",4,"ngIf"],["class","task__enable-edit-button","color","accent","mat-icon-button","","matTooltip","Edit","matTooltipPosition","left",3,"click",4,"ngIf"],[1,"task__disable-text"],[3,"formGroup"],["appearance","outline","color","primary"],["formControlName","taskText","matInput","","type","text"],["color","accent","mat-icon-button","","matTooltip","Edit","matTooltipPosition","left",1,"task__enable-edit-button",3,"click"]],template:function(e,r){1&e&&pe(0,uX,5,5,"mat-list-item",0),2&e&&Q("ngIf",r.task)},directives:[pi,fY,DN,ic,nc,Ao,Hh,Qd,La,Uh,Ba,Va,Or,FZ,Zo],styles:["[_nghost-%COMP%]{display:block;overflow:hidden}.task__disable-text[_ngcontent-%COMP%]{font-family:-apple-system,BlinkMacSystemFont,Segoe UI,Helvetica,Arial,sans-serif,Apple Color Emoji,Segoe UI Emoji,Segoe UI Symbol;overflow:hidden;flex:999;margin:0}.task__disable-text[_ngcontent-%COMP%]:first-letter{text-transform:capitalize}form[_ngcontent-%COMP%]{width:100%}.mat-form-field[_ngcontent-%COMP%]{margin-left:.5em;width:100%}.task__enable-edit-button[_ngcontent-%COMP%]{margin-left:.5em}"],changeDetection:0}),n})();function hX(n,t){1&n&&(Jt(0),y(1,"Edit "),V(2,"mat-icon"),y(3,"edit"),B(),rn())}function fX(n,t){1&n&&(Jt(0),y(1,"MarkDown "),V(2,"mat-icon"),y(3,"notes"),B(),rn())}function pX(n,t){if(1&n){const e=Dn();Jt(0),V(1,"app-task-details",9),Ee("taskTextChanged",function(s){const u=it(e).$implicit;return ce(3).updateTaskText(u,s)})("taskIsAchievedChanged",function(s){const u=it(e).$implicit;return ce(3).updateTaskIsAchieved(u,s)})("taskDeleted",function(){const l=it(e).$implicit;return ce(3).deleteTask(l)}),B(),Me(2,"mat-divider"),rn()}if(2&n){const e=t.$implicit;Y(1),Q("@slideTopTransition",e.state)("allowChangeEditable",!1)("editable",!0)("task",e)}}function mX(n,t){if(1&n&&(V(0,"section",7)(1,"mat-list"),pe(2,pX,3,4,"ng-container",8),B()()),2&n){const e=ce(2);Y(2),Q("ngForOf",e.page.tasks)("ngForTrackBy",e.trackByFn)}}function gX(n,t){if(1&n){const e=Dn();V(0,"mat-card")(1,"mat-card-header")(2,"mat-card-title"),y(3," Note "),B(),V(4,"mat-card-subtitle"),y(5),Co(6,"date"),B(),V(7,"div",1)(8,"button",2),Ee("click",function(){return it(e),ce().switchEditMode()}),pe(9,hX,4,0,"ng-container",0),pe(10,fX,4,0,"ng-container",0),B()()(),V(11,"mat-card-content",3)(12,"app-note-details",4),Ee("editableChange",function(s){return it(e),ce().editableNote=s})("noteCreated",function(s){return it(e),ce().createNote(s)})("noteTextChanged",function(s){it(e);const l=ce();return l.updateNoteText(l.page.note,s)})("noteDeleted",function(){it(e);const s=ce();return s.deleteNote(s.page.note)}),B()(),V(13,"mat-card-header")(14,"mat-card-title"),y(15," Tasks "),B()(),V(16,"mat-card-content")(17,"app-task-add",5),Ee("taskCreated",function(s){return it(e),ce().createTask(s)}),B(),Me(18,"mat-divider"),pe(19,mX,3,2,"section",6),B()()}if(2&n){const e=ce();Y(5),T(" ",Zm(6,7,e.page.date,"d MMMM y")," "),Y(4),Q("ngIf",!e.editableNote),Y(1),Q("ngIf",e.editableNote),Y(2),Q("editable",e.editableNote)("noteLabel","Note of the day")("note",e.page.note),Y(7),Q("ngIf",e.page.tasks.length>0)}}let _X=(()=>{class n{constructor(){this.taskCreated=new we,this.taskUpdated=new we,this.taskDeleted=new we,this.noteCreated=new we,this.noteUpdated=new we,this.noteDeleted=new we,this.editableNote=!1}ngOnInit(){}createTask(e){this.taskCreated.emit(e)}updateTaskText(e,r){const s=Object.assign({},e);s.text=r,this.taskUpdated.emit(s)}updateTaskIsAchieved(e,r){const s=Object.assign({},e);s.isAchieved=r,this.taskUpdated.emit(s)}deleteTask(e){this.taskDeleted.emit(e)}switchEditMode(){this.editableNote=!this.editableNote}trackByFn(e,r){return r.id}createNote(e){this.noteCreated.emit(e)}updateNoteText(e,r){const s=Object.assign({},e);s.text=r,this.noteUpdated.emit(s)}deleteNote(e){this.noteDeleted.emit(e)}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275cmp=Ie({type:n,selectors:[["app-today-page"]],inputs:{page:"page"},outputs:{taskCreated:"taskCreated",taskUpdated:"taskUpdated",taskDeleted:"taskDeleted",noteCreated:"noteCreated",noteUpdated:"noteUpdated",noteDeleted:"noteDeleted"},decls:1,vars:1,consts:[[4,"ngIf"],[1,"mat-card-header__action-button"],["color","primary","mat-stroked-button","",3,"click"],[1,"note--of-today"],[3,"editable","noteLabel","note","editableChange","noteCreated","noteTextChanged","noteDeleted"],[1,"simple-list__row",3,"taskCreated"],["class","task-list simple-list",4,"ngIf"],[1,"task-list","simple-list"],[4,"ngFor","ngForOf","ngForTrackBy"],[3,"allowChangeEditable","editable","task","taskTextChanged","taskIsAchievedChanged","taskDeleted"]],template:function(e,r){1&e&&pe(0,gX,20,10,"mat-card",0),2&e&&Q("ngIf",r.page)},directives:[pi,Kd,zh,jh,b0,Or,Zo,Gd,cL,aX,_0,fS,Sd,TS],pipes:[Qy],styles:[".note--of-today[_ngcontent-%COMP%]{margin:0;padding:8px 16px}"],data:{animation:[xS]}}),n})();const dL={leading:!0,trailing:!1};function yX(n,t,e,r){const s=window&&!!window.document&&window.document.documentElement;let l=s&&t?window:e;if(n&&(l=n&&s&&"string"==typeof n?function wX(n,t,e){return(e?window.document:t).querySelector(n)}(n,e.nativeElement,r):n,!l))throw new Error("ngx-infinite-scroll {resolveContainerElement()}: selector for");return l}function ES(n){return n&&!n.firstChange}const CX={clientHeight:"clientHeight",offsetHeight:"offsetHeight",scrollHeight:"scrollHeight",pageYOffset:"pageYOffset",offsetTop:"offsetTop",scrollTop:"scrollTop",top:"top"},xX={clientHeight:"clientWidth",offsetHeight:"offsetWidth",scrollHeight:"scrollWidth",pageYOffset:"pageXOffset",offsetTop:"offsetLeft",scrollTop:"scrollLeft",top:"left"};class TX{constructor(t=!0){this.vertical=t,this.propsMap=t?CX:xX}clientHeightKey(){return this.propsMap.clientHeight}offsetHeightKey(){return this.propsMap.offsetHeight}scrollHeightKey(){return this.propsMap.scrollHeight}pageYOffsetKey(){return this.propsMap.pageYOffset}offsetTopKey(){return this.propsMap.offsetTop}scrollTopKey(){return this.propsMap.scrollTop}topKey(){return this.propsMap.top}}function MX(n){return["Window","global"].some(e=>Object.prototype.toString.call(n).includes(e))}function SS(n,t){return n?t.document.documentElement:null}function uL(n,t){const e=function PX({container:n,isWindow:t,axis:e}){const{offsetHeightKey:r,clientHeightKey:s}=hL(e);return fL(n,t,r,s)}(t);return t.isWindow?function AX(n,t,e){const{axis:r,container:s,isWindow:l}=e,{offsetHeightKey:u,clientHeightKey:f}=hL(r),m=n+pL(SS(l,s),r,l),b=fL(t.nativeElement,l,u,f),w=function RX(n,t,e){const r=t.topKey();if(n.getBoundingClientRect)return n.getBoundingClientRect()[r]+pL(n,t,e)}(t.nativeElement,r,l)+b;return{height:n,scrolled:m,totalToScroll:w,isWindow:l}}(e,n,t):function IX(n,t,e){const{axis:r,container:s}=e;return{height:n,scrolled:s[r.scrollTopKey()],totalToScroll:s[r.scrollHeightKey()],isWindow:!1}}(e,0,t)}function hL(n){return{offsetHeightKey:n.offsetHeightKey(),clientHeightKey:n.clientHeightKey()}}function fL(n,t,e,r){if(isNaN(n[e])){const s=SS(t,n);return s?s[r]:0}return n[e]}function pL(n,t,e){const r=t.pageYOffsetKey(),s=t.scrollTopKey(),l=t.offsetTopKey();return isNaN(window.pageYOffset)?SS(e,n)[s]:n.ownerDocument?n.ownerDocument.defaultView[r]:n[l]}function OX(n,t={down:0,up:0},e){let r,s;if(n.totalToScroll<=0)return!1;const l=n.isWindow?n.scrolled:n.height+n.scrolled;return e?(r=(n.totalToScroll-l)/n.totalToScroll,s=((null==t?void 0:t.down)?t.down:0)/10):(r=n.scrolled/(n.scrolled+(n.totalToScroll-l)),s=((null==t?void 0:t.up)?t.up:0)/10),r<=s}class VX{constructor({totalToScroll:t}){this.lastScrollPosition=0,this.lastTotalToScroll=0,this.totalToScroll=0,this.triggered={down:0,up:0},this.totalToScroll=t}updateScrollPosition(t){return this.lastScrollPosition=t}updateTotalToScroll(t){this.lastTotalToScroll!==t&&(this.lastTotalToScroll=this.totalToScroll,this.totalToScroll=t)}updateScroll(t,e){this.updateScrollPosition(t),this.updateTotalToScroll(e)}updateTriggeredFlag(t,e){e?this.triggered.down=t:this.triggered.up=t}isTriggeredScroll(t,e){return e?this.triggered.down===t:this.triggered.up===t}}function jX(n){const{scrollContainer:t,scrollWindow:e,element:r,fromRoot:s}=n,l=function SX({windowElement:n,axis:t}){return function DX(n,t){const e=n.isWindow||t&&!t.nativeElement?t:t.nativeElement;return Object.assign(Object.assign({},n),{container:e})}({axis:t,isWindow:MX(n)},n)}({axis:new TX(!n.horizontal),windowElement:yX(t,e,r,s)}),u=new VX({totalToScroll:uL(r,l)}),m={up:n.upDistance,down:n.downDistance};return function zX(n){let t=zs(n.container,"scroll");return n.throttle&&(t=t.pipe(function vX(n,t=xw,e=dL){const r=HE(n,t);return function bX(n,t=dL){return mn((e,r)=>{const{leading:s,trailing:l}=t;let u=!1,f=null,m=null,b=!1;const w=()=>{null==m||m.unsubscribe(),m=null,l&&(S(),b&&r.complete())},x=()=>{m=null,b&&r.complete()},E=I=>m=gi(n(I)).subscribe(on(r,w,x)),S=()=>{if(u){u=!1;const I=f;f=null,r.next(I),!b&&E(I)}};e.subscribe(on(r,I=>{u=!0,f=I,(!m||m.closed)&&(s?S():E(I))},()=>{b=!0,(!(l&&u&&m)||m.closed)&&r.complete()}))})}(()=>r,e)}(n.throttle,void 0,{leading:!0,trailing:!0}))),t}({container:l.container,throttle:n.throttle}).pipe(Ln(()=>Ue(uL(r,l))),Te(b=>function HX(n,t,e){const{scrollDown:r,fire:s}=function NX(n,t,e){const r=function FX(n,t){return n<t.scrolled}(n,t);return{fire:OX(t,e,r),scrollDown:r}}(n,t,e);return{scrollDown:r,fire:s,stats:t}}(u.lastScrollPosition,b,m)),vn(({stats:b})=>u.updateScroll(b.scrolled,b.totalToScroll)),xi(({fire:b,scrollDown:w,stats:{totalToScroll:x}})=>function EX(n,t,e){return!!(n&&t||!e&&t)}(n.alwaysCallback,b,u.isTriggeredScroll(x,w))),vn(({scrollDown:b,stats:{totalToScroll:w}})=>{u.updateTriggeredFlag(w,b)}),Te(UX))}function UX(n){const{scrollDown:t,stats:{scrolled:e}}=n;return{type:t?"[NGX_ISE] DOWN":"[NGX_ISE] UP",payload:{currentScrollPosition:e}}}let $X=(()=>{class n{constructor(e,r){this.element=e,this.zone=r,this.scrolled=new we,this.scrolledUp=new we,this.infiniteScrollDistance=2,this.infiniteScrollUpDistance=1.5,this.infiniteScrollThrottle=150,this.infiniteScrollDisabled=!1,this.infiniteScrollContainer=null,this.scrollWindow=!0,this.immediateCheck=!1,this.horizontal=!1,this.alwaysCallback=!1,this.fromRoot=!1}ngAfterViewInit(){this.infiniteScrollDisabled||this.setup()}ngOnChanges({infiniteScrollContainer:e,infiniteScrollDisabled:r,infiniteScrollDistance:s}){const l=ES(e),u=ES(r),f=ES(s),m=!u&&!this.infiniteScrollDisabled||u&&!r.currentValue||f;(l||u||f)&&(this.destroyScroller(),m&&this.setup())}setup(){(function kX(){return"undefined"!=typeof window})()&&this.zone.runOutsideAngular(()=>{this.disposeScroller=jX({fromRoot:this.fromRoot,alwaysCallback:this.alwaysCallback,disable:this.infiniteScrollDisabled,downDistance:this.infiniteScrollDistance,element:this.element,horizontal:this.horizontal,scrollContainer:this.infiniteScrollContainer,scrollWindow:this.scrollWindow,throttle:this.infiniteScrollThrottle,upDistance:this.infiniteScrollUpDistance}).subscribe(e=>this.zone.run(()=>this.handleOnScroll(e)))})}handleOnScroll({type:e,payload:r}){switch(e){case"[NGX_ISE] DOWN":return this.scrolled.emit(r);case"[NGX_ISE] UP":return this.scrolledUp.emit(r);default:return}}ngOnDestroy(){this.destroyScroller()}destroyScroller(){this.disposeScroller&&this.disposeScroller.unsubscribe()}}return n.\u0275fac=function(e){return new(e||n)(M(ze),M(He))},n.\u0275dir=se({type:n,selectors:[["","infiniteScroll",""],["","infinite-scroll",""],["","data-infinite-scroll",""]],inputs:{infiniteScrollDistance:"infiniteScrollDistance",infiniteScrollUpDistance:"infiniteScrollUpDistance",infiniteScrollThrottle:"infiniteScrollThrottle",infiniteScrollDisabled:"infiniteScrollDisabled",infiniteScrollContainer:"infiniteScrollContainer",scrollWindow:"scrollWindow",immediateCheck:"immediateCheck",horizontal:"horizontal",alwaysCallback:"alwaysCallback",fromRoot:"fromRoot"},outputs:{scrolled:"scrolled",scrolledUp:"scrolledUp"},features:[xn]}),n})(),WX=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=ue({type:n}),n.\u0275inj=Se({providers:[],imports:[[]]}),n})();function qX(n,t){1&n&&(Jt(0),y(1,"Edit "),V(2,"mat-icon"),y(3,"edit"),B(),rn())}function GX(n,t){1&n&&(Jt(0),y(1,"MarkDown "),V(2,"mat-icon"),y(3,"notes"),B(),rn())}function KX(n,t){if(1&n){const e=Dn();Jt(0),V(1,"mat-card-header")(2,"mat-card-title"),y(3," Note "),B(),V(4,"mat-card-subtitle"),y(5),Co(6,"date"),B(),V(7,"div",1)(8,"button",2),Ee("click",function(){return it(e),ce(2).switchNoteEditMode()}),pe(9,qX,4,0,"ng-container",0),pe(10,GX,4,0,"ng-container",0),B()()(),V(11,"mat-card-content",3)(12,"app-note-details",4),Ee("editableChange",function(s){return it(e),ce(2).noteEditable=s})("noteTextChanged",function(s){it(e);const l=ce(2);return l.updateNoteText(l.page.note,s)})("noteDeleted",function(){it(e);const s=ce(2);return s.deleteNote(s.page.note)}),B()(),rn()}if(2&n){const e=ce(2);Y(5),T(" ",Zm(6,5,e.page.date,"d MMMM y")," "),Y(4),Q("ngIf",!e.noteEditable),Y(1),Q("ngIf",e.noteEditable),Y(2),Q("editable",e.noteEditable)("note",e.page.note)}}function QX(n,t){if(1&n&&(V(0,"mat-card-subtitle"),y(1),Co(2,"date"),B()),2&n){const e=ce(3);Y(1),T(" ",Zm(2,1,e.page.date,"d MMMM y")," ")}}function YX(n,t){1&n&&(Jt(0),y(1,"Edit "),V(2,"mat-icon"),y(3,"edit"),B(),rn())}function ZX(n,t){1&n&&(Jt(0),y(1,"Text "),V(2,"mat-icon"),y(3,"notes"),B(),rn())}function XX(n,t){if(1&n){const e=Dn();Jt(0),V(1,"app-task-details",6),Ee("taskTextChanged",function(s){const u=it(e).$implicit;return ce(3).updateTaskText(u,s)})("taskIsAchievedChanged",function(s){const u=it(e).$implicit;return ce(3).updateTaskIsAchieved(u,s)})("taskDeleted",function(){const l=it(e).$implicit;return ce(3).deleteTask(l)}),B(),Me(2,"mat-divider"),rn()}if(2&n){const e=t.$implicit,r=ce(3);Y(1),Q("@slideTopTransition",e.state)("allowChangeEditable",!1)("editable",r.taskEditable)("task",e)}}function JX(n,t){if(1&n){const e=Dn();Jt(0),V(1,"mat-card-header")(2,"mat-card-title"),y(3," Tasks "),B(),pe(4,QX,3,4,"mat-card-subtitle",0),V(5,"div",1)(6,"button",2),Ee("click",function(){return it(e),ce(2).switchTaskEditMode()}),pe(7,YX,4,0,"ng-container",0),pe(8,ZX,4,0,"ng-container",0),B()()(),V(9,"mat-card-content")(10,"mat-list"),pe(11,XX,3,4,"ng-container",5),B()(),rn()}if(2&n){const e=ce(2);Y(4),Q("ngIf",!e.page.note),Y(3),Q("ngIf",!e.taskEditable),Y(1),Q("ngIf",e.taskEditable),Y(3),Q("ngForOf",e.page.tasks)("ngForTrackBy",e.trackByFn)}}function eJ(n,t){if(1&n&&(V(0,"mat-card"),pe(1,KX,13,8,"ng-container",0),pe(2,JX,12,5,"ng-container",0),B()),2&n){const e=ce();Y(1),Q("ngIf",e.page.note),Y(1),Q("ngIf",e.page.tasks.length>0)}}let tJ=(()=>{class n{constructor(){this.taskUpdated=new we,this.taskDeleted=new we,this.noteUpdated=new we,this.noteDeleted=new we,this.noteEditable=!1,this.taskEditable=!1}ngOnInit(){}switchNoteEditMode(){this.noteEditable=!this.noteEditable}switchTaskEditMode(){this.taskEditable=!this.taskEditable}trackByFn(e,r){return r.id}updateTaskText(e,r){const s=Object.assign({},e);s.text=r,this.taskUpdated.emit(s)}updateTaskIsAchieved(e,r){const s=Object.assign({},e);s.isAchieved=r,this.taskUpdated.emit(s)}deleteTask(e){this.taskDeleted.emit(e)}updateNoteText(e,r){const s=Object.assign({},e);s.text=r,this.noteUpdated.emit(s)}deleteNote(e){this.noteDeleted.emit(e)}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275cmp=Ie({type:n,selectors:[["app-page-details"]],inputs:{page:"page"},outputs:{taskUpdated:"taskUpdated",taskDeleted:"taskDeleted",noteUpdated:"noteUpdated",noteDeleted:"noteDeleted"},decls:1,vars:1,consts:[[4,"ngIf"],[1,"mat-card-header__action-button"],["color","primary","mat-stroked-button","",3,"click"],[1,"note__mat-card-content"],[3,"editable","note","editableChange","noteTextChanged","noteDeleted"],[4,"ngFor","ngForOf","ngForTrackBy"],[3,"allowChangeEditable","editable","task","taskTextChanged","taskIsAchievedChanged","taskDeleted"]],template:function(e,r){1&e&&pe(0,eJ,3,2,"mat-card",0),2&e&&Q("ngIf",r.page.tasks.length>0||r.page.note)},directives:[pi,Kd,zh,jh,b0,Or,Zo,Gd,cL,fS,Sd,TS,_0],pipes:[Qy],styles:[".note__mat-card-content[_ngcontent-%COMP%]{margin:0;padding:8px 16px}"],data:{animation:[xS]}}),n})();function nJ(n,t){if(1&n){const e=Dn();Jt(0),V(1,"app-today-page",2),Ee("taskCreated",function(s){return it(e),ce().createTaskInTodayPage(s)})("taskUpdated",function(s){return it(e),ce().updateTaskInTodayPage(s)})("taskDeleted",function(s){return it(e),ce().deleteTaskInTodayPage(s)})("noteCreated",function(s){return it(e),ce().createNoteInTodayPage(s)})("noteUpdated",function(s){return it(e),ce().updateNoteInTodayPage(s)})("noteDeleted",function(s){return it(e),ce().deleteNoteInTodayPage(s)}),B(),rn()}if(2&n){const e=ce();Y(1),Q("page",e.todayPage)}}function iJ(n,t){if(1&n){const e=Dn();V(0,"app-page-details",6),Ee("taskUpdated",function(s){const u=it(e).$implicit;return ce(2).updateTask(u,s)})("taskDeleted",function(s){const u=it(e).$implicit;return ce(2).deleteTask(u,s)})("noteUpdated",function(s){const u=it(e).$implicit;return ce(2).updateNote(u,s)})("noteDeleted",function(s){const u=it(e).$implicit;return ce(2).deleteNote(u,s)}),B()}2&n&&Q("page",t.$implicit)}function rJ(n,t){1&n&&Me(0,"mat-spinner",7)}function oJ(n,t){if(1&n){const e=Dn();V(0,"div",3),Ee("scrolled",function(){return it(e),ce().onScroll()}),pe(1,iJ,1,1,"app-page-details",4),pe(2,rJ,1,0,"mat-spinner",5),B()}if(2&n){const e=ce();Q("infiniteScrollDistance",2)("infiniteScrollThrottle",50)("infiniteScrollDisabled",e.infiniteScrollDisabled),Y(1),Q("ngForOf",e.oldPageList)("ngForTrackBy",e.trackByFn),Y(1),Q("ngIf",e.isLoadingNewPages)}}let sJ=(()=>{class n{constructor(e,r,s,l,u){this.codexDetailsService=e,this.taskService=r,this.noteService=s,this.pageService=l,this.route=u,this.infiniteScrollDisabled=!1,this.isLoadingNewPages=!1,this.currentOldPagePageNumber=1}ngOnInit(){this.route.data.subscribe(e=>{this.todayPage=e.todayPage,this.currentOldPagePage=e.oldPageListFirstPage,this.oldPageList=Us.filterTodayPage(this.currentOldPagePage.results)}),this.route.parent.data.subscribe(e=>{this.codex=e.codex})}createTaskInTodayPage(e){const r=Object.assign({},e);r.codex=this.codex.id,this.taskService.create(r).subscribe(s=>this.todayPage=Us.addCreatedTask(this.todayPage,s))}updateTaskInTodayPage(e){this.taskService.update(e).subscribe(r=>this.todayPage=this.pageService.updateTask(this.todayPage,r))}deleteTaskInTodayPage(e){this.taskService.delete(e).subscribe(()=>this.todayPage=this.pageService.deleteTask(this.todayPage,e))}updateTask(e,r){this.taskService.update(r).subscribe(s=>this.oldPageList=this.pageService.updateList(this.oldPageList,this.pageService.updateTask(e,s)))}deleteTask(e,r){this.taskService.delete(r).subscribe(()=>this.oldPageList=this.pageService.updateList(this.oldPageList,this.pageService.deleteTask(e,r)))}trackByFn(e,r){return r.id}createNoteInTodayPage(e){const r=Object.assign({},e);r.codex=this.codex.id,this.noteService.create(r).subscribe(s=>this.todayPage=Us.addCreatedNote(this.todayPage,s))}updateNoteInTodayPage(e){this.noteService.update(e).subscribe(r=>this.todayPage=Us.updateNote(this.todayPage,r))}deleteNoteInTodayPage(e){this.noteService.delete(e).subscribe(()=>this.todayPage=Us.deleteNote(this.todayPage,e))}updateNote(e,r){this.noteService.update(r).subscribe(s=>this.oldPageList=this.pageService.updateList(this.oldPageList,Us.updateNote(e,s)))}deleteNote(e,r){this.noteService.delete(r).subscribe(()=>this.oldPageList=this.pageService.updateList(this.oldPageList,Us.deleteNote(e,r)))}onScroll(){this.infiniteScrollDisabled=!0,this.currentOldPagePage.next&&(this.isLoadingNewPages=!0,this.currentOldPagePageNumber++,this.pageService.getCodexPage(this.codex.slug,this.currentOldPagePageNumber).subscribe(e=>{this.oldPageList=this.oldPageList.concat(e.results),this.isLoadingNewPages=!1,e.next&&(this.infiniteScrollDisabled=!1)}))}}return n.\u0275fac=function(e){return new(e||n)(M(Kg),M(Jh),M(CS),M(Us),M(to))},n.\u0275cmp=Ie({type:n,selectors:[["app-codex-details"]],decls:2,vars:2,consts:[[4,"ngIf"],["infiniteScroll","",3,"infiniteScrollDistance","infiniteScrollThrottle","infiniteScrollDisabled","scrolled",4,"ngIf"],[3,"page","taskCreated","taskUpdated","taskDeleted","noteCreated","noteUpdated","noteDeleted"],["infiniteScroll","",3,"infiniteScrollDistance","infiniteScrollThrottle","infiniteScrollDisabled","scrolled"],[3,"page","taskUpdated","taskDeleted","noteUpdated","noteDeleted",4,"ngFor","ngForOf","ngForTrackBy"],["color","accent",4,"ngIf"],[3,"page","taskUpdated","taskDeleted","noteUpdated","noteDeleted"],["color","accent"]],template:function(e,r){1&e&&(pe(0,nJ,2,1,"ng-container",0),pe(1,oJ,3,6,"div",1)),2&e&&(Q("ngIf",r.todayPage),Y(1),Q("ngIf",r.oldPageList))},directives:[pi,_X,$X,Sd,tJ,Wa],styles:["mat-spinner[_ngcontent-%COMP%]{margin:auto}"]}),n})(),aJ=(()=>{class n{constructor(e,r){this.authService=e,this.router=r}canActivate(e,r){if(!this.authService.currentUser){const l=this.router.createUrlTree(["/login"],{queryParams:{next:r.url}});this.router.navigateByUrl(l)}return!0}canActivateChild(e,r){return this.canActivate(e,r)}}return n.\u0275fac=function(e){return new(e||n)(L(Vs),L(ii))},n.\u0275prov=oe({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();function lJ(n,t){1&n&&(Jt(0),y(1,"Edit "),V(2,"mat-icon"),y(3,"edit"),B(),rn())}function cJ(n,t){1&n&&(Jt(0),y(1,"Text "),V(2,"mat-icon"),y(3,"notes"),B(),rn())}function dJ(n,t){if(1&n){const e=Dn();V(0,"div",2)(1,"button",3),Ee("click",function(){return it(e),ce(2).switchEditMode()}),pe(2,lJ,4,0,"ng-container",0),pe(3,cJ,4,0,"ng-container",0),B()()}if(2&n){const e=ce(2);Y(2),Q("ngIf",!e.editable),Y(1),Q("ngIf",e.editable)}}function uJ(n,t){if(1&n&&(V(0,"mat-card-subtitle"),y(1),B()),2&n){const e=ce(2);Y(1),T(" Only ",e.taskList.length," left ! ")}}function hJ(n,t){1&n&&(V(0,"mat-card-subtitle"),y(1," This codex don't have any task to complete. "),B())}function fJ(n,t){if(1&n){const e=Dn();Jt(0),V(1,"app-task-details",5),Ee("taskTextChanged",function(s){const u=it(e).$implicit;return ce(3).updateTaskText(u,s)})("taskIsAchievedChanged",function(s){const u=it(e).$implicit;return ce(3).updateTaskIsAchieved(u,s)})("taskDeleted",function(){const l=it(e).$implicit;return ce(3).deleteTask(l)}),B(),Me(2,"mat-divider"),rn()}if(2&n){const e=t.$implicit,r=ce(3);Y(1),Q("@slideTopTransition",e.state)("allowChangeEditable",!1)("editable",r.editable)("task",e)}}function pJ(n,t){if(1&n&&(V(0,"mat-list"),pe(1,fJ,3,4,"ng-container",4),B()),2&n){const e=ce(2);Y(1),Q("ngForOf",e.taskList)("ngForTrackBy",e.trackByFn)}}function mJ(n,t){1&n&&(V(0,"h1"),y(1," No Task to complete"),B())}function gJ(n,t){if(1&n&&(V(0,"mat-card")(1,"mat-card-header"),pe(2,dJ,4,2,"div",1),V(3,"mat-card-title"),y(4),B(),pe(5,uJ,2,1,"mat-card-subtitle",0),pe(6,hJ,2,0,"mat-card-subtitle",0),B(),V(7,"mat-card-content"),pe(8,pJ,2,2,"mat-list",0),pe(9,mJ,2,0,"h1",0),B()()),2&n){const e=ce();Y(2),Q("ngIf",e.taskList.length>0),Y(2),T(" Task in progress for ",e.codex.title," "),Y(1),Q("ngIf",e.taskList.length>0),Y(1),Q("ngIf",0===e.taskList.length),Y(2),Q("ngIf",e.taskList.length>0),Y(1),Q("ngIf",0===e.taskList.length)}}let _J=(()=>{class n{constructor(e,r,s){this.taskService=e,this.codexDetailsService=r,this.route=s,this.taskList=[],this.editable=!1}ngOnInit(){this.route.data.subscribe(e=>{this.taskList=e.taskList}),this.route.parent.data.subscribe(e=>{this.codex=e.codex})}switchEditMode(){this.editable=!this.editable}trackByFn(e,r){return r.id}updateTaskText(e,r){const s=Object.assign({},e);s.text=r,this.updateTask(s)}updateTaskIsAchieved(e,r){const s=Object.assign({},e);s.isAchieved=r,this.updateTask(s)}updateTask(e){const r=Object.assign({},e);this.taskService.update(r).subscribe(s=>this.taskList=this.taskService.updateList(this.taskList,s))}deleteTask(e){this.taskService.delete(e).subscribe(()=>this.taskList=this.taskService.deleteFromList(this.taskList,e))}}return n.\u0275fac=function(e){return new(e||n)(M(Jh),M(Kg),M(to))},n.\u0275cmp=Ie({type:n,selectors:[["app-codex-task-todo"]],decls:1,vars:1,consts:[[4,"ngIf"],["class","mat-card-header__action-button",4,"ngIf"],[1,"mat-card-header__action-button"],["color","primary","mat-stroked-button","",3,"click"],[4,"ngFor","ngForOf","ngForTrackBy"],[3,"allowChangeEditable","editable","task","taskTextChanged","taskIsAchievedChanged","taskDeleted"]],template:function(e,r){1&e&&pe(0,gJ,10,6,"mat-card",0),2&e&&Q("ngIf",r.taskList)},directives:[pi,Kd,zh,Or,Zo,jh,b0,Gd,fS,Sd,TS,_0],styles:["h1[_ngcontent-%COMP%]{padding:2em;text-align:center}"],data:{animation:[xS]}}),n})(),bJ=(()=>{class n{constructor(e,r,s){this.fb=e,this.codexService=r,this.router=s,this.codexForm=this.fb.group({title:["",Ud.required],description:[""]}),this.webPageSize=qd}submit(){if(this.codexForm.valid){const e=new kT;e.title=this.codexForm.get("title").value,e.description=this.codexForm.get("description").value,this.codexService.create(e).subscribe(r=>{const s=this.router.createUrlTree(["/codex/details",r.slug]);this.router.navigateByUrl(s)})}}}return n.\u0275fac=function(e){return new(e||n)(M(Wd),M(Gg),M(ii))},n.\u0275cmp=Ie({type:n,selectors:[["app-codex-add"]],decls:31,vars:3,consts:[[3,"pageSize"],[3,"formGroup","ngSubmit"],["formControlName","title","matInput","","maxlength","50","type","text"],["titleInput",""],["align","end"],["formControlName","description","matInput",""],[1,"button-container"],["color","primary","mat-raised-button","","type","submit"]],template:function(e,r){if(1&e&&(V(0,"app-web-page")(1,"app-web-page-header")(2,"app-web-page-title"),y(3,"Creation of a new Codex"),B(),V(4,"app-web-page-subtitle"),y(5," Give a title and a short description to your Codex ! "),B()(),V(6,"app-web-page-content",0)(7,"mat-card")(8,"mat-card-header")(9,"mat-card-title"),y(10," New Codex "),B()(),V(11,"mat-card-content")(12,"form",1),Ee("ngSubmit",function(){return r.submit()}),V(13,"mat-form-field")(14,"mat-label"),y(15,"Title"),B(),Me(16,"input",2,3),V(18,"mat-hint",4),y(19),B(),V(20,"mat-error"),y(21,"Please enter your codex title"),B()(),V(22,"mat-form-field")(23,"mat-label"),y(24,"Description"),B(),Me(25,"textarea",5),B(),V(26,"div",6)(27,"button",7),y(28," Create "),V(29,"mat-icon"),y(30,"add"),B()()()()()()()()),2&e){const s=hi(17);Y(6),Q("pageSize",r.webPageSize.Small),Y(6),Q("formGroup",r.codexForm),Y(7),T("",(null==s.value?null:s.value.length)||0,"/50")}},directives:[ja,za,Ha,N0,Ua,Kd,zh,jh,Gd,ic,nc,Ao,Hh,Qd,La,Uh,Ba,Va,Vg,dF,v0,Or,Zo],styles:[".mat-card-content[_ngcontent-%COMP%]{padding:2em}form[_ngcontent-%COMP%]   .mat-form-field[_ngcontent-%COMP%]{display:block;margin-bottom:1em}form[_ngcontent-%COMP%]   .button-container[_ngcontent-%COMP%]{display:flex;justify-content:space-evenly}form[_ngcontent-%COMP%]   .mat-form-field[_ngcontent-%COMP%]:last-of-type{margin-bottom:2em}form[_ngcontent-%COMP%]   .formGroupError[_ngcontent-%COMP%]{height:1em;margin-bottom:1.5em}"]}),n})();const vJ=Oa("routerTransition",[Li("* => *",[Sg(":enter",[vt({opacity:0})],{optional:!0}),Sg(":leave",[vt({opacity:1,position:"absolute",top:0,left:"1em",right:"1em"}),mi("0.2s",vt({opacity:0}))],{optional:!0}),Sg(":enter",[vt({opacity:0}),mi("0.2s",vt({opacity:1}))],{optional:!0})])]),yJ=function(){return{exact:!0}};function wJ(n,t){if(1&n&&(V(0,"a",5,6),y(2),B()),2&n){const e=t.$implicit;Q("active",hi(1).isActive)("routerLinkActiveOptions",function CM(n,t,e){const r=Mt()+n,s=ee();return s[r]===tt?Mr(s,r,e?t.call(e):t()):function hd(n,t){return n[t]}(s,r)}(4,yJ))("routerLink",e.routerLink),Y(2),T(" ",e.label," ")}}class DS{constructor(t,e,r){this.index=t,this.label=e,this.routerLink=r}}let kJ=(()=>{class n{constructor(){this.tabMenuSideMaskUrl="/public/static/img/tab_menu_side_mask.svg",this.tabMenuSideDecoUrl="/public/static/img/tab_menu_side_deco.svg"}getState(e){return e.activatedRouteData.state}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275cmp=Ie({type:n,selectors:[["app-web-page-tabs"]],inputs:{tabLinkList:"tabLinkList"},decls:7,vars:4,consts:[["color","accent","mat-tab-nav-bar",""],["mat-tab-link","","routerLinkActive","",3,"active","routerLinkActiveOptions","routerLink",4,"ngFor","ngForOf"],[1,"tab-menu-side-mask",2,"max-height","20em",3,"src"],[1,"tab-menu-side-deco",2,"max-height","20em",3,"src"],["o","outlet"],["mat-tab-link","","routerLinkActive","",3,"active","routerLinkActiveOptions","routerLink"],["rla","routerLinkActive"]],template:function(e,r){if(1&e&&(V(0,"nav",0),pe(1,wJ,3,5,"a",1),Me(2,"img",2)(3,"img",3),B(),V(4,"app-web-page-content"),Me(5,"router-outlet",null,4),B()),2&e){const s=hi(6);Y(1),Q("ngForOf",r.tabLinkList),Y(1),Q("src",r.tabMenuSideMaskUrl,vo),Y(1),Q("src",r.tabMenuSideDecoUrl,vo),Y(1),Q("@routerTransition",r.getState(s))}},directives:[SF,Sd,Ul,DF,sP,Ua,hw],styles:["[_nghost-%COMP%]{display:block;max-width:1024px;margin-right:auto;margin-left:auto}.mat-tab-link[_ngcontent-%COMP%]{font-size:14px;font-weight:700;text-transform:uppercase;opacity:1;color:#00000080;background-color:#fff}.mat-tab-label-active[_ngcontent-%COMP%]{color:#000000d9}.mat-tab-nav-bar[_ngcontent-%COMP%]{margin:0 1em}.tab-menu-side-deco[_ngcontent-%COMP%]{position:absolute;right:0;z-index:-1}.tab-menu-side-mask[_ngcontent-%COMP%]{flex-shrink:0}"],data:{animation:[vJ]}}),n})();const CJ=function(n){return["/codex/edit",n]};function xJ(n,t){if(1&n&&(V(0,"app-web-page")(1,"app-web-page-header")(2,"app-web-page-title"),y(3),Co(4,"titlecase"),B(),V(5,"app-web-page-subtitle"),y(6),B(),V(7,"app-web-page-action-menu")(8,"a",1),y(9," Edit Codex "),V(10,"mat-icon"),y(11,"edit"),B()()()(),Me(12,"app-web-page-tabs",2),B()),2&n){const e=ce();Y(3),k(Bl(4,4,e.codex.title)),Y(3),k(e.codex.description),Y(2),Q("routerLink",Th(6,CJ,e.codex.slug)),Y(4),Q("tabLinkList",e.tabLinkList)}}let TJ=(()=>{class n{constructor(e,r){this.codexDetailsService=e,this.route=r}ngOnInit(){this.route.data.subscribe(e=>{this.codex=e.codex,this.initTabLinkList(e.codex)})}ngOnDestroy(){this.codexDetailsService.removeActiveCodex()}initTabLinkList(e){this.tabLinkList=[new DS(0,"Codex","/codex/details/"+e.slug),new DS(1,"Task","/codex/details/"+e.slug+"/todo"),new DS(2,"Information","/codex/details/"+e.slug+"/information")]}}return n.\u0275fac=function(e){return new(e||n)(M(Kg),M(to))},n.\u0275cmp=Ie({type:n,selectors:[["app-codex-details-tabs"]],decls:1,vars:1,consts:[[4,"ngIf"],["color","primary","mat-stroked-button","",3,"routerLink"],[3,"tabLinkList"]],template:function(e,r){1&e&&pe(0,xJ,13,8,"app-web-page",0),2&e&&Q("ngIf",r.codex)},directives:[pi,ja,za,Ha,N0,kS,Jw,Ul,Zo,kJ],pipes:[q1],styles:[""]}),n})(),MS=(()=>{class n extends F0{constructor(e,r){super(e,ET,new $Z,r)}getCodexInformation(e){return this.filteredList(`codex__slug=${e}`).pipe(Te(s=>s.length>0?s.slice(0,1):[]))}}return n.\u0275fac=function(e){return new(e||n)(L(Vs),L(Na))},n.\u0275prov=oe({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();const EJ=["informationEditorField"];function SJ(n,t){if(1&n&&(Jt(0),V(1,"form",3),Me(2,"ckeditor",4,5),B(),rn()),2&n){const e=ce();Y(1),Q("formGroup",e.informationTextControl),Y(1),Q("editor",e.Editor)}}function DJ(n,t){1&n&&Me(0,"app-ckeditor-display",8),2&n&&Q("content",ce(2).informationTextControl.get("informationText").value)}function MJ(n,t){if(1&n){const e=Dn();V(0,"div",9)(1,"button",10),Ee("click",function(){return it(e),ce(2).switchInformationEditableMode()}),y(2," Write any general information about your codex here ! "),B()()}}function AJ(n,t){if(1&n&&(pe(0,DJ,1,1,"app-ckeditor-display",6),pe(1,MJ,3,0,"ng-template",null,7,Eh)),2&n){const e=hi(2);Q("ngIf",ce().information)("ngIfElse",e)}}let IJ=(()=>{class n{constructor(e,r,s){this.informationService=e,this.modificationRequestStatus=r,this.fb=s,this.editableChange=new we,this.Editor=aL}get editable(){return this._editable}set editable(e){void 0!==this._editable&&this.editableChange.emit(e),this._editable=e}ngOnInit(){this.informationTextControl=this.fb.group({informationText:[this.information?this.information.text:""]}),this.informationTextControlOnChange=this.informationTextControl.get("informationText").valueChanges.pipe(Te(e=>e.trim()),xi(e=>""!==e||!!this.information),Tw(),vn(e=>this.modificationRequestStatus.inputDataToSave(e)),Nd(400),Md(e=>this.createOrUpdateOrDeleteInformation(e))).subscribe(e=>this.information=e)}ngOnDestroy(){this.informationTextControlOnChange.unsubscribe()}switchInformationEditableMode(){this.editable=!this.editable,setTimeout(()=>{this.informationEditor.nativeElement.focus()},0)}createOrUpdateOrDeleteInformation(e){let r;if(this.information)if(""!==e){const s=Object.assign({},this.information);s.text=e,r=this.informationService.update(s)}else r=this.informationService.delete(this.information).pipe(Te(()=>{}));else{const s=new ET;s.text=e,s.codex=this.codex.id,r=this.informationService.create(s)}return r}}return n.\u0275fac=function(e){return new(e||n)(M(MS),M(Na),M(Wd))},n.\u0275cmp=Ie({type:n,selectors:[["app-information-details"]],viewQuery:function(e,r){if(1&e&&Jn(EJ,5),2&e){let s;st(s=at())&&(r.informationEditor=s.first)}},inputs:{information:"information",codex:"codex",editable:"editable"},outputs:{editableChange:"editableChange"},decls:4,vars:2,consts:[[1,"information"],[4,"ngIf","ngIfElse"],["displayInformation",""],[3,"formGroup"],["formControlName","informationText",3,"editor"],["informationEditorField",""],[3,"content",4,"ngIf","ngIfElse"],["newInformation",""],[3,"content"],[1,"information-placeholder"],["mat-button","",3,"click"]],template:function(e,r){if(1&e&&(V(0,"div",0),pe(1,SJ,4,2,"ng-container",1),pe(2,AJ,3,2,"ng-template",null,2,Eh),B()),2&e){const s=hi(3);Y(1),Q("ngIf",r.editable)("ngIfElse",s)}},directives:[pi,ic,nc,Ao,TN,Ba,Va,lL,Or],styles:[".information[_ngcontent-%COMP%]{display:flex;min-height:8.5em}.information-placeholder[_ngcontent-%COMP%]{align-self:center;flex:1;text-align:center}.information-placeholder[_ngcontent-%COMP%]   .mat-button[_ngcontent-%COMP%]{white-space:normal}.information__disable-text[_ngcontent-%COMP%]{display:block;overflow:hidden;flex:999;margin:16px}form[_ngcontent-%COMP%], ckeditor[_ngcontent-%COMP%]{width:100%}  mat-card mat-card-content.mat-card-content[class]{padding:0}"],changeDetection:0}),n})();function PJ(n,t){1&n&&(Jt(0),y(1," Edit "),V(2,"mat-icon"),y(3,"edit"),B(),rn())}function RJ(n,t){1&n&&(Jt(0),y(1," MarkDown "),V(2,"mat-icon"),y(3,"notes"),B(),rn())}function OJ(n,t){if(1&n){const e=Dn();Jt(0),V(1,"app-information-details",5),Ee("editableChange",function(s){return it(e),ce(2).informationEditable=s}),B(),rn()}if(2&n){const e=ce(2);Y(1),Q("editable",e.informationEditable)("codex",e.codex)("information",e.information.length>0?e.information[0]:void 0)}}function FJ(n,t){1&n&&y(0," Loading ... ")}function NJ(n,t){if(1&n){const e=Dn();V(0,"mat-card")(1,"mat-card-header")(2,"div",1)(3,"button",2),Ee("click",function(){return it(e),ce().switchEditMode()}),pe(4,PJ,4,0,"ng-container",0),pe(5,RJ,4,0,"ng-container",0),B()(),V(6,"mat-card-title"),y(7),B(),V(8,"mat-card-subtitle"),y(9," Write any general information here ! "),B()(),V(10,"mat-card-content"),pe(11,OJ,2,3,"ng-container",3),pe(12,FJ,1,0,"ng-template",null,4,Eh),B()()}if(2&n){const e=hi(13),r=ce();Y(4),Q("ngIf",!r.informationEditable),Y(1),Q("ngIf",r.informationEditable),Y(2),T(" Information for ",r.codex.title," "),Y(4),Q("ngIf",r.information)("ngIfElse",e)}}let LJ=(()=>{class n{constructor(e,r,s){this.informationService=e,this.codexDetailsService=r,this.route=s,this.informationEditable=!1}ngOnInit(){this.route.parent.data.subscribe(e=>{this.codex=e.codex}),this.route.data.subscribe(e=>{this.information=e.information})}switchEditMode(){this.informationEditable=!this.informationEditable}}return n.\u0275fac=function(e){return new(e||n)(M(MS),M(Kg),M(to))},n.\u0275cmp=Ie({type:n,selectors:[["app-codex-information"]],decls:1,vars:1,consts:[[4,"ngIf"],[1,"mat-card-header__action-button"],["color","primary","mat-stroked-button","",3,"click"],[4,"ngIf","ngIfElse"],["loading",""],[3,"editable","codex","information","editableChange"]],template:function(e,r){1&e&&pe(0,NJ,14,5,"mat-card",0),2&e&&Q("ngIf",r.codex)},directives:[pi,Kd,zh,Or,Zo,jh,b0,Gd,IJ],styles:[".mat-card-content[_ngcontent-%COMP%]{margin:0;padding:8px 16px}"]}),n})();const BJ=function(n){return["/codex/details",n]};function VJ(n,t){if(1&n&&(V(0,"app-web-page-action-menu")(1,"a",11),y(2," Back to Codex "),B()()),2&n){const e=ce();Y(1),Q("routerLink",Th(1,BJ,e.codex.slug))}}let jJ=(()=>{class n{constructor(e,r,s,l,u,f){this.fb=e,this.codexService=r,this.route=s,this.snackBar=l,this.dialog=u,this.router=f,this.codexForm=this.fb.group({title:["",Ud.required],description:[""]}),this.webPageSize=qd}ngOnInit(){this.route.data.subscribe(e=>{this.codex=e.codex,this.initForm(e.codex)})}initForm(e){this.codexForm.reset({title:e.title,description:e.description})}onSubmit(){if(this.codexForm.valid&&this.codexForm.dirty){const e=Object.assign({},this.codex);e.title=this.codexForm.get("title").value,e.description=this.codexForm.get("description").value,this.codexService.update(e).subscribe(r=>{this.snackBar.open("Codex Updated !","Close",{duration:2e3}),this.initForm(r)})}}deleteCodex(){this.dialog.open(zJ,{width:"250px",data:this.codex}).afterClosed().subscribe(r=>{"delete"===r&&this.codexService.delete(this.codex).subscribe(()=>{const s=this.router.createUrlTree(["/codex"]);this.snackBar.open("Codex Deleted !","Close",{duration:2e3}),this.router.navigateByUrl(s)})})}}return n.\u0275fac=function(e){return new(e||n)(M(Wd),M(Gg),M(to),M(dZ),M(O0),M(ii))},n.\u0275cmp=Ie({type:n,selectors:[["app-codex-edit"]],decls:37,vars:4,consts:[[4,"ngIf"],[3,"pageSize"],[3,"formGroup","ngSubmit"],["formControlName","title","matInput","","maxlength","50","type","text"],["titleInput",""],["align","end"],["cdkAutosizeMaxRows","5","cdkAutosizeMinRows","3","cdkTextareaAutosize","","formControlName","description","matInput",""],["autosize","cdkTextareaAutosize"],[1,"button-container"],["color","primary","mat-raised-button","","type","submit"],["color","warn","mat-raised-button","","type","button",3,"click"],["color","primary","mat-stroked-button","",3,"routerLink"]],template:function(e,r){if(1&e&&(V(0,"app-web-page")(1,"app-web-page-header")(2,"app-web-page-title"),y(3,"Creation of a new Codex"),B(),V(4,"app-web-page-subtitle"),y(5," Give a title and a short description to your Codex ! "),B(),pe(6,VJ,3,3,"app-web-page-action-menu",0),B(),V(7,"app-web-page-content",1)(8,"mat-card")(9,"mat-card-header")(10,"mat-card-title"),y(11," Edit Codex "),B()(),V(12,"mat-card-content")(13,"form",2),Ee("ngSubmit",function(){return r.onSubmit()}),V(14,"mat-form-field")(15,"mat-label"),y(16,"Title"),B(),Me(17,"input",3,4),V(19,"mat-hint",5),y(20),B(),V(21,"mat-error"),y(22,"Please enter your codex title"),B()(),V(23,"mat-form-field")(24,"mat-label"),y(25,"Description"),B(),Me(26,"textarea",6,7),B(),V(28,"div",8)(29,"button",9),y(30," Edit "),V(31,"mat-icon"),y(32,"edit"),B()(),V(33,"button",10),Ee("click",function(){return r.deleteCodex()}),y(34," Delete "),V(35,"mat-icon"),y(36,"delete"),B()()()()()()()()),2&e){const s=hi(18);Y(6),Q("ngIf",r.codex),Y(1),Q("pageSize",r.webPageSize.Small),Y(6),Q("formGroup",r.codexForm),Y(7),T("",(null==s.value?null:s.value.length)||0,"/50")}},directives:[ja,za,Ha,N0,pi,kS,Jw,Ul,Ua,Kd,zh,jh,Gd,ic,nc,Ao,Hh,Qd,La,Uh,Ba,Va,Vg,dF,v0,LU,Or,Zo],styles:[".mat-card-content[_ngcontent-%COMP%]{padding:2em}form[_ngcontent-%COMP%]   .mat-form-field[_ngcontent-%COMP%]{display:block;margin-bottom:1em}form[_ngcontent-%COMP%]   .button-container[_ngcontent-%COMP%]{display:flex;justify-content:space-evenly}form[_ngcontent-%COMP%]   .mat-form-field[_ngcontent-%COMP%]:last-of-type{margin-bottom:2em}form[_ngcontent-%COMP%]   .formGroupError[_ngcontent-%COMP%]{height:1em;margin-bottom:1.5em}"]}),n})(),zJ=(()=>{class n{constructor(e,r){this.dialogRef=e,this.data=r}}return n.\u0275fac=function(e){return new(e||n)(M(R0),M(XN))},n.\u0275cmp=Ie({type:n,selectors:[["app-codex-edit-delete-dialog"]],decls:10,vars:2,consts:[["mat-dialog-title",""],["mat-dialog-content",""],["mat-dialog-actions",""],["color","warn","mat-button","",3,"mat-dialog-close"],["cdkFocusInitial","","mat-button","",3,"mat-dialog-close"]],template:function(e,r){1&e&&(V(0,"h1",0),y(1),B(),V(2,"div",1)(3,"p"),y(4,"Are you sure you want to delete this Codex ?"),B()(),V(5,"div",2)(6,"button",3),y(7,"Delete"),B(),V(8,"button",4),y(9,"Cancel"),B()()),2&e&&(Y(1),k(r.data.title),Y(5),Q("mat-dialog-close","delete"))},directives:[CZ,xZ,TZ,Or,kZ],styles:["h1[_ngcontent-%COMP%]{color:#254355}.mat-dialog-content[_ngcontent-%COMP%]{margin-bottom:2em}"]}),n})(),HJ=(()=>{class n{constructor(e){this.informationService=e}resolve(e,r){return this.informationService.getCodexInformation(e.parent.data.codex.slug)}}return n.\u0275fac=function(e){return new(e||n)(L(MS))},n.\u0275prov=oe({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),mL=(()=>{class n{constructor(e){this.codexDetailsService=e}resolve(e,r){return this.codexDetailsService.setActiveCodex(e.paramMap.get("slug"))}}return n.\u0275fac=function(e){return new(e||n)(L(Kg))},n.\u0275prov=oe({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();const UJ=[{path:"codex",canActivateChild:[aJ],children:[{path:"",component:XZ,resolve:{codexList:(()=>{class n{constructor(e){this.codexService=e}resolve(e,r){return this.codexService.list()}}return n.\u0275fac=function(e){return new(e||n)(L(Gg))},n.\u0275prov=oe({token:n,factory:n.\u0275fac,providedIn:"root"}),n})()}},{path:"add",component:bJ},{path:"edit/:slug",component:jJ,resolve:{codex:mL}},{path:"details/:slug",component:TJ,resolve:{codex:mL},children:[{path:"",component:sJ,data:{state:1},resolve:{todayPage:(()=>{class n{constructor(e){this.pageService=e}resolve(e,r){return this.pageService.getTodayCodexPage(e.parent.data.codex.slug)}}return n.\u0275fac=function(e){return new(e||n)(L(Us))},n.\u0275prov=oe({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),oldPageListFirstPage:(()=>{class n{constructor(e){this.pageService=e}resolve(e,r){return this.pageService.getCodexPage(e.parent.data.codex.slug,1)}}return n.\u0275fac=function(e){return new(e||n)(L(Us))},n.\u0275prov=oe({token:n,factory:n.\u0275fac,providedIn:"root"}),n})()}},{path:"todo",component:_J,data:{state:2},resolve:{taskList:(()=>{class n{constructor(e){this.taskService=e}resolve(e,r){return this.taskService.getCodexToDoTask(e.parent.data.codex.slug)}}return n.\u0275fac=function(e){return new(e||n)(L(Jh))},n.\u0275prov=oe({token:n,factory:n.\u0275fac,providedIn:"root"}),n})()}},{path:"information",component:LJ,data:{state:3},resolve:{information:HJ}}]}]}];let $J=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=ue({type:n}),n.\u0275inj=Se({imports:[[$l.forChild(UJ)],$l]}),n})();let ef={baseUrl:null,breaks:!1,extensions:null,gfm:!0,headerIds:!0,headerPrefix:"",highlight:null,langPrefix:"language-",mangle:!0,pedantic:!1,renderer:null,sanitize:!1,sanitizer:null,silent:!1,smartLists:!1,smartypants:!1,tokenizer:null,walkTokens:null,xhtml:!1};const qJ=/[&<>"']/,GJ=/[&<>"']/g,KJ=/[<>"']|&(?!#?\w+;)/,QJ=/[<>"']|&(?!#?\w+;)/g,YJ={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;"},_L=n=>YJ[n];function Ti(n,t){if(t){if(qJ.test(n))return n.replace(GJ,_L)}else if(KJ.test(n))return n.replace(QJ,_L);return n}const ZJ=/&(#(?:\d+)|(?:#x[0-9A-Fa-f]+)|(?:\w+));?/gi;function bL(n){return n.replace(ZJ,(t,e)=>"colon"===(e=e.toLowerCase())?":":"#"===e.charAt(0)?"x"===e.charAt(1)?String.fromCharCode(parseInt(e.substring(2),16)):String.fromCharCode(+e.substring(1)):"")}const XJ=/(^|[^\[])\^/g;function cn(n,t){n="string"==typeof n?n:n.source,t=t||"";const e={replace:(r,s)=>(s=(s=s.source||s).replace(XJ,"$1"),n=n.replace(r,s),e),getRegex:()=>new RegExp(n,t)};return e}const JJ=/[^\w:]/g,eee=/^$|^[a-z][a-z0-9+.-]*:|^[?#]/i;function vL(n,t,e){if(n){let r;try{r=decodeURIComponent(bL(e)).replace(JJ,"").toLowerCase()}catch(s){return null}if(0===r.indexOf("javascript:")||0===r.indexOf("vbscript:")||0===r.indexOf("data:"))return null}t&&!eee.test(e)&&(e=function ree(n,t){B0[" "+n]||(B0[" "+n]=tee.test(n)?n+"/":j0(n,"/",!0));const e=-1===(n=B0[" "+n]).indexOf(":");return"//"===t.substring(0,2)?e?t:n.replace(nee,"$1")+t:"/"===t.charAt(0)?e?t:n.replace(iee,"$1")+t:n+t}(t,e));try{e=encodeURI(e).replace(/%25/g,"%")}catch(r){return null}return e}const B0={},tee=/^[^:]+:\/*[^/]*$/,nee=/^([^:]+:)[\s\S]*$/,iee=/^([^:]+:\/*[^/]*)[\s\S]*$/,V0={exec:function(){}};function Jo(n){let e,r,t=1;for(;t<arguments.length;t++)for(r in e=arguments[t],e)Object.prototype.hasOwnProperty.call(e,r)&&(n[r]=e[r]);return n}function yL(n,t){const r=n.replace(/\|/g,(l,u,f)=>{let m=!1,b=u;for(;--b>=0&&"\\"===f[b];)m=!m;return m?"|":" |"}).split(/ \|/);let s=0;if(r[0].trim()||r.shift(),r.length>0&&!r[r.length-1].trim()&&r.pop(),r.length>t)r.splice(t);else for(;r.length<t;)r.push("");for(;s<r.length;s++)r[s]=r[s].trim().replace(/\\\|/g,"|");return r}function j0(n,t,e){const r=n.length;if(0===r)return"";let s=0;for(;s<r;){const l=n.charAt(r-s-1);if(l!==t||e){if(l===t||!e)break;s++}else s++}return n.slice(0,r-s)}function wL(n){n&&n.sanitize&&!n.silent&&console.warn("marked(): sanitize and sanitizer parameters are deprecated since version 0.7.0, should not be used and will be removed in the future. Read more here: https://marked.js.org/#/USING_ADVANCED.md#options")}function kL(n,t){if(t<1)return"";let e="";for(;t>1;)1&t&&(e+=n),t>>=1,n+=n;return e+n}function CL(n,t,e,r){const s=t.href,l=t.title?Ti(t.title):null,u=n[1].replace(/\\([\[\]])/g,"$1");if("!"!==n[0].charAt(0)){r.state.inLink=!0;const f={type:"link",raw:e,href:s,title:l,text:u,tokens:r.inlineTokens(u,[])};return r.state.inLink=!1,f}return{type:"image",raw:e,href:s,title:l,text:Ti(u)}}class AS{constructor(t){this.options=t||ef}space(t){const e=this.rules.block.newline.exec(t);if(e&&e[0].length>0)return{type:"space",raw:e[0]}}code(t){const e=this.rules.block.code.exec(t);if(e){const r=e[0].replace(/^ {1,4}/gm,"");return{type:"code",raw:e[0],codeBlockStyle:"indented",text:this.options.pedantic?r:j0(r,"\n")}}}fences(t){const e=this.rules.block.fences.exec(t);if(e){const r=e[0],s=function see(n,t){const e=n.match(/^(\s+)(?:```)/);if(null===e)return t;const r=e[1];return t.split("\n").map(s=>{const l=s.match(/^\s+/);if(null===l)return s;const[u]=l;return u.length>=r.length?s.slice(r.length):s}).join("\n")}(r,e[3]||"");return{type:"code",raw:r,lang:e[2]?e[2].trim():e[2],text:s}}}heading(t){const e=this.rules.block.heading.exec(t);if(e){let r=e[2].trim();if(/#$/.test(r)){const l=j0(r,"#");(this.options.pedantic||!l||/ $/.test(l))&&(r=l.trim())}const s={type:"heading",raw:e[0],depth:e[1].length,text:r,tokens:[]};return this.lexer.inline(s.text,s.tokens),s}}hr(t){const e=this.rules.block.hr.exec(t);if(e)return{type:"hr",raw:e[0]}}blockquote(t){const e=this.rules.block.blockquote.exec(t);if(e){const r=e[0].replace(/^ *>[ \t]?/gm,"");return{type:"blockquote",raw:e[0],tokens:this.lexer.blockTokens(r,[]),text:r}}}list(t){let e=this.rules.block.list.exec(t);if(e){let r,s,l,u,f,m,b,w,x,E,S,I,N=e[1].trim();const K=N.length>1,G={type:"list",raw:"",ordered:K,start:K?+N.slice(0,-1):"",loose:!1,items:[]};N=K?`\\d{1,9}\\${N.slice(-1)}`:`\\${N}`,this.options.pedantic&&(N=K?N:"[*+-]");const H=new RegExp(`^( {0,3}${N})((?:[\t ][^\\n]*)?(?:\\n|$))`);for(;t&&(I=!1,(e=H.exec(t))&&!this.rules.block.hr.test(t));){if(r=e[0],t=t.substring(r.length),w=e[2].split("\n",1)[0],x=t.split("\n",1)[0],this.options.pedantic?(u=2,S=w.trimLeft()):(u=e[2].search(/[^ ]/),u=u>4?1:u,S=w.slice(u),u+=e[1].length),m=!1,!w&&/^ *$/.test(x)&&(r+=x+"\n",t=t.substring(x.length+1),I=!0),!I){const ve=new RegExp(`^ {0,${Math.min(3,u-1)}}(?:[*+-]|\\d{1,9}[.)])`);for(;t&&(E=t.split("\n",1)[0],w=E,this.options.pedantic&&(w=w.replace(/^ {1,4}(?=( {4})*[^ ])/g,"  ")),!ve.test(w));){if(w.search(/[^ ]/)>=u||!w.trim())S+="\n"+w.slice(u);else{if(m)break;S+="\n"+w}!m&&!w.trim()&&(m=!0),r+=E+"\n",t=t.substring(E.length+1)}}G.loose||(b?G.loose=!0:/\n *\n *$/.test(r)&&(b=!0)),this.options.gfm&&(s=/^\[[ xX]\] /.exec(S),s&&(l="[ ] "!==s[0],S=S.replace(/^\[[ xX]\] +/,""))),G.items.push({type:"list_item",raw:r,task:!!s,checked:l,loose:!1,text:S}),G.raw+=r}G.items[G.items.length-1].raw=r.trimRight(),G.items[G.items.length-1].text=S.trimRight(),G.raw=G.raw.trimRight();const fe=G.items.length;for(f=0;f<fe;f++){this.lexer.state.top=!1,G.items[f].tokens=this.lexer.blockTokens(G.items[f].text,[]);const ve=G.items[f].tokens.filter(qe=>"space"===qe.type),We=ve.every(qe=>{const Tt=qe.raw.split("");let kn=0;for(const Ei of Tt)if("\n"===Ei&&(kn+=1),kn>1)return!0;return!1});!G.loose&&ve.length&&We&&(G.loose=!0,G.items[f].loose=!0)}return G}}html(t){const e=this.rules.block.html.exec(t);if(e){const r={type:"html",raw:e[0],pre:!this.options.sanitizer&&("pre"===e[1]||"script"===e[1]||"style"===e[1]),text:e[0]};return this.options.sanitize&&(r.type="paragraph",r.text=this.options.sanitizer?this.options.sanitizer(e[0]):Ti(e[0]),r.tokens=[],this.lexer.inline(r.text,r.tokens)),r}}def(t){const e=this.rules.block.def.exec(t);if(e)return e[3]&&(e[3]=e[3].substring(1,e[3].length-1)),{type:"def",tag:e[1].toLowerCase().replace(/\s+/g," "),raw:e[0],href:e[2],title:e[3]}}table(t){const e=this.rules.block.table.exec(t);if(e){const r={type:"table",header:yL(e[1]).map(s=>({text:s})),align:e[2].replace(/^ *|\| *$/g,"").split(/ *\| */),rows:e[3]&&e[3].trim()?e[3].replace(/\n[ \t]*$/,"").split("\n"):[]};if(r.header.length===r.align.length){r.raw=e[0];let l,u,f,m,s=r.align.length;for(l=0;l<s;l++)r.align[l]=/^ *-+: *$/.test(r.align[l])?"right":/^ *:-+: *$/.test(r.align[l])?"center":/^ *:-+ *$/.test(r.align[l])?"left":null;for(s=r.rows.length,l=0;l<s;l++)r.rows[l]=yL(r.rows[l],r.header.length).map(b=>({text:b}));for(s=r.header.length,u=0;u<s;u++)r.header[u].tokens=[],this.lexer.inlineTokens(r.header[u].text,r.header[u].tokens);for(s=r.rows.length,u=0;u<s;u++)for(m=r.rows[u],f=0;f<m.length;f++)m[f].tokens=[],this.lexer.inlineTokens(m[f].text,m[f].tokens);return r}}}lheading(t){const e=this.rules.block.lheading.exec(t);if(e){const r={type:"heading",raw:e[0],depth:"="===e[2].charAt(0)?1:2,text:e[1],tokens:[]};return this.lexer.inline(r.text,r.tokens),r}}paragraph(t){const e=this.rules.block.paragraph.exec(t);if(e){const r={type:"paragraph",raw:e[0],text:"\n"===e[1].charAt(e[1].length-1)?e[1].slice(0,-1):e[1],tokens:[]};return this.lexer.inline(r.text,r.tokens),r}}text(t){const e=this.rules.block.text.exec(t);if(e){const r={type:"text",raw:e[0],text:e[0],tokens:[]};return this.lexer.inline(r.text,r.tokens),r}}escape(t){const e=this.rules.inline.escape.exec(t);if(e)return{type:"escape",raw:e[0],text:Ti(e[1])}}tag(t){const e=this.rules.inline.tag.exec(t);if(e)return!this.lexer.state.inLink&&/^<a /i.test(e[0])?this.lexer.state.inLink=!0:this.lexer.state.inLink&&/^<\/a>/i.test(e[0])&&(this.lexer.state.inLink=!1),!this.lexer.state.inRawBlock&&/^<(pre|code|kbd|script)(\s|>)/i.test(e[0])?this.lexer.state.inRawBlock=!0:this.lexer.state.inRawBlock&&/^<\/(pre|code|kbd|script)(\s|>)/i.test(e[0])&&(this.lexer.state.inRawBlock=!1),{type:this.options.sanitize?"text":"html",raw:e[0],inLink:this.lexer.state.inLink,inRawBlock:this.lexer.state.inRawBlock,text:this.options.sanitize?this.options.sanitizer?this.options.sanitizer(e[0]):Ti(e[0]):e[0]}}link(t){const e=this.rules.inline.link.exec(t);if(e){const r=e[2].trim();if(!this.options.pedantic&&/^</.test(r)){if(!/>$/.test(r))return;const u=j0(r.slice(0,-1),"\\");if((r.length-u.length)%2==0)return}else{const u=function oee(n,t){if(-1===n.indexOf(t[1]))return-1;const e=n.length;let r=0,s=0;for(;s<e;s++)if("\\"===n[s])s++;else if(n[s]===t[0])r++;else if(n[s]===t[1]&&(r--,r<0))return s;return-1}(e[2],"()");if(u>-1){const m=(0===e[0].indexOf("!")?5:4)+e[1].length+u;e[2]=e[2].substring(0,u),e[0]=e[0].substring(0,m).trim(),e[3]=""}}let s=e[2],l="";if(this.options.pedantic){const u=/^([^'"]*[^\s])\s+(['"])(.*)\2/.exec(s);u&&(s=u[1],l=u[3])}else l=e[3]?e[3].slice(1,-1):"";return s=s.trim(),/^</.test(s)&&(s=this.options.pedantic&&!/>$/.test(r)?s.slice(1):s.slice(1,-1)),CL(e,{href:s&&s.replace(this.rules.inline._escapes,"$1"),title:l&&l.replace(this.rules.inline._escapes,"$1")},e[0],this.lexer)}}reflink(t,e){let r;if((r=this.rules.inline.reflink.exec(t))||(r=this.rules.inline.nolink.exec(t))){let s=(r[2]||r[1]).replace(/\s+/g," ");if(s=e[s.toLowerCase()],!s||!s.href){const l=r[0].charAt(0);return{type:"text",raw:l,text:l}}return CL(r,s,r[0],this.lexer)}}emStrong(t,e,r=""){let s=this.rules.inline.emStrong.lDelim.exec(t);if(!s||s[3]&&r.match(/[\p{L}\p{N}]/u))return;const l=s[1]||s[2]||"";if(!l||l&&(""===r||this.rules.inline.punctuation.exec(r))){const u=s[0].length-1;let f,m,b=u,w=0;const x="*"===s[0][0]?this.rules.inline.emStrong.rDelimAst:this.rules.inline.emStrong.rDelimUnd;for(x.lastIndex=0,e=e.slice(-1*t.length+u);null!=(s=x.exec(e));){if(f=s[1]||s[2]||s[3]||s[4]||s[5]||s[6],!f)continue;if(m=f.length,s[3]||s[4]){b+=m;continue}if((s[5]||s[6])&&u%3&&!((u+m)%3)){w+=m;continue}if(b-=m,b>0)continue;if(m=Math.min(m,m+b+w),Math.min(u,m)%2){const S=t.slice(1,u+s.index+m);return{type:"em",raw:t.slice(0,u+s.index+m+1),text:S,tokens:this.lexer.inlineTokens(S,[])}}const E=t.slice(2,u+s.index+m-1);return{type:"strong",raw:t.slice(0,u+s.index+m+1),text:E,tokens:this.lexer.inlineTokens(E,[])}}}}codespan(t){const e=this.rules.inline.code.exec(t);if(e){let r=e[2].replace(/\n/g," ");const s=/[^ ]/.test(r),l=/^ /.test(r)&&/ $/.test(r);return s&&l&&(r=r.substring(1,r.length-1)),r=Ti(r,!0),{type:"codespan",raw:e[0],text:r}}}br(t){const e=this.rules.inline.br.exec(t);if(e)return{type:"br",raw:e[0]}}del(t){const e=this.rules.inline.del.exec(t);if(e)return{type:"del",raw:e[0],text:e[2],tokens:this.lexer.inlineTokens(e[2],[])}}autolink(t,e){const r=this.rules.inline.autolink.exec(t);if(r){let s,l;return"@"===r[2]?(s=Ti(this.options.mangle?e(r[1]):r[1]),l="mailto:"+s):(s=Ti(r[1]),l=s),{type:"link",raw:r[0],text:s,href:l,tokens:[{type:"text",raw:s,text:s}]}}}url(t,e){let r;if(r=this.rules.inline.url.exec(t)){let s,l;if("@"===r[2])s=Ti(this.options.mangle?e(r[0]):r[0]),l="mailto:"+s;else{let u;do{u=r[0],r[0]=this.rules.inline._backpedal.exec(r[0])[0]}while(u!==r[0]);s=Ti(r[0]),l="www."===r[1]?"http://"+s:s}return{type:"link",raw:r[0],text:s,href:l,tokens:[{type:"text",raw:s,text:s}]}}}inlineText(t,e){const r=this.rules.inline.text.exec(t);if(r){let s;return s=this.lexer.state.inRawBlock?this.options.sanitize?this.options.sanitizer?this.options.sanitizer(r[0]):Ti(r[0]):r[0]:Ti(this.options.smartypants?e(r[0]):r[0]),{type:"text",raw:r[0],text:s}}}}const $e={newline:/^(?: *(?:\n|$))+/,code:/^( {4}[^\n]+(?:\n(?: *(?:\n|$))*)?)+/,fences:/^ {0,3}(`{3,}(?=[^`\n]*\n)|~{3,})([^\n]*)\n(?:|([\s\S]*?)\n)(?: {0,3}\1[~`]* *(?=\n|$)|$)/,hr:/^ {0,3}((?:-[\t ]*){3,}|(?:_[ \t]*){3,}|(?:\*[ \t]*){3,})(?:\n+|$)/,heading:/^ {0,3}(#{1,6})(?=\s|$)(.*)(?:\n+|$)/,blockquote:/^( {0,3}> ?(paragraph|[^\n]*)(?:\n|$))+/,list:/^( {0,3}bull)([ \t][^\n]+?)?(?:\n|$)/,html:"^ {0,3}(?:<(script|pre|style|textarea)[\\s>][\\s\\S]*?(?:</\\1>[^\\n]*\\n+|$)|comment[^\\n]*(\\n+|$)|<\\?[\\s\\S]*?(?:\\?>\\n*|$)|<![A-Z][\\s\\S]*?(?:>\\n*|$)|<!\\[CDATA\\[[\\s\\S]*?(?:\\]\\]>\\n*|$)|</?(tag)(?: +|\\n|/?>)[\\s\\S]*?(?:(?:\\n *)+\\n|$)|<(?!script|pre|style|textarea)([a-z][\\w-]*)(?:attribute)*? */?>(?=[ \\t]*(?:\\n|$))[\\s\\S]*?(?:(?:\\n *)+\\n|$)|</(?!script|pre|style|textarea)[a-z][\\w-]*\\s*>(?=[ \\t]*(?:\\n|$))[\\s\\S]*?(?:(?:\\n *)+\\n|$))",def:/^ {0,3}\[(label)\]: *(?:\n *)?<?([^\s>]+)>?(?:(?: +(?:\n *)?| *\n *)(title))? *(?:\n+|$)/,table:V0,lheading:/^([^\n]+)\n {0,3}(=+|-+) *(?:\n+|$)/,_paragraph:/^([^\n]+(?:\n(?!hr|heading|lheading|blockquote|fences|list|html|table| +\n)[^\n]+)*)/,text:/^[^\n]+/,_label:/(?!\s*\])(?:\\.|[^\[\]\\])+/,_title:/(?:"(?:\\"?|[^"\\])*"|'[^'\n]*(?:\n[^'\n]+)*\n?'|\([^()]*\))/};$e.def=cn($e.def).replace("label",$e._label).replace("title",$e._title).getRegex(),$e.bullet=/(?:[*+-]|\d{1,9}[.)])/,$e.listItemStart=cn(/^( *)(bull) */).replace("bull",$e.bullet).getRegex(),$e.list=cn($e.list).replace(/bull/g,$e.bullet).replace("hr","\\n+(?=\\1?(?:(?:- *){3,}|(?:_ *){3,}|(?:\\* *){3,})(?:\\n+|$))").replace("def","\\n+(?="+$e.def.source+")").getRegex(),$e._tag="address|article|aside|base|basefont|blockquote|body|caption|center|col|colgroup|dd|details|dialog|dir|div|dl|dt|fieldset|figcaption|figure|footer|form|frame|frameset|h[1-6]|head|header|hr|html|iframe|legend|li|link|main|menu|menuitem|meta|nav|noframes|ol|optgroup|option|p|param|section|source|summary|table|tbody|td|tfoot|th|thead|title|tr|track|ul",$e._comment=/<!--(?!-?>)[\s\S]*?(?:-->|$)/,$e.html=cn($e.html,"i").replace("comment",$e._comment).replace("tag",$e._tag).replace("attribute",/ +[a-zA-Z:_][\w.:-]*(?: *= *"[^"\n]*"| *= *'[^'\n]*'| *= *[^\s"'=<>`]+)?/).getRegex(),$e.paragraph=cn($e._paragraph).replace("hr",$e.hr).replace("heading"," {0,3}#{1,6} ").replace("|lheading","").replace("|table","").replace("blockquote"," {0,3}>").replace("fences"," {0,3}(?:`{3,}(?=[^`\\n]*\\n)|~{3,})[^\\n]*\\n").replace("list"," {0,3}(?:[*+-]|1[.)]) ").replace("html","</?(?:tag)(?: +|\\n|/?>)|<(?:script|pre|style|textarea|!--)").replace("tag",$e._tag).getRegex(),$e.blockquote=cn($e.blockquote).replace("paragraph",$e.paragraph).getRegex(),$e.normal=Jo({},$e),$e.gfm=Jo({},$e.normal,{table:"^ *([^\\n ].*\\|.*)\\n {0,3}(?:\\| *)?(:?-+:? *(?:\\| *:?-+:? *)*)(?:\\| *)?(?:\\n((?:(?! *\\n|hr|heading|blockquote|code|fences|list|html).*(?:\\n|$))*)\\n*|$)"}),$e.gfm.table=cn($e.gfm.table).replace("hr",$e.hr).replace("heading"," {0,3}#{1,6} ").replace("blockquote"," {0,3}>").replace("code"," {4}[^\\n]").replace("fences"," {0,3}(?:`{3,}(?=[^`\\n]*\\n)|~{3,})[^\\n]*\\n").replace("list"," {0,3}(?:[*+-]|1[.)]) ").replace("html","</?(?:tag)(?: +|\\n|/?>)|<(?:script|pre|style|textarea|!--)").replace("tag",$e._tag).getRegex(),$e.gfm.paragraph=cn($e._paragraph).replace("hr",$e.hr).replace("heading"," {0,3}#{1,6} ").replace("|lheading","").replace("table",$e.gfm.table).replace("blockquote"," {0,3}>").replace("fences"," {0,3}(?:`{3,}(?=[^`\\n]*\\n)|~{3,})[^\\n]*\\n").replace("list"," {0,3}(?:[*+-]|1[.)]) ").replace("html","</?(?:tag)(?: +|\\n|/?>)|<(?:script|pre|style|textarea|!--)").replace("tag",$e._tag).getRegex(),$e.pedantic=Jo({},$e.normal,{html:cn("^ *(?:comment *(?:\\n|\\s*$)|<(tag)[\\s\\S]+?</\\1> *(?:\\n{2,}|\\s*$)|<tag(?:\"[^\"]*\"|'[^']*'|\\s[^'\"/>\\s]*)*?/?> *(?:\\n{2,}|\\s*$))").replace("comment",$e._comment).replace(/tag/g,"(?!(?:a|em|strong|small|s|cite|q|dfn|abbr|data|time|code|var|samp|kbd|sub|sup|i|b|u|mark|ruby|rt|rp|bdi|bdo|span|br|wbr|ins|del|img)\\b)\\w+(?!:|[^\\w\\s@]*@)\\b").getRegex(),def:/^ *\[([^\]]+)\]: *<?([^\s>]+)>?(?: +(["(][^\n]+[")]))? *(?:\n+|$)/,heading:/^(#{1,6})(.*)(?:\n+|$)/,fences:V0,paragraph:cn($e.normal._paragraph).replace("hr",$e.hr).replace("heading"," *#{1,6} *[^\n]").replace("lheading",$e.lheading).replace("blockquote"," {0,3}>").replace("|fences","").replace("|list","").replace("|html","").getRegex()});const Ce={escape:/^\\([!"#$%&'()*+,\-./:;<=>?@\[\]\\^_`{|}~])/,autolink:/^<(scheme:[^\s\x00-\x1f<>]*|email)>/,url:V0,tag:"^comment|^</[a-zA-Z][\\w:-]*\\s*>|^<[a-zA-Z][\\w-]*(?:attribute)*?\\s*/?>|^<\\?[\\s\\S]*?\\?>|^<![a-zA-Z]+\\s[\\s\\S]*?>|^<!\\[CDATA\\[[\\s\\S]*?\\]\\]>",link:/^!?\[(label)\]\(\s*(href)(?:\s+(title))?\s*\)/,reflink:/^!?\[(label)\]\[(ref)\]/,nolink:/^!?\[(ref)\](?:\[\])?/,reflinkSearch:"reflink|nolink(?!\\()",emStrong:{lDelim:/^(?:\*+(?:([punct_])|[^\s*]))|^_+(?:([punct*])|([^\s_]))/,rDelimAst:/^[^_*]*?\_\_[^_*]*?\*[^_*]*?(?=\_\_)|[^*]+(?=[^*])|[punct_](\*+)(?=[\s]|$)|[^punct*_\s](\*+)(?=[punct_\s]|$)|[punct_\s](\*+)(?=[^punct*_\s])|[\s](\*+)(?=[punct_])|[punct_](\*+)(?=[punct_])|[^punct*_\s](\*+)(?=[^punct*_\s])/,rDelimUnd:/^[^_*]*?\*\*[^_*]*?\_[^_*]*?(?=\*\*)|[^_]+(?=[^_])|[punct*](\_+)(?=[\s]|$)|[^punct*_\s](\_+)(?=[punct*\s]|$)|[punct*\s](\_+)(?=[^punct*_\s])|[\s](\_+)(?=[punct*])|[punct*](\_+)(?=[punct*])/},code:/^(`+)([^`]|[^`][\s\S]*?[^`])\1(?!`)/,br:/^( {2,}|\\)\n(?!\s*$)/,del:V0,text:/^(`+|[^`])(?:(?= {2,}\n)|[\s\S]*?(?:(?=[\\<!\[`*_]|\b_|$)|[^ ](?= {2,}\n)))/,punctuation:/^([\spunctuation])/};function aee(n){return n.replace(/---/g,"\u2014").replace(/--/g,"\u2013").replace(/(^|[-\u2014/(\[{"\s])'/g,"$1\u2018").replace(/'/g,"\u2019").replace(/(^|[-\u2014/(\[{\u2018\s])"/g,"$1\u201c").replace(/"/g,"\u201d").replace(/\.{3}/g,"\u2026")}function xL(n){let e,r,t="";const s=n.length;for(e=0;e<s;e++)r=n.charCodeAt(e),Math.random()>.5&&(r="x"+r.toString(16)),t+="&#"+r+";";return t}Ce._punctuation="!\"#$%&'()+\\-.,/:;<=>?@\\[\\]`^{|}~",Ce.punctuation=cn(Ce.punctuation).replace(/punctuation/g,Ce._punctuation).getRegex(),Ce.blockSkip=/\[[^\]]*?\]\([^\)]*?\)|`[^`]*?`|<[^>]*?>/g,Ce.escapedEmSt=/\\\*|\\_/g,Ce._comment=cn($e._comment).replace("(?:--\x3e|$)","--\x3e").getRegex(),Ce.emStrong.lDelim=cn(Ce.emStrong.lDelim).replace(/punct/g,Ce._punctuation).getRegex(),Ce.emStrong.rDelimAst=cn(Ce.emStrong.rDelimAst,"g").replace(/punct/g,Ce._punctuation).getRegex(),Ce.emStrong.rDelimUnd=cn(Ce.emStrong.rDelimUnd,"g").replace(/punct/g,Ce._punctuation).getRegex(),Ce._escapes=/\\([!"#$%&'()*+,\-./:;<=>?@\[\]\\^_`{|}~])/g,Ce._scheme=/[a-zA-Z][a-zA-Z0-9+.-]{1,31}/,Ce._email=/[a-zA-Z0-9.!#$%&'*+/=?^_`{|}~-]+(@)[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)+(?![-_])/,Ce.autolink=cn(Ce.autolink).replace("scheme",Ce._scheme).replace("email",Ce._email).getRegex(),Ce._attribute=/\s+[a-zA-Z:_][\w.:-]*(?:\s*=\s*"[^"]*"|\s*=\s*'[^']*'|\s*=\s*[^\s"'=<>`]+)?/,Ce.tag=cn(Ce.tag).replace("comment",Ce._comment).replace("attribute",Ce._attribute).getRegex(),Ce._label=/(?:\[(?:\\.|[^\[\]\\])*\]|\\.|`[^`]*`|[^\[\]\\`])*?/,Ce._href=/<(?:\\.|[^\n<>\\])+>|[^\s\x00-\x1f]*/,Ce._title=/"(?:\\"?|[^"\\])*"|'(?:\\'?|[^'\\])*'|\((?:\\\)?|[^)\\])*\)/,Ce.link=cn(Ce.link).replace("label",Ce._label).replace("href",Ce._href).replace("title",Ce._title).getRegex(),Ce.reflink=cn(Ce.reflink).replace("label",Ce._label).replace("ref",$e._label).getRegex(),Ce.nolink=cn(Ce.nolink).replace("ref",$e._label).getRegex(),Ce.reflinkSearch=cn(Ce.reflinkSearch,"g").replace("reflink",Ce.reflink).replace("nolink",Ce.nolink).getRegex(),Ce.normal=Jo({},Ce),Ce.pedantic=Jo({},Ce.normal,{strong:{start:/^__|\*\*/,middle:/^__(?=\S)([\s\S]*?\S)__(?!_)|^\*\*(?=\S)([\s\S]*?\S)\*\*(?!\*)/,endAst:/\*\*(?!\*)/g,endUnd:/__(?!_)/g},em:{start:/^_|\*/,middle:/^()\*(?=\S)([\s\S]*?\S)\*(?!\*)|^_(?=\S)([\s\S]*?\S)_(?!_)/,endAst:/\*(?!\*)/g,endUnd:/_(?!_)/g},link:cn(/^!?\[(label)\]\((.*?)\)/).replace("label",Ce._label).getRegex(),reflink:cn(/^!?\[(label)\]\s*\[([^\]]*)\]/).replace("label",Ce._label).getRegex()}),Ce.gfm=Jo({},Ce.normal,{escape:cn(Ce.escape).replace("])","~|])").getRegex(),_extended_email:/[A-Za-z0-9._+-]+(@)[a-zA-Z0-9-_]+(?:\.[a-zA-Z0-9-_]*[a-zA-Z0-9])+(?![-_])/,url:/^((?:ftp|https?):\/\/|www\.)(?:[a-zA-Z0-9\-]+\.?)+[^\s<]*|^email/,_backpedal:/(?:[^?!.,:;*_~()&]+|\([^)]*\)|&(?![a-zA-Z0-9]+;$)|[?!.,:;*_~)]+(?!$))+/,del:/^(~~?)(?=[^\s~])([\s\S]*?[^\s~])\1(?=[^~]|$)/,text:/^([`~]+|[^`~])(?:(?= {2,}\n)|(?=[a-zA-Z0-9.!#$%&'*+\/=?_`{\|}~-]+@)|[\s\S]*?(?:(?=[\\<!\[`*~_]|\b_|https?:\/\/|ftp:\/\/|www\.|$)|[^ ](?= {2,}\n)|[^a-zA-Z0-9.!#$%&'*+\/=?_`{\|}~-](?=[a-zA-Z0-9.!#$%&'*+\/=?_`{\|}~-]+@)))/}),Ce.gfm.url=cn(Ce.gfm.url,"i").replace("email",Ce.gfm._extended_email).getRegex(),Ce.breaks=Jo({},Ce.gfm,{br:cn(Ce.br).replace("{2,}","*").getRegex(),text:cn(Ce.gfm.text).replace("\\b_","\\b_| {2,}\\n").replace(/\{2,\}/g,"*").getRegex()});class qa{constructor(t){this.tokens=[],this.tokens.links=Object.create(null),this.options=t||ef,this.options.tokenizer=this.options.tokenizer||new AS,this.tokenizer=this.options.tokenizer,this.tokenizer.options=this.options,this.tokenizer.lexer=this,this.inlineQueue=[],this.state={inLink:!1,inRawBlock:!1,top:!0};const e={block:$e.normal,inline:Ce.normal};this.options.pedantic?(e.block=$e.pedantic,e.inline=Ce.pedantic):this.options.gfm&&(e.block=$e.gfm,e.inline=this.options.breaks?Ce.breaks:Ce.gfm),this.tokenizer.rules=e}static get rules(){return{block:$e,inline:Ce}}static lex(t,e){return new qa(e).lex(t)}static lexInline(t,e){return new qa(e).inlineTokens(t)}lex(t){let e;for(t=t.replace(/\r\n|\r/g,"\n"),this.blockTokens(t,this.tokens);e=this.inlineQueue.shift();)this.inlineTokens(e.src,e.tokens);return this.tokens}blockTokens(t,e=[]){let r,s,l,u;for(t=this.options.pedantic?t.replace(/\t/g,"    ").replace(/^ +$/gm,""):t.replace(/^( *)(\t+)/gm,(f,m,b)=>m+"    ".repeat(b.length));t;)if(!(this.options.extensions&&this.options.extensions.block&&this.options.extensions.block.some(f=>!!(r=f.call({lexer:this},t,e))&&(t=t.substring(r.raw.length),e.push(r),!0)))){if(r=this.tokenizer.space(t)){t=t.substring(r.raw.length),1===r.raw.length&&e.length>0?e[e.length-1].raw+="\n":e.push(r);continue}if(r=this.tokenizer.code(t)){t=t.substring(r.raw.length),s=e[e.length-1],!s||"paragraph"!==s.type&&"text"!==s.type?e.push(r):(s.raw+="\n"+r.raw,s.text+="\n"+r.text,this.inlineQueue[this.inlineQueue.length-1].src=s.text);continue}if(r=this.tokenizer.fences(t)){t=t.substring(r.raw.length),e.push(r);continue}if(r=this.tokenizer.heading(t)){t=t.substring(r.raw.length),e.push(r);continue}if(r=this.tokenizer.hr(t)){t=t.substring(r.raw.length),e.push(r);continue}if(r=this.tokenizer.blockquote(t)){t=t.substring(r.raw.length),e.push(r);continue}if(r=this.tokenizer.list(t)){t=t.substring(r.raw.length),e.push(r);continue}if(r=this.tokenizer.html(t)){t=t.substring(r.raw.length),e.push(r);continue}if(r=this.tokenizer.def(t)){t=t.substring(r.raw.length),s=e[e.length-1],!s||"paragraph"!==s.type&&"text"!==s.type?this.tokens.links[r.tag]||(this.tokens.links[r.tag]={href:r.href,title:r.title}):(s.raw+="\n"+r.raw,s.text+="\n"+r.raw,this.inlineQueue[this.inlineQueue.length-1].src=s.text);continue}if(r=this.tokenizer.table(t)){t=t.substring(r.raw.length),e.push(r);continue}if(r=this.tokenizer.lheading(t)){t=t.substring(r.raw.length),e.push(r);continue}if(l=t,this.options.extensions&&this.options.extensions.startBlock){let f=1/0;const m=t.slice(1);let b;this.options.extensions.startBlock.forEach(function(w){b=w.call({lexer:this},m),"number"==typeof b&&b>=0&&(f=Math.min(f,b))}),f<1/0&&f>=0&&(l=t.substring(0,f+1))}if(this.state.top&&(r=this.tokenizer.paragraph(l))){s=e[e.length-1],u&&"paragraph"===s.type?(s.raw+="\n"+r.raw,s.text+="\n"+r.text,this.inlineQueue.pop(),this.inlineQueue[this.inlineQueue.length-1].src=s.text):e.push(r),u=l.length!==t.length,t=t.substring(r.raw.length);continue}if(r=this.tokenizer.text(t)){t=t.substring(r.raw.length),s=e[e.length-1],s&&"text"===s.type?(s.raw+="\n"+r.raw,s.text+="\n"+r.text,this.inlineQueue.pop(),this.inlineQueue[this.inlineQueue.length-1].src=s.text):e.push(r);continue}if(t){const f="Infinite loop on byte: "+t.charCodeAt(0);if(this.options.silent){console.error(f);break}throw new Error(f)}}return this.state.top=!0,e}inline(t,e){this.inlineQueue.push({src:t,tokens:e})}inlineTokens(t,e=[]){let r,s,l,f,m,b,u=t;if(this.tokens.links){const w=Object.keys(this.tokens.links);if(w.length>0)for(;null!=(f=this.tokenizer.rules.inline.reflinkSearch.exec(u));)w.includes(f[0].slice(f[0].lastIndexOf("[")+1,-1))&&(u=u.slice(0,f.index)+"["+kL("a",f[0].length-2)+"]"+u.slice(this.tokenizer.rules.inline.reflinkSearch.lastIndex))}for(;null!=(f=this.tokenizer.rules.inline.blockSkip.exec(u));)u=u.slice(0,f.index)+"["+kL("a",f[0].length-2)+"]"+u.slice(this.tokenizer.rules.inline.blockSkip.lastIndex);for(;null!=(f=this.tokenizer.rules.inline.escapedEmSt.exec(u));)u=u.slice(0,f.index)+"++"+u.slice(this.tokenizer.rules.inline.escapedEmSt.lastIndex);for(;t;)if(m||(b=""),m=!1,!(this.options.extensions&&this.options.extensions.inline&&this.options.extensions.inline.some(w=>!!(r=w.call({lexer:this},t,e))&&(t=t.substring(r.raw.length),e.push(r),!0)))){if(r=this.tokenizer.escape(t)){t=t.substring(r.raw.length),e.push(r);continue}if(r=this.tokenizer.tag(t)){t=t.substring(r.raw.length),s=e[e.length-1],s&&"text"===r.type&&"text"===s.type?(s.raw+=r.raw,s.text+=r.text):e.push(r);continue}if(r=this.tokenizer.link(t)){t=t.substring(r.raw.length),e.push(r);continue}if(r=this.tokenizer.reflink(t,this.tokens.links)){t=t.substring(r.raw.length),s=e[e.length-1],s&&"text"===r.type&&"text"===s.type?(s.raw+=r.raw,s.text+=r.text):e.push(r);continue}if(r=this.tokenizer.emStrong(t,u,b)){t=t.substring(r.raw.length),e.push(r);continue}if(r=this.tokenizer.codespan(t)){t=t.substring(r.raw.length),e.push(r);continue}if(r=this.tokenizer.br(t)){t=t.substring(r.raw.length),e.push(r);continue}if(r=this.tokenizer.del(t)){t=t.substring(r.raw.length),e.push(r);continue}if(r=this.tokenizer.autolink(t,xL)){t=t.substring(r.raw.length),e.push(r);continue}if(!this.state.inLink&&(r=this.tokenizer.url(t,xL))){t=t.substring(r.raw.length),e.push(r);continue}if(l=t,this.options.extensions&&this.options.extensions.startInline){let w=1/0;const x=t.slice(1);let E;this.options.extensions.startInline.forEach(function(S){E=S.call({lexer:this},x),"number"==typeof E&&E>=0&&(w=Math.min(w,E))}),w<1/0&&w>=0&&(l=t.substring(0,w+1))}if(r=this.tokenizer.inlineText(l,aee)){t=t.substring(r.raw.length),"_"!==r.raw.slice(-1)&&(b=r.raw.slice(-1)),m=!0,s=e[e.length-1],s&&"text"===s.type?(s.raw+=r.raw,s.text+=r.text):e.push(r);continue}if(t){const w="Infinite loop on byte: "+t.charCodeAt(0);if(this.options.silent){console.error(w);break}throw new Error(w)}}return e}}class z0{constructor(t){this.options=t||ef}code(t,e,r){const s=(e||"").match(/\S*/)[0];if(this.options.highlight){const l=this.options.highlight(t,s);null!=l&&l!==t&&(r=!0,t=l)}return t=t.replace(/\n$/,"")+"\n",s?'<pre><code class="'+this.options.langPrefix+Ti(s,!0)+'">'+(r?t:Ti(t,!0))+"</code></pre>\n":"<pre><code>"+(r?t:Ti(t,!0))+"</code></pre>\n"}blockquote(t){return`<blockquote>\n${t}</blockquote>\n`}html(t){return t}heading(t,e,r,s){return this.options.headerIds?`<h${e} id="${this.options.headerPrefix+s.slug(r)}">${t}</h${e}>\n`:`<h${e}>${t}</h${e}>\n`}hr(){return this.options.xhtml?"<hr/>\n":"<hr>\n"}list(t,e,r){const s=e?"ol":"ul";return"<"+s+(e&&1!==r?' start="'+r+'"':"")+">\n"+t+"</"+s+">\n"}listitem(t){return`<li>${t}</li>\n`}checkbox(t){return"<input "+(t?'checked="" ':"")+'disabled="" type="checkbox"'+(this.options.xhtml?" /":"")+"> "}paragraph(t){return`<p>${t}</p>\n`}table(t,e){return e&&(e=`<tbody>${e}</tbody>`),"<table>\n<thead>\n"+t+"</thead>\n"+e+"</table>\n"}tablerow(t){return`<tr>\n${t}</tr>\n`}tablecell(t,e){const r=e.header?"th":"td";return(e.align?`<${r} align="${e.align}">`:`<${r}>`)+t+`</${r}>\n`}strong(t){return`<strong>${t}</strong>`}em(t){return`<em>${t}</em>`}codespan(t){return`<code>${t}</code>`}br(){return this.options.xhtml?"<br/>":"<br>"}del(t){return`<del>${t}</del>`}link(t,e,r){if(null===(t=vL(this.options.sanitize,this.options.baseUrl,t)))return r;let s='<a href="'+Ti(t)+'"';return e&&(s+=' title="'+e+'"'),s+=">"+r+"</a>",s}image(t,e,r){if(null===(t=vL(this.options.sanitize,this.options.baseUrl,t)))return r;let s=`<img src="${t}" alt="${r}"`;return e&&(s+=` title="${e}"`),s+=this.options.xhtml?"/>":">",s}text(t){return t}}class TL{strong(t){return t}em(t){return t}codespan(t){return t}del(t){return t}html(t){return t}text(t){return t}link(t,e,r){return""+r}image(t,e,r){return""+r}br(){return""}}class EL{constructor(){this.seen={}}serialize(t){return t.toLowerCase().trim().replace(/<[!\/a-z].*?>/gi,"").replace(/[\u2000-\u206F\u2E00-\u2E7F\\'!"#$%&()*+,./:;<=>?@[\]^`{|}~]/g,"").replace(/\s/g,"-")}getNextSafeSlug(t,e){let r=t,s=0;if(this.seen.hasOwnProperty(r)){s=this.seen[t];do{s++,r=t+"-"+s}while(this.seen.hasOwnProperty(r))}return e||(this.seen[t]=s,this.seen[r]=0),r}slug(t,e={}){const r=this.serialize(t);return this.getNextSafeSlug(r,e.dryrun)}}class Ga{constructor(t){this.options=t||ef,this.options.renderer=this.options.renderer||new z0,this.renderer=this.options.renderer,this.renderer.options=this.options,this.textRenderer=new TL,this.slugger=new EL}static parse(t,e){return new Ga(e).parse(t)}static parseInline(t,e){return new Ga(e).parseInline(t)}parse(t,e=!0){let s,l,u,f,m,b,w,x,E,S,I,N,K,G,H,fe,ve,We,qe,r="";const Tt=t.length;for(s=0;s<Tt;s++)if(S=t[s],this.options.extensions&&this.options.extensions.renderers&&this.options.extensions.renderers[S.type]&&(qe=this.options.extensions.renderers[S.type].call({parser:this},S),!1!==qe||!["space","hr","heading","code","table","blockquote","list","html","paragraph","text"].includes(S.type)))r+=qe||"";else switch(S.type){case"space":continue;case"hr":r+=this.renderer.hr();continue;case"heading":r+=this.renderer.heading(this.parseInline(S.tokens),S.depth,bL(this.parseInline(S.tokens,this.textRenderer)),this.slugger);continue;case"code":r+=this.renderer.code(S.text,S.lang,S.escaped);continue;case"table":for(x="",w="",f=S.header.length,l=0;l<f;l++)w+=this.renderer.tablecell(this.parseInline(S.header[l].tokens),{header:!0,align:S.align[l]});for(x+=this.renderer.tablerow(w),E="",f=S.rows.length,l=0;l<f;l++){for(b=S.rows[l],w="",m=b.length,u=0;u<m;u++)w+=this.renderer.tablecell(this.parseInline(b[u].tokens),{header:!1,align:S.align[u]});E+=this.renderer.tablerow(w)}r+=this.renderer.table(x,E);continue;case"blockquote":E=this.parse(S.tokens),r+=this.renderer.blockquote(E);continue;case"list":for(I=S.ordered,N=S.start,K=S.loose,f=S.items.length,E="",l=0;l<f;l++)H=S.items[l],fe=H.checked,ve=H.task,G="",H.task&&(We=this.renderer.checkbox(fe),K?H.tokens.length>0&&"paragraph"===H.tokens[0].type?(H.tokens[0].text=We+" "+H.tokens[0].text,H.tokens[0].tokens&&H.tokens[0].tokens.length>0&&"text"===H.tokens[0].tokens[0].type&&(H.tokens[0].tokens[0].text=We+" "+H.tokens[0].tokens[0].text)):H.tokens.unshift({type:"text",text:We}):G+=We),G+=this.parse(H.tokens,K),E+=this.renderer.listitem(G,ve,fe);r+=this.renderer.list(E,I,N);continue;case"html":r+=this.renderer.html(S.text);continue;case"paragraph":r+=this.renderer.paragraph(this.parseInline(S.tokens));continue;case"text":for(E=S.tokens?this.parseInline(S.tokens):S.text;s+1<Tt&&"text"===t[s+1].type;)S=t[++s],E+="\n"+(S.tokens?this.parseInline(S.tokens):S.text);r+=e?this.renderer.paragraph(E):E;continue;default:{const kn='Token with "'+S.type+'" type was not found.';if(this.options.silent)return void console.error(kn);throw new Error(kn)}}return r}parseInline(t,e){e=e||this.renderer;let s,l,u,r="";const f=t.length;for(s=0;s<f;s++)if(l=t[s],this.options.extensions&&this.options.extensions.renderers&&this.options.extensions.renderers[l.type]&&(u=this.options.extensions.renderers[l.type].call({parser:this},l),!1!==u||!["escape","html","link","image","strong","em","codespan","br","del","text"].includes(l.type)))r+=u||"";else switch(l.type){case"escape":case"text":r+=e.text(l.text);break;case"html":r+=e.html(l.text);break;case"link":r+=e.link(l.href,l.title,this.parseInline(l.tokens,e));break;case"image":r+=e.image(l.href,l.title,l.text);break;case"strong":r+=e.strong(this.parseInline(l.tokens,e));break;case"em":r+=e.em(this.parseInline(l.tokens,e));break;case"codespan":r+=e.codespan(l.text);break;case"br":r+=e.br();break;case"del":r+=e.del(this.parseInline(l.tokens,e));break;default:{const m='Token with "'+l.type+'" type was not found.';if(this.options.silent)return void console.error(m);throw new Error(m)}}return r}}function nt(n,t,e){if(null==n)throw new Error("marked(): input parameter is undefined or null");if("string"!=typeof n)throw new Error("marked(): input parameter is of type "+Object.prototype.toString.call(n)+", string expected");if("function"==typeof t&&(e=t,t=null),wL(t=Jo({},nt.defaults,t||{})),e){const r=t.highlight;let s;try{s=qa.lex(n,t)}catch(f){return e(f)}const l=function(f){let m;if(!f)try{t.walkTokens&&nt.walkTokens(s,t.walkTokens),m=Ga.parse(s,t)}catch(b){f=b}return t.highlight=r,f?e(f):e(null,m)};if(!r||r.length<3||(delete t.highlight,!s.length))return l();let u=0;return nt.walkTokens(s,function(f){"code"===f.type&&(u++,setTimeout(()=>{r(f.text,f.lang,function(m,b){if(m)return l(m);null!=b&&b!==f.text&&(f.text=b,f.escaped=!0),u--,0===u&&l()})},0))}),void(0===u&&l())}try{const r=qa.lex(n,t);return t.walkTokens&&nt.walkTokens(r,t.walkTokens),Ga.parse(r,t)}catch(r){if(r.message+="\nPlease report this to https://github.com/markedjs/marked.",t.silent)return"<p>An error occurred:</p><pre>"+Ti(r.message+"",!0)+"</pre>";throw r}}nt.options=nt.setOptions=function(n){return Jo(nt.defaults,n),function WJ(n){ef=n}(nt.defaults),nt},nt.getDefaults=function gL(){return{baseUrl:null,breaks:!1,extensions:null,gfm:!0,headerIds:!0,headerPrefix:"",highlight:null,langPrefix:"language-",mangle:!0,pedantic:!1,renderer:null,sanitize:!1,sanitizer:null,silent:!1,smartLists:!1,smartypants:!1,tokenizer:null,walkTokens:null,xhtml:!1}},nt.defaults=ef,nt.use=function(...n){const t=Jo({},...n),e=nt.defaults.extensions||{renderers:{},childTokens:{}};let r;n.forEach(s=>{if(s.extensions&&(r=!0,s.extensions.forEach(l=>{if(!l.name)throw new Error("extension name required");if(l.renderer){const u=e.renderers?e.renderers[l.name]:null;e.renderers[l.name]=u?function(...f){let m=l.renderer.apply(this,f);return!1===m&&(m=u.apply(this,f)),m}:l.renderer}if(l.tokenizer){if(!l.level||"block"!==l.level&&"inline"!==l.level)throw new Error("extension level must be 'block' or 'inline'");e[l.level]?e[l.level].unshift(l.tokenizer):e[l.level]=[l.tokenizer],l.start&&("block"===l.level?e.startBlock?e.startBlock.push(l.start):e.startBlock=[l.start]:"inline"===l.level&&(e.startInline?e.startInline.push(l.start):e.startInline=[l.start]))}l.childTokens&&(e.childTokens[l.name]=l.childTokens)})),s.renderer){const l=nt.defaults.renderer||new z0;for(const u in s.renderer){const f=l[u];l[u]=(...m)=>{let b=s.renderer[u].apply(l,m);return!1===b&&(b=f.apply(l,m)),b}}t.renderer=l}if(s.tokenizer){const l=nt.defaults.tokenizer||new AS;for(const u in s.tokenizer){const f=l[u];l[u]=(...m)=>{let b=s.tokenizer[u].apply(l,m);return!1===b&&(b=f.apply(l,m)),b}}t.tokenizer=l}if(s.walkTokens){const l=nt.defaults.walkTokens;t.walkTokens=function(u){s.walkTokens.call(this,u),l&&l.call(this,u)}}r&&(t.extensions=e),nt.setOptions(t)})},nt.walkTokens=function(n,t){for(const e of n)switch(t.call(nt,e),e.type){case"table":for(const r of e.header)nt.walkTokens(r.tokens,t);for(const r of e.rows)for(const s of r)nt.walkTokens(s.tokens,t);break;case"list":nt.walkTokens(e.items,t);break;default:nt.defaults.extensions&&nt.defaults.extensions.childTokens&&nt.defaults.extensions.childTokens[e.type]?nt.defaults.extensions.childTokens[e.type].forEach(function(r){nt.walkTokens(e[r],t)}):e.tokens&&nt.walkTokens(e.tokens,t)}},nt.parseInline=function(n,t){if(null==n)throw new Error("marked.parseInline(): input parameter is undefined or null");if("string"!=typeof n)throw new Error("marked.parseInline(): input parameter is of type "+Object.prototype.toString.call(n)+", string expected");wL(t=Jo({},nt.defaults,t||{}));try{const e=qa.lexInline(n,t);return t.walkTokens&&nt.walkTokens(e,t.walkTokens),Ga.parseInline(e,t)}catch(e){if(e.message+="\nPlease report this to https://github.com/markedjs/marked.",t.silent)return"<p>An error occurred:</p><pre>"+Ti(e.message+"",!0)+"</pre>";throw e}},nt.Parser=Ga,nt.parser=Ga.parse,nt.Renderer=z0,nt.TextRenderer=TL,nt.Lexer=qa,nt.lexer=qa.lex,nt.Tokenizer=AS,nt.Slugger=EL,nt.parse=nt;class dee{}const SL=new re("SECURITY_CONTEXT");let IS=(()=>{class n{constructor(e,r,s,l,u){this.platform=e,this.securityContext=r,this.http=s,this.sanitizer=u,this.initialMarkedOptions={renderer:new z0},this.options=l}get options(){return this._options}set options(e){this._options=Object.assign(Object.assign({},this.initialMarkedOptions),e)}get renderer(){return this.options.renderer}set renderer(e){this.options.renderer=e}compile(e,r=!1,s=!1,l=this.options){const u=this.trimIndentation(e),f=r?this.decodeHtml(u):u,b=nt(s?this.renderEmoji(f):f,l);return this.sanitizer.sanitize(this.securityContext,b)||""}getSource(e){if(!this.http)throw new Error("[ngx-markdown] When using the `src` attribute you *have to* pass the `HttpClient` as a parameter of the `forRoot` method. See README for more information");return this.http.get(e,{responseType:"text"}).pipe(Te(r=>this.handleExtension(e,r)))}highlight(e){if(lg(this.platform)&&"undefined"!=typeof Prism){e||(e=document);const r=e.querySelectorAll('pre code:not([class*="language-"])');Array.prototype.forEach.call(r,s=>s.classList.add("language-none")),Prism.highlightAllUnder(e)}}renderKatex(e,r){if(!lg(this.platform))return e;if("undefined"==typeof katex||void 0===katex.renderToString)throw new Error("[ngx-markdown] When using the `katex` attribute you *have to* include KaTeX files to `angular.json` or use imports. See README for more information");return e.replace(/\$([^\s][^$]*?[^\s])\$/gm,(s,l)=>katex.renderToString(l,r))}decodeHtml(e){if(!lg(this.platform))return e;const r=document.createElement("textarea");return r.innerHTML=e,r.value}handleExtension(e,r){const s=e?e.split("?")[0].split(".").splice(-1).join():"";return"md"!==s?"```"+s+"\n"+r+"\n```":r}renderEmoji(e){if(!lg(this.platform))return e;if("undefined"==typeof joypixels||void 0===joypixels.shortnameToUnicode)throw new Error("[ngx-markdown] When using the `emoji` attribute you *have to* include Emoji-Toolkit files to `angular.json` or use imports. See README for more information");return joypixels.shortnameToUnicode(e)}trimIndentation(e){if(!e)return"";let r;return e.split("\n").map(s=>{let l=r;return s.length>0&&(l=isNaN(l)?s.search(/\S|$/):Math.min(s.search(/\S|$/),l)),isNaN(r)&&(r=l),l?s.substring(l):s}).join("\n")}}return n.\u0275fac=function(e){return new(e||n)(L(ng),L(SL),L(Cg,8),L(dee,8),L(Mh))},n.\u0275prov=oe({token:n,factory:n.\u0275fac}),n})(),PS=(()=>{class n{static forRoot(e){return{ngModule:n,providers:[IS,e&&e.loader||[],e&&e.markedOptions||[],{provide:SL,useValue:e&&null!=e.sanitize?e.sanitize:gt.HTML}]}}static forChild(){return{ngModule:n}}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=ue({type:n}),n.\u0275inj=Se({}),n})(),DL=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=ue({type:n}),n.\u0275inj=Se({imports:[[Qi,tu,jg,g0,PS]]}),n})(),ML=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=ue({type:n}),n.\u0275inj=Se({imports:[[Qi,tu,jg,g0]]}),n})(),pee=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=ue({type:n}),n.\u0275inj=Se({imports:[[Qi,tu,DL,ML]]}),n})(),mee=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=ue({type:n}),n.\u0275inj=Se({imports:[[Qi,tu,PS,jg]]}),n})(),gee=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=ue({type:n}),n.\u0275inj=Se({imports:[[tu,$J,pee,DL,ML,mee,WX]]}),n})(),_ee=(()=>{class n{constructor(e){this.authService=e}intercept(e,r){let s=e.headers;this.authService.currentUser&&(s=e.headers.append("Authorization",`Token ${this.authService.currentUser.token}`));const l=e.clone({headers:s});return r.handle(l)}}return n.\u0275fac=function(e){return new(e||n)(L(Vs))},n.\u0275prov=oe({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),bee=(()=>{class n{constructor(e){this.router=e}intercept(e,r){return r.handle(e).pipe(Ns(s=>{let l;switch(s.status){case 400:return jl(s);case 404:l="/error/not-found";break;case 403:l="/error/forbidden";break;default:l="/error/unexpected"}return this.router.navigateByUrl(l),jl(s)}))}}return n.\u0275fac=function(e){return new(e||n)(L(ii))},n.\u0275prov=oe({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();const vee=[{path:"error",children:[{path:"not-found",component:(()=>{class n{constructor(){this.notFoundImgUrl="/public/static/img/404_castle.png"}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275cmp=Ie({type:n,selectors:[["app-not-found"]],decls:10,vars:1,consts:function(){let t;return t=$localize`:␟80d640ef06cc832d733c76376b8e1ba5dc65a010␟3448499343777245164: Sorry !${"[\ufffd#7\ufffd\ufffd/#7\ufffd|\ufffd#8\ufffd\ufffd/#8\ufffd]"}:LINE_BREAK:${"[\ufffd#7\ufffd\ufffd/#7\ufffd|\ufffd#8\ufffd\ufffd/#8\ufffd]"}:LINE_BREAK: The page your are looking for might be in another castle. `,t=function fM(n,t={}){return function P2(n,t={}){let e=n;if(T2.test(n)){const r={},s=[0];e=e.replace(E2,(l,u,f)=>{const m=u||f,b=r[m]||[];if(b.length||(m.split("|").forEach(N=>{const K=N.match(I2),G=K?parseInt(K[1],10):0,H=A2.test(N);b.push([G,H,N])}),r[m]=b),!b.length)throw new Error(`i18n postprocess: unmatched placeholder - ${m}`);const w=s[s.length-1];let x=0;for(let N=0;N<b.length;N++)if(b[N][0]===w){x=N;break}const[E,S,I]=b[x];return S?s.pop():w!==E&&s.push(E),b.splice(x,1),I})}return Object.keys(t).length&&(e=e.replace(S2,(r,s,l,u,f,m)=>t.hasOwnProperty(l)?`${s}${t[l]}${m}`:r),e=e.replace(D2,(r,s)=>t.hasOwnProperty(s)?t[s]:r),e=e.replace(M2,(r,s)=>{if(t.hasOwnProperty(s)){const l=t[s];if(!l.length)throw new Error(`i18n postprocess: unmatched ICU - ${r} with key: ${s}`);return l.shift()}return r})),e}(n,t)}(t),[t,[2,"max-height","20em",3,"src"]]},template:function(e,r){1&e&&(V(0,"app-web-page")(1,"app-web-page-header")(2,"app-web-page-title"),y(3,"Page not found"),B()(),V(4,"app-web-page-content")(5,"h1"),Qx(6,0),Me(7,"br")(8,"br"),Yx(),B(),Me(9,"img",1),B()()),2&e&&(Y(9),Q("src",r.notFoundImgUrl,vo))},directives:[ja,za,Ha,Ua],styles:["h1[_ngcontent-%COMP%]{padding:1em;text-align:center}img[_ngcontent-%COMP%]{display:block;margin:4em auto}"]}),n})()},{path:"forbidden",component:(()=>{class n{constructor(){}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275cmp=Ie({type:n,selectors:[["app-forbidden"]],decls:7,vars:0,consts:function(){let t;return t=$localize`:␟e9291f53092de69f9b73db0614788630dfb6cbf8␟3322776384081747341:Nein !`,[t]},template:function(e,r){1&e&&(V(0,"app-web-page")(1,"app-web-page-header")(2,"app-web-page-title"),y(3,"Forbidden"),B()(),V(4,"app-web-page-content")(5,"h1"),Gm(6,0),B()()())},directives:[ja,za,Ha,Ua],styles:[""]}),n})()},{path:"unexpected",component:(()=>{class n{constructor(){this.unexpectedImgUrl="/public/static/img/500_shadoks.gif"}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275cmp=Ie({type:n,selectors:[["app-unexpected"]],decls:29,vars:1,consts:[[2,"max-height","20em",3,"src"]],template:function(e,r){1&e&&(V(0,"app-web-page")(1,"app-web-page-header")(2,"app-web-page-title"),y(3,"Unexpected Error"),B()(),V(4,"app-web-page-content")(5,"h1"),y(6," An unexpected error occurred, but don't worry : "),B(),V(7,"p"),y(8," If there is "),V(9,"b"),y(10,"one"),B(),y(11," chance in "),V(12,"b"),y(13,"a million"),B(),y(14," to make it work,"),Me(15,"br"),y(16," it is better to really fail in a hurry the first "),V(17,"b"),y(18,"999 999"),B(),y(19," times,"),Me(20,"br"),y(21," in order to ensure that the "),V(22,"b"),y(23,"one millionth"),B(),y(24," will work !"),Me(25,"br"),B(),V(26,"h2"),y(27," In other word, the more it fail, the greater chances it will work. "),B(),Me(28,"img",0),B()()),2&e&&(Y(28),Q("src",r.unexpectedImgUrl,vo))},directives:[ja,za,Ha,Ua],styles:["h1[_ngcontent-%COMP%], h2[_ngcontent-%COMP%], p[_ngcontent-%COMP%]{margin:1em;text-align:center}img[_ngcontent-%COMP%]{display:block;margin:4em auto;background-color:#0a8ac6}"]}),n})()}]},{path:"**",redirectTo:"error/not-found"}];let yee=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=ue({type:n}),n.\u0275inj=Se({imports:[[$l.forChild(vee)],$l]}),n})(),wee=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=ue({type:n,bootstrap:[i6]}),n.\u0275inj=Se({providers:[{provide:yw,useClass:_ee,multi:!0},{provide:yw,useClass:bee,multi:!0}],imports:[[JA,jZ,GU,n8,PS.forRoot(),gee,yee]]}),n})();(function uV(){uA=!1})(),v3().bootstrapModule(wee).catch(n=>console.error(n))},42:()=>{}},Et=>{Et(Et.s=201)}]);